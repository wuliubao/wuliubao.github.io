window.__require=function t(e,o,i){function n(r,s){if(!o[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,o,i)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({ActiveBean:[function(t,e,o){"use strict";cc._RF.push(e,"ae24e/sXAZFiq96JZWxPuGp","ActiveBean"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ActivityManager:[function(t,e,o){"use strict";cc._RF.push(e,"28acecB01dA24hr2tSUv+r6","ActivityManager"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../core/util/AppUtil"),a=t("../../core/util/LogUtil"),r=t("../../core/util/MathUtil"),s=t("../../core/util/PlatformUtil"),c=t("../constants/PublicAnalyticsKey"),l=t("../constants/PublicConst"),u=t("./AnalyticsManager"),d=t("./PBManager");o.ActivityPosition={CustomerServiceDialog:"open_banner",BusPlane:"bus_plane",LibTrainScene:"top_banner",ShareBtn:"icon"},function(t){t[t.ACTIVITY_BACKSTAGE_SUPPORTER=0]="ACTIVITY_BACKSTAGE_SUPPORTER"}(i=o.ActivityList||(o.ActivityList={}));var p=function(){function t(){this.activityData=[],this.activityHaveEffect=!1}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){var t=this;setTimeout(function(){t.getBackstageSupporterData()},100)},t.prototype.getBackstageSupporterData=function(){var t=this;if(s.default.isWechatGame()||s.default.isWxSimulatePlatform())return window.simulatedDataManager?(this.activityHaveEffect=!0,void(this.activityData[i.ACTIVITY_BACKSTAGE_SUPPORTER]=window.simulatedDataManager.getActiveData())):void d.pbManager.getActivityParams().then(function(e){a.default.managerLog(l.ManagerName.ActivityManager,"activety space data is",e),e?(t.activityData[i.ACTIVITY_BACKSTAGE_SUPPORTER]=e,2===e.is_activity?t.activityHaveEffect=!1:t.activityHaveEffect=!0):t.activityHaveEffect=!1}).catch(function(){t.activityHaveEffect=!1,a.default.errorLog("activety space data get fail","Code:518")});this.activityHaveEffect=!1},t.prototype.getMyPosData=function(t,e){return!!(this.activityHaveEffect&&this.activityData[t]&&this.activityData[t][e])&&this.activityData[t][e]},t.prototype.jumpService=function(t,e){var o=this;if(s.default.isWechatGame()&&wx.openCustomerServiceConversation){var i={sessionFrom:e,success:function(t){o.serviceEventRecord(e),a.default.managerLog(l.ManagerName.ActivityManager,"success openCustomerServiceConversation: "+t)},fail:function(t){a.default.errorLog("fail openCustomerServiceConversation: "+t,"post fail")},complete:function(){a.default.managerLog(l.ManagerName.ActivityManager,"complete openCustomerServiceConversation")}};if(t.card&&t.card.length>0){var n=null;n=t.card.length-1==0?t.card[0]:t.card[r.default.random(0,t.card.length-1)],i.showMessageCard=!0,i.sendMessageTitle=n.copy,i.sendMessageImg=n.url,i.sendMessagePath=e}a.default.managerLog(l.ManagerName.ActivityManager,"complete openCustomerServiceConversation",i),wx.openCustomerServiceConversation(i)}},t.prototype.jumpProgram=function(t){n.default.navigateToApp(t.appid,t.j_url).then(function(){a.default.managerLog(l.ManagerName.ActivityManager,"navigate to activity space",t.appid,"success")}).catch(function(){a.default.errorLog("navigate to activity space ",t.appid,"fail","navigateToApp fail")})},t.prototype.judgeIfInActivity=function(t){var e=this;return new Promise(function(o,n){e.getMyPosData(i.ACTIVITY_BACKSTAGE_SUPPORTER,t)?o(null):n()})},t.prototype.backstageSupporterDataDeal=function(t,e){t&&t.is_conf&&(3===t.is_conf?this.jumpService(t,e):2===t.is_conf&&(this.itemEventRecord(e),this.jumpProgram(t)))},t.prototype.serviceEventRecord=function(t){t===o.ActivityPosition.ShareBtn?u.analyticsManager.recordEvent(c.default.ACTIVITY_ICON_SHOW_JUMP_SERVICE):t===o.ActivityPosition.CustomerServiceDialog?u.analyticsManager.recordEvent(c.default.ACTIVITY_WINDOW_SHOW_JUMP_SERVICE):t===o.ActivityPosition.BusPlane&&u.analyticsManager.recordEvent(c.default.ACTIVITY_PLANE_SHOW_JUMP_SERVICE)},t.prototype.itemEventRecord=function(t){t===o.ActivityPosition.ShareBtn?u.analyticsManager.recordEvent(c.default.ACTIVITY_ICON_JUMP_ITEM):t===o.ActivityPosition.CustomerServiceDialog?u.analyticsManager.recordEvent(c.default.ACTIVITY_WINDOW_JUMP_ITEM):t===o.ActivityPosition.BusPlane&&u.analyticsManager.recordEvent(c.default.ACTIVITY_PLANE_JUMP_ITEM)},t.INSTANCE=void 0,t}();o.activityManager=p.get(),cc._RF.pop()},{"../../core/util/AppUtil":"AppUtil","../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","./AnalyticsManager":"AnalyticsManager","./PBManager":"PBManager"}],AdInfoHandler:[function(t,e,o){"use strict";cc._RF.push(e,"b3066UOusJMRKhh58lPSH/u","AdInfoHandler"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/AppConfig"),n=t("../../core/util/PlatformUtil"),a=t("../../core/util/StoreUtil"),r=t("../constants/PublickStoreKey"),s=function(){function t(){this.adid=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.setAdid=function(t){this.adid=t},t.prototype.getId=function(t){if(n.default.isWechatGame()){if(this.adid&&this.adid[t])return a.default.set(r.default.AD_PRE+t,this.adid[t]),this.adid[t];var e=a.default.get(r.default.AD_PRE+t,null);return e||this.getConfigId(t)}return this.getConfigId(t)},t.prototype.getFirstLetterUp=function(t){return!t||t.length<=0?null:t.charAt(0).toUpperCase()+t.slice(1)},t.prototype.getConfigId=function(t){t=this.getFirstLetterUp(t);var e="";if(n.default.isTouTiao())e="toutiao";else if(n.default.isBaiduGame())e="baidugame";else if(n.default.isOppo())e="quickgame";else if(n.default.isVivo())e="qgame";else if(n.default.isXiaoMi())e="xiaomi";else if(n.default.isWechatGame())e="wechatgame";else if(n.default.isKwaigame())e="kwaigame";else{if(!n.default.isBrowser())return null;e="ttt"}return i.default[""+e+t]},t.INSTANCE=null,t}();o.AdInfoHandler=s,o.adInfoHandler=s.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../constants/PublickStoreKey":"PublickStoreKey"}],AdManager:[function(t,e,o){"use strict";cc._RF.push(e,"2c8019KoMBHyZD0l0VDqryI","AdManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PBManager"),n=t("./RewardManager"),a=t("./SwitchManager"),r=t("../../core/util/LogUtil"),s=t("../../core/util/PlatformUtil"),c=t("./InterstitialManager"),l=t("./BannerManager"),u=t("./AnalyticsManager"),d=t("../constants/PublicAnalyticsKey"),p=t("../handler/AdInfoHandler"),h=t("../constants/AdTag"),f="AdManager",g=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){s.default.isWechatGame()||this.initAds(),this.requestAdInfo()},t.prototype.initAds=function(){r.default.fLog(f,"initAds"),n.rewardManager.init(p.adInfoHandler.getId(h.default.REWARD)),c.interstitialManager.init(p.adInfoHandler.getId(h.default.INTERSTITIAL)),l.bannerManager.init(p.adInfoHandler.getId(h.default.BANNER))},t.prototype.requestAdInfo=function(){var t=this;if(window.simulatedDataManager){var e=window.simulatedDataManager.getAdSwitchData();return a.switchManager.updateAdSwitch(e.adSwitchInfo),p.adInfoHandler.setAdid(e.adid),void((s.default.isWechatGame()||s.default.isWxSimulatePlatform())&&this.initAds())}u.analyticsManager.recordEvent(d.default.REQUEST_SWITCH,"\u8bf7\u6c42\u6570"),i.pbManager.getAdSwitch().then(function(e){r.default.fLog(f,"getAdSwitch",e),a.switchManager.updateAdSwitch(e.adSwitchInfo),r.default.fLog(f,"getAdSwitch 22",e.adid),p.adInfoHandler.setAdid(e.adid),s.default.isWechatGame()&&t.initAds(),u.analyticsManager.recordEvent(d.default.REQUEST_SWITCH,"\u8bf7\u6c42\u6210\u529f")}).catch(function(e){s.default.isWechatGame()&&t.initAds(),r.default.errorLog("getAdSwitch fail",e),u.analyticsManager.recordEvent(d.default.REQUEST_SWITCH,"\u8bf7\u6c42\u5931\u8d25")})},t.INSTANCE=null,t}();o.AdManager=g,o.adManager=g.getInstance(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/AdTag":"AdTag","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../handler/AdInfoHandler":"AdInfoHandler","./AnalyticsManager":"AnalyticsManager","./BannerManager":"BannerManager","./InterstitialManager":"InterstitialManager","./PBManager":"PBManager","./RewardManager":"RewardManager","./SwitchManager":"SwitchManager"}],AdSwitchBean:[function(t,e,o){"use strict";cc._RF.push(e,"58a958MvkRNYLSZsfkot1qf","AdSwitchBean"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],AdTag:[function(t,e,o){"use strict";cc._RF.push(e,"1aa09NhORVHiaVQP6ZUA9w9","AdTag"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.REWARD="rewardUnitID",t.BANNER="bannerUnitID",t.INTERSTITIAL="interstitialUnitID",t.GRID="gridID",t.GAME_ICON="gameIconID",t.GAME_PORTAL="gamePortalID",t.NATIVE="nativeUnitID",t.NATIVE_TOP="topNativeUnitID",t.NATIVE_SINGLE="singleNativeUnitID",t}();o.default=i,cc._RF.pop()},{}],AddDeskTip:[function(t,e,o){"use strict";cc._RF.push(e,"49d61ohtuRJAYaNk5G64YkK","AddDeskTip");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.AdaptivePos=function(){window.AddDeskTip=this},e.prototype.onLoad=function(){this.AdaptivePos(),this.tipAction()},e.prototype.tipAction=function(){var t=cc.repeatForever(cc.sequence(cc.moveBy(.1,10,0),cc.delayTime(1),cc.moveBy(.1,-10,0),cc.delayTime(1)));this.node.runAction(t)},e=n([a],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],AiolosUtil:[function(t,e,o){"use strict";cc._RF.push(e,"e81baSV3shPO4mcz2Hq1D/l","AiolosUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=function(){function t(){this.sdk=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){var t=this;window.GameGlobal?i.default.isTouTiao()?setTimeout(function(){window.GameGlobal&&(t.sdk=window.GameGlobal.bbAnalysis)},500):this.sdk=window.GameGlobal.bbAnalysis:window.global?setTimeout(function(){window.global.GameGlobal&&(t.sdk=window.global.GameGlobal.bbAnalysis)},500):this.dealGames()},t.prototype.dealGames=function(){var t=this;setTimeout(function(){window.GameGlobal?t.sdk=window.GameGlobal.bbAnalysis:window.global&&window.global.GameGlobal&&(t.sdk=window.global.GameGlobal.bbAnalysis)},500)},t.prototype.recordEvent=function(t,e,o){this.sdk&&this.sdk.recordEvent({id:t,arg1:e,arg2:o})},t.prototype.startEvent=function(t,e,o){this.sdk&&this.sdk.startEvent({id:t,arg1:e,arg2:o})},t.prototype.endEvent=function(t){this.sdk&&this.sdk.endEvent({id:t})},t.prototype.setTag=function(t){this.sdk&&this.sdk.setCS&&this.sdk.setCS({tag:t})},t.prototype.dealSharePath=function(t,e){if(this.sdk&&this.sdk.dealSharePath){var o=this.sdk.dealSharePath({path:t,pkg:e});return console.log("==== dealSharePath 111",o),o}return console.log("==== dealSharePath 222"),t},t.INSTANCE=void 0,t}();o.AiolosUtil=n,o.aiolosUtil=n.get(),cc._RF.pop()},{"../../core/util/PlatformUtil":"PlatformUtil"}],AnalyticsManager:[function(t,e,o){"use strict";cc._RF.push(e,"075ccjNcXhMEpW24dnwLHUg","AnalyticsManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../util/TdUtil"),n=t("../util/AiolosUtil"),a=t("../../core/util/DateUtil"),r=t("../../core/util/PlatformUtil"),s=t("../../core/util/LogUtil"),c=t("../constants/PublicConst"),l=function(){function t(){this.mapTime={}}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.calculateEvent=function(t,e,o,a){void 0===a&&(a=!1),t&&(i.tdUtil.recordEvent(t.name,e,o),n.aiolosUtil.recordEvent(t.id,e,""+o),a?s.default.managerLog(null,c.ManagerName.AnalyticsManager,"\u8ba1\u7b97\u4e8b\u4ef6 \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = 1\u7ea7:"+e+" = 2\u7ea7:"+o):s.default.managerLog(this,"\u8ba1\u7b97\u4e8b\u4ef6 \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = 1\u7ea7:"+e+" = 2\u7ea7:"+o))},t.prototype.recordEvent=function(t,e,o,a){void 0===a&&(a=!1),t&&(i.tdUtil.recordEvent(t.name,e,o),n.aiolosUtil.recordEvent(t.id,e,o),this.reportBaiduEvent(t.id,e,o),a?s.default.managerLog(null,c.ManagerName.AnalyticsManager,"\u8ba1\u6570\u4e8b\u4ef6 \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = 1\u7ea7:"+e+" = 2\u7ea7:"+o):s.default.managerLog(this,"\u8ba1\u6570\u4e8b\u4ef6 \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = 1\u7ea7:"+e+" = 2\u7ea7:"+o))},t.prototype.reportBaiduEvent=function(t,e,o){r.default.isBaiduGame()&&(t=t.substring(0,32),e?o=o||"\u672a\u8bbe\u7f6e":(e="\u672a\u8bbe\u7f6e",o="\u672a\u8bbe\u7f6e"),swan.reportAnalytics(t,{value:e+"__"+o}))},t.prototype.startEvent=function(t,e,o){n.aiolosUtil.startEvent(t.id,e,o),this.mapTime[t.name]={time:a.default.getTimeStamp(),arg1:e},s.default.managerLog(c.ManagerName.AnalyticsManager,"\u8ba1\u65f6\u5f00\u59cb \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = 1\u7ea7:"+e+" = 2\u7ea7:"+o)},t.prototype.endEvent=function(t){n.aiolosUtil.endEvent(t.id);var e=this.mapTime[t.name],o="";if(e&&e.time){var r=a.default.getTimeStamp()-e.time;o=this.getTimeString(r);var l=e.arg1?e.arg1:"\u65f6\u957f";i.tdUtil.recordEvent(t.name,l,o),this.reportBaiduEvent(t.id,l,o)}s.default.managerLog(c.ManagerName.AnalyticsManager,"\u8ba1\u65f6\u7ed3\u675f \u4e8b\u4ef6\u540d:"+t.name+" = \u4e8b\u4ef6id:"+t.id+" = \u65f6\u957f:"+o)},t.prototype.getTimeString=function(t){var e=1;if(t<0)return"\u65f6\u95f4\u5f02\u5e38";e=t>=0&&t<5e3?1:t>=5e3&&t<3e4?5:t>=3e4&&t<6e4?10:t>=6e4&&t<3e5?60:t>=3e5&&t<18e5?300:1800;var o=Math.floor(t/(1e3*e))*e;return o+"-"+(o+e)+"\u79d2"},t.prototype.setTag=function(t){n.aiolosUtil.setTag(t)},t.prototype.modalModule=function(t,e){window._czc&&_czc.push(["_trackEvent",t,"\u70b9\u51fb",e])},t.INSTANCE=void 0,t}();o.analyticsManager=l.get(),cc._RF.pop()},{"../../core/util/DateUtil":"DateUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicConst":"PublicConst","../util/AiolosUtil":"AiolosUtil","../util/TdUtil":"TdUtil"}],ApiManager:[function(t,e,o){"use strict";cc._RF.push(e,"2fd7fNHDttBJp8ggMWBwr1i","ApiManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/AppConfig"),n=t("../../core/util/PlatformUtil"),a=t("../../core/util/StoreUtil"),r=t("../constants/PublickStoreKey"),s=t("../constants/PublicUrl"),c=t("./NetManager"),l=t("../../../Config/FrameworkConfig"),u=t("../../core/util/LogUtil"),d=t("./libenc.js"),p=t("../../report/babybus/md5.min.js"),h=d.B,f="===ApiManager===",g=function(){function t(){this.isSendingSaveData=!1,this.token=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.isEnableReportData()?(u.default.fLog(f,"init"),n.default.isWechatGame()&&this.initToken()):u.default.fLog(f,"init error:disable")},t.prototype.isEnableReportData=function(){return n.default.isWechatGame()&&l.default.useNetStore},t.prototype.startSaveTask=function(){var t=this;setInterval(function(){t.saveGameData()},3e3)},t.prototype.initToken=function(){var t=this;this.token=a.default.get(r.default.NET_TOKEN,null),this.token?(this.getGameData(),this.startSaveTask()):this.login().then(function(e){t.requestToken(e,i.default.wechatgameAppID).then(function(){t.getGameData(),t.startSaveTask()}).catch(function(){})}).catch(function(){})},t.prototype.login=function(){return new Promise(function(t,e){n.default.isWechatGame()?wx.login({success:function(o){o&&o.code?t(o.code):e()},fail:function(){e()}}):e()})},t.prototype.requestToken=function(t,e){var o=this;return new Promise(function(i,n){o.post(s.publicUrl.getAuthorize(),{wx_code:t,appid:e}).then(function(t){if(t&&t.token){var e=t.token;o.token=e,a.default.set(r.default.NET_TOKEN,e),i("")}else n()}).catch(function(t){n()})})},t.prototype.saveNetData=function(t){t?Object.keys(t).forEach(function(e){console.log(f,"saveNetData:"+e+" = "+t[e]);var o=r.default.NET_STORE_PRE+e;a.default.set(o,t[e])}):console.log(f,"saveNetData 0000",t)},t.prototype.getGameData=function(){var t=this;this.post(s.publicUrl.getGameData(),{}).then(function(e){try{t.saveNetData(JSON.parse(e.gamedata).game_data)}catch(t){console.log(t)}}).catch(function(t){console.log(f,"getGameData err:",t)})},t.prototype.getSaveObj=function(){try{var t=a.default.get(r.default.NET_STORE_CHANGE_KEYS,"[]"),e=null,o={};return!(e=JSON.parse(t))||e.length<=0?null:(e.forEach(function(t){var e=a.default.get(r.default.NET_STORE_PRE+t,"");o[t]=e}),o)}catch(t){return console.log(f,"getSaveObj error",t),a.default.remove(r.default.NET_STORE_CHANGE_KEYS),null}},t.prototype.saveGameData=function(){var t=this,e=this.getSaveObj();e&&(this.isSendingSaveData=!0,this.post(s.publicUrl.getSaveGameData(),{game_data:JSON.stringify(e)}).then(function(e){console.log(f,"saveGameData success",e),a.default.remove(r.default.NET_STORE_CHANGE_KEYS);var o=a.default.get(r.default.NET_STORE_CHANGE_KEYS_TEMP,"");o&&(a.default.set(r.default.NET_STORE_CHANGE_KEYS,o),a.default.remove(r.default.NET_STORE_CHANGE_KEYS_TEMP)),t.isSendingSaveData=!1}).catch(function(e){t.isSendingSaveData=!1}))},t.prototype.getHeadObj=function(){return{app_id:i.default.wechatgameAppID}},t.prototype.getClientHeaderInfo=function(){var t=this.getHeadObj(),e=this.md5(t);return t.ClientHeaderSign=e,t.ClientHeaderSignType="md5",this.base64(t)},t.prototype.md5=function(t){return p(JSON.stringify(t))},t.prototype.base64=function(t){return h.btoa(JSON.stringify(t))},t.prototype.post=function(t,e){var o=this;return new Promise(function(i,n){var a={ClientHeaderInfo:o.getClientHeaderInfo(),token:o.token};c.netManager.post(t,e,a).then(function(t){var e=t?Number(t.status):-899;if(1===e)i(t.data);else if(109===e){o.token=null,o.init();var a={errCode:t.status,errMsg:"status error:"+t.info};n(a)}else{a={errCode:t.status,errMsg:"status error:"+t.info};n(a)}}).catch(function(t){n(t)})})},t.INSTANCE=void 0,t}();o.ApiManager=g,o.apiManager=g.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../../report/babybus/md5.min.js":"md5.min","../constants/PublicUrl":"PublicUrl","../constants/PublickStoreKey":"PublickStoreKey","./NetManager":"NetManager","./libenc.js":"libenc"}],AppConfig:[function(t,e,o){"use strict";function i(){return void 0!==window.swan&&null!==window.swan}cc._RF.push(e,"d0809JmADFIGq/0c4Pi5PU8","AppConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={tdAppKey:"7C7D840880364ECF9DFD77142A25A34A",aiolosAppKey:"FEB35DC5-718C-7AE7-A120-4F1E05FBF805",appName:"\u5b9d\u5b9d\u5df4\u58eb\u8d85\u5e02",versionName:"1.2.1",versionCode:110,cocoscreatorVersion:20010,projectId:i()?16:void 0,productId:i()?518:void 0,signKey:i()?"5i62B5JrJNwUgnJwTJdPvhSkfxh7a1zJ":void 0,xxTeaKey:i()?"E7xOuTepwLmFAjojeyTJZ76IOuYO7K7x":void 0,whiteList:["wxde9ed62a5d2ffe71","wxc7d26d9137c2e4cc","wxd82dccd6d6c14c1f","wxc87dcfba19c0d8b4","wxd7f146f72be7db72","wx8fc9f324026ca07e","wx937882b9a577922c","wx1fa8e35e7d11b811","wxd162f36f255dbf50","wxd94a8a624064687d"],adId:"",wechatgameAppID:"",wechatgameRewardUnitID:"",wechatgameBannerUnitID:"",wechatgameInterstitialUnitID:"",wechatgameGridID:"",wechatgameNativeUnitID:"",wechatgameSingleNativeUnitID:"",wechatgameTopNativeUnitID:"",wechatgameGameIconID:"",wechatgameGamePortalID:"",baidugameAppID:"",baidugameAdAppID:"",baidugameRewardUnitID:"",baidugameBannerUnitID:"",toutiaoAppID:"",toutiaoRewardUnitID:"",toutiaoBannerUnitID:"",toutiaoInterstitialUnitID:"",quickgamePkg:"",quickgameAppID:"",quickgameAdAppID:"",quickgameRewardUnitID:"",quickgameBannerUnitID:"",quickgameNativeUnitID:"",quickgameInterstitialUnitID:"",quickgameRecommendPortalID:"",quickgameRecommendBannerID:"",qgamePkg:"",qgameAppID:"",qgameRewardUnitID:"",qgameBannerUnitID:"",qgameNativeUnitID:"",qgameHasAd:!0,qgameRecommendPortalID:"",qgameInterstitialUnitID:"",xiaomiPkg:"",xiaomiRewardUnitID:"",xiaomiBannerUnitID:"",xiaomiInterstitialUnitID:"",kwaigameRewardUnitID:""},cc._RF.pop()},{}],AppInfoBean:[function(t,e,o){"use strict";cc._RF.push(e,"dd73dh+zUBFnpPXS7eEETO4","AppInfoBean"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],AppUtil:[function(t,e,o){"use strict";cc._RF.push(e,"e2878BXsotH2omM0rWsy/wb","AppUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../business/manager/AnalyticsManager"),n=t("../../business/constants/PublicAnalyticsKey"),a=t("./PlatformUtil"),r=function(){function t(){}return t.navigateToApp=function(t,e){return console.log("navigateToApp",t,e),new Promise(function(o,r){if(!t)return i.analyticsManager.recordEvent(n.default.SDK_JUMP,"N"),void r();a.default.isWechatGame()?wx.navigateToMiniProgram({appId:t,path:e,success:function(){console.log("navigateToMiniProgram 111"),o(null)},fail:function(t){console.log("navigateToMiniProgram 222",t),r()}}):a.default.isBaiduGame()?swan.navigateToMiniProgram({appKey:t,path:e,success:function(){o(null)},fail:function(){r()}}):a.default.isOppo()&&qg.navigateToMiniGame?qg.navigateToMiniGame({pkgName:t,path:e,success:function(){o(null)},fail:function(){r()}}):a.default.isBrowser()?o(null):r()})},t.showQRCode=function(t){a.default.isWechatGame()&&wx.previewImage&&wx.previewImage({current:t,urls:[t],success:function(){console.log("\u9884\u89c8\u7684\u56fe\u7247 \u6210\u529f")},fail:function(){console.log("\u9884\u89c8\u7684\u56fe\u7247 \u5931\u8d25")}})},t.canUseTouTiaoMoreGame=function(){return!!(a.default.isTouTiao()&&tt.getSystemInfoSync&&tt.showMoreGamesModal)&&"ios"!==tt.getSystemInfoSync().platform},t.showTouTiaoMoreGame=function(){return new Promise(function(t,e){a.default.isTouTiao()&&tt.showMoreGamesModal?(i.analyticsManager.recordEvent(n.default.TT_GAME_CENTER_MODULE,"ttXXXXXX","\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),tt.showMoreGamesModal({appLaunchOptions:[{appId:"ttXXXXXX",query:"foo=bar&baz=qux",extraData:{}}],success:function(e){console.log("success",e.errMsg),i.analyticsManager.recordEvent(n.default.TT_GAME_CENTER_COUNT,"\u66dd\u5149"),t(null)},fail:function(t){console.log("fail",t.errMsg),i.analyticsManager.recordEvent(n.default.TT_GAME_CENTER_MODULE,"ttXXXXXX",t),e()}})):e()})},t}();o.default=r,cc._RF.pop()},{"../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AnalyticsManager":"AnalyticsManager","./PlatformUtil":"PlatformUtil"}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"4b00eTrQ7NCF6vS074PBCLZ","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./MathUtil"),n=function(){function t(){}return t.isNull=function(t){return!t||t.length<=0},t.isNotNull=function(t){return t&&t.length>0},t.getValidArray=function(t){var e=[];return t.forEach(function(t){t&&e.push(t)}),e},t.numberExcept=function(t,e,o){var n=null;if("number"==typeof o)do{n=i.default.random(t,e)}while(n!==o);else for(n=i.default.random(t,e);;){for(var a=!1,r=0;r<o.length;r++)if(n===o[r]){a=!0;break}if(!a)break;n=i.default.random(t,e)}return n},t.shuffle=function(e){var o=null==e?0:e.length;if(!o)return[];for(var i=-1,n=o-1,a=t.copyArray(e);++i<o;){var r=i+Math.floor(Math.random()*(n-i+1)),s=a[r];a[r]=a[i],a[i]=s}return a},t.copyArray=function(t,e){var o=-1,i=t.length;for(e||(e=new Array(i));++o<i;)e[o]=t[o];return e},t.deepCopy=function(t){return t.slice(0)},t.upsetArray=function(e){if(t.isNull(e))return e;for(var o=t.deepCopy(e),n=[],a=0;a<e.length;a++){var r=i.default.random(0,o.length-1);n.push(t.removeObjByIndex(o,r))}return n},t.contain=function(t,e){return t.indexOf(e)>=0},t.removeObj=function(t,e){var o=t.indexOf(e);return o>=0?t.splice(o,1)[0]:null},t.getRandomItem=function(e){return t.isNull(e)?null:e[i.default.random(0,e.length-1)]},t.extractArray=function(e,o){for(var i=[],n=0;n<o;n++)i.push(t.getItemNoInArray(e,i));return i},t.getItemNoInArray=function(t,e){var o=t.concat(e).filter(function(e,o,i){return!(o>=t.length)&&i.indexOf(e)===i.lastIndexOf(e)});return o.length>0?o[Math.floor(Math.random()*o.length)]:null},t.removeObjByIndex=function(t,e){return e>=0?t.splice(e,1)[0]:null},t}();o.default=n,cc._RF.pop()},{"./MathUtil":"MathUtil"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"bd1f6fkvvhGM7RhRquCL0nK","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/FrameworkConfig"),n=t("../../core/util/ArrayUtil"),a=t("../../core/util/LogUtil"),r=t("../../core/util/PlatformUtil"),s=t("../constants/BusinessGlobal"),c=t("../constants/PublicConst"),l=t("../helper/LoadHelper"),u=t("./RewardManager"),d=function(){function t(){this.audioId=-1,this.audioLine=null,this.acMusic=null,this.bgId=-1,this.arrAudioId=[],this.isOpen=!0,this.timer=null,this.timer2=null,this.fornt=!1,this.bgmList=[],this.bgmNameList=[],this.bgmName="",this.bgmStopWhere=null,this.bgmId=null,this.loopAudioList=[],this.swanRecorderManager=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.initListener(),r.default.isBrowser()||t.INSTANCE.audioResumeDeal()),t.INSTANCE},t.prototype.open=function(){this.timer&&clearTimeout(this.timer),this.stopLine(),this.stopAllAudio(),r.default.isBBMGSimulatePlatform()||cc.audioEngine.stopAllEffects();var t=this;t.fornt&&!u.rewardManager.rewardIsShow&&(t.isOpen=!0),this.timer=setTimeout(function(){a.default.managerLog(t,"open look for bug!! ",t.fornt),a.default.managerLog(t,"open look for bug!! ",u.rewardManager.rewardIsShow),t.fornt&&!u.rewardManager.rewardIsShow&&(a.default.managerLog(t,"open audiomanager!!"),t.timer2&&clearTimeout(t.timer2),t.timer2=setTimeout(function(){cc.audioEngine._restore(),clearTimeout(t.timer2)},100),clearTimeout(t.timer),cc.audioEngine._break(),t.playMusic(t.acMusic),t.dealLoopMusicList())},1e3)},t.prototype.close=function(){this.fornt&&u.rewardManager&&!u.rewardManager.rewardIsShow||(a.default.managerLog(c.ManagerName.AudioManager,"close audiomanager!! "),this.isOpen=!1,this.stopLine(),this.stopAllAudio(),r.default.isBBMGSimulatePlatform()||cc.audioEngine.stopAllEffects(),this.setBgmStopTime(),this.stopMusic())},t.prototype.playEffect=function(t){var e=this;if(!t)return-1;if(!this.isOpen)return-1;if("zh"!==i.default.i18n&&window.ignore_audio_uuids&&window.ignore_audio_uuids.indexOf(t._uuid)>-1)return-1;if(r.default.isBBMGSimulatePlatform()){if(this.effectPlaytime||(this.effectPlaytime=Date.now()),Date.now()-this.effectPlaytime<=50&&this.lastEffect===t)return console.debug("\u97f3\u9891\u9891\u7e41\u64ad\u653e "+t.name),null;this.effectPlaytime=Date.now(),this.lastEffect=t}var o=cc.audioEngine.play(t,!1,1);return this.arrAudioId.push(o),cc.audioEngine.setFinishCallback(o,function(){n.default.removeObj(e.arrAudioId,o)}),o},t.prototype.playEffectByName=function(t){var e=this,o=l.loadHelper.getEffectPath(t),i=cc.loader.getRes(o,cc.AudioClip);return i?this.playEffect(i):(console.error("\u97f3\u9891\u672a\u52a0\u8f7deffect",t),l.loadHelper.loadSoundRes(o).then(function(t){e.playEffect(t)}),-1)},t.prototype.playEffectLoopByName=function(t){var e=l.loadHelper.getEffectPath(t),o=cc.loader.getRes(e,cc.AudioClip);return o?this.playEffectLoop(o):(console.error("\u97f3\u9891\u672a\u52a0\u8f7d",t),-1)},t.prototype.playLineByName=function(t){var e=this,o=l.loadHelper.getLinePath(t),i=cc.loader.getRes(o,cc.AudioClip);return i?this.playLine(i):(console.error("\u97f3\u9891\u672a\u52a0\u8f7dline",t),l.loadHelper.loadSoundRes(o).then(function(t){e.playLine(t)}),-1)},t.prototype.playMusicByName=function(t,e){var o=this;void 0===e&&(e=!0);var i=l.loadHelper.getEffectPath(t),n=cc.loader.getRes(i,cc.AudioClip);return n?this.playMusic(n,e):(l.loadHelper.loadSoundRes(i).then(function(t){o.playMusic(t,e)}),-1)},t.prototype.playEffectLoop=function(t){var e=this;if(!t)return-1;if(!this.isOpen)return-1;var o=-1;this.loopAudioList.forEach(function(e,i){(""===t.name||e[0]===s.BusinessGlobal.curSceneName&&e[1].name===t.name)&&(o=i)});var i=-1;try{i=cc.audioEngine.play(t,!0,1)}catch(t){return-1}return-1===o?this.addToLoopMusicList(t,i):(this.stopAudio(this.loopAudioList[o][2]),this.addToLoopMusicList(t,i)),-1===this.arrAudioId.indexOf(i)&&this.arrAudioId.push(i),cc.audioEngine.setFinishCallback(i,function(){n.default.removeObj(e.arrAudioId,i)}),a.default.managerLog(c.ManagerName.AudioManager,"\u8fd4\u56de\u7684\u5faa\u73af\u97f3\u9891id\u662f:",i),i},t.prototype.playLine=function(t){var e=this;return t?"zh"!==i.default.i18n&&window.ignore_audio_uuids&&window.ignore_audio_uuids.indexOf(t._uuid)>-1?-1:this.isOpen?this.audioLine===t?-1:(this.stopLine(),this.audioLine=t,this.audioId=cc.audioEngine.play(t,!1,1),cc.audioEngine.setFinishCallback(this.audioId,function(){e.audioLine=null,e.audioId=-1}),this.audioId):-1:-1},t.prototype.stopLine=function(){-1!==this.audioId&&(this.stopAudio(this.audioId),this.audioId=-1,this.audioLine=null)},t.prototype.stopAudio=function(t){a.default.managerLog(c.ManagerName.AudioManager,"\u5faa\u73af\u97f3\u9891\u5217\u88681\u662f",this.loopAudioList),this.loopAudioList=this.loopAudioList.filter(function(e){return e[2]!==t?e:null}),a.default.managerLog(c.ManagerName.AudioManager,"\u5faa\u73af\u97f3\u9891\u5217\u88682\u662f",this.loopAudioList),cc.audioEngine.stop(t),n.default.removeObj(this.arrAudioId,t)},t.prototype.stopAllAudio=function(){this.arrAudioId.forEach(function(t){cc.audioEngine.stop(t)}),this.arrAudioId=[]},t.prototype.initListener=function(){if(r.default.isBBMGSimulatePlatform())this.fornt=!0;else{var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){r.default.isBBMGSimulatePlatform()||(a.default.managerLog(t,"\u6e38\u620f\u9690\u85cf!"),t.fornt=!1,t.close())},t),cc.game.on(cc.game.EVENT_SHOW,function(){r.default.isBBMGSimulatePlatform()||(a.default.managerLog(t,"\u6e38\u620f\u5c55\u793a!"),t.fornt=!0,t.open())},t)}},t.prototype.audioResumeDeal=function(){a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\u65b9\u6cd5\u6267\u884c!"),r.default.isTouTiao()||(a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\uff0c\u5f15\u64ce\u90e8\u5206\u5b8c\u6210!"),r.default.isWechatGame()?"function"==typeof cc.audioEngine._break&&"function"==typeof cc.audioEngine._restore?("function"==typeof wx.onAudioInterruptionEnd&&(wx.onAudioInterruptionBegin(function(){console.debug("\u97f3\u9891\u4e2d\u65ad\u5f00\u59cb"),cc.game.emit(cc.game.EVENT_HIDE)}),wx.onAudioInterruptionEnd(function(){console.debug("\u97f3\u9891\u4e2d\u65ad\u7ed3\u675f"),cc.game.emit(cc.game.EVENT_SHOW)})),a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\uff0c\u5fae\u4fe1\u90e8\u5206\u5b8c\u6210!")):a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\uff0c\u4e0d\u5b58\u5728\u5fae\u4fe1\u89e3\u51b3\u65b9\u6848!"):r.default.isBaiduGame()&&("function"==typeof cc.audioEngine._break&&"function"==typeof cc.audioEngine._restore?("function"==typeof swan.getRecorderManager&&(this.swanRecorderManager=swan.getRecorderManager()),this.swanRecorderManager&&"function"==typeof swan.onInterruptionBegin&&(this.swanRecorderManager.onInterruptionBegin(function(){console.debug("\u97f3\u9891\u4e2d\u65ad\u5f00\u59cb"),cc.game.emit(cc.game.EVENT_HIDE)}),this.swanRecorderManager.onInterruptionEnd(function(){console.debug("\u97f3\u9891\u4e2d\u65ad\u7ed3\u675f"),cc.game.emit(cc.game.EVENT_SHOW)})),a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\uff0c\u767e\u5ea6\u90e8\u5206\u5b8c\u6210!")):a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u65e0\u6cd5\u6062\u590d\u95ee\u9898\uff0c\u4e0d\u5b58\u5728\u767e\u5ea6\u89e3\u51b3\u65b9\u6848!")))},t.prototype.dealLoopMusicList=function(){var t=this;a.default.managerLog(c.ManagerName.AudioManager,"\u5faa\u73af\u97f3\u9891\u5217\u8868\u662f",this.loopAudioList),n.default.isNull(this.loopAudioList)||(this.loopAudioList=this.loopAudioList.filter(function(t){return t[0]==s.BusinessGlobal.curSceneName&&cc.isValid(t[1])?t:null}),this.loopAudioList.forEach(function(e){e[1]&&cc.isValid(e[1],!0)&&t.playEffectLoop(e[1])}))},t.prototype.addToLoopMusicList=function(t,e){a.default.managerLog(c.ManagerName.AudioManager,"\u6211\u5c06\u5faa\u73af\u97f3\u4e50\u52a0\u5165\u5230\u5faa\u73af\u97f3\u9891\u5217\u8868",[s.BusinessGlobal.curSceneName,t,e]),this.loopAudioList.push([s.BusinessGlobal.curSceneName,t,e])},t.prototype.playMusic=function(t,e,o){if(void 0===e&&(e=!0),void 0===o&&(o=!0),o&&(!t||t&&""===t.url)){if(!(t=this.compatibleDeal()))return a.default.managerLog(c.ManagerName.AudioManager,"\u80cc\u666f\u97f3\u4e50\u64ad\u653e\u5931\u8d25,\u8bb0\u5f55\u4e2d\u4e0d\u5b58\u5728\u8be5\u80cc\u666f\u97f3\u4e50"),-1}else if(!t)return a.default.managerLog(c.ManagerName.AudioManager,"\u4e0d\u5b58\u5728\u8be5\u97f3\u9891(\u80cc\u666f\u97f3\u4e50)!"),-1;return this.isOpen?(this.stopMusic(),this.acMusic=t,this.bgmName=t.name,""===t.name||n.default.contain(this.bgmNameList,t.name)||(a.default.managerLog(c.ManagerName.AudioManager,"\u6211\u628a\u80cc\u666f\u97f3\u4e50\u52a0\u5165\u5230\u4e86\u5217\u8868\u4e2d",t),this.bgmList.push([t.name,[t._audio,t.url]]),this.bgmNameList.push(t.name)),a.default.managerLog(c.ManagerName.AudioManager,"\u64ad\u653e\u80cc\u666f\u97f3\u4e50",t),this.bgmId=cc.audioEngine.playMusic(t,e),this.setBgmPlay(),this.bgmId):(a.default.managerLog(c.ManagerName.AudioManager,"\u97f3\u9891\u5173\u95ed\u4e2d(\u80cc\u666f\u97f3\u4e50)!"),-1)},t.prototype.compatibleDeal=function(){var t=this,e=null;return n.default.contain(this.bgmNameList,this.bgmName)&&this.bgmList.forEach(function(o){o[0]===t.bgmName&&((e=new cc.AudioClip).name=t.bgmName,e._audio=o[1][0],e.url=o[1][1],e._native=".mp3",e.loaded=!0)}),a.default.managerLog(c.ManagerName.AudioManager,"\u517c\u5bb9\u5904\u7406\u540e\u5f97\u5230\u7684\u97f3\u9891\u662f",e),e},t.prototype.setBgmStopTime=function(){this.bgmId&&(this.bgmStopWhere=cc.audioEngine.getCurrentTime(this.bgmId),a.default.managerLog(c.ManagerName.AudioManager,"\u8bbe\u7f6ebgm\u505c\u7684\u4f4d\u7f6e",this.bgmStopWhere))},t.prototype.setBgmPlay=function(){this.bgmId&&this.bgmStopWhere&&(a.default.managerLog(c.ManagerName.AudioManager,"\u8bbe\u7f6ebgm\u64ad\u7684\u4f4d\u7f6e",this.bgmStopWhere),cc.audioEngine.setVolume(this.bgmId,0),cc.audioEngine.setCurrentTime(this.bgmId,this.bgmStopWhere),cc.audioEngine.setVolume(this.bgmId,1),this.bgmStopWhere=null)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),this.bgmId=null,this.acMusic=null},t.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},t.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},t.prototype.getLineAudioClip=function(t){var e=l.loadHelper.getLinePath(t);return cc.loader.getRes(e,cc.AudioClip)},t.prototype.getAudioDuration=function(t,e){if(void 0===e&&(e=1),"string"==typeof t&&(t=cc.loader.getRes(t,cc.AudioClip)),t){if(r.default.isPure()&&window.bbf_audio_duration)return window.bbf_audio_duration[t._uuid]||e;if(t._audio)return t._audio.duration||e}return e},t.prototype.getDurationByMap=function(t,e){return void 0===e&&(e=.5),window.bbf_audio_duration?(window.bbf_audio_duration[t]||0)+e:0},t.INSTANCE=null,t}();o.default=d,o.audioManager=d.getInstance(),cc._RF.pop()},{"../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/ArrayUtil":"ArrayUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicConst":"PublicConst","../helper/LoadHelper":"LoadHelper","./RewardManager":"RewardManager"}],AutoShowInterstitialManager:[function(t,e,o){"use strict";cc._RF.push(e,"0d7bctPUgJETJV5Q0Pbz+fh","AutoShowInterstitialManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=t("../constants/BusinessGlobal"),a=t("./InterstitialManager"),r=t("./JudgeManager"),s=t("./MoreRecommendManager"),c=function(){function t(){this.times=0,this.showAdTask=null,this.taskSwitch=!1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.open=function(){console.log("====autoshow open"),this.taskSwitch=!0,this.restTask()},t.prototype.close=function(){console.log("====autoshow close"),this.taskSwitch=!1,this.stopTask()},t.prototype.showInterstitial=function(){console.log("====autoshow showInterstitial");var t=this;this.stopTask(),i.default.isOppo()?s.moreRecommendManager.canPortalUse()&&s.moreRecommendManager.showPortal({onClose:function(){t.restTask()},onError:function(){t.restTask()}}):a.interstitialManager.showAd({onClose:function(){t.restTask()},onError:function(){t.restTask()}})||t.showCustomInterstitial()},t.prototype.showCustomInterstitial=function(){a.interstitialManager.showCustomByTimes(0,!0),this.restTask()},t.prototype.init=function(){var t=this;if(i.default.isWechatGame()||i.default.isTouTiao()){var e=this.touchScreen.bind(this);wx.onTouchStart(e),wx.onTouchEnd(e),wx.onTouchCancel(e)}else if(i.default.isVivo()){e=this.touchScreen.bind(this);qg.onTouchStart(e),qg.onTouchEnd(e),qg.onTouchCancel(e)}else if(i.default.isOppo()){e=this.touchScreen.bind(this);window.addEventListener("touchstart",e,!1),window.addEventListener("touchend",e,!1),window.addEventListener("touchcancel",e,!1)}else if(i.default.isBaiduGame()){e=this.touchScreen.bind(this);swan.onTouchStart(e),swan.onTouchEnd(e),swan.onTouchCancel(e)}else i.default.isBrowser()&&!i.default.isPure()&&setTimeout(function(){var e=t.touchScreen.bind(t);t.simulatePlatformAutoShow(e),console.log("black.\u6211\u6267\u884c\u4e86")},2e3)},t.prototype.restTask=function(){var t=this;if(this.taskSwitch&&r.judgeManager.getInterstitialStaySwitch()&&!i.default.isBBMGSimulatePlatform()){this.stopTask();var e=1e3*r.judgeManager.getInterstitialInterval();console.log("====autoshow restTask",e),this.showAdTask=setTimeout(function(){t.showInterstitial()},e)}},t.prototype.stopTask=function(){this.showAdTask&&clearTimeout(this.showAdTask)},t.prototype.touchScreen=function(){console.log("====autoshow touchScreen",++this.times),this.restTask()},t.prototype.simulatePlatformAutoShow=function(t){if(cc.find("sceneTouch")&&cc.find("sceneTouch").destroy(),n.BusinessGlobal.simulatePlatform===i.SimulatePlatform.wx||n.BusinessGlobal.simulatePlatform===i.SimulatePlatform.baidu||n.BusinessGlobal.simulatePlatform===i.SimulatePlatform.oppo||n.BusinessGlobal.simulatePlatform===i.SimulatePlatform.vivo){var e=new cc.Node("sceneTouch");e.parent=cc.find("Canvas").parent,e.position=cc.find("Canvas").position,e.setContentSize(cc.find("Canvas").getContentSize()),e.on(cc.Node.EventType.TOUCH_START,t,this),e.on(cc.Node.EventType.TOUCH_END,t,this),e.on(cc.Node.EventType.TOUCH_CANCEL,t,this),e.zIndex=9901,cc.game.addPersistRootNode(e),e._touchListener.setSwallowTouches(!1),null!=cc.macro.ENABLE_MULTI_TOUCH&&(cc.macro.ENABLE_MULTI_TOUCH=!0),null!=cc.find("Canvas/sdkCamera")&&(e.group="sdkCamera")}},t.INSTANCE=void 0,t}();o.AutoShowInterstitialManager=c,o.autoShowInterstitialmanager=c.getInstance(),cc._RF.pop()},{"../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","./InterstitialManager":"InterstitialManager","./JudgeManager":"JudgeManager","./MoreRecommendManager":"MoreRecommendManager"}],BBAppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"1cd1bceGIpJ8odAo/YWURUB","BBAppConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={packageName:"",appName:"",programId:"0",versionCode:100,versionName:"1.0.0",isVipProgram:!1,age:null,channel:"default",isSupportHostPurchasePage:!1},cc._RF.pop()},{}],BBChannel:[function(t,e,o){"use strict";var i;cc._RF.push(e,"eda83kHJxdEhptIE5fGTPwC","BBChannel"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.XIAODU=1]="XIAODU",t[t.TMALLGENIE=2]="TMALLGENIE"}(i=o.BBChannelType||(o.BBChannelType={}));var n=function(){function t(){}return Object.defineProperty(t,"channel",{get:function(){return t.sChannel},enumerable:!0,configurable:!0}),t.initChannel=function(){return new Promise(function(e,o){BBFramework.deviceService.version>=2&&BBFramework.deviceService.getHostInfo?BBFramework.deviceService.getHostInfo().then(function(o){var n=i.DEFAULT;if(o.channel)switch(o.channel){case"C001":n=i.XIAODU;break;case"C006":n=i.TMALLGENIE}else 3775===o.productId&&4===o.versionName.split(".").length?n=i.XIAODU:3775===o.productId&&3===o.versionName.split(".").length&&(n=i.TMALLGENIE);t.sChannel=n,console.debug("\u6e20\u9053\u4fe1\u606f\uff1a"+n+"(1=\u5c0f\u5ea6\u97f3\u7bb1\uff0c2=\u5929\u732b\u7cbe\u7075)"),e()}).catch(function(){t.sChannel=i.DEFAULT,o(new Error("\u5bbf\u4e3b\u4fe1\u606f\u83b7\u53d6\u5931\u8d25"))}):(console.debug("\u4e0d\u652f\u6301\u5bbf\u4e3b\u4fe1\u606f\u83b7\u53d6"),t.sChannel=i.DEFAULT,e())})},t}();o.default=n,cc._RF.pop()},{}],BBConfigs:[function(t,e,o){"use strict";cc._RF.push(e,"97b8dhCNtJMmLbGWLAOc1Vs","BBConfigs");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stringJson=null,e}var o;return i(e,t),o=e,e.getInstance=function(){return o.sInstance},e.prototype.onLoad=function(){o.sInstance||(o.sInstance=this),this.stringConf=this.stringJson.json},e.prototype.getString=function(t){return this.stringConf?this.stringConf[t]:(console.error("\u5b57\u7b26\u8868\u672a\u521d\u59cb\u5316\uff01"),null)},e.sInstance=null,n([s({type:cc.JsonAsset,tooltip:"\u5b57\u7b26\u914d\u7f6e\u8868"})],e.prototype,"stringJson",void 0),e=o=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],BBDialog:[function(t,e,o){"use strict";cc._RF.push(e,"638d21v05dKCI6MaAG7hlPB","BBDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/DialogManager"),r=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.initData(),this.initView(),this.initListener(),this.node.zIndex=9999},e.prototype.onEnable=function(){a.dialogManager.onDialogShow()},e.prototype.onDisable=function(){a.dialogManager.onDialogHide()},e.prototype.showDialog=function(){this.node.active=!0},e.prototype.hideDialog=function(){this.node.active=!1},e.prototype.initData=function(){},e.prototype.initView=function(){},e.prototype.initListener=function(){},e=n([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../manager/DialogManager":"DialogManager"}],BBGameAdUtil:[function(t,e,o){"use strict";cc._RF.push(e,"ffce3xqIehK+r2KS05Y+SqW","BBGameAdUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../BusinessServiceExtension"),n=function(){function t(){this.horizontalAlign="left",this.verticalAlign="top",this.bannerIds={}}return t.getInstance=function(){return this.sInstance||(this.sInstance=new t),this.sInstance},t.prototype.init=function(){var e=this;return new Promise(function(o,i){!0!==t.sHasInited?BBFramework.deviceService.getContainerInfo().then(function(i){console.debug("\u83b7\u53d6\u5bb9\u5668\u4fe1\u606f\u6210\u529f",i),e.containerInfo=i,e.disableReservedAd(),e.createDefaultBanner(),e.hideBannerAd(),t.sHasInited=!0,o()}).catch(function(t){i(t)}):o()})},t.prototype.destroy=function(){var t=this;this.bannerIds&&Object.keys(this.bannerIds).forEach(function(e){e&&t.bannerIds[e]&&(BBFramework.adService.destroy(t.bannerIds[e].id),delete t.bannerIds[e])})},t.prototype.disableReservedAd=function(){this.isReservedAdDisabled||(BBFramework.adService.disableReservedAd(),this.isReservedAdDisabled=!0)},t.prototype.isBannerAdExist=function(t){return!BBFramework.adService.support()||!!this.bannerIds[t||this.defaultBannerId]},t.prototype.createDefaultBanner=function(){if(BBFramework.adService.support())if(this.containerInfo)if(this.defaultBannerId)console.warn("\u9ed8\u8ba4\u5e7f\u544a\u5df2\u5b58\u5728\uff0c\u4e0d\u8981\u91cd\u590d\u521b\u5efa\uff01");else try{var t=BBFramework.deviceService.convertGameRectToDeviceRect(cc.rect(160,cc.winSize.height-80,cc.winSize.width-320,80),this.containerInfo.container),e=t.x,o=t.y,i=t.x+t.width,n=t.y+t.height,a=BBFramework.adService.createBanner(e,o,i,n,this.horizontalAlign,this.verticalAlign);this.bannerIds[a]={id:a},this.defaultBannerId=a,console.debug("\u5e7f\u544a\u521b\u5efa\u6210\u529f",a)}catch(t){console.error("\u5e7f\u544a\u521b\u5efa\u5931\u8d25",t)}else console.error("\u5bb9\u5668\u4fe1\u606f\u672a\u521d\u59cb\u5316");else console.error("\u5f53\u524d\u4e0d\u652f\u6301AdService!")},t.prototype.createBanner=function(t){if(!BBFramework.adService.support())return console.error("\u5f53\u524d\u4e0d\u652f\u6301AdService!"),null;if(!this.containerInfo)return console.error("\u5bb9\u5668\u4fe1\u606f\u672a\u521d\u59cb\u5316"),null;try{var e=BBFramework.deviceService.convertGameRectToDeviceRect(t.getBoundingBoxToWorld(),this.containerInfo.container),o=e.x,i=e.y,n=e.x+e.width,a=e.y+e.height,r=BBFramework.adService.createBanner(o,i,n,a,this.horizontalAlign,this.verticalAlign);return this.bannerIds[r]={id:r},console.debug("create new banner by id ",r),r}catch(t){console.error("\u5e7f\u544a\u521b\u5efa\u5931\u8d25",t)}return null},t.prototype.showBannerAd=function(t){if(console.debug("showBannerAd"),BBFramework.adService.support()){var e=t||this.defaultBannerId;this.bannerIds[e]?!0!==this.bannerIds[e].active?(BBFramework.adService.show(e),this.bannerIds[e].active=!0):console.warn("\u5f53\u524d\u5e7f\u544a\u5728\u663e\u793a\u72b6\u6001"):console.warn("\u8bf7\u5148\u521b\u5efa\u5e7f\u544a\u7ec4\u4ef6")}else this.setAdVisibility(!0)},t.prototype.hideBannerAd=function(t){if(console.debug("hideBannerAd"),BBFramework.adService.support()){var e=t||this.defaultBannerId;this.bannerIds[e]?this.bannerIds[e].active?(BBFramework.adService.hide(e),this.bannerIds[e].active=!1):console.warn("\u5f53\u524d\u5e7f\u544a\u5728\u9690\u85cf\u72b6\u6001"):console.warn("\u8bf7\u5148\u521b\u5efa\u5e7f\u544a\u7ec4\u4ef6")}else this.setAdVisibility(!1)},t.prototype.destroyBannerAd=function(t){if(console.debug("destroyBannerAd"),BBFramework.adService.support()){var e=t||this.defaultBannerId;this.bannerIds[e]?(BBFramework.adService.destroy(e),delete this.bannerIds[e]):console.warn("\u8bf7\u5148\u521b\u5efa\u5e7f\u544a\u7ec4\u4ef6")}else this.setAdVisibility(!1)},t.prototype.setAdVisibility=function(t){return i.default.setAdVisibility(t)},t.sInstance=null,t}();o.default=n,cc._RF.pop()},{"../BusinessServiceExtension":"BusinessServiceExtension"}],BBLoadFailedWindow:[function(t,e,o){"use strict";cc._RF.push(e,"538d3irCSBFnqJjZFCwCdIi","BBLoadFailedWindow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.confirmBtn=null,e.bg=null,e.text=null,e}return i(e,t),e.prototype.onLoad=function(){this.text.node.width=this.text.spriteFrame.getRect().width,this.text.node.height=this.text.spriteFrame.getRect().height,this.text.node.y=30,this.confirmBtn.y=-108},e.prototype.initListener=function(t,e){var o=this;return this.confirmBtn.once(cc.Node.EventType.TOUCH_START,function(){o.content.runAction(cc.sequence(cc.scaleTo(.5,0).easing(cc.easeElasticIn(.5)),cc.delayTime(.5),cc.callFunc(function(){o.node.active=!1,t&&(e?e.isValid&&t.call(e):t())})))},this),this},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.content.scale=0,cc.tween(this.content).to(.5,{scale:1},cc.easeElasticOut(.5)).start())},n([s({tooltip:"\u7a97\u53e3",type:cc.Node})],e.prototype,"content",void 0),n([s({tooltip:"\u786e\u5b9a\u6309\u94ae",type:cc.Node})],e.prototype,"confirmBtn",void 0),n([s({tooltip:"\u80cc\u666f",type:cc.Sprite})],e.prototype,"bg",void 0),n([s({tooltip:"\u6587\u6848",type:cc.Sprite})],e.prototype,"text",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],BBLoader:[function(t,e,o){"use strict";cc._RF.push(e,"4a05ax2fTlG0p3whNtLEJ/D","BBLoader");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../BBMain"),r=t("../Utils/LoadTimeout"),s=t("./BBLoadFailedWindow"),c=t("./BBLoading"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mFailedWindow=null,e.mLoading=null,e}var o;return i(e,t),o=e,e.getInstance=function(){return o.sInstance},e.prototype.onLoad=function(){o.sInstance||(o.sInstance=this)},e.prototype.popLoadFailedWindow=function(t,e){this.mLoading.hide(),this.mFailedWindow.initListener(t,e).show()},e.prototype.showLoading=function(){this.mLoading.show()},e.prototype.hideLoading=function(){this.mLoading.hide()},e.prototype.preloadScene=function(t,e,o){var i=this;return new Promise(function(n,s){var c=r.default.getInstance().start();cc.director.preloadScene(t,function(t,i,n){if(o){var a=parseFloat((t/i).toFixed(2));e?e.isValid&&o.call(e,a,n):o(a,n)}},function(l,u){if(r.default.getInstance().end(c),l||!u){if(console.error("BBLoader preloadScene \u52a0\u8f7d\u5931\u8d25",l),!a.default.getInstance().globalConfig.autoPopError)return void s(l);e&&!e.isValid||i.popLoadFailedWindow(function(){i.preloadScene(t,e,o).then(n)},i)}else e&&!e.isValid||n(u)})})},e.prototype.preloadSceneArray=function(t,e,o){var i=this;return new Promise(function(n){for(var a=[],r=[],s=function(n){a[n]=0,r.push(i.preloadScene(t[n],null,function(i,r){if(o){r&&r.error&&(i=0),a[n]<i&&(a[n]=i);var s=parseFloat((a.reduce(function(t,e){return t+e})/t.length).toFixed(2));e?e.isValid&&o.call(e,s,r):o(s,r)}}))},c=0;c<t.length;c++)s(c);Promise.all(r).then(function(t){e&&!e.isValid||n(t)})})},e.prototype.loadScene=function(t,e){var o=this;return new Promise(function(i,n){cc.director.loadScene(t,function(r,s){if(r||!s){if(console.error("BBLoader loadScene \u52a0\u8f7d\u5931\u8d25",r),!a.default.getInstance().globalConfig.autoPopError)return void n(r);e&&!e.isValid||o.popLoadFailedWindow(function(){o.loadScene(t,e).then(i)},o)}else e&&!e.isValid||i(s)})})},e.prototype.loadRes=function(t,e,o,i){var n=this;return new Promise(function(r,s){cc.loader.loadRes(t,e,function(t,e,n){if(i){var a=parseFloat((t/e).toFixed(2));o?o.isValid&&i.call(o,a,n):i(a,n)}},function(c,l){if(c||!l){if(console.error("BBLoader loadRes \u52a0\u8f7d\u5931\u8d25",c),!a.default.getInstance().globalConfig.autoPopError)return void s(c);n.popLoadFailedWindow(function(){n.loadRes(t,e,o,i).then(r).catch(s)},n)}else o&&!o.isValid||r(l)})})},e.prototype.loadResArray=function(t,e,o,i){var n=this;return new Promise(function(r,s){cc.loader.loadResArray(t,e,function(t,e,n){if(i){var a=parseFloat((t/e).toFixed(2));o?o.isValid&&i.call(o,a,n):i(a,n)}},function(c,l){if(c||!l){if(console.error("BBLoader loadResArray \u52a0\u8f7d\u5931\u8d25",c),!a.default.getInstance().globalConfig.autoPopError)return void s(c);n.popLoadFailedWindow(function(){n.loadResArray(t,e,o,i).then(r).catch(s)},n)}else o&&!o.isValid||r(l)})})},e.prototype.loadResDir=function(t,e,o,i){var n=this;return new Promise(function(r,s){cc.loader.loadResDir(t,e,function(t,e,n){if(i){var a=parseFloat((t/e).toFixed(2));o?o.isValid&&i.call(o,a,n):i(a,n)}},function(c,l){if(c||!l){if(console.error("BBLoader loadResDir \u52a0\u8f7d\u5931\u8d25",c),!a.default.getInstance().globalConfig.autoPopError)return void s(c);n.popLoadFailedWindow(function(){n.loadResDir(t,e,o,i).then(r).catch(s)},n)}else o&&!o.isValid||r(l)})})},e.sInstance=null,n([d(s.default)],e.prototype,"mFailedWindow",void 0),n([d(c.default)],e.prototype,"mLoading",void 0),e=o=n([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../BBMain":"BBMain","../Utils/LoadTimeout":"LoadTimeout","./BBLoadFailedWindow":"BBLoadFailedWindow","./BBLoading":"BBLoading"}],BBLoading:[function(t,e,o){"use strict";cc._RF.push(e,"ff824ECmkpEbKlHFojQpuZH","BBLoading");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Script/Config/FrameworkConfig"),r=t("../Config/BBConfigs"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.text=null,e.isShown=!1,e}return i(e,t),e.prototype.onLoad=function(){this.text.string=r.default.getInstance().getString("bs1")},e.prototype.show=function(){var t=this;if(!this.isShown){this.isShown=!0,this.mask.opacity=0,this.node.active=!0,this.mask.stopAllActions(),cc.tween(this.mask).to(.1,{opacity:160}).start();var e=0;this.text.node.stopAllActions(),cc.tween(this.text.node).repeatForever(cc.tween().call(function(){"ar"===a.default.i18n?(t.text.node.anchorX=1,t.text.node.x=48,t.text.string=".".repeat(e)+r.default.getInstance().getString("bs1")):t.text.string=r.default.getInstance().getString("bs1")+".".repeat(e),++e>3&&(e=0)}).delay(.3)).start()}},e.prototype.hide=function(){var t=this;this.isShown&&(this.isShown=!1,this.text.node.stopAllActions(),this.mask.stopAllActions(),cc.tween(this.mask).to(.1,{opacity:0}).call(function(){t.node.active=!1}).start())},n([l({tooltip:"Mask",type:cc.Node})],e.prototype,"mask",void 0),n([l({tooltip:"\u6587\u6848",type:cc.Label})],e.prototype,"text",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Script/Config/FrameworkConfig":"FrameworkConfig","../Config/BBConfigs":"BBConfigs"}],BBMain:[function(t,e,o){"use strict";cc._RF.push(e,"7a0e3b0bYFKI5kVztqBICf+","BBMain");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=(this&&this.__assign,this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r});Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Utils/BBGameAdUtil"),r=t("./BusinessServiceExtension"),s=t("./Config/BBAppConfig"),c=t("./EventReport/EventReporter"),l=t("./BBChannel"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(){function t(){this.autoPopError=!0}return n([p({tooltip:"\u662f\u5426\u81ea\u52a8\u5c55\u793a\u52a0\u8f7d\u9519\u8bef\u5f39\u7a97\uff08\u9ed8\u8ba4\u4e3a\u5c55\u793a\uff0c\u90e8\u5206\u7279\u6b8a\u573a\u666f\u4e0b\u4e0d\u5e0c\u671b\u52a0\u8f7d\u9519\u8bef\u5f39\u51fa\u5f39\u7a97\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u7684\uff0c\u53ef\u9009\u62e9\u5173\u95ed\uff09"})],t.prototype,"autoPopError",void 0),t=n([d("ConfigAttr")],t)}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BBMainPrefab=null,e.globalConfig=new h,e.retryTime=0,e}var o;return i(e,t),o=e,e.getInstance=function(){return o.sInstance},e.prototype.onLoad=function(){var t=this;window.BBFramework?window.BBFramework&&!o.sInstance&&(o.sInstance=this,cc.instantiate(this.BBMainPrefab).parent=this.node,this.node.zIndex=cc.macro.MAX_ZINDEX,cc.game.isPersistRootNode(this.node)||cc.game.addPersistRootNode(this.node),o.sHasInited||this.init(),o.sFrstSceneName=cc.director.getScene().name,cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(e){if(t.noDoubleReprot=!1,o.sHasAppInfoInited){var i=e?e.name:"";i===o.sFrstSceneName?c.default.onEnterHome():!t.noDoubleReprotSecond&&i&&(t.noDoubleReprotSecond=!0,c.default.onEnterSecond())}else t.reportWaitForInit=!0},this)):this.node.active=!1},e.prototype.onEnable=function(){!o.sHasInited&&this.needRetryInit&&this.init()},e.prototype.init=function(){var t=this;Promise.all([this.initAppConfig(),l.default.initChannel(),a.default.getInstance().init()]).then(function(){o.sHasInited=!0,t.needRetryInit=!1}).catch(function(){++t.retryTime<=3&&(t.needRetryInit=!0)})},e.prototype.initAppConfig=function(){var t=this;return new Promise(function(e,i){o.sHasAppInfoInited?e():r.default.getAppInfo().then(function(i){s.default.packageName=i.packageName,s.default.appName=i.appName,s.default.programId=i.programId,s.default.versionCode=i.versionCode,s.default.versionName=i.versionName,s.default.age=i.ageGroup,s.default.isVipProgram=i.isVipProgram,s.default.isSupportHostPurchasePage=i.isSupportHostPurchasePage,o.sHasAppInfoInited=!0,c.default.setAppInfoInited(),!0===t.reportWaitForInit&&cc.director.getScene().name===o.sFrstSceneName&&c.default.onEnterHome(),e()}).catch(function(){console.warn("getAppInfo\u8c03\u7528\u5931\u8d25\uff0c\u5c06\u4f7f\u7528\u672c\u5730\u914d\u7f6e "+s.default),i()})})},Object.defineProperty(e,"hasInited",{get:function(){return o.sHasInited},enumerable:!0,configurable:!0}),Object.defineProperty(e,"hasAppInfoInited",{get:function(){return o.sHasAppInfoInited},enumerable:!0,configurable:!0}),Object.defineProperty(e,"firstSceneName",{get:function(){return o.sFrstSceneName},enumerable:!0,configurable:!0}),e.sInstance=null,n([p({readonly:!0,type:cc.Prefab,tooltip:"\u4e3a\u4e86\u65b9\u4fbf\u6846\u67b6\u66f4\u65b0\uff0cBBMain\u505a\u6210\u9884\u5236\u6302\u8f7d\u81ea\u8eab\u7ec4\u4ef6\u4e0b"})],e.prototype,"BBMainPrefab",void 0),n([p(h)],e.prototype,"globalConfig",void 0),e=o=n([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./BBChannel":"BBChannel","./BusinessServiceExtension":"BusinessServiceExtension","./Config/BBAppConfig":"BBAppConfig","./EventReport/EventReporter":"EventReporter","./Utils/BBGameAdUtil":"BBGameAdUtil"}],BBScene:[function(t,e,o){"use strict";cc._RF.push(e,"59726QnB8hCA6/spSEo4p6e","BBScene");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/AnalyticsManager"),r=t("../manager/AudioManager"),s=t("../manager/ShareManager"),c=t("../constants/BusinessGlobal"),l=t("../constants/PublicAnalyticsKey"),u=t("../../core/util/DeviceUtil"),d=t("../../core/util/PlatformUtil"),p=t("../../core/util/ArrayUtil"),h=t("../../core/util/AppUtil"),f=t("../manager/GuideManager"),g=t("../manager/PluginManager"),_=t("../manager/InterstitialManager"),y=t("../manager/MediaManager"),m=t("../manager/BannerManager"),v=t("../manager/LoginManager"),b=t("../manager/LoadManager"),S=t("../manager/JudgeManager"),w=t("../../core/util/StoreUtil"),A=t("../../core/util/LogUtil"),C=t("../manager/SwitchManager"),G=t("../constants/GuideId"),T=t("../constants/PublicEventName"),P=t("../manager/DialogManager"),M=t("../manager/MoreRecommendManager"),I=t("../manager/CustomAdManager"),N=t("../../debug/plugins/codeLock/LibDebug"),B=t("../manager/BoxAdManager"),R=t("../manager/PBManager"),E=t("../manager/AutoShowInterstitialManager"),O=t("../../../Config/FrameworkConfig"),D=t("../manager/PrivacyManager"),x=t("../../core/util/DateUtil"),k="BBScene",U=cc.Enum({NULL:0,TOP:1,"TOP-LEFT":5,"TOP-RIGHT":9,LEFT:4,RIGHT:8,BOTTOM:2,"BOTTOM-LEFT":6,"BOTTOM-RIGHT":10}),F=cc.Enum({NULL:0,LEFT:1,RIGHT:2}),L=cc.Enum({WELCOME:0,SELECT:1,NORMAL:2,LOADING:3,ANIMATION:4,SDKSCENE:5}),j=cc.Enum({JumpSign:0,MustSign:1,NotMustSign:2}),z=cc.Enum({LEFT:0,RIGHT:1}),q=cc._decorator,H=q.ccclass,V=q.property,W=function(){function t(){}return t.SCENE_EXIT="BBSCENE_EXIT",t.SCENE_BACK="BBSCENE_BACK",t}();o.BBSceneEventName=W;var Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thisSceneDialogShowCount=0,e.tempTouchId=null,e.endCb=null,e.whichScript=null,e.framePlayBtn=null,e.endSign=!0,e.isExit=!1,e.curSceneName="",e.mShowAdAction=null,e.afterGetGameParamsCallBack=null,e.afterGetGameParamsFailCallBack=null,e.hasDialogEnd=!1,e.satisfyQiqiDelayTime=!1,e.lastTime=-1,e.sceneType=L.NORMAL,e.signType=j.JumpSign,e.showMoreGame=!1,e.vRecommendMore=cc.v2(-400,-200),e.locRecommendMore=U.NULL,e.recommendMoreStyle=F.NULL,e.showBanner=!1,e.showRightSideBar=!1,e.vRecord=cc.v2(600,500),e.showIcon=!0,e.drawerOppoParamsY=0,e.moreRecommendY=-200,e.drawerState=z.RIGHT,e.keepSdkParent=!0,e}return i(e,t),e.prototype.setArriveDemandCallBack=function(t,e,o){this.setSignParams(t,e,o)},e.prototype.setGetGameParamsCallBack=function(t,e){this.afterGetGameParamsCallBack=t.bind(e)},e.prototype.setGetGameParamsFailCallBack=function(t,e){this.afterGetGameParamsFailCallBack=t.bind(e)},e.prototype.judgeSignParams=function(){this.isWelcome()&&(v.loginManager.ifMustSign=this.signType===j.MustSign,v.loginManager.ifJumpSign=this.signType===j.JumpSign)},e.prototype.noTouchShowInterstitial=function(){this.isWelcome()||this.isLoading()||this.isAnimation()||this.isSdkScene()||E.autoShowInterstitialmanager.open()},e.prototype.offTouchShowInterstitial=function(){this.isWelcome()||this.isLoading()||this.isAnimation()||this.isSdkScene()||E.autoShowInterstitialmanager.close()},e.prototype.stopShowAdAction=function(){this.mShowAdAction&&clearTimeout(this.mShowAdAction)},e.prototype.removeMoveCanvasInfluence=function(){var t=cc.find("Canvas"),e=cc.find("sdkComponentParent");t&&e&&(e.position=cc.v2(t.x,t.y),e.setContentSize(cc.find("Canvas").getContentSize()))},e.prototype.getGameParams=function(){var t=this;S.judgeManager.getGameParams().then(function(){t.afterGetGameParamsCallBack&&(1===t.afterGetGameParamsCallBack.length?t.afterGetGameParamsCallBack(c.BusinessGlobal.gameParams):2===t.afterGetGameParamsCallBack.length?t.afterGetGameParamsCallBack(c.BusinessGlobal.gameParams,c.BusinessGlobal.globalParams):t.afterGetGameParamsCallBack()),t.getGuideData()}).catch(function(){t.afterGetGameParamsFailCallBack&&t.afterGetGameParamsFailCallBack(),t.getGuideData()})},e.prototype.onMaskShow=function(){},e.prototype.onMaskHide=function(){},e.prototype.onLoad=function(){console.log("\u5f53\u524d\u6a21\u62df\u5e73\u53f0\u53c2\u6570\u662f",c.BusinessGlobal.simulatePlatform),this.judgeSignParams(),this.showCreateDeskIcon(),this.preBigCocosVesionAdapterScene(),this.addAntiAddiction(),this.showShareMenu(),c.BusinessGlobal.sceneRootNode=this.node,this.node.on(W.SCENE_EXIT,this.sceneExit,this),cc.director.on(W.SCENE_EXIT,this.sceneExit,this),this.adapterScene(),this.setSceneName(),this.recordSceneEnter(),this.createSdkParent(),this.noTouchShowInterstitial(),this.initListener2(),this.requestDataAndLoadMedia(),this.voluntarilyShowInterstitial(),this.initData(),this.initView(),this.initListener(),this.setDebugCompontent(),this.createPrivacyView(),this.delayLoadQiqi(),window.isSetLowFPS||setTimeout(function(){u.deviceUtil.setIsLowFPS(),window.isSetLowFPS=1},1e3)},e.prototype.onDestroy=function(){c.BusinessGlobal.sceneRootNode=null,_.interstitialManager.hideRecommendMore(),m.bannerManager.hide(),I.customAdManager.destoryTopAd(),B.boxAdManager.destroyBoxPortalAd(),r.audioManager.stopLine(),v.loginManager.destroyUserInfoButton(),this.offListener(),this.isExit?this.recordSceneExit():this.recordSceneComplete(),this.offTouchShowInterstitial(),c.BusinessGlobal.sdkComponentParent=null},e.prototype.lateUpdate=function(){this.keepSdkParent&&this.removeMoveCanvasInfluence()},e.prototype.delayLoadQiqi=function(){var t=this;this.scheduleOnce(function(){t.satisfyQiqiDelayTime=!0,t.createQiqi()},this.getQiqiDelayTime())},e.prototype.setDebugCompontent=function(){var t=w.default.get(N.default.debugStroyString,"0");this.setCodeLock(),"1"===t&&(this.setLtdBtn(),this.setDebugWindow(),this.setI18nBtn())},e.prototype.setI18nBtn=function(){O.default.hasI18n&&this.sceneType===L.WELCOME&&cc.loader.loadRes("lib/DeBug/showI18nToast/showI18nToast",cc.Prefab,function(t,e){t?A.default.errorLog("\u52a0\u8f7di18n\u6309\u94ae\u5931\u8d25!",t):cc.instantiate(e).parent=c.BusinessGlobal.sdkComponentParent})},e.prototype.setLtdBtn=function(){d.default.isWechatGame()&&(cc.find("ltdChoose")||cc.loader.loadRes("lib/DeBug/ltdChoose/prefab/ltdChoose",cc.Prefab,function(t,e){t?A.default.errorLog("\u52a0\u8f7dltd\u6309\u94ae\u5931\u8d25!",t):cc.instantiate(e).parent=cc.find("Canvas").parent}))},e.prototype.setDebugWindow=function(){this.isWelcome()&&(c.BusinessGlobal.debugComponent||cc.loader.loadRes("lib/DeBug/debugWindow/prefab/debugWindow",cc.Prefab,function(t,e){t?A.default.errorLog("\u52a0\u8f7ddebug\u5f39\u7a97\u6309\u94ae\u5931\u8d25!",t):cc.instantiate(e).parent=cc.find("Canvas").parent}))},e.prototype.setCodeLock=function(){this.sceneType===L.WELCOME&&cc.loader.loadRes("lib/DeBug/codeLock/prefab/codeLock",cc.Prefab,function(t,e){if(t)A.default.errorLog("\u52a0\u8f7d\u5bc6\u7801\u9501\u5931\u8d25!",t);else{var o=cc.instantiate(e);o.parent=cc.find("Canvas").parent,o.zIndex=999,o.position=cc.v2(.5*cc.winSize.width,.5*cc.winSize.height)}})},e.prototype.onWelcomeDialogEnd=function(){this.hasDialogEnd=!0,this.createQiqi(),this.createSignLogic()},e.prototype.canClick=function(){var t=x.default.getTimeStamp();return!(t-this.lastTime<2e3)&&(this.lastTime=t,!0)},e.prototype.showPrivacyDialog=function(){g.pluginManager.loadPrivacyDialog(this.node.parent)},e.prototype.createPrivacyView=function(){var t=this;if(this.isWelcome()&&(d.default.isVivo()||d.default.isOppo()||d.default.isOppoSimulatePlatform()||d.default.isVivoSimulatePlatform())){D.privacyManager.hasAgree()||this.showPrivacyDialog();var e=new cc.Node;e.width=128,e.height=50;var o=e.addComponent(cc.RichText);this.node.parent.addChild(e),e.position=cc.v2(80,u.deviceUtil.getScreneHeight()-40),e.scale=.5,o.lineHeight=60,e.zIndex=9e3,o.string="<outline color=ffffff width=2><color=#4c484c >\u9690\u79c1\u653f\u7b56</color></outline>",o.fontSize=40,e.on(cc.Node.EventType.TOUCH_END,function(){t.canClick()&&t.showPrivacyDialog()})}},e.prototype.setSceneName=function(){c.BusinessGlobal.lastTwoSceneName=c.BusinessGlobal.lastSceneName,c.BusinessGlobal.lastSceneName=c.BusinessGlobal.curSceneName,c.BusinessGlobal.curSceneName=this.getSceneName()},e.prototype.createShare=function(){g.pluginManager.loadShare(this.node,!0)},e.prototype.showWxInterstitial=function(){if(S.judgeManager.getLtdStage()===S.LtdStage.MID)c.BusinessGlobal.back2SelectTimes!==c.BusinessGlobal.back2SelectShowTimes&&c.BusinessGlobal.back2SelectTimes%2==0&&(c.BusinessGlobal.back2SelectShowTimes=c.BusinessGlobal.back2SelectTimes,c.BusinessGlobal.voluntarilyShowInterstitialTimes++,1===c.BusinessGlobal.voluntarilyShowInterstitialTimes||3===c.BusinessGlobal.voluntarilyShowInterstitialTimes?E.autoShowInterstitialmanager.showInterstitial():2===c.BusinessGlobal.voluntarilyShowInterstitialTimes&&E.autoShowInterstitialmanager.showCustomInterstitial());else if(S.judgeManager.getLtdStage()===S.LtdStage.LATE){if(c.BusinessGlobal.firstEnterSelect)return c.BusinessGlobal.firstEnterSelect=!1,void E.autoShowInterstitialmanager.showCustomInterstitial();c.BusinessGlobal.back2SelectTimes!==c.BusinessGlobal.back2SelectShowTimes&&c.BusinessGlobal.back2SelectTimes%2==0&&(c.BusinessGlobal.back2SelectShowTimes=c.BusinessGlobal.back2SelectTimes,c.BusinessGlobal.voluntarilyShowInterstitialTimes++,1===c.BusinessGlobal.voluntarilyShowInterstitialTimes||3===c.BusinessGlobal.voluntarilyShowInterstitialTimes?E.autoShowInterstitialmanager.showCustomInterstitial():2===c.BusinessGlobal.voluntarilyShowInterstitialTimes&&E.autoShowInterstitialmanager.showInterstitial())}},e.prototype.showTouTiaoInterstitial=function(){c.BusinessGlobal.back2SelectTimes!==c.BusinessGlobal.back2SelectShowTimes&&c.BusinessGlobal.back2SelectTimes%2==0&&(c.BusinessGlobal.back2SelectShowTimes=c.BusinessGlobal.back2SelectTimes,c.BusinessGlobal.voluntarilyShowInterstitialTimes++,E.autoShowInterstitialmanager.showInterstitial())},e.prototype.showBaiduInterstitial=function(){if((c.BusinessGlobal.back2SelectTimes!==c.BusinessGlobal.back2SelectShowTimes&&c.BusinessGlobal.back2SelectTimes%2==0||0===c.BusinessGlobal.back2SelectTimes)&&P.dialogManager.selectShowInterstitialDialogTimes<3){if(f.guideManager.isFirstShow(G.default.MORE))return void A.default.necessaryLog("\u7ba1\u7406\u8005 - \u7b2c\u4e00\u6b21\u4e0d\u5c55\u793a\u767e\u5ea6\u66f4\u591a\u597d\u73a9");c.BusinessGlobal.back2SelectShowTimes=c.BusinessGlobal.back2SelectTimes,P.dialogManager.selectShowInterstitialDialogTimes+=1,E.autoShowInterstitialmanager.showCustomInterstitial()}else A.default.necessaryLog("\u573a\u666f - \u5c55\u793a\u767e\u5ea6\u63d2\u5c4f\u6761\u4ef6\n\u8fd4\u56de\u4e00\u7ea7\u573a\u666f\u6b21\u6570:"+c.BusinessGlobal.back2SelectTimes+"\n                \n\u4e0a\u4e00\u6b21\u8bb0\u5f55\u7684\u6b21\u6570:"+c.BusinessGlobal.back2SelectShowTimes+"\n                \n\u767e\u5ea6\u5c55\u793a\u66f4\u591a\u597d\u73a9\u6b21\u6570"+P.dialogManager.selectShowInterstitialDialogTimes)},e.prototype.showOvInterstitial=function(){c.BusinessGlobal.back2SelectTimes!==c.BusinessGlobal.back2SelectShowTimes&&c.BusinessGlobal.back2SelectTimes%2==0&&(c.BusinessGlobal.back2SelectShowTimes=c.BusinessGlobal.back2SelectTimes,E.autoShowInterstitialmanager.showInterstitial())},e.prototype.voluntarilyShowInterstitial=function(){this.isSelect()&&S.judgeManager.getInterstitialReturnSwitch()&&(c.BusinessGlobal.back2SelectRealTimes=c.BusinessGlobal.back2SelectTimes,d.default.isWechatGame()||d.default.isWxSimulatePlatform()?this.showWxInterstitial():d.default.isTouTiao()?this.showTouTiaoInterstitial():d.default.isVivo()||d.default.isOppo()?this.showOvInterstitial():(d.default.isBaiduGame()||d.default.isBaiduSimulatePlatform())&&this.showBaiduInterstitial())},e.prototype.showCreateDeskIcon=function(){this.isSelect()&&(c.BusinessGlobal.selectEnterTimes+=1,c.BusinessGlobal.selectEnterTimes%2!=0||d.default.isOppo()||y.mediaManager.showAddToDesk(function(){}))},e.prototype.preBigCocosVesionAdapterScene=function(){if("2.3.4"===cc.ENGINE_VERSION){var t=cc.winSize;if(t.width>960){var e=t.height/540,o=t.width/e;cc.find("Canvas").setContentSize(o,540),cc.find("Canvas").setPosition(.5*o,270)}else{var i=540/(e=t.width/960);cc.find("Canvas").setContentSize(960,i),cc.find("Canvas").setPosition(480,.5*i)}}},e.prototype.createSdkParent=function(){var t=cc.find("sdkComponentParent"),e=this.ifHaveSdkCamera();if(t)e&&(t.group="sdkCamera");else{var o=new cc.Node("sdkComponentParent");c.BusinessGlobal.sdkComponentParent=o,o.parent=cc.find("Canvas").parent,o.zIndex=9900,o.position=cc.find("Canvas").position,o.setContentSize(cc.find("Canvas").getContentSize()),e&&(o.group="sdkCamera")}},e.prototype.ifHaveSdkCamera=function(){return null!=cc.find("Canvas/sdkCamera")},e.prototype.requestDataAndLoadMedia=function(){if(C.switchManager.isAdVersion()){var t=this;!S.judgeManager.welcomeRequestComplete&&this.isWelcome()?(b.loadManager.showLoadingWithMask(),R.pbManager.getGlobalConfig().then(function(){t.getGameParams()}).catch(function(){t.getGameParams()})):t.createMedia()}else this.onWelcomeDialogEnd()},e.prototype.getGuideData=function(){var t=this;f.guideManager.requestData().then(function(){b.loadManager.hideLoading(),t.createMedia()}).catch(function(){b.loadManager.hideLoading(),t.createMedia()})},e.prototype.createMedia=function(){S.judgeManager.welcomeRequestComplete=!0,A.default.gameLog("ltd\u9636\u6bb5\u662f",S.judgeManager.getLtdStageName()),A.default.fLog(k,"beginLoadMedia"),this.isSdkScene()||(this.createBanner(),this.createMoreGame(),this.createRightSideBar(),this.createRecommendMoreDialog(),this.isWelcome()&&(b.loadManager.hideLoading(),this.createWelcomeMedia()),this.loadGameSide())},e.prototype.createAddToDeskTip=function(){y.mediaManager.showAddToDeskTip()},e.prototype.loadGameSide=function(){this.showIcon&&(console.log("loadGameSide 222"),this.isNormal()&&(d.default.isBaiduGame()||d.default.isBaiduSimulatePlatform())?this.loadDrawer():(d.default.isWechatGame()||d.default.isWxSimulatePlatform())&&(S.judgeManager.getLtdStage()!==S.LtdStage.EARLY?this.isSelect()||this.isWelcome()||this.isLoading()||this.isAnimation()||(c.BusinessGlobal.gameSideTimes++,this.loadDrawer()):A.default.fLog(k,"\u524d\u671f\u4e0d\u5c55\u793a\u4fa7\u8fb9\u63a8\u8350")))},e.prototype.loadDrawer=function(){return A.default.fLog(k,"loadDrawer"),!!S.judgeManager.satisfyLoadDrawerDemand()&&(g.pluginManager.loadDrawer(function(t){t?c.BusinessGlobal.drawerV1CanShow=!0:A.default.errorLog("oppo\u62bd\u5c49\u52a0\u8f7d\u5931\u8d25","\u4e0d\u5b58\u5728\u8282\u70b9")},1,this.drawerState,this.drawerOppoParamsY),!0)},e.prototype.loadMoreRecommend=function(){if(A.default.fLog(k,"loadMoreRecommend"),!C.switchManager.isNativeOpen())return A.default.fLog(k,"loadMoreRecommend fail:switch false"),!1;if(!I.customAdManager.canUse())return A.default.fLog(k,"loadMoreRecommend fail:can not use"),!1;var t=.5*(u.deviceUtil.getScreneWidth()-130);return t=this.drawerState===z.LEFT?-t:t,g.pluginManager.loadMoreRecommend(this.node,cc.v2(t,this.moreRecommendY)),!0},e.prototype.createRecordBtn=function(){S.judgeManager.satisfyRecordBtnDemand()&&(console.log("loadRecordBtn",this.vRecord.x,this.vRecord.y,c.BusinessGlobal.curSceneName),g.pluginManager.loadRecordBtn(this.node.parent,this.vRecord,!0),c.BusinessGlobal.hasAddRecord=!0)},e.prototype.createLeftMedia=function(){var t=this;f.guideManager.getData(G.default.LEFT_BOTTOM).then(function(e){g.pluginManager.loadLeftMedia(t.node)}).catch(function(){})},e.prototype.addAntiAddiction=function(){if(d.default.isBaiduGame()&&swan.getAntiAddiction)try{var t=swan.getAntiAddiction();a.analyticsManager.recordEvent(l.default.ANTI_ADDICTION,"\u6ce8\u518c\u4e8b\u4ef6","\u6ce8\u518c\u4e8b\u4ef6"),t.onAntiAddiction(function(t){var e=t.state,o=t.msg;try{a.analyticsManager.recordEvent(l.default.ANTI_ADDICTION,"\u54cd\u5e94\u4e8b\u4ef6",e+" = "+o),c.BusinessGlobal.antiAddictionState=e,cc.director.loadScene("Rest")}catch(t){a.analyticsManager.recordEvent(l.default.ANTI_ADDICTION,"\u54cd\u5e94\u4e8b\u4ef6","\u54cd\u5e94\u5f02\u5e38")}})}catch(t){console.log(t)}},e.prototype.getRecommendMorePos=function(){var t=this.vRecommendMore.x,e=this.vRecommendMore.y;return 1&this.locRecommendMore&&(e+=.5*u.deviceUtil.getExtraHeight()),2&this.locRecommendMore&&(e-=.5*u.deviceUtil.getExtraHeight()),4&this.locRecommendMore&&(t-=.5*u.deviceUtil.getExtraWidth()),8&this.locRecommendMore&&(t+=.5*u.deviceUtil.getExtraWidth()),cc.v2(t,e)},e.prototype.canShowRecommendMore=function(){return f.guideManager.hasEffectData(G.default.MORE)},e.prototype.createRecommendMoreButton=function(){c.BusinessGlobal.recommendMoreIsShow=!0,g.pluginManager.loadMoreGame(this.node,this.getRecommendMorePos(),this.recommendMoreStyle,!0)},e.prototype.createRecommendMoreDialog=function(){var t=this;d.default.isTouTiao()||d.default.isTouTiaoSimulatePlatform()||C.switchManager.isLocalPureVer()||u.deviceUtil.isHostBabybus()||u.deviceUtil.isChannelTale()||c.BusinessGlobal.hasAddCustomInterstitial||(c.BusinessGlobal.hasAddCustomInterstitial=!0,f.guideManager.getData(G.default.MORE).then(function(e){p.default.isNotNull(e)&&g.pluginManager.loadInterstitialDialog(t.node.parent,!0)}).catch(function(){}))},e.prototype.createQiqi=function(){C.switchManager.isAdVersion()&&this.hasDialogEnd&&this.satisfyQiqiDelayTime&&this.isWelcome()&&g.pluginManager.loadQiqi(this.node)},e.prototype.createOppoMoreRecommend=function(){(d.default.isOppo()||d.default.isOppoSimulatePlatform())&&(C.switchManager.isSudokuOpen()&&M.moreRecommendManager.canPortalUse()?g.pluginManager.loadMoreRecommend(this.node,this.getRecommendMorePos()):C.switchManager.isSudokuOpen()?void 0===qg.createGamePortalAd||null===qg.createGamePortalAd?a.analyticsManager.recordEvent(l.default.RECOMMEND_BTN_SHOW,"\u65e0\u5bf9\u5e94api\uff1a"+qg.getSystemInfoSync().platformVersionCode):a.analyticsManager.recordEvent(l.default.RECOMMEND_BTN_SHOW,"\u5176\u4ed6"):a.analyticsManager.recordEvent(l.default.RECOMMEND_BTN_SHOW,"\u5f00\u5173\u5173\u95ed"))},e.prototype.createVivoMoreGame=function(){if(B.boxAdManager.canBoxPortalAdUse())if(this.isWelcome()||this.isLoading()||this.isAnimation()||this.isSdkScene())console.log("vivo\u4e5d\u5bab\u683c \u4e0d\u52a0\u8f7d: \u975e\u6307\u5b9a\u573a\u666f\u7c7b\u578b");else if(this.isSelect()||this.showIcon){var t=this.drawerOppoParamsY,e=.5*u.deviceUtil.getScreneHeight()-t-50,o=u.deviceUtil.cocos2Unit(e);B.boxAdManager.createBoxPortalAd(o)}else console.log("vivo\u4e5d\u5bab\u683c \u4e0d\u52a0\u8f7d: \u975e\u4e00\u7ea7\u573a\u666f\u672a\u52fe\u9009\u5c55\u793a")},e.prototype.createMoreGame=function(){if(d.default.isVivo())this.createVivoMoreGame();else if(this.isWelcome())d.default.isTouTiao()||d.default.isTouTiaoSimulatePlatform()?(c.BusinessGlobal.recommendMoreIsShow=!0,this.vRecommendMore=cc.v2(-400,-200),this.locRecommendMore=U.BOTTOM,this.recommendMoreStyle=F.NULL,_.interstitialManager.showRecommendMore(),this.createRecommendMoreButton()):(d.default.isOppo()||d.default.isOppoSimulatePlatform())&&(c.BusinessGlobal.recommendMoreIsShow=!0,this.vRecommendMore=cc.v2(-400,-200),this.locRecommendMore=U.BOTTOM,this.recommendMoreStyle=F.NULL,this.createOppoMoreRecommend());else if(this.showMoreGame){if(d.default.isTouTiao()){if(!h.default.canUseTouTiaoMoreGame())return}else if(!this.canShowRecommendMore())return;this.isSelect()&&!d.default.isOppoSimulatePlatform()&&this.createRecommendMoreButton()}},e.prototype.createWxBanner=function(){var t=this;this.isSelect()?g.pluginManager.loadGameIcons(this.node).catch(function(){I.customAdManager.hideTopAd();var e=c.BusinessGlobal.curSceneName;I.customAdManager.createTopAd().catch(function(){c.BusinessGlobal.lastSceneName&&c.BusinessGlobal.curSceneName!==e||g.pluginManager.loadGamePageRecommend(t.node)})}):S.judgeManager.getLtdStage()===S.LtdStage.LATE?g.pluginManager.loadGamePageRecommend(this.node):g.pluginManager.loadGameIcons(this.node).catch(function(){I.customAdManager.hideTopAd(),I.customAdManager.createTopAd().catch(function(){g.pluginManager.loadCustomBanner(t.node)})})},e.prototype.createBanner=function(){this.showBanner&&(C.switchManager.isAdVersion()?this.isWelcome()||this.isLoading()||this.isAnimation()||(d.default.isWechatGame()||d.default.isWxSimulatePlatform()?this.createWxBanner():d.default.isBaiduGame()||d.default.isBaiduSimulatePlatform()?this.isSelect()?g.pluginManager.loadGamePageRecommend(this.node):g.pluginManager.loadCustomBanner(this.node):(d.default.isOppo()||d.default.isOppoSimulatePlatform()||d.default.isVivo()||d.default.isVivoSimulatePlatform(),g.pluginManager.loadCustomBanner(this.node))):A.default.fLog(k,"\u7eaf\u6d01\u7248\u4e0d\u521b\u5efa\u9876\u90e8banner"))},e.prototype.createRightSideBar=function(){this.showRightSideBar&&this.isRightSideBarCanShow()&&g.pluginManager.loadRightSideBar(this.node,!0)},e.prototype.isRightSideBarCanShow=function(){var t=f.guideManager.getDataDirect(G.default.RIGHT_SIDEBAR);return t&&t.length>0},e.prototype.adapterScene=function(){var t=cc.find("Canvas"),e=t?t.getComponent(cc.Canvas):void 0;if(e){var o=e.designResolution,i=cc.view.getFrameSize();i.height/i.width-o.height/o.width>.01?(e.fitWidth=!0,e.fitHeight=!1,console.debug("\u6bd4\u8bbe\u8ba1\u66f4\u9ad8\uff0c\u6309\u5bbd\u9002\u914d")):(e.fitWidth=!1,e.fitHeight=!0,console.debug("\u6309\u9ad8\u9002\u914d"))}else console.error("\u672a\u627e\u5230Canvas\u8282\u70b9\u6216\u7ec4\u4ef6",t,e)},e.prototype.showShareMenu=function(){var t=this.getShareChannel();t&&s.shareManager.updateShareMenu(t,"\u53f3\u4e0a\u89d2")},e.prototype.recordSceneEnter=function(){a.analyticsManager.recordEvent(l.default.GAME_MODULAR,"\u8fdb\u5165",this.getChineseSceneName()),a.analyticsManager.startEvent(l.default.SCENCE_COMPLETE,this.getChineseSceneName()),a.analyticsManager.startEvent(l.default.SCENCE_EXIT,this.getChineseSceneName())},e.prototype.recordSceneExit=function(){a.analyticsManager.recordEvent(l.default.GAME_MODULAR,"\u9000\u51fa",this.getChineseSceneName()),a.analyticsManager.endEvent(l.default.SCENCE_EXIT)},e.prototype.recordSceneComplete=function(){a.analyticsManager.recordEvent(l.default.GAME_MODULAR,"\u5b8c\u6210",this.getChineseSceneName()),a.analyticsManager.endEvent(l.default.SCENCE_COMPLETE)},e.prototype.getQiqiDelayTime=function(){return 0},e.prototype.isSdkScene=function(){return this.sceneType===L.SDKSCENE},e.prototype.isSelect=function(){return this.sceneType===L.SELECT},e.prototype.isLoading=function(){return this.sceneType===L.LOADING},e.prototype.isNormal=function(){return this.sceneType===L.NORMAL},e.prototype.isAnimation=function(){return this.sceneType===L.ANIMATION},e.prototype.isWelcome=function(){return this.sceneType===L.WELCOME},e.prototype.createWelcomeMedia=function(){P.dialogManager.createWelcomeDialog(),this.createLeftMedia(),this.createToast(),this.createRecordBtn(),this.createAddToDeskTip()},e.prototype.createToast=function(){c.BusinessGlobal.webToastAdd||(c.BusinessGlobal.webToastAdd=!0,g.pluginManager.loadToast(this.node.parent,!0))},e.prototype.sceneExit=function(){this.isExit=!0},e.prototype.getShareChannel=function(){return""},e.prototype.initData=function(){},e.prototype.initView=function(){},e.prototype.initListener=function(){},e.prototype.offListener=function(){cc.systemEvent.off(T.default.SDK_DIALOG_SHOW),cc.systemEvent.off(T.default.SDK_DIALOG_HIDE),cc.systemEvent.off(T.default.STOP_INTERSTITIAL),cc.systemEvent.off(T.default.OPEN_INTERSTITIAL),this.isWelcome()&&(cc.systemEvent.off(T.default.WELCOME_DIALOG_ALL_CLOSE),cc.systemEvent.off(T.default.SET_SIGN_PARAMS))},e.prototype.initListener2=function(){var t=this;cc.systemEvent.on(T.default.SDK_DIALOG_SHOW,function(){t&&t.node&&(t.thisSceneDialogShowCount+=1,1===t.thisSceneDialogShowCount&&t.onMaskShow.bind(t)())}),cc.systemEvent.on(T.default.SDK_DIALOG_HIDE,function(){t&&t.node&&(t.thisSceneDialogShowCount-=1,0===t.thisSceneDialogShowCount&&t.onMaskHide.bind(t)())}),cc.systemEvent.on(T.default.STOP_INTERSTITIAL,function(){t.offTouchShowInterstitial.bind(t)()}),cc.systemEvent.on(T.default.OPEN_INTERSTITIAL,function(){t.noTouchShowInterstitial.bind(t)()}),this.isWelcome()&&(cc.systemEvent.on(T.default.WELCOME_DIALOG_ALL_CLOSE,function(){t.onWelcomeDialogEnd()}),cc.systemEvent.on(T.default.SET_SIGN_PARAMS,function(e,o,i){t.setSignParams(e,o,i)}))},e.prototype.setSignParams=function(t,e,o){var i=this;this.endCb=t,this.whichScript=e,this.framePlayBtn=o,this.endSign||(A.default.gameLog("\u5173\u7684\u6bd4\u6211\u5feb,\u6211\u76f4\u63a5\u6267\u884c\u5269\u4e0b\u7684\u56de\u8c03."),v.loginManager.createPlatformButton(o).then(function(t){A.default.gameLog("\u6211\u6267\u884c\u4e86\u56de\u8c03,\u72b6\u6001:\u521b\u5efa\u6388\u6743\u6309\u94ae\u6210\u529f\u56de\u8c03",t),i.endCb.bind(i.whichScript)(t)}).catch(function(t){A.default.gameLog("\u6211\u6267\u884c\u4e86\u56de\u8c03,\u72b6\u6001:\u521b\u5efa\u6388\u6743\u6309\u94ae\u5931\u8d25\u56de\u8c03",t),i.endCb.bind(i.whichScript)(t)}))},e.prototype.createSignLogic=function(){var t=this;this.endSign=!1,b.loadManager.hideLoading(),this.framePlayBtn&&v.loginManager.createPlatformButton(this.framePlayBtn).then(function(e){t.endCb&&t.endCb.bind(t.whichScript)(e)}).catch(function(e){t.endCb&&t.endCb.bind(t.whichScript)(e)})},e.prototype.getSceneName=function(){return this.curSceneName?this.curSceneName:(cc.director.getScene()?this.curSceneName=cc.director.getScene().name:this.curSceneName=this.node.parent.name,this.curSceneName)},e.prototype.getChineseSceneName=function(){return c.BusinessGlobal.sceneDic[this.getSceneName()]},n([V({tooltip:"\u573a\u666f\u7c7b\u578b",type:L})],e.prototype,"sceneType",void 0),n([V({tooltip:"\u662f\u5426\u662f\u5fc5\u987b\u6388\u6743\u7684\u5fae\u4fe1\u9879\u76ee",type:j,visible:function(){return this.sceneType===L.WELCOME}})],e.prototype,"signType",void 0),n([V({tooltip:"\u662f\u5426\u5c55\u793a \u66f4\u591a\u597d\u73a9\uff08\u81ea\u5b9a\u4e49\u63d2\u5c4f\uff09"})],e.prototype,"showMoreGame",void 0),n([V({tooltip:"",visible:function(){return this.showMoreGame}})],e.prototype,"vRecommendMore",void 0),n([V({tooltip:"",type:U,visible:function(){return this.showMoreGame}})],e.prototype,"locRecommendMore",void 0),n([V({tooltip:"",type:F,visible:function(){return this.showMoreGame}})],e.prototype,"recommendMoreStyle",void 0),n([V({tooltip:"\u662f\u5426\u5c55\u793a\u9876\u90e8banner"})],e.prototype,"showBanner",void 0),n([V({tooltip:"\u662f\u5426\u5c55\u793a\u53f3\u4fa7\u8fb9\u680f"})],e.prototype,"showRightSideBar",void 0),n([V({tooltip:"\u5f55\u5c4f\u6309\u94ae\u521d\u59cb\u4f4d\u7f6e",visible:function(){return this.sceneType===L.WELCOME}})],e.prototype,"vRecord",void 0),n([V(cc.Boolean)],e.prototype,"showIcon",void 0),n([V({tooltip:"\u62bd\u5c49\u53c2\u65701",visible:function(){return this.showIcon}})],e.prototype,"drawerOppoParamsY",void 0),n([V({tooltip:"\u62bd\u5c49\u53c2\u65701",visible:function(){return this.showIcon}})],e.prototype,"moreRecommendY",void 0),n([V({tooltip:"\u62bd\u5c49\u53c2\u65702",type:z,visible:function(){return this.showIcon}})],e.prototype,"drawerState",void 0),n([V(cc.Boolean)],e.prototype,"keepSdkParent",void 0),e=n([H],e)}(cc.Component);o.default=Y,cc._RF.pop()},{"../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/AppUtil":"AppUtil","../../core/util/ArrayUtil":"ArrayUtil","../../core/util/DateUtil":"DateUtil","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../../debug/plugins/codeLock/LibDebug":"LibDebug","../constants/BusinessGlobal":"BusinessGlobal","../constants/GuideId":"GuideId","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicEventName":"PublicEventName","../manager/AnalyticsManager":"AnalyticsManager","../manager/AudioManager":"AudioManager","../manager/AutoShowInterstitialManager":"AutoShowInterstitialManager","../manager/BannerManager":"BannerManager","../manager/BoxAdManager":"BoxAdManager","../manager/CustomAdManager":"CustomAdManager","../manager/DialogManager":"DialogManager","../manager/GuideManager":"GuideManager","../manager/InterstitialManager":"InterstitialManager","../manager/JudgeManager":"JudgeManager","../manager/LoadManager":"LoadManager","../manager/LoginManager":"LoginManager","../manager/MediaManager":"MediaManager","../manager/MoreRecommendManager":"MoreRecommendManager","../manager/PBManager":"PBManager","../manager/PluginManager":"PluginManager","../manager/PrivacyManager":"PrivacyManager","../manager/ShareManager":"ShareManager","../manager/SwitchManager":"SwitchManager"}],BBVipDialogHelper:[function(t,e,o){"use strict";cc._RF.push(e,"37fb7jo8sJEw71Gh/Qbjgvz","BBVipDialogHelper");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../BBChannel"),r=t("../../BBMain"),s=t("../../Config/BBAppConfig"),c=t("../../EventReport/EventReporter"),l=t("./VipDialog"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialogPrefab=null,e.dialogInstance=null,e.isChecking=!1,e.isPurchasing=!1,e.errTimes=0,e}var o;return i(e,t),o=e,e.getInstance=function(){return o.sInstance},e.prototype.onLoad=function(){var t=this;null!==o.sInstance&&(BBFramework.exceptionReportService.reportExceptionMessage("\u91cd\u590d\u5b9e\u4f8b\u5316","VipDialogCreator"),o.sInstance.isValid&&o.sInstance.destroy()),o.sInstance=this,cc.game.on(cc.game.EVENT_SHOW,this.checkVipPurchaseResult,this),BBFramework.accountService.getLoginState().then(function(e){e.isVip&&cc.game.off(cc.game.EVENT_SHOW,t.checkVipPurchaseResult,t)}).catch(function(t){console.error("\u521d\u59cb\u83b7\u53d6\u767b\u5f55\u72b6\u6001\u5931\u8d25",t)}),"number"==typeof a.default.channel&&this.dialogInstance&&this.dialogInstance.updatePositionAndUI(a.default.channel)},e.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_SHOW,this.checkVipPurchaseResult,this),o.sInstance=null},e.prototype.checkVipPurchaseResult=function(){var t=this;console.debug("===== JM: checkVipPurchaseResult"),this.isChecking?console.debug("\u68c0\u6d4b\u7ed3\u679c\u672a\u8fd4\u56de\uff0c\u4e0d\u91cd\u590d\u89e6\u53d1"):(BBFramework.accountService.getLoginState().then(function(e){t.isChecking=!1,e.isVip&&(t.dialogInstance&&(t.dialogInstance.isValid&&t.dialogInstance.node.destroy(),t.dialogInstance=null),c.default.onVipPurchaseSuccess(),cc.game.off(cc.game.EVENT_SHOW,t.checkVipPurchaseResult,t))}).catch(function(e){t.isChecking=!1,console.error("\u68c0\u6d4bVIP\u8d2d\u4e70\u72b6\u6001\u5931\u8d25",e)}),this.isChecking=!0)},e.prototype.guideVipIfNeeded=function(){var t=this;if(c.default.onHomeClickPlay(),0===a.default.channel&&"0"!==s.default.programId)return console.debug("\u975e\u97f3\u7bb1\u5e73\u53f0\uff0c\u65e0\u9700\u5c55\u793aVIP\u5f39\u7a97"),!1;if(BBFramework.accountService.isVip&&BBFramework.accountService.isVip())return console.debug("VIP\u7528\u6237\uff0c\u65e0\u9700\u5c55\u793aVIP\u5f39\u7a97"),!1;if(!r.default.hasAppInfoInited)return console.error("\u8bbe\u5907\u5f02\u5e38\uff0c\u5f15\u5bfc\u8d2d\u4e70VIP\u65f6\uff0c\u5e94\u7528\u4fe1\u606f\u672a\u521d\u59cb\u5316"),BBFramework.exceptionReportService.reportExceptionMessage("\u8bbe\u5907\u5f02\u5e38","\u5f15\u5bfc\u8d2d\u4e70VIP\u65f6\uff0c\u5e94\u7528\u4fe1\u606f\u672a\u521d\u59cb\u5316"),!1;if(!s.default.isVipProgram)return console.debug("\u4e0d\u662fVIP\u5c0f\u7a0b\u5e8f\uff0c\u65e0\u9700\u5f15\u5bfc\u8d2d\u4e70"),!1;if(this.isPurchasing)return console.warn("\u6b63\u5728\u6253\u5f00\u5ba2\u6237\u7aefvip\u963b\u65ad\u5f39\u7a97"),!0;if(this.errTimes<2&&s.default.isSupportHostPurchasePage&&!this.isPurchasing)return this.isPurchasing=!0,BBFramework.paymentService.showHostPurchasePage({source:"VIP\u5c0f\u7a0b\u5e8f\u9996\u9875"}).then(function(){console.debug("\u5ba2\u6237\u7aefVIP\u8d2d\u4e70\u963b\u65ad\u5f39\u7a97\u8c03\u7528\u6210\u529f"),t.isPurchasing=!1}).catch(function(e){t.isPurchasing=!1,t.errTimes++,console.error("\u5ba2\u6237\u7aefVIP\u8d2d\u4e70\u963b\u65ad\u5f39\u7a97\u8c03\u7528\u5931\u8d25",e)}),!0;if(this.dialogInstance&&this.dialogInstance.isValid){if(this.dialogInstance.node.active)return!0}else{var e=cc.instantiate(this.dialogPrefab),o=cc.director.getScene();e.parent=o,e.zIndex=cc.macro.MAX_ZINDEX,this.dialogInstance=e.getComponent(l.default),"number"==typeof a.default.channel?this.dialogInstance.updatePositionAndUI(a.default.channel):(console.error("\u8bbe\u5907\u5f02\u5e38\uff0c\u5f15\u5bfc\u8d2d\u4e70VIP\u65f6\uff0c\u8bbe\u5907\u4fe1\u606f\u672a\u521d\u59cb\u5316"),BBFramework.exceptionReportService.reportExceptionMessage("\u8bbe\u5907\u5f02\u5e38","\u5f15\u5bfc\u8d2d\u4e70VIP\u65f6\uff0c\u8bbe\u5907\u4fe1\u606f\u672a\u521d\u59cb\u5316"))}return this.dialogInstance.show(),!0},e.sInstance=null,n([p(cc.Prefab)],e.prototype,"dialogPrefab",void 0),e=o=n([d],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../BBChannel":"BBChannel","../../BBMain":"BBMain","../../Config/BBAppConfig":"BBAppConfig","../../EventReport/EventReporter":"EventReporter","./VipDialog":"VipDialog"}],BabybusNavigator:[function(t,e,o){"use strict";cc._RF.push(e,"29dd4MyCTBFJpz4lB6HMWZH","BabybusNavigator"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./babybus/network/ajax"),n=t("./babybus/network/signature"),a=t("./babybus/network/userAgent"),r=t("./babybus/babybusUtils"),s=t("../../Config/AppConfig"),c="babybus_navigator_unique_key",l=function(){function t(){t.sUuid||(t.sUuid=cc.sys.localStorage.getItem(c),t.sUuid||(t.sUuid=r.uuid(),cc.sys.localStorage.setItem(c,t.sUuid)))}return t.getAjax=function(){if(!t.sAjax){var e=s.default.productId||3642,o=s.default.signKey||"VR1BtITxk1oNSh4nQUVdlKUgJTg4sQOp",r=s.default.xxTeaKey||"TVYo5XPpl7ckK4MfCmCkCsR88hqilrDG",c=s.default.versionCode||1,l=s.default.versionName||1,u=new n.default(o,r),d=new a.default({ProductID:e,VerID:c,VerCode:l,ProjectID:15});t.sAjax=new i.default(u,d)}return t.sAjax},t.supportNavigate=function(){var t=cc.sys.platform===cc.sys.WECHAT_GAME&&"function"==typeof wx.navigateToMiniProgram,e=cc.sys.platform===cc.sys.BAIDU_GAME&&"function"==typeof swan.navigateToMiniProgram;return t||e},t.prototype.init=function(t,e,o,i,n,a){void 0===i&&(i=0),void 0===n&&(n=!1),void 0===a&&(a=!1),this.targetAppId=t,this.path=e,this.position=o,this.index=i,this.reportToThird=n,this.needCallbackEvent=a},t.prototype.report=function(e){if(this.targetAppId){var o={OpenID:t.sUuid,FromAppID:s.default.wechatgameAppID,TargetAppID:this.targetAppId,TargetPage:this.path,ReprotIndex:this.position,ContentIndex:this.index>0?this.index:void 0,CreateStamp:Math.floor(Date.now()/1e3),TargetStatus:e?1:0};t.getAjax().post("https://spg.babybus.com/Record/Index/FlowStat",o).then(function(){console.debug("[BN] \u8df3\u8f6c\u4e0a\u62a5\u6210\u529f",o)}).catch(function(t){console.error("[BN] \u8df3\u8f6c\u4e0a\u62a5\u5931\u8d25",o,t)})}else console.warn("[BN] \u65e0\u6709\u6548\u76ee\u6807AppId\uff0c\u4e0d\u4e0a\u62a5")},t}();o.default=l,cc._RF.pop()},{"../../Config/AppConfig":"AppConfig","./babybus/babybusUtils":"babybusUtils","./babybus/network/ajax":"ajax","./babybus/network/signature":"signature","./babybus/network/userAgent":"userAgent"}],BackDIalogV2:[function(t,e,o){"use strict";cc._RF.push(e,"d79f0Bos5lDdILDfZs7Yk3d","BackDIalogV2");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseBackDialog"),r=t("../../../business/manager/NativeAdManager"),s=t("../../../core/util/ImageUtil"),c=t("../../../core/util/PlatformUtil"),l=t("../../../core/util/LogUtil"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteAppIcon=null,e.labelAppName=null,e.labelAppDesclear=null,e.name="BackDIalogV2",e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.showDialog()},e.prototype.onDestroy=function(){r.nativeAdManager.reload()},e.prototype.leaveEvent=function(){this.baseLeaveEvent()},e.prototype.continueEvent=function(){this.baseContinueEvent()},e.prototype.refreshView=function(){if(!c.default.isOppoSimulatePlatform()&&!c.default.isVivoSimulatePlatform()){var t=r.nativeAdManager.adList[0];t?(l.default.sdkComponentLog(this,"\u6570\u636e\u5b58\u5728,\u5c55\u793a\u5f39\u7a97!"),this.node.active=!0,this.paintNative(t)):(l.default.sdkComponentLog(this,"\u6570\u636e\u4e0d\u5b58\u5728,\u9500\u6bc1\u5f39\u7a97!"),this.hideDialog(),this.baseLeaveEvent())}},e.prototype.paintNative=function(t){var e=this;this.node.active=!0;var o=t.icon;!t.icon&&t.imgUrlList.length>0&&(o=t.imgUrlList[0]),this.drawIcon(o,t.creativeType),this.labelAppName.string=t.title,this.labelAppDesclear.string=t.desc,r.nativeAdManager.reportAdShow(t.adId),this.btnJump.getChildByName("touch").off(cc.Node.EventType.TOUCH_END),this.btnJump.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,function(){r.nativeAdManager.hasClick=!0,e.playAdcTouch(),r.nativeAdManager.reportAdClick(t.adId),e.hideDialog()})},e.prototype.drawIcon=function(t,e){var o=this;void 0===e&&(e=0),7===e&&c.default.isOppo()&&(this.spriteAppIcon.node.scale=.75,this.spriteAppIcon.node.position=cc.v2(0,0),this.btnJump.getChildByName("touch").position=cc.v2(0,63),this.btnJump.getChildByName("touch").setContentSize(240,200)),this.spriteAppIcon.spriteFrame=null,t&&s.default.loadSpriteFrame(t).then(function(t){o.spriteAppIcon.spriteFrame=t,7===e&&c.default.isOppo()?o.spriteAppIcon.node.setContentSize(320,210):o.spriteAppIcon.node.setContentSize(128,128)}).catch(function(){})},n([p({tooltip:"appIcon\u56fe\u6807",type:cc.Sprite})],e.prototype,"spriteAppIcon",void 0),n([p({tooltip:"app\u540d\u79f0",type:cc.Label})],e.prototype,"labelAppName",void 0),n([p({tooltip:"app\u8bf4\u660e",type:cc.Label})],e.prototype,"labelAppDesclear",void 0),e=n([d],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../business/manager/NativeAdManager":"NativeAdManager","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil","../../../core/util/PlatformUtil":"PlatformUtil","./BaseBackDialog":"BaseBackDialog"}],BackDialog:[function(t,e,o){"use strict";cc._RF.push(e,"15d272gDWFO3J8LWlz2R1YH","BackDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MyPageView"),r=t("../../../core/util/ImageUtil"),s=t("../../../business/constants/PublicAnalyticsKey"),c=t("../../../business/base/BBDialog"),l=t("../../../core/util/LogUtil"),u=t("../../../business/constants/GuideId"),d=t("../../../business/manager/BannerManager"),p=t("../../../business/constants/BusinessGlobal"),h=t("../../../business/manager/AudioManager"),f=t("../../../business/manager/JumpManager"),g=t("../../../business/manager/GuideManager"),_=cc._decorator,y=_.ccclass,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnBack=null,e.btnContinue=null,e.nodeFrame=null,e.nodeBg=null,e.pv=null,e.sfDefault=null,e.acTouch=null,e.name="BackDialog",e}return i(e,t),e.prototype.onLoad=function(){p.BusinessGlobal.backDialogIsShow=!0,d.bannerManager.hide(),this.node.zIndex=9999,this.refreshView(),this.initListener2(),this.nodeFrame.scale=.5,this.nodeFrame.runAction(cc.scaleTo(.2,1))},e.prototype.onDestroy=function(){p.BusinessGlobal.backDialogIsShow=!1},e.prototype.initListener2=function(){var t=this;this.btnBack.on(cc.Node.EventType.TOUCH_END,function(){h.audioManager.playEffect(t.acTouch),t.hideDialog2(),l.default.sdkComponentLog(t,"cb1111",p.BusinessGlobal.backCB),p.BusinessGlobal.backCB&&p.BusinessGlobal.backCB()}),this.nodeFrame.on(cc.Node.EventType.TOUCH_END,function(){}),this.btnContinue.on(cc.Node.EventType.TOUCH_END,function(){h.audioManager.playEffect(t.acTouch),t.hideDialog2()}),this.nodeBg.on(cc.Node.EventType.TOUCH_END,function(){h.audioManager.playEffect(t.acTouch),t.hideDialog2()})},e.prototype.clickItem=function(t,e){h.audioManager.playEffect(this.acTouch),t&&(l.default.sdkComponentLog(this,"clickItem",t),g.guideManager.addBeanBlack(u.default.GAME_BACK,t),f.jumpManager.navigateToApp(t,s.default.GM_BACK,u.default.GAME_BACK,e).then(function(){}).catch(function(){}))},e.prototype.hideDialog2=function(){this.node.active=!1,this.node.parent=null,this.destroy()},e.prototype.refreshView=function(){var t=g.guideManager.getDataByWeight(u.default.GAME_BACK,5);l.default.sdkComponentLog(this,"refreshView",t,g.guideManager.getDataDirect(u.default.GAME_BACK));var e=this;t||(this.hideDialog2(),l.default.sdkComponentLog(this,"cb1111",p.BusinessGlobal.backCB),l.default.sdkComponentLog(this,"BackDialogBeans",t),p.BusinessGlobal.backCB&&p.BusinessGlobal.backCB());var o={getCount:function(){return t?t.length:0},onPageChange:function(e){var o=t[e];f.jumpManager.buttonShow(o,s.default.GM_BACK,e+1),this.curIndex=e,this.curBean=o},drawItem:function(o,i){l.default.sdkComponentLog(this,"drawItem",i);var n=t[i],a=o.getComponent(cc.Sprite);a.spriteFrame=e.sfDefault,r.default.loadSpriteFrame(n.maxPic).then(function(t){t&&(a.spriteFrame=t)}).catch(function(){a.spriteFrame=e.sfDefault})},onItemClick:function(o){var i=t[o];e.clickItem(i,o+1)}};this.pv.setAdapter(o)},n([m(cc.Node)],e.prototype,"btnBack",void 0),n([m(cc.Node)],e.prototype,"btnContinue",void 0),n([m(cc.Node)],e.prototype,"nodeFrame",void 0),n([m(cc.Node)],e.prototype,"nodeBg",void 0),n([m(a.default)],e.prototype,"pv",void 0),n([m(cc.SpriteFrame)],e.prototype,"sfDefault",void 0),n([m({type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([y],e)}(c.default);o.default=v,cc._RF.pop()},{"../../../business/base/BBDialog":"BBDialog","../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/BannerManager":"BannerManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil","./MyPageView":"MyPageView"}],BaiduBannerHelper:[function(t,e,o){"use strict";cc._RF.push(e,"bc3abkyhDVNF7gdXsu/SMPT","BaiduBannerHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/DeviceUtil"),n=t("../constants/PublicAnalyticsKey"),a=t("../manager/AnalyticsManager"),r=t("../../core/util/PlatformUtil"),s=t("../../../Config/AppConfig"),c=t("../interface/BannerPosition"),l=function(){function t(){this.bannerAd=null}return t.prototype.show=function(t,e){var o=this;return void 0===e&&(e=c.default.TOP),i.deviceUtil.isBannerClose()?new Promise(function(e,o){a.analyticsManager.recordEvent(n.default.BANNER,t,"\u767e\u5ea6banner\u5173\u95ed"),o()}):new Promise(function(l,u){try{if(!t)return void u();if(!r.default.isBaiduGame()||!swan.createBannerAd)return a.analyticsManager.recordEvent(n.default.BANNER,t,"\u975e\u767e\u5ea6\u5e73\u53f0\u6216\u4e0d\u5b58\u5728\u521b\u5efa\u6a2a\u5e45\u63a5\u53e3"),void u();var d=swan.createBannerAd({adUnitId:t,appSid:s.default.baidugameAdAppID,style:{left:.5*(i.deviceUtil.screenWidth-300),top:0,width:300}});a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),o.bannerAd=d,o.bannerAd.onLoad(function(){a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),d===o.bannerAd&&(d.style.top=e===c.default.TOP?0:i.deviceUtil.screenHeight-d.style.realHeight+.1,d.show().then(function(){if(a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u5c55\u793a\u91cf"),l){var e={height:i.deviceUtil.unit2Cocos(d.style.realHeight),width:i.deviceUtil.unit2Cocos(d.style.realWidth)};a.analyticsManager.recordEvent(n.default.BANNER_COUNT,"\u66dd\u5149"),l(e)}}).catch(function(e){a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(e),u&&u(e)}))}),o.bannerAd.onError(function(e){var i=e?e.errCode:"-999";a.analyticsManager.recordEvent(n.default.BANNER,t,i),d===o.bannerAd&&(console.log(e),u&&u(e))})}catch(t){console.log("create baidu banner err",t)}})},t.prototype.hide=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},t}();o.default=l,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../interface/BannerPosition":"BannerPosition","../manager/AnalyticsManager":"AnalyticsManager"}],BaiduRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"db8e6oMIqVIqagweo9t5CsU","BaiduRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=t("../../../Config/AppConfig"),s=t("../../core/util/DeviceUtil"),c=function(){function t(){this.rewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.rewardUnitId=null}return t.prototype.isValid=function(){return!!s.deviceUtil.isRewardClose()||this.isLoaded},t.prototype.show=function(){var t=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),s.deviceUtil.isRewardClose()?new Promise(function(t,e){t(null)}):new Promise(function(e,o){t.resolve=e,t.reject=o,t.getRewardAd()&&t.isLoaded?(t.isLoaded=!1,t.getRewardAd().show().then().catch(function(t){console.log("showReward Error"),o()})):o()})},t.prototype.init=function(t){this.initReward(t)},t.prototype.initReward=function(t){t&&(this.rewardUnitId=t,n.default.isBaiduGame()&&swan.createRewardedVideoAd&&(this.rewardAd=swan.createRewardedVideoAd({appSid:r.default.baidugameAdAppID,adUnitId:this.rewardUnitId}),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()))},t.prototype.getRewardAd=function(){return this.rewardUnitId?(this.rewardAd||this.initReward(this.rewardUnitId),this.rewardAd):null},t.prototype.activeLoad=function(){this.getRewardAd()&&(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.getRewardAd().load())},t.prototype.onError=function(t){var e=this;++this.errorTimes;var o=t?t.errCode:"-999";a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)},t.prototype.onLoad=function(){console.log("onLoad"),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),this.errorTimes=0,this.isLoaded=!0},t.prototype.onClose=function(t){void 0===t||t&&t.isEnded?(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u5b8c\u6210\u6b21\u6570"),this.resolve&&this.resolve()):(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\u6b21\u6570"),this.reject&&this.reject()),this.resolve=null,this.reject=null,a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()},t}();o.default=c,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],BannerInfo:[function(t,e,o){"use strict";cc._RF.push(e,"4b139qvqCpLBqQF4tlzN6Zo","BannerInfo"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],BannerManager:[function(t,e,o){"use strict";cc._RF.push(e,"9a7f4P0v+dAvKKLsTl+aK+d","BannerManager"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../core/util/PlatformUtil"),a=t("../helper/WxBannerHelper"),r=t("../helper/BaiduBannerHelper"),s=t("../helper/OppoBannerHelper"),c=t("../helper/VivoBannerHelper"),l=t("./MediaManager"),u=t("../../core/util/LogUtil"),d=t("./DialogManager"),p=t("../constants/BusinessGlobal"),h=t("../../core/util/MathUtil"),f=t("./SwitchManager"),g=t("./AnalyticsManager"),_=t("../constants/PublicAnalyticsKey");(function(t){t[t.TOP=1]="TOP",t[t.BOTTOM=2]="BOTTOM"})(i=o.BannerPosition||(o.BannerPosition={}));var y=function(){function t(){this.defaultUnitID=null,this.helper=null,this.InterstitialDialogIsShow=!1}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.init=function(t){n.default.isWechatGame()||n.default.isTouTiao()?this.helper=new a.default:n.default.isBaiduGame()?this.helper=new r.default:n.default.isOppo()?this.helper=new s.default:n.default.isVivo()&&(this.helper=new c.default),this.defaultUnitID=t},t.prototype.showTop=function(t,e){return void 0===t&&(t=this.defaultUnitID),void 0===e&&(e=i.TOP),this.showBanner(t,e)},t.prototype.show=function(t,e){return void 0===t&&(t=this.defaultUnitID),void 0===e&&(e=i.BOTTOM),this.showBanner(t,e)},t.prototype.showDefault=function(t){return void 0===t&&(t=i.BOTTOM),this.showBanner(this.defaultUnitID,t)},t.prototype.getAdUnitId=function(t){return n.default.isWechatGame()?t.wxUnitId:n.default.isTouTiao()?t.ttUnitId:n.default.isBaiduGame()?t.baiduUnitId:n.default.isOppo()?t.oppoUnitId:n.default.isVivo()?t.vivoUnitId:null},t.prototype.showCustomPos=function(t,e,o){var i=this;this.hide(!1),this.hideCustomBanner();var n=null;return o&&(n=this.getAdUnitId(o)),n||(n=this.defaultUnitID),this.helper&&this.helper.showCustomPos&&n?this.helper.showCustomPos(t,e,n):new Promise(function(t,e){var o="";i.helper?i.helper.showCustomPos||(o+="\u6a2a\u5e45\u5e7f\u544a\u7ec4\u4ef6\u4e0d\u5b58showCustomPos\u65b9\u6cd5;"):o+="\u4e0d\u5b58\u5728\u6a2a\u5e45\u5e7f\u544a\u7ec4\u4ef6;",n||(o+="\u4e0d\u5b58\u5728\u6a2a\u5e45\u5e7f\u544a\u7ec4\u4ef6id."),u.default.errorLog("showBanner fail",o),e()})},t.prototype.showBanner=function(t,e){if(this.InterstitialDialogIsShow||p.BusinessGlobal.backDialogIsShow)return new Promise(function(e,o){g.analyticsManager.recordEvent(_.default.BANNER,t,"\u66f4\u591a\u597d\u73a9\u6216\u8fd4\u56de\u5f39\u7a97\u5c55\u793a"),o()});if(this.hide(!1),this.hideCustomBanner(),!f.switchManager.isBannerOpen()&&!n.default.isWechatGame())return new Promise(function(e,o){u.default.fLog("BannerManager","switch close"),g.analyticsManager.recordEvent(_.default.BANNER,t,"\u5e7f\u544a\u5f00\u5173\u5173\u95ed(\u5fae\u4fe1\u5e73\u53f0\u9664\u5916)"),o()});var o=!0;if(n.default.isOppo()&&p.BusinessGlobal.gameParams&&p.BusinessGlobal.gameParams.ad_banner_proportion){var i=Math.round(100*Number(p.BusinessGlobal.gameParams.ad_banner_proportion));h.default.random(0,100)>i&&(g.analyticsManager.recordEvent(_.default.BANNER,t,"oppo\u6bd4\u4f8b\u9650\u5236banner\u5c55\u793a"),o=!1)}if(this.helper&&t&&o)return this.helper.show(t,e);var a="";return this.helper||(a+="\u4e0d\u5b58\u5728\u6a2a\u5e45\u5e7f\u544a\u7ec4\u4ef6;"),t||(a+="\u4e0d\u5b58\u5728\u6a2a\u5e45\u5e7f\u544a\u7ec4\u4ef6id."),new Promise(function(t,e){u.default.errorLog("showBanner fail",a),e()})},t.prototype.hide=function(t){void 0===t&&(t=!0),t&&!d.dialogManager.isDialogShow()&&this.showCustomBanner(),this.helper&&this.helper.hide()},t.prototype.showCustomBanner=function(){l.mediaManager.showGamePageRecommend(),l.mediaManager.showCustomBanner(),l.mediaManager.showGameIcons()},t.prototype.hideCustomBanner=function(){l.mediaManager.hideGamePageRecommend(),l.mediaManager.hideCustomBanner(),l.mediaManager.hideGameIcons()},t.INSTANCE=void 0,t}();o.bannerManager=y.get(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../helper/BaiduBannerHelper":"BaiduBannerHelper","../helper/OppoBannerHelper":"OppoBannerHelper","../helper/VivoBannerHelper":"VivoBannerHelper","../helper/WxBannerHelper":"WxBannerHelper","./AnalyticsManager":"AnalyticsManager","./DialogManager":"DialogManager","./MediaManager":"MediaManager","./SwitchManager":"SwitchManager"}],BannerPosition:[function(t,e,o){"use strict";cc._RF.push(e,"e428e6KE9VHoYWozijbKNOF","BannerPosition"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.TOP=1,t.BOTTOM=2,t}();o.default=i,cc._RF.pop()},{}],BaseBackDialog:[function(t,e,o){"use strict";cc._RF.push(e,"eeb3eZoLD1BYIdJT9qAVeEc","BaseBackDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/manager/AudioManager"),r=t("../../../business/constants/BusinessGlobal"),s=t("../../../business/base/BBDialog"),c=t("../../../core/util/LogUtil"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnLeave=null,e.btnContinue=null,e.btnJump=null,e.adcTouch=null,e.name="BaseBackDialog",e}return i(e,t),e.prototype.onLoad=function(){this.normalSetting(),this.openListen(),this.refreshView()},e.prototype.leaveEvent=function(){},e.prototype.continueEvent=function(){},e.prototype.refreshView=function(){},e.prototype.playAdcTouch=function(){a.audioManager.playEffect(this.adcTouch)},e.prototype.normalSetting=function(){this.node.zIndex=9999},e.prototype.openListen=function(){this.btnContinue.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.continueEvent,this),this.btnLeave.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.leaveEvent,this)},e.prototype.hideDialog=function(){this.node.active=!1,this.node.parent=null,this.node.destroy()},e.prototype.baseLeaveEvent=function(){this.playAdcTouch(),c.default.sdkComponentLog(this,"cb1111",r.BusinessGlobal.backCB),r.BusinessGlobal.backCB&&r.BusinessGlobal.backCB(),this.hideDialog()},e.prototype.baseContinueEvent=function(){this.playAdcTouch(),this.hideDialog()},n([d({tooltip:"\u79bb\u5f00\u6309\u94ae",type:cc.Node})],e.prototype,"btnLeave",void 0),n([d({tooltip:"\u7ee7\u7eed\u6309\u94ae",type:cc.Node})],e.prototype,"btnContinue",void 0),n([d({tooltip:"\u8df3\u8f6c\u6309\u94ae",type:cc.Node})],e.prototype,"btnJump",void 0),n([d({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"adcTouch",void 0),e=n([u],e)}(s.default);o.default=p,cc._RF.pop()},{"../../../business/base/BBDialog":"BBDialog","../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/manager/AudioManager":"AudioManager","../../../core/util/LogUtil":"LogUtil"}],BaseLockBtn:[function(t,e,o){"use strict";cc._RF.push(e,"f1483M0+e1Ow4/1bOuDfnS4","BaseLockBtn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../constants/UnlockMode"),r=t("../manager/RewardManager"),s=t("../../core/util/PlatformUtil"),c=t("../manager/ShareManager"),l=t("../../core/util/NetUtil"),u=t("../../core/util/ToastUtil"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unlockMode=a.default.VIDEO,e.canClick=!0,e.path="BaseLockBtn",e.channel="BaseLockBtn",e.disableTime=0,e}return i(e,t),e.prototype.show=function(t,e,o){this.path=e,this.channel=o,t===a.default.VIDEO?this.setUnlockMode(r.rewardManager.isValid()?a.default.VIDEO:s.default.isWechatGame()?a.default.SHARE:a.default.TRY):this.setUnlockMode(t)},e.prototype.onLoad=function(){this.openListener()},e.prototype.update=function(t){this.disableTime>0&&(this.disableTime-=t,this.disableTime>0?r.rewardManager.isValid()?this.enabledUnlock():this.onDisableTimeUpdate(Math.ceil(this.disableTime)):(this.enabledUnlock(),this.setUnlockMode(s.default.isWechatGame()?a.default.SHARE:a.default.TRY)))},e.prototype.openListener=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.closeListener=function(){this.node.off(cc.Node.EventType.TOUCH_END)},e.prototype.touchEnd=function(){var t=this;this.canClick&&(this.canClick=!1,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){t.unlock()}),cc.delayTime(2),cc.callFunc(function(){t.canClick=!0}))))},e.prototype.unlock=function(){this.unlockMode===a.default.VIDEO?this.unlockByVideo():this.unlockMode===a.default.SHARE?this.unlockByShare():this.unlockByTry()},e.prototype.unlockByVideo=function(){var t=this;r.rewardManager.isValid()?(this.onUnlockStart(a.default.VIDEO),s.default.isBaiduGame()?l.netUtil.getWifiState().then(function(){r.rewardManager.show(t.path).then(function(){t.onUnlockSuccess(a.default.VIDEO)}).catch(function(){t.disableUnlock(),t.onUnlockFail(a.default.VIDEO)})}).catch(function(){u.default.toastShort("\u6d41\u91cf\u4fdd\u62a4\u63d0\u793a\uff1a\u8bf7\u8fde\u63a5wifi\u540e\u89c2\u770b\u5e7f\u544a"),t.onUnlockFail(a.default.VIDEO)}):r.rewardManager.show(this.path).then(function(){t.onUnlockSuccess(a.default.VIDEO)}).catch(function(){t.disableUnlock(),t.onUnlockFail(a.default.VIDEO)})):s.default.isBaiduGame()?this.unlockByTry():this.unlockByShare()},e.prototype.unlockByShare=function(){var t=this;this.onUnlockStart(a.default.SHARE),c.shareManager.shareApp(this.channel,this.path).then(function(){t.onUnlockSuccess(a.default.SHARE)}).catch(function(){t.onUnlockFail(a.default.SHARE)})},e.prototype.unlockByTry=function(){this.onUnlockSuccess(a.default.TRY)},e.prototype.setUnlockMode=function(t){this.unlockMode=t,this.onUnlockModeUpdate(t),t===a.default.VIDEO?r.rewardManager.buttonShow(this.path):t===a.default.SHARE&&c.shareManager.buttonShow(this.path)},e.prototype.disableUnlock=function(){this.node.color=cc.Color.GRAY,this.disableTime=5,this.closeListener()},e.prototype.enabledUnlock=function(){this.openListener(),this.node.color=cc.Color.WHITE,this.disableTime=0},e.prototype.onUnlockStart=function(t){},e.prototype.onUnlockSuccess=function(t){},e.prototype.onUnlockFail=function(t){},e.prototype.onUnlockModeUpdate=function(t){},e.prototype.onDisableTimeUpdate=function(t){},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/UnlockMode":"UnlockMode","../manager/RewardManager":"RewardManager","../manager/ShareManager":"ShareManager"}],BaseRespBean:[function(t,e,o){"use strict";cc._RF.push(e,"46e01zhMclAloNM4PO8jEDk","BaseRespBean"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){return function(){}}();o.default=i,cc._RF.pop()},{}],BaseRewardDialog:[function(t,e,o){"use strict";cc._RF.push(e,"542d8S4uspESaRSm0zSlqjT","BaseRewardDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/RewardManager"),r=t("./BBDialog"),s=t("../../core/util/ToastUtil"),c=t("../../core/util/DateUtil"),l=t("../../core/util/PlatformUtil"),u=t("../../core/util/AppUtil"),d=t("../manager/ShareManager"),p=t("../manager/NativeAdManager"),h=t("../../core/util/DeviceUtil"),f=t("../../core/util/ImageUtil"),g=t("../../core/util/ArrayUtil"),_=t("../manager/BannerManager"),y=t("../manager/JudgeManager"),m=t("../../core/util/LogUtil"),v=t("../../core/util/NetUtil"),b=0,S=cc._decorator,w=S.ccclass,A=S.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeClose=null,e.nodeReward=null,e.spriteVideoIcon=null,e.frameShare=null,e.frameVideo=null,e.frameVideoTT=null,e.frameAd=null,e.des="",e.rewardType=b,e.lastTime=-1,e.clickLock=!1,e.nodeNative=null,e.nativeAdBean=null,e.clickShareTime=0,e}return i(e,t),e.prototype.onLoad=function(){this.initBaseDialog(),t.prototype.onLoad.call(this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),this.nodeNative&&this.nodeNative.destroy(),2===this.rewardType&&p.nativeAdManager.reload()},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.spriteVideoIcon.spriteFrame=this.getFrameVideo(),this.rewardType=b,a.rewardManager.buttonShow(this.des)},e.prototype.initBaseDialog=function(){this.initNodeListener()},e.prototype.initNodeListener=function(){var t=this;this.nodeClose.on(cc.Node.EventType.TOUCH_END,function(){t.canClick()&&t.clickClose()}),this.nodeReward.on(cc.Node.EventType.TOUCH_END,function(){t.canClick()&&t.clickReward()})},e.prototype.canClick=function(){if(this.clickLock)return!1;var t=c.default.getTimeStamp();return!(t-this.lastTime<this.getCDTime())&&(this.lastTime=t,!0)},e.prototype.resetCdTime=function(){var t=c.default.getTimeStamp();this.lastTime=t+this.getCDTime()},e.prototype.getCDTime=function(){return 1e3},e.prototype.getFrameVideo=function(){return(l.default.isTouTiao()||l.default.isTouTiaoSimulatePlatform())&&this.frameVideoTT?this.frameVideoTT:this.frameVideo},e.prototype.clickClose=function(){this.hideDialog()},e.prototype.clickReward=function(){switch(console.log("clickReward"),this.rewardType){case 1:this.rewardByShare();break;case 3:this.rewardByMoreGame();break;case 2:this.rewardByNative();break;default:this.rewardByVideo()}},e.prototype.rewardByShare=function(){var t=this,e=++this.clickShareTime>=3?0:3;d.shareManager.shareApp("share",this.des,null,null,e).then(function(){t.onRewardSuccess()}).catch(function(e){e&&"no net"===e.message||t.onShareFail()})},e.prototype.onShareFail=function(){s.default.toastShort("\u5206\u4eab\u7ed9\u4e0d\u540c\u7684\u7528\u6237\uff0c\u624d\u53ef\u4ee5\u83b7\u5f97\u5956\u52b1")},e.prototype.rewardByNative=function(){console.log("rewardByNative"),this.nativeAdBean&&(p.nativeAdManager.reportAdClick(this.nativeAdBean.adId),this.onRewardSuccess())},e.prototype.rewardByMoreGame=function(){var t=this;u.default.showTouTiaoMoreGame().then(function(){t.onRewardSuccess()}).catch(function(){})},e.prototype.rewardByVideo=function(){var t=this;console.log("rewardByVideo"),this.clickLock=!0,v.netUtil.getRewardNetState().then(function(){t.checkThenShowReward()}).catch(function(){t.clickLock=!1,s.default.toastShort("\u6682\u65e0\u7f51\u7edc,\u8bf7\u8fde\u63a5\u7f51\u7edc\u540e\u91cd\u8bd5")})},e.prototype.checkThenShowReward=function(){var t=this;a.rewardManager.checkVideo().then(function(){t.resetCdTime(),t.clickLock=!1,a.rewardManager.show(t.des).then(function(){t.onRewardSuccess()}).catch(function(e){e&&e.errCode&&("1004"===String(e.errCode)||"1003"===String(e.errCode))&&(l.default.isTouTiao()||l.default.isTouTiaoSimulatePlatform())?u.default.canUseTouTiaoMoreGame()?(s.default.toastShort("\u6682\u65e0\u53ef\u89c2\u770b\u89c6\u9891"),t.change2MoreGame()):t.onRewardNoUse():t.onRewardFail()})}).catch(function(){t.checkRewardFail()})},e.prototype.checkRewardFail=function(){this.clickLock=!1,l.default.isWechatGame()||l.default.isWxSimulatePlatform()?this.change2Share(!0):l.default.isOppo()||l.default.isVivo()||l.default.isOppoSimulatePlatform()||l.default.isVivoSimulatePlatform()?p.nativeAdManager.isValid()&&y.judgeManager.getDialogNativeSwitch()?(s.default.toastShort("\u6682\u65e0\u53ef\u89c2\u770b\u89c6\u9891"),this.change2Native()):this.onRewardNoUse():(l.default.isTouTiao()||l.default.isTouTiaoSimulatePlatform())&&u.default.canUseTouTiaoMoreGame()?(s.default.toastShort("\u6682\u65e0\u53ef\u89c2\u770b\u89c6\u9891"),this.change2MoreGame()):this.onRewardNoUse()},e.prototype.change2Share=function(t){void 0===t&&(t=!1),t&&s.default.toastShort("\u6682\u65e0\u53ef\u89c2\u770b\u89c6\u9891\uff0c\u5206\u4eab\u83b7\u5f97"),m.default.necessaryLog("\u6fc0\u52b1\u5f39\u7a97 - \u53d8\u6210\u5206\u4eab\u6309\u94ae"),this.clickShareTime=0,this.spriteVideoIcon.spriteFrame=this.frameShare,this.rewardType=1,d.shareManager.buttonShow(this.des)},e.prototype.change2Native=function(){var t=this;m.default.necessaryLog("\u6fc0\u52b1\u5f39\u7a97 - \u53d8\u6210\u539f\u751f\u5e7f\u544a\u6309\u94ae"),this.spriteVideoIcon.spriteFrame=this.frameAd,this.rewardType=2;var e=p.nativeAdManager.getAdBean();if(e){this.nativeAdBean=e,p.nativeAdManager.reportAdShow(this.nativeAdBean.adId);var o=g.default.isNotNull(e.imgUrlList)?e.imgUrlList[0]:e.icon;f.default.loadSpriteFrame(o).then(function(e){var o=new cc.Node,i=o.addComponent(cc.Sprite);t.node.addChild(o),t.nodeNative=o,i.spriteFrame=e,_.bannerManager.hide();var n=e.getRect(),a=140;n&&n.height>0&&(a=140/n.height*n.width),console.log("loadSpriteFrame: "+a+" - 140"),o.width=a,o.height=140,o.y=.5*-h.deviceUtil.getScreneHeight()+.5*o.height,o.on(cc.Node.EventType.TOUCH_START,function(){t.canClick()&&t.rewardByNative()})}).catch(function(){})}},e.prototype.change2MoreGame=function(){m.default.necessaryLog("\u6fc0\u52b1\u5f39\u7a97 - \u53d8\u6210\u66f4\u591a\u597d\u73a9\u6309\u94ae"),this.spriteVideoIcon.spriteFrame=this.frameAd,this.rewardType=3},n([A({type:cc.Node,tooltip:"\u5173\u95ed\u6309\u94ae\u8282\u70b9"})],e.prototype,"nodeClose",void 0),n([A({type:cc.Node,tooltip:"\u6fc0\u52b1\u6309\u94ae\u8282\u70b9"})],e.prototype,"nodeReward",void 0),n([A({type:cc.Sprite,tooltip:"\u89c6\u9891\u6309\u94aeicon\u7cbe\u7075\u7ec4\u4ef6"})],e.prototype,"spriteVideoIcon",void 0),n([A({type:cc.SpriteFrame,tooltip:"\u5206\u4eab\u56fe\u6807\u56fe\u7247"})],e.prototype,"frameShare",void 0),n([A({type:cc.SpriteFrame,tooltip:"\u89c6\u9891\u56fe\u6807\u56fe\u7247"})],e.prototype,"frameVideo",void 0),n([A({type:cc.SpriteFrame,tooltip:"\u5934\u6761\u89c6\u9891\u56fe\u6807(\u5934\u6761\u4e0a\u6709\u5dee\u5f02\u5219\u914d\u7f6e\u6b64\u9879)"})],e.prototype,"frameVideoTT",void 0),n([A({type:cc.SpriteFrame,tooltip:"\u539f\u751f\u5e7f\u544a\u56fe\u6807\u56fe\u7247"})],e.prototype,"frameAd",void 0),n([A({tooltip:"\u5f39\u7a97\u63cf\u8ff0(\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u7ecf\u5206\u4e8c\u7ea7\u53c2\u6570)"})],e.prototype,"des",void 0),e=n([w],e)}(r.default);o.default=C,cc._RF.pop()},{"../../core/util/AppUtil":"AppUtil","../../core/util/ArrayUtil":"ArrayUtil","../../core/util/DateUtil":"DateUtil","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/ImageUtil":"ImageUtil","../../core/util/LogUtil":"LogUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../manager/BannerManager":"BannerManager","../manager/JudgeManager":"JudgeManager","../manager/NativeAdManager":"NativeAdManager","../manager/RewardManager":"RewardManager","../manager/ShareManager":"ShareManager","./BBDialog":"BBDialog"}],BaseWelcomeDialog:[function(t,e,o){"use strict";cc._RF.push(e,"b2ec8kgVOhLxovvsT5dHy26","BaseWelcomeDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/LoadManager"),r=cc._decorator.ccclass,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadNextWelcomeWindowEventSign="loadNextWelcomeWindowDialogMangager",e.welcomeDialogNumber=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.active=!0,a.loadManager.hideLoading()},e.prototype.onDestroy=function(){this.loadNext()},e.prototype.loadNext=function(){cc.systemEvent.emit(this.loadNextWelcomeWindowEventSign)},e=n([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../manager/LoadManager":"LoadManager"}],BoxAdManager:[function(t,e,o){"use strict";cc._RF.push(e,"8770eK9RBtNf50toytFqvmJ","BoxAdManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/AppConfig"),n=t("../../core/util/PlatformUtil"),a=t("../constants/BusinessGlobal"),r=t("../constants/PublicAnalyticsKey"),s=t("./AnalyticsManager"),c=function(){function t(){this.boxPortalAd=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){},t.prototype.canBoxPortalAdUse=function(){var t=n.default.isVivo(),e=this.getBoxPortalAdId(),o=void 0!==qg.createBoxPortalAd;return!!(t&&e&&o)||(t?e?!o&&(console.log("vivo\u4e5d\u5bab\u683c \u4e0d\u52a0\u8f7d: \u4e0d\u5b58\u5728\u5c55\u793a\u65b9\u6cd5"),!1):(console.log("vivo\u4e5d\u5bab\u683c \u4e0d\u52a0\u8f7d: \u65e0id"),!1):(console.log("vivo\u4e5d\u5bab\u683c \u4e0d\u52a0\u8f7d: \u975e\u6307\u5b9a\u5e73\u53f0"),!1))},t.prototype.getBoxPortalAdId=function(){return n.default.isVivo()?i.default.qgameRecommendPortalID:null},t.prototype.showBoxPortalAd=function(){this.boxPortalAd&&a.BusinessGlobal.dialogShowCount<=0&&(this.boxPortalAd.show(),s.analyticsManager.recordEvent(r.default.VIVO_BOX_AD_COUNT,"\u66dd\u5149"))},t.prototype.hideBoxPortalAd=function(){this.boxPortalAd&&(this.boxPortalAd.hide(),this.check())},t.prototype.check=function(){var t=this;setTimeout(function(){a.BusinessGlobal.dialogShowCount>0&&t.boxPortalAd&&t.boxPortalAd.hide()},1e3)},t.prototype.createBoxPortalAd=function(t){var e=this;return new Promise(function(o,i){if(e.canBoxPortalAdUse()){var n=e.getBoxPortalAdId(),c=qg.createBoxPortalAd({posId:n,marginTop:t});s.analyticsManager.recordEvent(r.default.VIVO_BOX_AD_MODULE,n,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),c.onError(function(t){console.log("vivo\u4e5d\u5bab\u683c onError:"+t.errCode+","+t.errMsg),s.analyticsManager.recordEvent(r.default.VIVO_BOX_AD_MODULE,n,t),i()}),c.onClose(function(){console.log("vivo\u4e5d\u5bab\u683c close"),c.isDestroyed||e.showBoxPortalAd()}),c.onLoad(function(){if(console.log("vivo\u4e5d\u5bab\u683c onLoad"),a.BusinessGlobal.dialogShowCount>0)return console.log("vivo\u4e5d\u5bab\u683c onLoad dialog show"),void i();c.show().then(function(){console.log("vivo\u4e5d\u5bab\u683c show success"),s.analyticsManager.recordEvent(r.default.VIVO_BOX_AD_COUNT,"\u66dd\u5149"),o(null)}).catch(function(t){s.analyticsManager.recordEvent(r.default.VIVO_BOX_AD_MODULE,n,t),console.log("vivo\u4e5d\u5bab\u683c show fail with:"+t.errCode+","+t.errMsg),i()})}),e.boxPortalAd=c}else i()})},t.prototype.destroyBoxPortalAd=function(){this.boxPortalAd&&(this.boxPortalAd.isDestroyed=!0,this.boxPortalAd.hide(),this.boxPortalAd.destroy(),this.boxPortalAd=null)},t.INSTANCE=null,t}();o.default=c,o.boxAdManager=c.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","./AnalyticsManager":"AnalyticsManager"}],BtnBack:[function(t,e,o){"use strict";cc._RF.push(e,"4262eOPfZhGa641ABG3iIh9","BtnBack");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../lib/business/base/BBScene"),r=t("../lib/business/manager/AudioManager"),s=t("../lib/business/manager/BannerManager"),c=t("../lib/business/manager/MediaManager"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clipClick=null,e.frameHome=null,e.isSelect=!1,e.canTouch=!0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.isSelect=cc.find("Canvas").getComponent("BBScene").isSelect(),this.isSelect?(this.node.getComponent(cc.Sprite).spriteFrame=this.frameHome,this.registerTouch()):(this.node.opacity=0,cc.tween(this.node).delay(5).call(function(){t.registerTouch(),t.node.opacity=255}).start())},e.prototype.registerTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouchStarted=function(){this.canTouch&&(this.clipClick&&r.audioManager.playEffect(this.clipClick),this.node.scale=.8)},e.prototype.onTouchEnd=function(){var t=this;this.canTouch&&(this.canTouch=!1,this.node.scale=1,this.isSelect?this.loadLoading():(c.mediaManager.showBackDialog(this.backDialog.bind(this)),this.scheduleOnce(function(){t.canTouch=!0},.3)))},e.prototype.backDialog=function(){s.bannerManager.hide(),this.loadLoading()},e.prototype.loadLoading=function(){r.audioManager.stopLine(),cc.director.emit(a.BBSceneEventName.SCENE_EXIT),cc.director.emit(a.BBSceneEventName.SCENE_BACK)},n([d({type:cc.AudioClip,tooltip:"\u70b9\u51fb\u6309\u94ae\u97f3\u6548"})],e.prototype,"clipClick",void 0),n([d({type:cc.SpriteFrame,tooltip:"home\u952e"})],e.prototype,"frameHome",void 0),e=n([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../lib/business/base/BBScene":"BBScene","../lib/business/manager/AudioManager":"AudioManager","../lib/business/manager/BannerManager":"BannerManager","../lib/business/manager/MediaManager":"MediaManager"}],BusinessGlobal:[function(t,e,o){"use strict";cc._RF.push(e,"256dfaeqTFJBqaed9ANE3rR","BusinessGlobal"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/SceneConfig");o.BusinessGlobal={appIconPath:"",curSceneName:"",lastSceneName:"",lastTwoSceneName:"",sceneDic:i.default,hasRequestMedia:!1,moreRecommend:null,customBanner:null,customInterstitial:null,showInterstitial:!1,recommendMore:null,recommendMoreIsShow:!1,shareBtn:null,shareBtnCanShow:!0,leftMedia:null,leftMediaCanShow:!0,rightSidebarCanShow:!0,rightSidebar:null,customBannerIndex:-1,shareBtnTimes:0,touchCloseNum:0,openCloseControl:!0,autoShowSetNum:2,toast:null,hasAddCustomInterstitial:!1,hasAddAntiAddiction:!1,antiAddictionState:0,hasAddRecord:!1,sceneRootNode:null,sdkComponentParent:null,gamePageCanShow:!1,gamePageRecommend:null,gameIconsCanShow:!1,gameIcons:null,backCB:null,firstEnter:!0,simulatePlatform:1,drawerV1:null,drawerV1CanShow:!0,selectEnterTimes:0,ltdSaveDay:1,ltd:4,ltdScale:.6,back2SelectTimes:0,back2SelectRealTimes:0,back2SelectShowTimes:0,firstEnterSelect:!0,errorWindowScp:null,gameParams:{},globalParams:{},userInfo:null,webToastAdd:!1,dialogShowCount:0,recordBtn:null,gameSideTimes:0,bannerTimes:0,voluntarilyShowInterstitialTimes:0,backDialogIsShow:!1,libQiqi:null,wxDrawerAlternatelyRecord:0,debugComponent:null},cc._RF.pop()},{"../../../Config/SceneConfig":"SceneConfig"}],BusinessSdk:[function(t,e,o){"use strict";cc._RF.push(e,"a16d1JSXBVPxrIv4vdt7hWX","BusinessSdk"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/BusinessGlobal"),n=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.setAppIconPath=function(t){i.BusinessGlobal.appIconPath=t},t.prototype.getCurSceneName=function(){return i.BusinessGlobal.curSceneName},t.prototype.getCurChineseSceneName=function(){return i.BusinessGlobal.sceneDic[this.getCurSceneName()]},t.prototype.getLastSceneName=function(){return i.BusinessGlobal.lastSceneName},t.prototype.getLastChineseSceneName=function(){return i.BusinessGlobal.sceneDic[this.getLastSceneName()]},t.INSTANCE=null,t}();o.BusinessSdk=n,o.businessSdk=n.getInstance(),cc._RF.pop()},{"../constants/BusinessGlobal":"BusinessGlobal"}],BusinessServiceExtension:[function(t,e,o){"use strict";cc._RF.push(e,"46e6a7vjG1OsZ+IsxqL4anU","BusinessServiceExtension"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getAppInfo=function(){return BBFramework.businessService.extendMethod("getMiniAppInfo")},t.setAdVisibility=function(t){return BBFramework.businessService.extendMethod("setAdVisibility",{visible:!!t})},t.getServiceVersion=function(){return new Promise(function(e){null===t.version?BabyBusService.getServiceVersion({serviceName:"BusinessService",result:function(o){t.version=o,e(o)}}):e(t.version)})},t.version=null,t}();o.default=i,cc._RF.pop()},{}],Button:[function(t,e,o){"use strict";cc._RF.push(e,"e8165C0IdpOSo10d+xdkjUg","Button");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CommonAudio"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickEvents=[],e}return i(e,t),e.prototype.onLoad=function(){this.registerTouchListener()},e.prototype.registerTouchListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchStart=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),a.default.playClick(),cc.tween(this.node).to(.1,{scale:.9},cc.easeSineIn()).start()},e.prototype.onTouchMove=function(){this.node.scale=1,this.node.stopAllActions()},e.prototype.onTouchCancel=function(){this.registerTouchListener(),this.node.scale=1,this.node.stopAllActions()},e.prototype.onTouchEnd=function(){var t=this;this.unregisterTouchListener(),this.node.stopAllActions(),cc.tween(this.node).to(.1,{scale:.8},cc.easeSineIn()).to(.1,{scale:1.1},cc.easeSineOut()).to(.1,{scale:1},cc.easeBackOut()).call(function(){cc.Component.EventHandler.emitEvents(t.clickEvents),t.registerTouchListener()}).start()},e.prototype.unregisterTouchListener=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onDestroy=function(){this.unregisterTouchListener()},n([c({type:[cc.Component.EventHandler]})],e.prototype,"clickEvents",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CommonAudio":"CommonAudio"}],CCCActionOval:[function(t,e,o){"use strict";cc._RF.push(e,"a37dee8j+1A0YxpgC9L35Uo","CCCActionOval");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=function(t){function e(e){var o=t.call(this)||this;return o.duration=null,o.center=null,o.aLength=null,o.bLength=null,o.isClockwise=!0,o.startAngle=0,o.duration=e.duration,o.center=e.center,o.aLength=e.aLength,o.bLength=e.bLength,o.isClockwise=void 0===e.isClockwise||e.isClockwise,o.startAngle=void 0===e.startAngle?0:e.startAngle,t.prototype.initWithDuration.call(o,o.duration,o.center,o.aLength,o.bLength,o.isClockwise,o.startAngle),o}return i(e,t),e.prototype.clone=function(){var t=new e({duration:this.duration,center:this.center,aLength:this.aLength,bLength:this.bLength,isClockwise:this.isClockwise,startAngle:this.startAngle});return this._cloneDecoration(t),t.initWithDuration(),t},e.prototype.initWithDuration=function(){},e.prototype.degreeToRadian=function(t){return Math.PI/180*t},e.prototype.ovalXat=function(t){var e=this.aLength,o=this.center;return this.isClockwise?-e*Math.cos(2*Math.PI*t+this.degreeToRadian(this.startAngle))+o.x:e*Math.cos(2*Math.PI*t+this.degreeToRadian(this.startAngle))+o.x},e.prototype.ovalYat=function(t){var e=this.bLength,o=this.center;return this.isClockwise?-e*Math.sin(2*Math.PI*t+this.degreeToRadian(this.startAngle))+o.y:e*Math.sin(2*Math.PI*t+this.degreeToRadian(this.startAngle))+o.y},e.prototype.update=function(t){if(this.target){var e=this.ovalXat(t),o=this.ovalYat(t);this.target.x=e,this.target.y=o}},e}(cc.ActionInterval);cc.actionOvalBy=function(t,e,o,i,a,r){return new n({duration:t,center:e,aLength:o,bLength:i,isClockwise:a,startAngle:r})},cc._RF.pop()},{}],CCCSinTo:[function(t,e,o){"use strict";cc._RF.push(e,"de6236Ll7BMRrmxLqmkg5FD","CCCSinTo");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=function(t){function e(e){var o=t.call(this)||this;return o.position=null,o.duration=null,o.height=null,o.loops=null,o.startPosition=null,o.startToEnd=null,o.fLength=null,o.offsetAngle=null,o.isInit=!1,o.position=e.position,o.duration=e.duration,o.height=e.height,o.loops=e.loops,t.prototype.initWithDuration.call(o,o.duration,o.position,o.height,o.loops),o}return i(e,t),e.prototype.initWithDuration=function(){},e.prototype.clone=function(){var t=new e({duration:this.duration,position:this.position,height:this.height,loops:this.loops});return this._cloneDecoration(t),t.initWithDuration(),t},e.prototype.update=function(t){if(this.isInit||(this.isInit=!0,this.startPosition=this.target.getPosition(),this.startToEnd=this.startPosition.sub(this.position),this.fLength=this.startToEnd.mag(),this.offsetAngle=180/Math.PI*Math.asin((this.position.y-this.startPosition.y)/this.fLength),this.startPosition.x>this.position.x&&this.position.y>this.startPosition.y?this.offsetAngle=180-this.offsetAngle:this.startPosition.x>this.position.x&&this.position.y<this.startPosition.y&&(this.offsetAngle=-180-this.offsetAngle)),this.target){var e=2*Math.PI*this.loops*t,o=this.height*Math.sin(e),i=this.fLength*t,n=this.startPosition.add(cc.v2(i,o)),a=this.byRotate(this.startPosition,n,this.offsetAngle);this.target.setPosition(a)}},e.prototype.byRotate=function(t,e,o){var i=Math.PI/180*o,n=(e.x-t.x)*Math.cos(i)-(e.y-t.y)*Math.sin(i)+t.x,a=(e.y-t.y)*Math.cos(i)+(e.x-t.x)*Math.sin(i)+t.y;return cc.v2(n,a)},e}(cc.ActionInterval);cc.sinTo=function(t,e,o,i){return new n({duration:t,position:e,height:o,loops:i})},cc._RF.pop()},{}],CommonAudio:[function(t,e,o){"use strict";cc._RF.push(e,"d6366oFxVBFt6iRNAJ/fhBy","CommonAudio");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.timeout=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.sInstance||(o.sInstance=this)},e.playClick=function(){cc.audioEngine.playEffect(o.sInstance.click,!1)},e.playTimeout=function(){cc.audioEngine.playEffect(o.sInstance.timeout,!1)},e.sInstance=null,n([s({type:cc.AudioClip})],e.prototype,"click",void 0),n([s({type:cc.AudioClip})],e.prototype,"timeout",void 0),e=o=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],CookieStore:[function(t,e,o){"use strict";cc._RF.push(e,"657b4plmhFKt7Bn/7oGZYvn","CookieStore"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Cookie"),n=t("./set-cookie"),a=t("./util"),r=t("../../../business/manager/AnalyticsManager"),s=t("../../../business/constants/PublicAnalyticsKey"),c=function(){function t(){this.data={}}return t.prototype.has=function(t){return t in this.data},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.delete=function(t){return!!this.has(t)&&(delete this.data[t],!0)},t.prototype.clear=function(){this.data={}},t.prototype.keys=function(){return Object.keys(this.data)},t.prototype.values=function(){var t=[];for(var e in this.data)this.data.hasOwnProperty(e)&&t.push(this.data[e]);return t},t}(),l=function(){function t(){this.__storageKey="__cookie_store__",this.__cookiesMap=this.__readFromStorage()}return t.prototype.has=function(t,e,o){return void 0!==this.getCookie(t,e,o)},t.prototype.get=function(t,e,o){void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o="/");var i=this.getCookie(t,e,o);return i?i.value:void 0},t.prototype.set=function(t,e,o){void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o={});var n=o.domain;if(!n||!t)throw new Error("name \u548c options.domain \u503c\u4e0d\u6b63\u786e\uff01");var a=new i.default(Object.assign(o,{name:t,value:e})),r=this.__cookiesMap.get(n)||new c;return r.set(t,a),this.__cookiesMap.set(n,r),this.__saveToStorage(),a},t.prototype.dir=function(){var t=this,e={};return this.__cookiesMap.keys().forEach(function(o){e[o]=t.getCookies(o)}),e},t.prototype.remove=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=""),e){var o=this.__cookiesMap.get(e);o&&o.delete(t)}else this.__cookiesMap.values().forEach(function(e){e.delete(t)});return this.__saveToStorage(),!0},t.prototype.getCookie=function(t,e,o){var i;void 0===t&&(t=""),void 0===e&&(e=""),void 0===o&&(o="/");for(var n=a.default.getCookieScopeDomain(e),r=this.__cookiesMap.keys(),s=0;s<r.length;s++){var c=r[s],l=this.__cookiesMap.get(c);if(!(e&&n.indexOf(c)<0)){if((i=l.get(t))&&i.isInPath(o)&&!i.isExpired())break;i=void 0}}return i},t.prototype.getCookies=function(t,e){var o={};return this.getCookiesArray(t,e).forEach(function(t){o[t.name]=t.value}),o},t.prototype.getCookiesArray=function(t,e){void 0===t&&(t=""),void 0===e&&(e="/");for(var o=[],i=a.default.getCookieScopeDomain(t),n=this.__cookiesMap.keys(),r=0;r<n.length;r++){var s=n[r],c=this.__cookiesMap.get(s);t&&i.indexOf(s)<0||c.values().forEach(function(t){t.isInPath(e)&&!t.isExpired()&&o.push(t)})}return o},t.prototype.setCookiesArray=function(t){var e=this;return void 0===t&&(t=[]),this.__cookiesMap=this.__cookiesMap||new c,t.forEach(function(t){var o=e.__cookiesMap.get(t.domain);o||(o=new c,e.__cookiesMap.set(t.domain,o)),o.set(t.name,t)}),this.__saveToStorage(),this.__cookiesMap},t.prototype.clearCookies=function(t){if(t){var e=this.__cookiesMap.get(t);e&&e.clear()}else this.__cookiesMap.clear();return this.__saveToStorage(),!0},t.prototype.getRequestCookies=function(t,e){var o=this.getCookiesArray(t,e);return this.stringify(o)},t.prototype.setResponseCookies=function(t,e){var o=this.parse(t,e);return this.setCookiesArray(o)},t.prototype.parse=function(t,e){return void 0===t&&(t=""),n.default.parse(n.default.splitCookiesString(t)).map(function(t){return t.domain||(t.domain=e),new i.default(t)})},t.prototype.stringify=function(t){return t.map(function(t){return t.toString()}).join("; ")},t.prototype.__saveToStorage=function(){var t=[];this.__cookiesMap.values().forEach(function(e){e.values().forEach(function(o){o.isExpired()?e.delete(o.name):o.isPersistence()&&t.push(o)})}),localStorage.setItem(this.__storageKey,JSON.stringify(t))},t.prototype.__readFromStorage=function(){var t;try{t=JSON.parse(localStorage.getItem(this.__storageKey)||"[]")}catch(e){r.analyticsManager.recordEvent(s.default.CATCH_ERROR,"cookiestore",e),t=[]}return t=t.map(function(t){return new i.default(t)}),this.setCookiesArray(t)},t}();o.default=l,cc._RF.pop()},{"../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AnalyticsManager":"AnalyticsManager","./Cookie":"Cookie","./set-cookie":"set-cookie","./util":"util"}],Cookie:[function(t,e,o){"use strict";cc._RF.push(e,"473d7tKGWBO+qnxM4iRnl21","Cookie"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./set-cookie"),n=t("./util"),a=function(){function t(t){this.name=t.name||"",this.value=t.value||"",this.domain=t.domain||"",this.path=t.path||"/",this.expires=t.expires?new Date(t.expires):null,this.maxAge=t.maxAge?parseInt(t.maxAge):null,this.httpOnly=!!t.httpOnly,this.dateTime=t.dateTime?new Date(t.dateTime):new Date}return t.prototype.set=function(t){void 0===t&&(t="");var e=i.default.parse(t)[0];return e&&(Object.assign(this,e),this.dateTime=new Date),this},t.prototype.isExpired=function(){return 0===this.maxAge||(this.maxAge>0?(Date.now()-this.dateTime.getTime())/1e3>this.maxAge:!!(this.expires&&this.expires<new Date))},t.prototype.isPersistence=function(){return!this.maxAge||this.maxAge>0},t.prototype.isInDomain=function(t){return n.default.getCookieScopeDomain(t).indexOf(this.domain)>=0},t.prototype.isInPath=function(t){return 0===t.indexOf(this.path)||this.path.replace(/\/$/,"")===t},t.prototype.toString=function(){return[this.name,this.value].join("=")},t}();o.default=a,cc._RF.pop()},{"./set-cookie":"set-cookie","./util":"util"}],CustomAdManager:[function(t,e,o){"use strict";cc._RF.push(e,"280332tj2dLu4JBqJOcMgCz","CustomAdManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/DeviceUtil"),n=t("../../core/util/LogUtil"),a=t("../../core/util/PlatformUtil"),r=t("../constants/AdTag"),s=t("../constants/BusinessGlobal"),c=t("../constants/PublicAnalyticsKey"),l=t("../handler/AdInfoHandler"),u=t("./AnalyticsManager"),d=function(){function t(){this.isLoaded=!1,this.reject=null,this.customAd=null,this.customBannerAd=null,this.customSingleAd=null,this.customTopAd=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.createAd()},t.prototype.isValid=function(){return this.customAd&&this.isLoaded||a.default.isWxSimulatePlatform()},t.prototype.getId=function(){return l.adInfoHandler.getId(r.default.NATIVE)},t.prototype.getBannerId=function(){return l.adInfoHandler.getId(r.default.NATIVE)},t.prototype.getTopId=function(){return l.adInfoHandler.getId(r.default.NATIVE_TOP)},t.prototype.getSingleId=function(){return l.adInfoHandler.getId(r.default.NATIVE_SINGLE)},t.prototype.canUse=function(){return!!(a.default.isWxSimulatePlatform()||this.getId()&&a.default.isWechatGame()&&wx.createCustomAd)},t.prototype.createAd=function(){var t=this;return new Promise(function(e,o){if(a.default.isWxSimulatePlatform())e(null);else if(t.getId())if(window.wx&&wx.createCustomAd){t.reject=o,t.isLoaded=!1;var n=t.getId(),r=.5*(i.deviceUtil.screenWidth-i.deviceUtil.cocos2Unit(560)),s=.5*(i.deviceUtil.screenHeight-i.deviceUtil.cocos2Unit(160))+i.deviceUtil.cocos2Unit(15),l=wx.createCustomAd({adUnitId:n,style:{left:r,top:s,fixed:!0}});u.analyticsManager.recordEvent(c.default.NATIVE_AD_MODULE,n,"\u8bf7\u6c42\u6b21\u6570"),l.onLoad(function(o){console.log("==== customAd onload",o),t.isLoaded=!0,e(null)}),l.onClose(function(){console.log("==== customAd onClose"),t.reject&&t.reject()}),l.onError(function(e){console.log("==== customAd onError",e),u.analyticsManager.recordEvent(c.default.NATIVE_AD_MODULE,n,e),t.hide(),o(e)}),t.customAd=l}else o();else o()})},t.prototype.load=function(){return this.isValid()?new Promise(function(t,e){t(null)}):this.createAd()},t.prototype.show=function(){return!!this.isLoaded&&(this.isLoaded=!1,this.customAd.show(),!0)},t.prototype.hide=function(){this.customAd&&(this.customAd.hide&&this.customAd.hide(),this.customAd.destroy&&this.customAd.destroy(),this.customAd=null)},t.prototype.showBanner=function(){var t=.5*(i.deviceUtil.screenWidth-i.deviceUtil.cocos2Unit(520)),e=i.deviceUtil.screenHeight-i.deviceUtil.cocos2Unit(150);return this.createAdShow(this.getBannerId(),t,e,"customBannerAd")},t.prototype.createTopAd=function(){var t=.5*(i.deviceUtil.screenWidth-i.deviceUtil.cocos2Unit(432));return this.createAdShow(this.getTopId(),t,0,"customTopAd")},t.prototype.showTopAd=function(){this.customTopAd&&(this.customTopAd.show(),u.analyticsManager.recordEvent(c.default.NATIVE_AD_COUNT,"\u66dd\u5149"))},t.prototype.hideTopAd=function(){this.customTopAd&&(this.customTopAd.hide(),this.check())},t.prototype.check=function(){var t=this;setTimeout(function(){s.BusinessGlobal.dialogShowCount>0&&(t.customTopAd&&t.customTopAd.hide(),t.customSingleAd&&t.customSingleAd.hide())},1e3)},t.prototype.showSingleAd=function(t,e){var o=.5*i.deviceUtil.getScreneWidth()+t-38,n=.5*i.deviceUtil.getScreneHeight()-e-52,a=i.deviceUtil.cocos2Unit(o),r=i.deviceUtil.cocos2Unit(n);return this.createAdShow(this.getSingleId(),a,r,"customSingleAd")},t.prototype.createAdShow=function(t,e,o,i){var r=this;return new Promise(function(l,d){if(a.default.isWxSimulatePlatform())l(null);else{if(!t)return n.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u66ff\u4ee3\u65b9\u6848 \u683c\u5b50\u539f\u751f\u5e7f\u544a\u5c55\u793a\u5931\u8d25:\u4e0d\u5b58\u5728\u5355\u5143id"),void d();if(!window.wx||!wx.createCustomAd)return n.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u66ff\u4ee3\u65b9\u6848 \u683c\u5b50\u539f\u751f\u5e7f\u544a\u5c55\u793a\u5931\u8d25:\u975e\u5fae\u4fe1/\u4e0d\u5b58\u5728\u521b\u5efa\u65b9\u6cd5"),void d();r.reject=d;var p=wx.createCustomAd({adUnitId:t,style:{left:e,top:o,fixed:!0}});u.analyticsManager.recordEvent(c.default.NATIVE_AD_MODULE,t,"\u8bf7\u6c42\u6b21\u6570"),console.log("==== createAdShow 111 ",t),p.onLoad(function(t){console.log("==== createAdShow onload",t),("customTopAd"!==i||s.BusinessGlobal.dialogShowCount<=0)&&(console.log("==== createAdShow onload 2222",t),p.show(),u.analyticsManager.recordEvent(c.default.NATIVE_AD_COUNT,"\u66dd\u5149"),r.check()),l(null)}),p.onClose(function(){console.log("==== showBanner customAd onClose"),u.analyticsManager.recordEvent(c.default.NATIVE_AD_COUNT,"\u5b8c\u6210")}),p.onError(function(e){console.log("====  customAd onError",e),r.hide(),u.analyticsManager.recordEvent(c.default.NATIVE_AD_MODULE,t,e),d(e)}),r[i]=p}})},t.prototype.hideBanner=function(){this.destoryAd("customBannerAd")},t.prototype.hideSingleAd=function(){this.destoryAd("customSingleAd")},t.prototype.destoryTopAd=function(){this.destoryAd("customTopAd")},t.prototype.destoryAd=function(t){this[t]&&(this[t].hide(),this[t].destroy(),this[t]=null)},t.INSTANCE=null,t}();o.default=d,o.customAdManager=d.getInstance(),cc._RF.pop()},{"../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/AdTag":"AdTag","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../handler/AdInfoHandler":"AdInfoHandler","./AnalyticsManager":"AnalyticsManager"}],CustomBanner:[function(t,e,o){"use strict";cc._RF.push(e,"672a3YIFd9OP7t/TUts64xE","CustomBanner");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/constants/BusinessGlobal"),r=t("../../../business/manager/JumpManager"),s=t("../../../business/constants/PublicAnalyticsKey"),c=t("../../../core/util/ImageUtil"),l=t("../../../business/manager/GuideManager"),u=t("../../../business/manager/AudioManager"),d=t("../../../business/manager/NativeAdManager"),p=t("../../../core/util/PlatformUtil"),h=t("../../../core/component/LabelControlMaxFontByWidth"),f=t("../../../business/constants/GuideId"),g=t("../../../business/manager/DialogManager"),_=t("../../../business/manager/MediaManager"),y=cc._decorator,m=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteIcon=null,e.sprAdTypeIcon=null,e.labelTitle=null,e.labelDes=null,e.acTouch=null,e.btnClose=null,e.bean=null,e.initiativeClose=!1,e.paintSuccess=!1,e.name="CustomBanner",e}return i(e,t),e.prototype.onLoad=function(){this.node.y=.5*cc.find("Canvas").height,a.BusinessGlobal.customBanner=this,this.setNode()},e.prototype.onDestroy=function(){a.BusinessGlobal.customBanner=null,d.nativeAdManager.reload()},e.prototype.setNode=function(){var t=this;this.node.active=!1,this.node.zIndex=9997,this.node.addComponent(cc.BlockInputEvents),this.node.on(cc.Node.EventType.TOUCH_END,function(){u.audioManager.playEffect(t.acTouch),t.navigateToApp()}),this.btnClose.on(cc.Node.EventType.TOUCH_START,function(){t.initiativeClose=!0,t.closeEvent()},this),this.btnClose.active=!0,this.node.x=-45},e.prototype.getIntiativeCloseState=function(){return this.initiativeClose},e.prototype.closeEvent=function(){u.audioManager.playEffect(this.acTouch),this.hide()},e.prototype.paintNative=function(t){var e=this;this.node.active=!0;var o=t.icon;!t.icon&&t.imgUrlList.length>0&&(o=t.imgUrlList[0]),this.drawIcon(o,t.creativeType),this.labelTitle.string=t.title,this.labelDes.string=t.desc,7===t.creativeType&&(p.default.isOppo()||p.default.isOppoSimulatePlatform())&&(this.labelDes.maxWidth=350),this.labelDes.setNowBestShowFont(),d.nativeAdManager.reportAdShow(t.adId),this.node.off(cc.Node.EventType.TOUCH_END),this.node.on(cc.Node.EventType.TOUCH_END,function(){d.nativeAdManager.hasClick=!0,u.audioManager.playEffect(e.acTouch),d.nativeAdManager.reportAdClick(t.adId),d.nativeAdManager.reload(),_.mediaManager.hideCustomBanner(),e.scheduleOnce(function(){_.mediaManager.showCustomBanner()},2)})},e.prototype.show=function(t){if(void 0===t&&(t=this.bean),p.default.isOppo()||p.default.isOppoSimulatePlatform()||p.default.isVivo()||p.default.isVivoSimulatePlatform()){var e=null;return this.sprAdTypeIcon.node.active=!0,d.nativeAdManager.adList&&d.nativeAdManager.adList.length>0&&(e=d.nativeAdManager.adList[0]),void(e&&!g.dialogManager.isDialogShow()?(this.node.active=!0,this.paintSuccess||this.paintNative(e)):this.node.active=!1)}t?this.node.active||(this.sprAdTypeIcon.node.active=!1,this.node.active=!0,this.bean=t,this.drawIcon(t.logo),this.labelTitle.string=t.programName,this.labelDes.string=t.description,this.labelDes.setNowBestShowFont(),r.jumpManager.buttonShow(t,s.default.GM_BANNER,1),g.dialogManager.isDialogShow()&&(this.node.active=!1)):this.node.active=!1},e.prototype.navigateToApp=function(){this.bean&&(l.guideManager.addBeanBlack(f.default.BANNER,this.bean),r.jumpManager.navigateToApp(this.bean,s.default.GM_BANNER,f.default.BANNER,0,!0).then(function(){}))},e.prototype.drawIcon=function(t,e){var o=this;void 0===e&&(e=0),this.spriteIcon.spriteFrame=null,7===e&&p.default.isOppo()&&(this.spriteIcon.node.scale=.3,this.spriteIcon.node.position=cc.v2(-95,-37),this.labelTitle.node.position=cc.v2(-38,-27),this.labelDes.node.position=cc.v2(-38,-58)),t&&(this.paintSuccess=!0,c.default.loadSpriteFrame(t).then(function(t){o.spriteIcon.spriteFrame=t,7===e&&p.default.isOppo()?o.spriteIcon.node.setContentSize(320,210):o.spriteIcon.node.setContentSize(55,55)}).catch(function(){o.paintSuccess=!1}))},e.prototype.hide=function(){this.node.active=!1},n([v({tooltip:"",type:cc.Sprite})],e.prototype,"spriteIcon",void 0),n([v({tooltip:"",type:cc.Sprite})],e.prototype,"sprAdTypeIcon",void 0),n([v({tooltip:"",type:cc.Label})],e.prototype,"labelTitle",void 0),n([v({tooltip:"",type:h.default})],e.prototype,"labelDes",void 0),n([v({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),n([v({tooltip:"\u5173\u95ed\u6309\u94ae\u8282\u70b9",type:cc.Node})],e.prototype,"btnClose",void 0),e=n([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/DialogManager":"DialogManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/MediaManager":"MediaManager","../../../business/manager/NativeAdManager":"NativeAdManager","../../../core/component/LabelControlMaxFontByWidth":"LabelControlMaxFontByWidth","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/PlatformUtil":"PlatformUtil"}],CustomerServiceDialog:[function(t,e,o){"use strict";cc._RF.push(e,"50d1b5mkx1NyKVO3+7+op5e","CustomerServiceDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("../../business/base/BaseWelcomeDialog"),s=t("../../business/constants/PublicAnalyticsKey"),c=t("../../business/constants/PublicConst"),l=t("../../business/manager/ActivityManager"),u=t("../../business/manager/AnalyticsManager"),d=t("../../business/manager/AudioManager"),p=t("../../business/manager/DialogManager"),h=t("../../core/util/ImageUtil");(function(t){t[t.TYPE1=1]="TYPE1",t[t.TYPE2=2]="TYPE2"})(a||(a={}));var f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnCancel=null,e.nodeFrame=null,e.nodeBg=null,e.nodeBanner=null,e.labTip=null,e.acTouch=null,e.laterTime=0,e.type=a.TYPE1,e.customerServicePosData=null,e.activityPos=l.ActivityPosition.CustomerServiceDialog,e}return i(e,t),e.prototype.onLoad=function(){this.welcomeDialogNumber=c.WelcomeDialogNumber.customerService,this.node.zIndex=9999,this.customerServicePosData=l.activityManager.getMyPosData(l.ActivityList.ACTIVITY_BACKSTAGE_SUPPORTER,this.activityPos),this.nodeFrame.scale=.5,p.dialogManager.addOneActivity(),t.prototype.onLoad.call(this),u.analyticsManager.recordEvent(s.default.ACTIVITY_WINDOW_SHOW),this.drawBg(),this.initListener(),this.loadCloseBtn(),this.nodeFrame.runAction(cc.scaleTo(.2,1))},e.prototype.initListener=function(){var t=this;this.btnCancel.on(cc.Node.EventType.TOUCH_END,function(){d.audioManager.playEffect(t.acTouch),t.hideDialog()}),this.nodeBanner.on(cc.Node.EventType.TOUCH_END,function(){u.analyticsManager.recordEvent(s.default.ACTIVITY_WINDOW_CLICK),d.audioManager.playEffect(t.acTouch),l.activityManager.backstageSupporterDataDeal(t.customerServicePosData,t.activityPos),t.unschedule(t.hideDialog)})},e.prototype.drawBg=function(){var t=this;h.default.loadSpriteFrame(this.customerServicePosData.img_url).then(function(e){if(e){var o=t.nodeBanner.getComponent(cc.Sprite);o.spriteFrame=e,o.node.setContentSize(e.getOriginalSize())}}).catch(function(){})},e.prototype.loadCloseBtn=function(){this.laterTime=0,this.unschedule(this.hideCloseBtn),this.schedule(this.hideCloseBtn,1)},e.prototype.hideCloseBtn=function(){this.laterTime++,this.labTip.string="("+(3-this.laterTime)+")",3===this.laterTime&&(this.labTip.node.active=!1,this.unschedule(this.hideCloseBtn),this.btnCancel.active=!0,this.updateTimer())},e.prototype.hideDialog=function(){this.node.active=!1,this.node.parent=null,this.unschedule(this.hideDialog),this.destroy()},e.prototype.updateTimer=function(){this.unschedule(this.hideDialog),this.scheduleOnce(this.hideDialog,30)},n([_({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"btnCancel",void 0),n([_({tooltip:"\u5f39\u7a97\u4e3b\u4f53",type:cc.Node})],e.prototype,"nodeFrame",void 0),n([_({tooltip:"\u906e\u7f69",type:cc.Node})],e.prototype,"nodeBg",void 0),n([_({tooltip:"banner",type:cc.Node})],e.prototype,"nodeBanner",void 0),n([_({tooltip:"\u5012\u8ba1\u65f6\u6807\u7b7e",type:cc.Label})],e.prototype,"labTip",void 0),n([_({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([g],e)}(r.default);o.default=y,cc._RF.pop()},{"../../business/base/BaseWelcomeDialog":"BaseWelcomeDialog","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/constants/PublicConst":"PublicConst","../../business/manager/ActivityManager":"ActivityManager","../../business/manager/AnalyticsManager":"AnalyticsManager","../../business/manager/AudioManager":"AudioManager","../../business/manager/DialogManager":"DialogManager","../../core/util/ImageUtil":"ImageUtil"}],DataAnalysisConfig:[function(t,e,o){"use strict";cc._RF.push(e,"6fab5910FRLz4f3Zo19fxan","DataAnalysisConfig"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AppConfig");function n(){return window.swan}o.default={tdConfig:{appkey:"A61069C021114F4382D3B9B05FFEB30F",appName:i.default.appName,versionName:i.default.versionName,versionCode:i.default.versionCode,wxAppid:i.default.wechatgameAppID,getLocation:!1},babybusConfig:{sign:{signKey:n()?"5i62B5JrJNwUgnJwTJdPvhSkfxh7a1zJ":"VR1BtITxk1oNSh4nQUVdlKUgJTg4sQOp",xxTeaKey:n()?"E7xOuTepwLmFAjojeyTJZ76IOuYO7K7x":"TVYo5XPpl7ckK4MfCmCkCsR88hqilrDG"},ProductID:n()?518:513},eventNames:{HEAD_CLICK:"head_click"}},cc._RF.pop()},{"./AppConfig":"AppConfig"}],DateUtil:[function(t,e,o){"use strict";cc._RF.push(e,"35d89JBuVtCVZMWE43QUZKf","DateUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.time=function(){var t=new Date,e=t.getHours(),o=t.getMinutes(),i=t.getSeconds();return(e<10?"0"+e:""+e)+":"+(o<10?"0"+o:""+o)+":"+(i<10?"0"+i:""+i)},t.date=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.getTimeStamp=function(){return(new Date).getTime()},t.getTenTimeStamp=function(){return Math.floor((new Date).getTime()/1e3)},t.getWeekDay=function(){return(new Date).getDay()},t.todayZeroTimestamp=function(){return new Date((new Date).toLocaleDateString()).getTime()},t}();o.default=i,cc._RF.pop()},{}],DebugManager:[function(t,e,o){"use strict";cc._RF.push(e,"871cd4+Vb9GnoqumYyGIMOW","DebugManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/StoreUtil"),n=t("../../core/util/ToastUtil"),a="TRAIN_SCENE_MAKE_A_DEBUG",r=function(){function t(){this.debug=!1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.debug="1"===i.default.get(a,"0"),this.debug&&n.default.toastShort("debug")},t.prototype.setDebug=function(t){t?i.default.set(a,"1"):i.default.remove(a)},t.INSTANCE=void 0,t}();o.DebugManager=r,o.debugManager=r.getInstance(),cc._RF.pop()},{"../../core/util/StoreUtil":"StoreUtil","../../core/util/ToastUtil":"ToastUtil"}],DebugSwitch:[function(t,e,o){"use strict";cc._RF.push(e,"67816fSpKBHtL7oSSQCusn9","DebugSwitch");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DebugType"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchState=a.SwitchState.CLOSE,e.strSwitch="",e.cooling=!1,e}return i(e,t),e.prototype.setData=function(t){t.debugData[this.strSwitch]=this.switchState!==a.SwitchState.CLOSE,console.log("\u6211\u8c03\u6574\u4e86\u53c2\u6570\u540e",this.strSwitch,"\u662f",t.debugData[this.strSwitch])},e.prototype.onLoad=function(){this.initNodeEvent()},e.prototype.initNodeEvent=function(){this.node.getChildByName("touch").on(cc.Node.EventType.TOUCH_START,this.switchTouchEvent,this)},e.prototype.switchTouchEvent=function(){this.cooling||(this.cooling=!0,this.switchState=this.switchState===a.SwitchState.CLOSE?a.SwitchState.OPEN:a.SwitchState.CLOSE,this.node.getChildByName("arrayDes").getChildByName("set").position=[cc.v2(-23,0),cc.v2(23,0)][this.switchState],this.cooling=!1)},n([c({tooltip:"\u5f00\u5173\u5b57\u6bb5"})],e.prototype,"strSwitch",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./DebugType":"DebugType"}],DebugType:[function(t,e,o){"use strict";cc._RF.push(e,"8b1fb+PchhFIY3ekEk3EjQ6","DebugType"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.CLOSE=0]="CLOSE",t[t.OPEN=1]="OPEN"}(o.SwitchState||(o.SwitchState={})),cc._RF.pop()},{}],DebugWindow:[function(t,e,o){"use strict";cc._RF.push(e,"83034kCZ9lNOrhKgI0XlqTG","DebugWindow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/constants/BusinessGlobal"),r=t("../../../business/manager/AudioManager"),s=t("./DebugSwitch"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSwitch=[],e.debugData={isValid:!1,rewardReturn:!1},e.cooling=!1,e.openAll=!1,e.btnCloseOrSet=null,e.switchValid=null,e.switchRewardReturn=null,e.nodeMask=null,e.nodeBtnParent=null,e.audTouch=null,e}return i(e,t),e.prototype.onLoad=function(){this.initNodeListener(),this.initWindowView(),this.initWindowData()},e.prototype.initNodeListener=function(){this.btnCloseOrSet.getChildByName("touch").on(cc.Node.EventType.TOUCH_START,this.openOrSetTouchEvent,this)},e.prototype.initWindowView=function(){this.btnCloseOrSet.getChildByName("arrayDec").getChildByName("openOrset").getComponent(cc.Label).string="\u5f00\u542f",this.nodeBtnParent.children.forEach(function(t){"openOrsetBtn"!==t.name&&(t.active=!1)}),this.nodeMask.active=!1},e.prototype.initWindowData=function(){this.node.parent=cc.find("Canvas").parent,cc.game.addPersistRootNode(this.node),this.node.zIndex=99001,a.BusinessGlobal.debugComponent=this},e.prototype.openOrSetTouchEvent=function(t){var e=this;if(!this.cooling){this.cooling=!0,r.audioManager.playEffect(this.audTouch);var o=cc.sequence(cc.scaleTo(.2,.9),cc.scaleTo(.2,1),cc.callFunc(function(){e.cooling=!1,e.openAll?(e.btnCloseOrSet.getChildByName("arrayDec").getChildByName("openOrset").getComponent(cc.Label).string="\u5f00\u542f",e.nodeBtnParent.children.forEach(function(t){"openOrsetBtn"!==t.name&&(t.active=!1)}),e.nodeMask.active=!1,e.switchValid.getComponent(s.default).setData(e),e.switchRewardReturn.getComponent(s.default).setData(e)):(e.btnCloseOrSet.getChildByName("arrayDec").getChildByName("openOrset").getComponent(cc.Label).string="\u8bbe\u7f6e",e.nodeBtnParent.children.forEach(function(t){t.active=!0}),e.nodeMask.active=!0),e.openAll=!e.openAll}));this.btnCloseOrSet.runAction(o)}},n([u({tooltip:"\u5f00\u542f\u8bbe\u7f6e\u6309\u94ae",type:cc.Node})],e.prototype,"btnCloseOrSet",void 0),n([u({tooltip:"\u586b\u5145\u5f00\u5173\u8282\u70b9",type:cc.Node})],e.prototype,"switchValid",void 0),n([u({tooltip:"\u6fc0\u52b1\u89c6\u9891\u8fd4\u56de\u5f00\u5173\u8282\u70b9",type:cc.Node})],e.prototype,"switchRewardReturn",void 0),n([u({tooltip:"\u906e\u7f69\u8282\u70b9",type:cc.Node})],e.prototype,"nodeMask",void 0),n([u({tooltip:"\u6309\u94ae\u7236\u8282\u70b9",type:cc.Node})],e.prototype,"nodeBtnParent",void 0),n([u({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"audTouch",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/manager/AudioManager":"AudioManager","./DebugSwitch":"DebugSwitch"}],DeviceUtil:[function(t,e,o){"use strict";cc._RF.push(e,"e653d86iSdDaL+KUeolmTyb","DeviceUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../BBGameWeb/Script/BBChannel"),n=t("./PlatformUtil"),a=function(){function t(){this.deviceName="",this.cccScreenHeight=0,this.cccScreenWidth=0,this.language="",this.systemVersion="",this.brand="",this.devicePixelRatio="",this.cccStatusBarHeight=0,this.statusBarHeight=0,this.screenWidth=0,this.screenHeight=0,this.ratio=1,this.platform="",this.wxSdkVersion="",this.baiduSdkVersion="",this.host="",this.isProtrait=!1,this.standardHeight=540,this.standardWidth=960,this.channel="",this.isLowFPS=!1,this.isBugDevice=!1,this.CHCode="",this.isVip=null,this.adSwitch=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){n.default.isWechatGame()||n.default.isTouTiao()?(this.initWechat(),this.initChannel()):n.default.isBaiduGame()?(this.initBaidu(),this.initBabybus()):n.default.isVivo()?this.initVivo():n.default.isKwaigame()&&this.initKwaigame(),this.setIsBugDevice()},t.prototype.initChannel=function(){if(n.default.isWechatGame()&&wx.getLaunchOptionsSync)try{var t=wx.getLaunchOptionsSync();t&&t.query&&t.query.AChannelId&&(this.channel=t.query.AChannelId)}catch(t){console.log("initChannel error",t)}},t.prototype.isChannelTale=function(){return"tale"===this.channel},t.prototype.getExtraHeight=function(){return this.getScreneHeight()-this.standardHeight},t.prototype.getExtraWidth=function(){return this.getScreneWidth()-this.standardWidth},t.prototype.getScreneHeight=function(){return this.cccScreenHeight<=0&&this.initViewSize(),this.cccScreenHeight},t.prototype.getScreneWidth=function(){return this.cccScreenWidth<=0&&this.initViewSize(),this.cccScreenWidth},t.prototype.initViewSize=function(){var t=cc.view.getVisibleSize();this.cccScreenHeight=t.height,this.cccScreenWidth=t.width},t.prototype.setOrientation=function(t){this.isProtrait=t,this.init()},t.prototype.setStandardSize=function(t,e){this.standardHeight=t,this.standardWidth=e,this.init()},t.prototype.initVivo=function(){var t=qg.getSystemInfoSync();this.deviceName=t.model;var e=Math.max(t.screenHeight,t.screenWidth),o=Math.min(t.screenHeight,t.screenWidth);this.ratio=Math.min(e/Math.max(this.standardHeight,this.standardWidth),o/Math.min(this.standardHeight,this.standardWidth));var i=this.unit2Cocos(e),n=this.unit2Cocos(o);this.screenHeight=this.isProtrait?e:o,this.screenWidth=this.isProtrait?o:e,this.cccScreenHeight=this.isProtrait?i:n,this.cccScreenWidth=this.isProtrait?n:i,this.statusBarHeight=t.statusBarHeight,this.cccStatusBarHeight=this.unit2Cocos(t.statusBarHeight),this.language=t.language,this.systemVersion=t.osVersionName||"1",this.wxSdkVersion=t.SDKVersion,this.brand=t.brand,this.devicePixelRatio=t.pixelRatio},t.prototype.initKwaigame=function(){var t=this;ks.getSystemInfo({response:function(e){t.platform=e.platform}})},t.prototype.isIOS=function(){return"iOS"===this.platform},t.prototype.setIsBugDevice=function(){cc.sys.os===cc.sys.OS_ANDROID&&(6===cc.sys.osMainVersion||7===cc.sys.osMainVersion)&&cc.sys.browserType===cc.sys.BROWSER_TYPE_CHROME&&+cc.sys.browserVersion.split(".")[0]>89&&(this.isBugDevice=!0)},t.prototype.setIsLowFPS=function(){var t=cc.sys.os===cc.sys.OS_ANDROID,e=i.default.channel;!n.default.isBBMGSimulatePlatform()||1!==e&&2!==e?t&&cc.sys.osMainVersion<7&&(this.isLowFPS=!0):this.isLowFPS=!0},t.prototype.initWechat=function(){var t=wx.getSystemInfoSync();this.deviceName=t.model;var e=Math.max(t.screenHeight,t.screenWidth),o=Math.min(t.screenHeight,t.screenWidth);this.ratio=Math.min(e/Math.max(this.standardHeight,this.standardWidth),o/Math.min(this.standardHeight,this.standardWidth));var i=this.unit2Cocos(e),n=this.unit2Cocos(o);this.screenHeight=this.isProtrait?e:o,this.screenWidth=this.isProtrait?o:e,this.cccScreenHeight=this.isProtrait?i:n,this.cccScreenWidth=this.isProtrait?n:i,this.statusBarHeight=t.statusBarHeight,this.cccStatusBarHeight=this.unit2Cocos(t.statusBarHeight),this.language=t.language,this.systemVersion=t.system,this.wxSdkVersion=t.SDKVersion,this.brand=t.brand,this.devicePixelRatio=t.pixelRatio,console.log(this),wx.setKeepScreenOn&&wx.setKeepScreenOn({keepScreenOn:!0})},t.prototype.initBaidu=function(){var t=swan.getSystemInfoSync();console.log("initBaidu",t),this.deviceName=t.model;var e=Math.max(t.screenHeight,t.screenWidth),o=Math.min(t.screenHeight,t.screenWidth);this.ratio=Math.min(e/Math.max(this.standardHeight,this.standardWidth),o/Math.min(this.standardHeight,this.standardWidth));var i=this.unit2Cocos(e),n=this.unit2Cocos(o);this.screenHeight=this.isProtrait?e:o,this.screenWidth=this.isProtrait?o:e,this.cccScreenHeight=this.isProtrait?i:n,this.cccScreenWidth=this.isProtrait?n:i,this.statusBarHeight=t.statusBarHeight,this.cccStatusBarHeight=this.unit2Cocos(t.statusBarHeight),this.language=t.language,this.systemVersion=t.system,this.wxSdkVersion=t.SDKVersion,this.brand=t.brand,this.devicePixelRatio=t.pixelRatio,this.host=t.host,console.log(this)},t.prototype.unit2Cocos=function(t){return console.log("unit2Cocos:"+t+" = "+this.ratio),t/this.ratio},t.prototype.cocos2Unit=function(t){return t*this.ratio},t.prototype.isValidVersion=function(t){try{return!n.default.isBaiduGame()||1!==this.compareVersion(t,this.baiduSdkVersion)}catch(t){return!0}},t.prototype.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var i=0;i<o;i++){var n=parseInt(t[i],10),a=parseInt(e[i],10);if(n>a)return 1;if(n<a)return-1}return 0},t.prototype.isLteSDKVersion=function(t){if(!this.wxSdkVersion)return!1;var e=function(t){var e=t.split(".");return 1e6*+e[0]+1e3*+e[1]+ +e[2]};return e(this.wxSdkVersion)>=e(t)},t.prototype.isHostBabybus=function(){return"babybus"===this.host},t.prototype.isIphoneX=function(){return this.deviceName&&this.deviceName.indexOf("iPhone X")>=0},t.prototype.initBabybus=function(){var t=this;try{swan.onShow(function(e){try{var o=e.query;t.CHCode=void 0!==o.CHCode?o.CHCode:t.CHCode,t.isVip=void 0!==o.isVip?o.isVip:t.isVip,t.adSwitch=void 0!==o.adSwitch?o.adSwitch:t.adSwitch}catch(t){console.log(t)}});var e=swan.getLaunchOptionsSync().query;this.CHCode=e.CHCode,this.isVip=e.isVip,this.adSwitch=e.adSwitch}catch(t){console.log(t)}},t.prototype.getChannel=function(){return this.CHCode},t.prototype.isUserVip=function(){return 1===this.isVip},t.prototype.isSwitchUndefined=function(){return void 0===this.adSwitch||null==this.adSwitch},t.prototype.isBannerClose=function(){return!!this.isHostBabybus()&&(!!this.isUserVip()||(!!this.isSwitchUndefined()||(1===this.adSwitch||2===this.adSwitch)))},t.prototype.isRewardClose=function(){return!!this.isHostBabybus()&&(!!this.isUserVip()||(!!this.isSwitchUndefined()||(1===this.adSwitch||3===this.adSwitch)))},t.prototype.exitApplication=function(){n.default.isVivo()?qg.exitApplication():n.default.isOppo()?qg.exitApplication({fail:function(t){console.log("exitApplication fail",t)}}):console.log("exitApplication no api")},t.INSTANCE=void 0,t}();o.DeviceUtil=a,o.deviceUtil=a.get(),cc._RF.pop()},{"../../../../BBGameWeb/Script/BBChannel":"BBChannel","./PlatformUtil":"PlatformUtil"}],DialogChildAdaptive:[function(t,e,o){"use strict";cc._RF.push(e,"d538ejrqkNLxr2QR9r9WPR8","DialogChildAdaptive");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/util/PlatformUtil"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childYOffSet=-100,e}return i(e,t),e.prototype.onLoad=function(){var t=this;a.default.isBBMGSimulatePlatform()&&this.node.children.forEach(function(e){"mask"!==e.name&&(e.y+=t.childYOffSet)})},n([c({tooltip:"\u5f39\u7a97\u5b50\u8282\u70b9"})],e.prototype,"childYOffSet",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../core/util/PlatformUtil":"PlatformUtil"}],DialogExtra:[function(t,e,o){"use strict";cc._RF.push(e,"aa4a5twOwRLcI3i+smpur5E","DialogExtra");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DialogItem"),r=t("../../../core/util/PlatformUtil"),s=t("../../../core/util/DeviceUtil"),c=t("../../../business/manager/GuideManager"),l=t("../../../core/util/ArrayUtil"),u=t("../../../core/util/ImageUtil"),d=t("../../../business/manager/JumpManager"),p=t("../../../business/constants/PublicAnalyticsKey"),h=t("../../../business/manager/TagManager"),f=t("../../../core/util/MathUtil"),g=t("../../../business/manager/AudioManager"),_=t("../../../core/util/LogUtil"),y=t("../../../business/constants/GuideId"),m=cc._decorator,v=m.ccclass,b=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeLeft=null,e.nodeRight=null,e.nodeLeftBg=null,e.nodeRightBg=null,e.sfNew=null,e.sfHot=null,e.sfAd=null,e.prefabItemH=null,e.prefabItemV=null,e.acTouch=null,e.arrItem=[],e.name="DialogExtra",e}return i(e,t),e.prototype.onLoad=function(){r.default.isTouTiao()||s.deviceUtil.isHostBabybus()||r.default.isVivo()||s.deviceUtil.isChannelTale()?this.node.active=!1:(this.adapterView(),this.createItems())},e.prototype.show=function(){this.init()},e.prototype.changeActive=function(t,e,o){this.node.active=t,this.nodeLeft.active=e,this.nodeLeftBg.active=e,this.nodeRight.active=o,this.nodeRightBg.active=o},e.prototype.createItems=function(){this.nodeLeft.removeAllChildren(),this.nodeRight.removeAllChildren(),this.arrItem=[];for(var t=0;t<6;t++){var e=cc.instantiate(this.prefabItemH);e.y=t%3==0?150:t%3==1?0:-150,t<3?this.nodeLeft.addChild(e):this.nodeRight.addChild(e);var o=e.getComponent(a.default);this.arrItem.push(o)}},e.prototype.adapterView=function(){var t=s.deviceUtil.getScreneWidth()-960,e=180+.3*t;this.nodeLeftBg.width=e,this.nodeRightBg.width=e,this.nodeLeft.x=-(390+.35*t),this.nodeRight.x=390+.35*t,this.nodeLeftBg.x=-(390+.35*t),this.nodeRightBg.x=390+.35*t},e.prototype.init=function(){if(r.default.isOppo()||r.default.isOppoSimulatePlatform()){var t=c.guideManager.getDataByWeight(y.default.DIALOG_LEFT,6);return t||(this.node.active=!1),void this.initView(t)}var e=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H1,1),o=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H2,1),i=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H3,1),n=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H4,1),a=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H5,1),s=c.guideManager.getDataByWeight(y.default.DIALOG_EXTRA_H6,1),l=this.getItem(e,1),u=this.getItem(o,2),d=this.getItem(i,3),p=this.getItem(n,4),h=this.getItem(a,5),f=this.getItem(s,6);l||u||d||p||h||f?this.initView([l,u,d,p,h,f]):this.node.active=!1},e.prototype.initView=function(t){var e=this;l.default.isNull(t)?this.node.active=!1:this.arrItem.forEach(function(o,i){var n=t[i];n?(o.node.active=!0,e.initNodeItem(o,n,i)):o.node.active=!1})},e.prototype.initNodeItem=function(t,e,o){try{this.setItemTagHotOrNew(t,e),this.setItemListener(t,e,o);var i;if(!(i=l.default.getRandomItem(e.horizontalMaterials)))return;this.setItemSlogan(t.labelSlogon,i.slogan),this.setItemPic(t,i)}catch(t){console.log(t)}},e.prototype.setItemSlogan=function(t,e){try{e=e||"",t&&e&&(t.string=e)}catch(t){_.default.errorLog("DialogExtra setItemSlogon error",t)}},e.prototype.setItemTagHotOrNew=function(t,e){t.spriteTagHotOrNew&&(e.isNew?t.spriteTagHotOrNew.spriteFrame=this.sfNew:e.isHot?t.spriteTagHotOrNew.spriteFrame=this.sfHot:"2"===e.productType?t.spriteTagHotOrNew.spriteFrame=this.sfAd:t.spriteTagHotOrNew.node.active=!1)},e.prototype.setItemPic=function(t,e){l.default.isNotNull(e.picList)&&(e.picList.length>1?(t.spriteIcon.spriteFrame=null,t.spriteIcon.node.active=!1,t.nodeAni.active=!0,u.default.createAniByUrls(t.nodeAni,e.picList)):(t.spriteIcon.spriteFrame=null,t.nodeAni.removeComponent(cc.Animation),t.spriteIcon.node.active=!0,t.nodeAni.active=!1,u.default.loadSpriteFrame(e.picList[0]).then(function(e){t.spriteIcon.spriteFrame=e}).catch(function(){})))},e.prototype.setItemListener=function(t,e,o){var i=this,n=t.node;d.jumpManager.buttonShow(e,p.default.GM_DIALOG,o+1),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_MOVE),n.off(cc.Node.EventType.TOUCH_START),n.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_END,function(t){g.audioManager.playEffect(i.acTouch),n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){c.guideManager.addBeanBlack(i.getGuideIdByIndex(o),e),d.jumpManager.navigateToApp(e,p.default.GM_DIALOG,i.getGuideIdByIndex(o),o+1).then(function(){})}))),t.stopPropagation()})},e.prototype.getGuideIdByIndex=function(t){var e=y.default.DIALOG_EXTRA_H1;return 1===t?e=y.default.DIALOG_EXTRA_H2:2===t?e=y.default.DIALOG_EXTRA_H3:3===t?e=y.default.DIALOG_EXTRA_H4:4===t?e=y.default.DIALOG_EXTRA_H5:5===t&&(e=y.default.DIALOG_EXTRA_H6),e},e.prototype.getItem=function(t,e){if(l.default.isNull(t))return null;var o=h.tagManager.getDialogAppIndex(e);return o<0?(o=f.default.random(0,t.length-1),h.tagManager.recordDialogAppIndex(e,""+(o+1)),t[o]):o>=t.length?(h.tagManager.recordDialogAppIndex(e,"1"),t[0]):(h.tagManager.recordDialogAppIndex(e,""+(o+1)),t[o])},n([b(cc.Node)],e.prototype,"nodeLeft",void 0),n([b(cc.Node)],e.prototype,"nodeRight",void 0),n([b(cc.Node)],e.prototype,"nodeLeftBg",void 0),n([b(cc.Node)],e.prototype,"nodeRightBg",void 0),n([b(cc.SpriteFrame)],e.prototype,"sfNew",void 0),n([b(cc.SpriteFrame)],e.prototype,"sfHot",void 0),n([b(cc.SpriteFrame)],e.prototype,"sfAd",void 0),n([b(cc.Prefab)],e.prototype,"prefabItemH",void 0),n([b(cc.Prefab)],e.prototype,"prefabItemV",void 0),n([b({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/TagManager":"TagManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/DeviceUtil":"DeviceUtil","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil","../../../core/util/MathUtil":"MathUtil","../../../core/util/PlatformUtil":"PlatformUtil","./DialogItem":"DialogItem"}],DialogItem:[function(t,e,o){"use strict";cc._RF.push(e,"b8a20tvshdCDqnIses7vTmP","DialogItem");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteIcon=null,e.nodeAni=null,e.spriteTagHotOrNew=null,e.labelSlogon=null,e}return i(e,t),n([s(cc.Sprite)],e.prototype,"spriteIcon",void 0),n([s(cc.Node)],e.prototype,"nodeAni",void 0),n([s(cc.Sprite)],e.prototype,"spriteTagHotOrNew",void 0),n([s(cc.Label)],e.prototype,"labelSlogon",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],DialogManager:[function(t,e,o){"use strict";cc._RF.push(e,"c226fZIGoRJjrLgi/pOucvO","DialogManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/DateUtil"),n=t("../../core/util/LogUtil"),a=t("../../core/util/MathUtil"),r=t("../../core/util/PlatformUtil"),s=t("../../core/util/StoreUtil"),c=t("../constants/BusinessGlobal"),l=t("../constants/PublicEventName"),u=t("./ActivityManager"),d=t("./BoxAdManager"),p=t("./CustomAdManager"),h=t("./LoadManager"),f=t("./MediaManager"),g="todayFirstShowDialogManager",_="showNewRecommendTimeDialogManager",y="showActivityTodayDialogManager",m="firstNotShowNewRecommendTimeDialogManager";o.DialogManagerEvent={loadNextWelcomeWindow:"loadNextWelcomeWindowDialogMangager"};var v=function(){function t(){this.selectShowInterstitialDialogTimes=0,this.firstEnterWelcome=!0,this.showNewRecommendTimeToday=0,this.showActivityToday=[],this.nowCreateWelcomeNumber=0,this.isShowNewRecommendOnce=!1}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){var t=this;this.isDayFirstShow()?(s.default.set(y,JSON.stringify(this.showActivityToday)),s.default.set(_,String(this.showNewRecommendTimeToday)),s.default.set(m,"0")):(this.showActivityToday=JSON.parse(s.default.get(y,"[]")),this.showNewRecommendTimeToday=Number(s.default.get(_,"0"))),cc.systemEvent.on(o.DialogManagerEvent.loadNextWelcomeWindow,function(){t.loadNextWelcomeWindow()})},t.prototype.isDialogShow=function(){return c.BusinessGlobal.dialogShowCount>0},t.prototype.onDialogShow=function(){c.BusinessGlobal.dialogShowCount+=1,n.default.gameLog(c.BusinessGlobal.dialogShowCount,"\u7ea7\u5f39\u7a97\u6253\u5f00!"),f.mediaManager.hideGamePageRecommend(),f.mediaManager.hideCustomBanner(),f.mediaManager.hideRecommendMore(),f.mediaManager.hideMoreRecommend(),f.mediaManager.hideGameIcons(),f.mediaManager.hideDrawerV1(),p.customAdManager.hideSingleAd(),p.customAdManager.hideTopAd(),d.boxAdManager.hideBoxPortalAd()},t.prototype.onDialogHide=function(){n.default.gameLog(c.BusinessGlobal.dialogShowCount,"\u7ea7\u5f39\u7a97\u5173\u95ed!"),c.BusinessGlobal.dialogShowCount-=1,0===c.BusinessGlobal.dialogShowCount&&(f.mediaManager.showGamePageRecommend(),f.mediaManager.showCustomBanner(),f.mediaManager.showRecommendMore(),f.mediaManager.showMoreRecommend(),f.mediaManager.showGameIcons(),f.mediaManager.showDrawerV1(),p.customAdManager.hideTopAd(),p.customAdManager.showTopAd(),d.boxAdManager.showBoxPortalAd())},t.prototype.welcomeDialogCloseEnd=function(){cc.systemEvent.emit(l.default.WELCOME_DIALOG_ALL_CLOSE)},t.prototype.setArriveDemandCallBack=function(t,e,o){cc.systemEvent.emit(l.default.SET_SIGN_PARAMS,t,e,o)},t.prototype.createWelcomeDialog=function(){this.nowCreateWelcomeNumber=0,!r.default.isBrowser()||r.default.isWeb()||c.BusinessGlobal.simulatePlatform===r.SimulatePlatform.wx||c.BusinessGlobal.simulatePlatform===r.SimulatePlatform.baidu?this.loadNextWelcomeWindow():this.welcomeDialogCloseEnd()},t.prototype.createServeiceWindow=function(){var t=this;this.ifSatisfyShowCustomServiceRemand()?(this.firstEnterWelcome=!1,f.mediaManager.showCustomerService().catch(function(){t.loadNextWelcomeWindow()})):this.loadNextWelcomeWindow()},t.prototype.createNewRecommend=function(){var t=this;h.loadManager.showLoadingWithMask(),this.ifSatisfyShowNewRecommendRemand()?f.mediaManager.showNewRecommend().catch(function(){t.loadNextWelcomeWindow()}):this.loadNextWelcomeWindow(),this.addOneShowNewRecommendRecord()},t.prototype.isDayFirstShow=function(){var t=i.default.todayZeroTimestamp();return""+t!==s.default.get(g,"")&&(s.default.set(g,""+t),!0)},t.prototype.ifSatisfyShowNewRecommendRemand=function(){return!this.isShowNewRecommendOnce&&(!r.default.isWechatGame()&&!r.default.isWxSimulatePlatform()||((0===this.showNewRecommendTimeToday?30:50)>a.default.random(0,100)||1===this.showNewRecommendTimeToday&&"0"===s.default.get(m,"0")))},t.prototype.ifSatisfyShowCustomServiceRemand=function(){if(!this.firstEnterWelcome)return!1;var t=u.activityManager.getMyPosData(u.ActivityList.ACTIVITY_BACKSTAGE_SUPPORTER,u.ActivityPosition.CustomerServiceDialog);return!!t&&-1===this.showActivityToday.indexOf(t.a_id)},t.prototype.setFirstShowNewRecommend=function(){1===this.showNewRecommendTimeToday&&s.default.set(m,"1")},t.prototype.addOneActivity=function(){var t=u.activityManager.getMyPosData(u.ActivityList.ACTIVITY_BACKSTAGE_SUPPORTER,u.ActivityPosition.CustomerServiceDialog);t&&(this.showActivityToday.push(t.a_id),s.default.set(y,JSON.stringify(this.showActivityToday)))},t.prototype.addOneShowNewRecommendRecord=function(){this.showNewRecommendTimeToday+=1,this.isShowNewRecommendOnce=!0,s.default.set(_,""+this.showNewRecommendTimeToday)},t.prototype.loadNextWelcomeWindow=function(){switch(this.nowCreateWelcomeNumber){case 0:this.nowCreateWelcomeNumber+=1,this.createServeiceWindow();break;case 1:this.nowCreateWelcomeNumber+=1,this.createNewRecommend();break;case 2:this.nowCreateWelcomeNumber+=1,this.welcomeDialogCloseEnd()}},t.INSTANCE=void 0,t}();o.DialogManager=v,o.dialogManager=v.get(),cc._RF.pop()},{"../../core/util/DateUtil":"DateUtil","../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicEventName":"PublicEventName","./ActivityManager":"ActivityManager","./BoxAdManager":"BoxAdManager","./CustomAdManager":"CustomAdManager","./LoadManager":"LoadManager","./MediaManager":"MediaManager"}],DragonBoneBase:[function(t,e,o){"use strict";cc._RF.push(e,"9bd12UmgPFJN7/5zgRoO2a6","DragonBoneBase");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeArray=[],e.ske=null,e.armature=null,e.index=0,e.isUpdateSize=!0,e.animationPrefix="",e.dragonAnimationState=null,e}return i(e,t),e.prototype.onLoad=function(){this.dragonBoneIndex(this.index)},e.prototype.dragonBoneIndex=function(t){if(void 0===t&&(t=0),this.skeArray[t]){this.ske&&this.ske.removeEventListener(dragonBones.EventObject.COMPLETE,this.dragonAnimationComplete,this),this.index=t,this.ske=this.skeArray[this.index],this.isUpdateSize&&this.node.setContentSize(this.ske.node.getContentSize());for(var e=0;e<this.skeArray.length;e++)e===this.index?this.skeArray[e].node.active=!0:this.skeArray[e].node.active=!1;this.registerEventListener(),this.armature=this.ske.armature()}else console.error("index \u4e3a"+t+"\u7684\u9aa8\u9abc\u4e0d\u5b58\u5728")},e.prototype.getSlot=function(t){var e=this;return new Promise(function(o,i){var n=e.armature.getSlot(t);n?o(n):(console.log("Slot is NULL:",t),i())})},e.prototype.registerEventListener=function(){this.ske.removeEventListener(dragonBones.EventObject.COMPLETE,this.dragonAnimationComplete,this),this.ske.addEventListener(dragonBones.EventObject.COMPLETE,this.dragonAnimationComplete,this)},e.prototype.playAnimation=function(t,e,o){void 0===e&&(e=-1),void 0===o&&(o=1),this.ske.timeScale=o,this.dragonAnimationState=this.ske.playAnimation(this.animationPrefix+t,e)},e.prototype.attachedNode=function(t,e){var o=this.ske.attachUtil;o?(o.generateAllAttachedNodes(),o.getAttachedNodes(t)[0].addChild(e)):console.error("creator version >= 2.3.0")},e.prototype.destroyAttachedNodes=function(t){this.ske.attachUtil.destroyAttachedNodes(t)},e.prototype.changeBone=function(t,e,o,i){o||(o=e);var n=this.armature.getSlot(t);dragonBones.CCFactory.getInstance().replaceSlotDisplay(this.ske.getArmatureKey(),"armatureName",e,o,n,i)},e.prototype.hideBone=function(t){this.setSlotDisPlayIndex(t,-1)},e.prototype.setSlotDisPlayIndex=function(t,e){void 0===e&&(e=0),this.getSlot(t).then(function(t){t.displayIndex=e})},e.prototype.setBoneScale=function(t,e,o){this.armature.getSlot(t).offset.scaleX=e,this.armature.getSlot(t).offset.scaleY=o},e.prototype.setBoneOpacity=function(t,e){this.getSlot(t).then(function(t){t._color.a=e})},e.prototype.getBoneOpacity=function(t){return this.armature.getSlot(t)._color.a},e.prototype.getBoneColor=function(t){return this.armature.getSlot(t)._color},e.prototype.setBoneColor=function(t,e){this.getSlot(t).then(function(t){t._color.r=e.r,t._color.g=e.g,t._color.b=e.b,t._color.a=e.a})},e.prototype.changeBoneColor=function(t,e,o,i){var n=this;void 0===o&&(o=.5),void 0===i&&(i=60),this.getSlot(t).then(function(a){var r=new cc.Node,s=n.getBoneColor(t),c=s,l=o*i,u=(e.r-s.r)/l,d=(e.g-s.g)/l,p=(e.b-s.b)/l;cc.tween(r).then(cc.sequence(cc.repeat(cc.sequence(cc.callFunc(function(){c=new cc.Color(c.r+u,c.g+d,c.b+p),n.setBoneColor(t,c)}),cc.delayTime(1/i)),l),cc.callFunc(function(){n.setBoneColor(t,e),r.destroy()}))).start()})},e.prototype.flipX=function(t){this.armature.flipX=t},e.prototype.flipY=function(t){this.armature.flipY=t},e.prototype.flip=function(t){this.flipX(t),this.flipY(t)},e.prototype.dragonAnimationComplete=function(){},n([s({type:dragonBones.ArmatureDisplay,tooltip:"\u9aa8\u9abc\u7ec4\u4ef6\u6570\u7ec4"})],e.prototype,"skeArray",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],DrawerV1:[function(t,e,o){"use strict";cc._RF.push(e,"b361baguMlA/qrq0VHNDa+O","DrawerV1");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r,s=t("../../business/manager/AudioManager"),c=t("../../business/manager/GuideManager"),l=t("../../core/util/ImageUtil"),u=t("../../business/manager/JumpManager"),d=t("../../business/constants/PublicAnalyticsKey"),p=t("../../core/util/MathUtil"),h=t("../../business/constants/BusinessGlobal"),f=t("../../business/manager/MediaManager"),g=t("../../business/constants/GuideId"),_=t("../../business/manager/DialogManager"),y=t("../../core/util/PlatformUtil"),m=t("../../business/manager/CustomAdManager");(function(t){t[t.EXTEND=0]="EXTEND",t[t.NOTEXTEND_HAVE_ICON=1]="NOTEXTEND_HAVE_ICON",t[t.NOTEXTEND_DONT_HAVE_ICON=2]="NOTEXTEND_DONT_HAVE_ICON",t[t.NONE=3]="NONE"})(a||(a={})),function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(r||(r={}));var v=cc._decorator,b=v.ccclass,S=v.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.acTouch=null,e.arrTypeExtend=[],e.arrBtnExtend=[],e.arrIconBtn=[],e.nodeMask=null,e.extendStat=a.NOTEXTEND_HAVE_ICON,e.position=r.RIGHT,e.extend1Cooling=!1,e.extend2Cooling=!1,e.data=null,e.dontHaveBtn=!1,e.nodeY=0,e.inAction=!1,e.createdWxSingeAd=!1,e.name="DrawerV1",e.oneIconRecod=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=9999,_.dialogManager.isDialogShow()&&(this.node.active=!1)},e.prototype.onDestroy=function(){h.BusinessGlobal.drawerV1=null,this.createdWxSingeAd&&this.extendStat===a.NOTEXTEND_HAVE_ICON&&m.customAdManager.hideSingleAd()},e.prototype.onEnable=function(){if(this.createdWxSingeAd&&this.extendStat===a.NOTEXTEND_HAVE_ICON&&this.isValid){var t=this.node.scaleX>0?0:-20;m.customAdManager.hideSingleAd(),m.customAdManager.showSingleAd(this.node.scaleX*(.5*cc.winSize.width-70)+t,18+this.nodeY)}},e.prototype.onDisable=function(){this.createdWxSingeAd&&this.extendStat===a.NOTEXTEND_HAVE_ICON&&m.customAdManager.hideSingleAd()},e.prototype.getData=function(){var t=this.dontHaveBtn?g.default.BUS:g.default.DRAWER;this.data=c.guideManager.getDataByWeight(t,6),this.data?this.initListener():this.node.active=!1},e.prototype.thirtyScendsHideIcon=function(){this.extendStat=a.NOTEXTEND_DONT_HAVE_ICON,y.default.isWechatGame()&&m.customAdManager.hideSingleAd(),this.initState()},e.prototype.tenScendsUpdateOneIcon=function(){var t=this;if(!this.dontHaveBtn){for(var e=p.default.random(0,5);this.oneIconRecod===e;)e=p.default.random(0,5);this.oneIconRecod=e;var o=this.data[this.oneIconRecod];this.arrIconBtn[6].getChildByName("touch").getChildByName("name").getComponent(cc.Label).string=o.programName,l.default.loadSpriteFrame(o.logo).then(function(e){t.arrIconBtn[6].getChildByName("touch").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e}).catch(function(){});var i=this.dontHaveBtn?g.default.BUS:g.default.DRAWER,n=this.dontHaveBtn?d.default.GM_BUS:d.default.GM_OPPO_DRAWER;u.jumpManager.buttonShow(o,n,this.oneIconRecod),this.arrIconBtn[6].getChildByName("touch").off(cc.Node.EventType.TOUCH_END),this.arrIconBtn[6].getChildByName("touch").on(cc.Node.EventType.TOUCH_END,function(){s.audioManager.playEffect(t.acTouch),c.guideManager.addBeanBlack(i,o),u.jumpManager.navigateToApp(o,n,i,t.oneIconRecod).then(function(){})})}},e.prototype.initListener=function(){var t=this;this.arrIconBtn.forEach(function(e,o){var i=t.data[o];if(i||6===o){6===o&&(t.oneIconRecod=p.default.random(0,5),i=t.data[t.oneIconRecod],h.BusinessGlobal.wxDrawerAlternatelyRecord+=1,y.default.isWechatGame()&&h.BusinessGlobal.wxDrawerAlternatelyRecord%2!=0?(e.getChildByName("touch").active=!1,e.getChildByName("dir1").scaleX=1.2,e.getChildByName("dir1").scaleY=1.4,t.arrTypeExtend[1].getChildByName("extendBtn").getChildByName("touch").scaleY=1.4,t.arrTypeExtend[1].getChildByName("extendBtn").getChildByName("touch").position=cc.v2(305,-2),t.createdWxSingeAd=!0):(t.unschedule(t.tenScendsUpdateOneIcon),t.schedule(t.tenScendsUpdateOneIcon,10))),e.getChildByName("touch").getChildByName("name").getComponent(cc.Label).string=i.programName,l.default.loadSpriteFrame(i.logo).then(function(t){e.getChildByName("touch").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=t}).catch(function(){});var n=t.dontHaveBtn?g.default.BUS:g.default.DRAWER,a=t.dontHaveBtn?d.default.GM_BUS:d.default.GM_OPPO_DRAWER;u.jumpManager.buttonShow(i,a,o),e.getChildByName("touch").off(cc.Node.EventType.TOUCH_END),e.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,function(){s.audioManager.playEffect(t.acTouch),c.guideManager.addBeanBlack(n,i),u.jumpManager.navigateToApp(i,a,n,o).then(function(){})})}else;})},e.prototype.initParams=function(t,e,o,i){void 0===o&&(o=0),void 0===i&&(i=!1),this.position=e,this.extendStat=t,this.nodeY=o,this.dontHaveBtn=i,this.getData(),this.initPosition(),this.initState()},e.prototype.initPosition=function(){var t=this.node.getComponent(cc.Widget);this.node.getChildByName("extendTwo").y=this.nodeY,this.node.getChildByName("extendThree").y=this.nodeY,this.position===r.LEFT?(t.enabled=!1,t.isAlignLeft=!0,t.isAlignRight=!1,t.left=0,t.enabled=!0,this.node.scaleX=-1,this.arrTypeExtend[0].getChildByName("title").scaleX=-1,this.arrIconBtn.forEach(function(t){if(t.getChildByName("touch").x=-1*t.getChildByName("touch").x,t.scaleX=-1,t.getChildByName("dir1")){var e=-1;y.default.isWechatGame()&&h.BusinessGlobal.wxDrawerAlternatelyRecord%2==1&&(e=-1.2),t.getChildByName("dir1").scaleX=e,t.getChildByName("dir1").x=-1*t.getChildByName("dir1").x}})):this.position===r.RIGHT&&(t.enabled=!1,t.isAlignLeft=!1,t.isAlignRight=!0,t.right=0,t.enabled=!0,this.node.scaleX=1)},e.prototype.initState=function(){var t=this;if(this.arrTypeExtend.forEach(function(t){t.active=!1}),this.arrBtnExtend.forEach(function(t){t.off(cc.Node.EventType.TOUCH_END)}),this.arrTypeExtend[this.extendStat].active=!0,this.extendStat===a.NOTEXTEND_HAVE_ICON)if(this.createdWxSingeAd){this.arrTypeExtend[this.extendStat].active=!1;var e=this.node.scaleX>0?0:-20;m.customAdManager.showSingleAd(this.node.scaleX*(.5*cc.winSize.width-70)+e,18+this.nodeY).then(function(){t.arrTypeExtend[t.extendStat].active=!0,t.arrBtnExtend[t.extendStat].on(cc.Node.EventType.TOUCH_END,t.extendEvent1,t),t.unschedule(t.thirtyScendsHideIcon),t.scheduleOnce(t.thirtyScendsHideIcon,30),console.log("\u539f\u751f\u5e7f\u544a\u521b\u5efa\u6210\u529f")}).catch(function(e){t.node.destroy(),console.log("\u539f\u751f\u5e7f\u544a\u521b\u5efa\u5931\u8d25",e)})}else this.arrBtnExtend[this.extendStat].on(cc.Node.EventType.TOUCH_END,this.extendEvent1,this),this.unschedule(this.thirtyScendsHideIcon),this.scheduleOnce(this.thirtyScendsHideIcon,30);else this.extendStat===a.NOTEXTEND_DONT_HAVE_ICON?this.arrBtnExtend[this.extendStat].on(cc.Node.EventType.TOUCH_END,this.extendEvent1,this):this.extendStat===a.EXTEND&&(this.unschedule(this.thirtyScendsHideIcon),this.arrBtnExtend[this.extendStat].on(cc.Node.EventType.TOUCH_END,this.extendEvent2,this));_.dialogManager.isDialogShow()&&(this.node.active=!1)},e.prototype.isCooling=function(t){return!!this[t+"Cooling"]||(s.audioManager.playEffect(this.acTouch),this[t+"Cooling"]=!0,!1)},e.prototype.extendEvent1=function(){var t=this;this.inAction||this.isCooling("extend1")||(this.inAction=!0,this.extendStat=a.EXTEND,this.nodeMask.active=!0,y.default.isWechatGame()&&m.customAdManager.hideSingleAd(),this.initState(),this.arrTypeExtend[this.extendStat].stopAllActions(),this.arrTypeExtend[this.extendStat].x=-174,this.arrTypeExtend[this.extendStat].runAction(cc.sequence(cc.moveTo(.5,cc.v2(-480,0)),cc.callFunc(function(){f.mediaManager.hideGamePageRecommend(),f.mediaManager.hideCustomBanner(),f.mediaManager.hideRecommendMore(),f.mediaManager.hideGameIcons(),t.inAction=!1}))),this.extend1Cooling=!1)},e.prototype.extendEvent2=function(){var t=this;this.inAction||this.isCooling("extend2")||(this.inAction=!0,this.nodeMask.active=!1,this.dontHaveBtn?this.extendStat=a.NONE:this.extendStat=a.NOTEXTEND_DONT_HAVE_ICON,this.arrTypeExtend[0].stopAllActions(),this.arrTypeExtend[0].x=-480,this.arrTypeExtend[0].runAction(cc.sequence(cc.moveTo(.5,cc.v2(-174,0)),cc.callFunc(function(){_.dialogManager.isDialogShow()||(f.mediaManager.showGamePageRecommend(),f.mediaManager.showCustomBanner(),f.mediaManager.showRecommendMore(),f.mediaManager.showGameIcons()),t.initState(),t.inAction=!1,t.extend2Cooling=!1}))))},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1,this.inAction=!1},n([S({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"acTouch",void 0),n([S({tooltip:"\u6269\u5c55\u7c7b\u578b\u8282\u70b9\u7ec4",type:[cc.Node]})],e.prototype,"arrTypeExtend",void 0),n([S({tooltip:"\u6269\u5c55\u7c7b\u578b\u6309\u94ae\u8282\u70b9\u7ec4",type:[cc.Node]})],e.prototype,"arrBtnExtend",void 0),n([S({tooltip:"\u56fe\u6807\u6309\u94ae",type:[cc.Node]})],e.prototype,"arrIconBtn",void 0),n([S({tooltip:"\u906e\u7f69\u8282\u70b9",type:cc.Node})],e.prototype,"nodeMask",void 0),e=n([b],e)}(cc.Component);o.default=w,cc._RF.pop()},{"../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/GuideId":"GuideId","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AudioManager":"AudioManager","../../business/manager/CustomAdManager":"CustomAdManager","../../business/manager/DialogManager":"DialogManager","../../business/manager/GuideManager":"GuideManager","../../business/manager/JumpManager":"JumpManager","../../business/manager/MediaManager":"MediaManager","../../core/util/ImageUtil":"ImageUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil"}],Drawer:[function(t,e,o){"use strict";cc._RF.push(e,"cd0f4h5NpBACrvUi1DNpPny","Drawer");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../core/util/DeviceUtil"),r=t("../../../business/manager/GuideManager"),s=t("../../../core/util/ArrayUtil"),c=t("../../../core/util/ImageUtil"),l=t("../../../business/manager/JumpManager"),u=t("../../../business/constants/PublicAnalyticsKey"),d=t("../../../business/constants/GuideId"),p=cc._decorator,h=p.ccclass,f=p.property,g=-480,_=-70,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeFrame=null,e.btnClose=null,e.nodeLayout=null,e.frameX=g,e.btnCloseX=_,e.isShow=!1,e.name="Drawer",e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=9997,this.initView(),this.initListener(),this.node.active=!1},e.prototype.initView=function(){this.frameX=g-.5*a.deviceUtil.getExtraWidth(),this.btnCloseX=_-.2*a.deviceUtil.getExtraWidth(),this.nodeFrame.x=this.frameX,this.btnClose.x=this.btnCloseX,this.nodeFrame.width=463+.3*a.deviceUtil.getExtraWidth(),this.nodeLayout.x=222+.3*a.deviceUtil.getExtraWidth()},e.prototype.initLayout=function(){var t=r.guideManager.getDataByWeight(d.default.BUS,6);s.default.isNull(t)?this.node.active=!1:this.nodeLayout.children.forEach(function(e,o){var i=t[o];i?(e.active=!0,c.default.loadSpriteFrame(i.logo).then(function(t){e.getComponent(cc.Sprite).spriteFrame=t}).catch(function(){}),l.jumpManager.buttonShow(i,u.default.GM_BUS,o),e.off(cc.Node.EventType.TOUCH_END),e.on(cc.Node.EventType.TOUCH_END,function(){r.guideManager.addBeanBlack(d.default.BUS,i),l.jumpManager.navigateToApp(i,u.default.GM_BUS,d.default.BUS,o).then(function(){})})):e.active=!1})},e.prototype.initListener=function(){this.btnClose.on(cc.Node.EventType.TOUCH_END,this.hide,this)},e.prototype.show=function(){this.initLayout(),this.node.active=!0,this.isShow=!0;this.nodeFrame.x=this.frameX-500,this.btnClose.x=this.btnCloseX-500;this.btnClose.runAction(cc.moveTo(.5,this.btnCloseX,this.btnClose.y)),this.nodeFrame.runAction(cc.moveTo(.5,this.frameX,this.nodeFrame.y))},e.prototype.hide=function(){var t=this;if(this.isShow&&this.node.active){this.isShow=!1;this.btnClose.runAction(cc.moveTo(.5,this.btnCloseX-500,this.btnClose.y)),this.nodeFrame.runAction(cc.sequence(cc.moveTo(.5,this.frameX-500,this.nodeFrame.y),cc.callFunc(function(){t.node.active=!1})))}},n([f(cc.Node)],e.prototype,"nodeFrame",void 0),n([f(cc.Node)],e.prototype,"btnClose",void 0),n([f(cc.Node)],e.prototype,"nodeLayout",void 0),e=n([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/DeviceUtil":"DeviceUtil","../../../core/util/ImageUtil":"ImageUtil"}],ErrorWindow:[function(t,e,o){"use strict";cc._RF.push(e,"96bcayxEyVCp6qX1c+bfWwb","ErrorWindow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/helper/LoadHelper"),r=t("../../../business/manager/LoadManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.okBtn=null,e.cancelBtn=null,e.listI18nSpr=[],e.okCooling=!1,e.cancelCooling=!1,e.loadSceneName="",e.returnSceneName="",e}return i(e,t),e.prototype.eventOk=function(){this.okCooling||(this.okCooling=!0,this.node.active=!1,r.loadManager.loadWithErrorWindow(this.loadSceneName,this.returnSceneName),this.okCooling=!1)},e.prototype.eventCancel=function(){this.cancelCooling||(r.loadManager.loadWithErrorWindow(this.returnSceneName,this.returnSceneName),this.cancelCooling=!0,this.node.active=!1,this.cancelCooling=!1)},e.prototype.show=function(t,e){this.loadSceneName=t,this.returnSceneName=e},e.prototype.onLoad=function(){var t=this;this.listI18nSpr[0].node.active=!1,a.loadHelper.loadLibImageRes("error").then(function(e){t.listI18nSpr[0].spriteFrame=e,t.listI18nSpr[0].node.active=!0}),this.listI18nSpr[1].node.active=!1,a.loadHelper.loadLibImageRes("errorBg").then(function(e){t.listI18nSpr[1].spriteFrame=e,t.listI18nSpr[1].node.active=!0})},n([l({tooltip:"\u786e\u8ba4\u8282\u70b9",type:cc.Node,displayName:"\u786e\u8ba4\u6309\u94ae"})],e.prototype,"okBtn",void 0),n([l({tooltip:"\u53d6\u6d88\u8282\u70b9",type:cc.Node,displayName:"\u53d6\u6d88\u6309\u94ae"})],e.prototype,"cancelBtn",void 0),n([l({tooltip:"i18n\u7cbe\u7075\u7ec4",type:[cc.Sprite]})],e.prototype,"listI18nSpr",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../business/helper/LoadHelper":"LoadHelper","../../../business/manager/LoadManager":"LoadManager"}],EventKeys:[function(t,e,o){"use strict";cc._RF.push(e,"436e9R3X61JKJZQ8jiBmdXb","EventKeys"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={age:"AgeGroup",appName:"AppName",appId:"AppID",versionCode:"Versioncode",operation:"Operation",errorInfo:"ErroInfo",playTime:"playtime",source:"Source"},cc._RF.pop()},{}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"936f8sNF5VL4aXxPcJLE5e3","EventMgr"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.event_list=null,this.event_list={}}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.on=function(t,e,o){t&&e&&o?(this.event_list[t]||(this.event_list[t]=[]),this.event_list[t].push({eventName:t,cb:e,target:o})):console.error("Event:\u6ce8\u518c\u4e8b\u4ef6\u683c\u5f0f\u9519\u8bef"+t)},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=this.event_list[t];if(i)for(var n=0;n<i.length;n++)i[n].eventName===t&&i[n].cb.apply(i[n].target,e)},t.prototype.emitOnce=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=this.event_list[t];if(i){for(var n=i.length-1;n>=0;n--)if(i[n].eventName===t)return void i[n].cb.apply(i[n].target,e)}else console.log("Event:this once event:"+t+" is no receiver")},t.prototype.off=function(t,e){var o=this.event_list[t];if(o)for(var i=o.length-1;i>=0;i--)o[i].eventName===t&&o[i].target===e&&(o.splice(i,1),0===o.length&&delete this.event_list[t]);else console.log("Emitter:this event:"+t+" Removed")},t.prototype.removeByEvent=function(t){this.event_list[t]||console.log("Emitter:this event:"+t+" is null"),delete this.event_list[t]},t.prototype.removeByObj=function(t){var e=this;Object.keys(this.event_list).forEach(function(o){var i=e.event_list[o];if(i)for(var n=i.length-1;n>=0;n--)i[n].target===t&&(i.splice(n,1),0===i.length&&delete e.event_list[o])})},t.prototype.cleanAll=function(){this.event_list={}},t}();o.default=i,cc._RF.pop()},{}],EventReporter:[function(t,e,o){"use strict";cc._RF.push(e,"a08dbiaiuNNQqzTQQ1UTekz","EventReporter"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../Config/BBAppConfig"),a=t("./EventKeys");(function(t){t.DIALOG_SHOW="\u51fa\u73b0\u5f39\u7a97",t.DIALOG_HIDE="\u70b9\u51fb\u5173\u95ed",t.CLICK_REWARDVIDEOAD="\u70b9\u51fb\u89c2\u770b\u6fc0\u52b1\u5e7f\u544a",t.REQUESET_FOR_REWARDVIDEOAD="\u6fc0\u52b1\u5e7f\u544a\u8bf7\u6c42",t.REWARDVIDEOAD_RESPONSE_SUCCESS="\u6fc0\u52b1\u5e7f\u544a\u6570\u636e\u83b7\u53d6\u6210\u529f",t.REWARDVIDEOAD_RESPONSE_FAIL="\u6fc0\u52b1\u5e7f\u544a\u6570\u636e\u83b7\u53d6\u5931\u8d25",t.REWARDVIDEOAD_SUCCESS="\u5956\u52b1\u83b7\u53d6\u6210\u529f",t.REWARDVIDEOAD_FAIL="\u5956\u52b1\u83b7\u53d6\u5931\u8d25",t.HOME_ENTER="\u9996\u9875-\u8fdb\u5165",t.HOME_CLICK_EXIT="\u9996\u9875-\u70b9\u51fb\u8fd4\u56de",t.HOME_CLICK_PLAY="\u9996\u9875-\u70b9\u51fb\u5f00\u59cbPlay\u6309\u94ae",t.SECOND_ENTER="\u4e8c\u7ea7\u9875\u9762-\u8fdb\u5165",t.VIP_DIALOG_SHOW="\u5f15\u5bfc\u8d2d\u4e70\u4f1a\u5458\u5f39\u7a97-\u51fa\u73b0",t.VIP_DIALOG_CLOSE="\u5f15\u5bfc\u8d2d\u4e70\u4f1a\u5458\u5f39\u7a97-\u70b9\u51fb\u5173\u95ed",t.VIP_DIALOG_MASK="\u5f15\u5bfc\u8d2d\u4e70\u4f1a\u5458\u5f39\u7a97-\u70b9\u51fb\u906e\u7f69",t.VIP_PURCHASE_TRIGGER="\u5f15\u5bfc\u8d2d\u4e70\u4f1a\u5458\u5f39\u7a97-\u70b9\u51fb\u5f00\u901a\u4f1a\u5458",t.VIP_PURCHASE_SUCCESS="\u70b9\u51fb\u5f00\u901a\u4f1a\u5458-\u8fd4\u56de\u6709\u8d2d\u4e70\u4f1a\u5458"})(i||(i={}));var r=function(){function t(){}return t.setAppInfoInited=function(){t.sHasAppInfoInited=!0},t.onDialogShow=function(t){this.reportRewardedVideoAdEvent(i.DIALOG_SHOW,t)},t.onDialogClickHide=function(t){this.reportRewardedVideoAdEvent(i.DIALOG_HIDE,t)},t.onClickForVideoAd=function(t){this.reportRewardedVideoAdEvent(i.CLICK_REWARDVIDEOAD,t)},t.onRequestForVideoAd=function(t){this.reportRewardedVideoAdEvent(i.REQUESET_FOR_REWARDVIDEOAD,t)},t.onVideoAdResponseSuccess=function(t){this.reportRewardedVideoAdEvent(i.REWARDVIDEOAD_RESPONSE_SUCCESS,t)},t.onVideoAdResponseFailed=function(t){this.reportRewardedVideoAdEvent(i.REWARDVIDEOAD_RESPONSE_FAIL,t)},t.onVideoAdwardSuccess=function(t){this.reportRewardedVideoAdEvent(i.REWARDVIDEOAD_SUCCESS,t)},t.onVideoAdwardFailed=function(t){this.reportRewardedVideoAdEvent(i.REWARDVIDEOAD_FAIL,t)},t.onEnterHome=function(){this.reportHomePageEvent(i.HOME_ENTER)},t.onEnterSecond=function(){this.reportHomePageEvent(i.SECOND_ENTER)},t.onHomeClickExit=function(){this.reportHomePageEvent(i.HOME_CLICK_EXIT)},t.onHomeClickPlay=function(){this.reportHomePageEvent(i.HOME_CLICK_PLAY)},t.onVipDialogShow=function(){this.reportVipEvent(i.VIP_DIALOG_SHOW)},t.onVipDialogClose=function(t){this.reportVipEvent(t?i.VIP_DIALOG_MASK:i.VIP_DIALOG_CLOSE)},t.onVipPurchaseTrigger=function(){t.sHasPurchaseTriggered=!0,this.reportVipEvent(i.VIP_PURCHASE_TRIGGER)},t.onVipPurchaseSuccess=function(){t.sHasPurchaseTriggered&&this.reportVipEvent(i.VIP_PURCHASE_SUCCESS)},t.addCommonParams=function(t){n.default.age&&(t[a.default.age]=n.default.age),n.default.appName&&(t[a.default.appName]=n.default.appName),n.default.programId&&(t[a.default.appId]=n.default.programId),n.default.versionName&&(t[a.default.versionCode]=n.default.versionName)},t.reportRewardedVideoAdEvent=function(e,o){var i={};try{t.addCommonParams(i),i[a.default.source]=o,i[a.default.operation]=e,console.debug("Event reportRewardedVideoAdEvent ",e,i),t.sHasAppInfoInited?BBFramework.analysisService.eventWithMap("TJ","\u5185\u90e8\u6fc0\u52b1\u5e7f\u544a\u70b9\u51fb",i):console.warn("AppInfo not inited, can not report event")}catch(t){console.error(t),BBFramework.exceptionReportService.reportExceptionMessage("reportRewardedVideoAdEvent\u6570\u636e\u89e3\u6790\u5f02\u5e38",t)}},t.reportHomePageEvent=function(e){var o={};try{t.addCommonParams(o),o[a.default.operation]=e,console.debug("Event reportHomePageEvent ",e,o),t.sHasAppInfoInited?BBFramework.analysisService.eventWithMap("TJ","\u81ea\u7814\u5c0f\u7a0b\u5e8f\u9996\u9875\u70b9\u51fb",o):console.warn("AppInfo not inited, can not report event")}catch(t){console.error(t),BBFramework.exceptionReportService.reportExceptionMessage("reportHomePageEvent\u6570\u636e\u89e3\u6790\u5f02\u5e38",t)}},t.reportVipEvent=function(e){var o={};try{t.addCommonParams(o),o[a.default.operation]=e,o[a.default.source]="VIP\u5c0f\u7a0b\u5e8f\u9996\u9875",console.debug("Event reportVipEvent ",e,o),t.sHasAppInfoInited?BBFramework.analysisService.eventWithMap("TJ","\u5f15\u5bfc\u8d2d\u4e70\u4f1a\u5458\u5f39\u7a97\u529f\u80fd\u70b9\u51fb",o):console.warn("AppInfo not inited, can not report event")}catch(t){console.error(t),BBFramework.exceptionReportService.reportExceptionMessage("reportVipEvent\u6570\u636e\u89e3\u6790\u5f02\u5e38",t)}},t.sHasAppInfoInited=!1,t.sHasPurchaseTriggered=!1,t}();o.default=r,cc._RF.pop()},{"../Config/BBAppConfig":"BBAppConfig","./EventKeys":"EventKeys"}],ExitButtonCreator:[function(t,e,o){"use strict";cc._RF.push(e,"aebdboEtQNBMagsBm1cYQ7z","ExitButtonCreator");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ExitButton"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonPrefab=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.enabled=!!BBFramework.navigationService,o.hasInited||(o.hasInited=!0,o.startSceneName=cc.director.getScene().name,cc.game.on("ExitButton.show",this.onShowEvent,this),cc.game.on("ExitButton.hide",this.onHideEvent,this))},e.prototype.onEnable=function(){if(o.enabled&&o.startSceneName===cc.director.getScene().name){var t=cc.director.getScene();if(t&&!t.getComponentInChildren(a.default)){var e=cc.instantiate(this.buttonPrefab);e.parent=t,e.zIndex=cc.macro.MAX_ZINDEX}}},e.prototype.onShowEvent=function(){if(cc.director.getScene().name===o.startSceneName){var t=cc.find("ExitButton");t&&!t.active&&(t.active=!0),cc.game.emit("JianMu.MatrixHelper.show")}else console.warn("\u5f53\u524d\u4e0d\u5728\u9996\u573a\u666f\uff0c\u4e0d\u5b58\u5728\u9000\u51fa\u6309\u94ae")},e.prototype.onHideEvent=function(){if(cc.director.getScene().name===o.startSceneName){var t=cc.find("ExitButton");t&&t.active&&(t.active=!1),cc.game.emit("JianMu.MatrixHelper.hide")}else console.warn("\u5f53\u524d\u4e0d\u5728\u9996\u573a\u666f\uff0c\u4e0d\u5b58\u5728\u9000\u51fa\u6309\u94ae")},e.enabled=!1,e.hasInited=!1,e.startSceneName=null,n([c(cc.Prefab)],e.prototype,"buttonPrefab",void 0),e=o=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./ExitButton":"ExitButton"}],ExitButton:[function(t,e,o){"use strict";cc._RF.push(e,"75abaOG+7VAnpe7ngStcowi","ExitButton");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../EventReport/EventReporter"),r=t("../Button"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=this.node.getComponent(cc.Widget);if(e&&(e.left=36,e.top=30,e.updateAlignment()),this.onScreenScaleChanged(),this.node.parent.on(cc.Node.EventType.SCALE_CHANGED,this.onScreenScaleChanged,this),!this.clickEvents.length){var o=new cc.Component.EventHandler;o.target=this.node,o.component="ExitButton",o.handler="onTap",this.clickEvents.push(o)}this.node.zIndex=cc.macro.MAX_ZINDEX},e.prototype.onScreenScaleChanged=function(){if(0!==this.node.scale){var t=this.node.getComponent(cc.Widget);t.left=36*(this.node.scale||1),t.top=30*(this.node.scale||1),this.node.scale=1/this.node.parent.scale,t.updateAlignment()}},e.prototype.setGroupRecursively=function(t,e){var o=this;t.group=e,t.childrenCount>0&&t.children.forEach(function(t){t&&o.setGroupRecursively(t,e)})},e.prototype.onTap=function(){a.default.onHomeClickExit(),BBFramework.navigationService.exit()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.node.off(cc.Node.EventType.SCALE_CHANGED,this.onScreenScaleChanged,this)},e=n([s],e)}(r.default);o.default=c,cc._RF.pop()},{"../../EventReport/EventReporter":"EventReporter","../Button":"Button"}],FrameworkConfig:[function(t,e,o){"use strict";cc._RF.push(e,"bc3c4XaeXBLHohgsIY/ApbE","FrameworkConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={GamePageScale:1,defaultLTD:14,defaultLTDScale:.6,i18n:"zh",gameNo:"G35"},cc._RF.pop()},{}],G35_ActiveUi:[function(t,e,o){"use strict";cc._RF.push(e,"89a1dXS3h9AjIsuUklyNzOQ","G35_ActiveUi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/core/util/StoreUtil"),r=t("../../../lib/core/util/DateUtil"),s=t("../../GameUtils/Tools/G35_CommonAct"),c=t("../Common/G35_getActiveWindow"),l=t("./G35_Select"),u=t("../../../lib/business/Manager/AudioManager"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.activeImg=null,e.staminaImg=[],e.flyTo=null,e.activeNum=0,e.replyTime=5,e.activeNode=null,e.mask=null,e.minLab=null,e.secLab=null,e.stamina=null,e.leaveTime=0,e.subActiveNum=4,e.maxActive=10,e}return i(e,t),e.prototype.addActive=function(t){this.activeNum=JSON.parse(a.default.get("G35_Active","0")),this.activeNum+=t,a.default.set("G35_Active",JSON.stringify(this.activeNum)),this.leaveTime=JSON.parse(a.default.get("G35_leaveTime","0")),this.activeNum>=this.maxActive?(a.default.set("G35_leaveTime",JSON.stringify(0)),this.mask.active=!1,this.activeNode.getComponent(cc.Label).string=String(this.activeNum),this.node.stopAllActions(),this.stopStaminaAct()):(this.leaveTime-=60*this.replyTime*t,a.default.set("G35_leaveTime",JSON.stringify(this.leaveTime)),this.activeNode.getComponent(cc.Label).string=String(this.activeNum))},e.prototype.subLove=function(t,e){if(this.activeNum>=this.subActiveNum){if(this.activeNum-this.subActiveNum==this.maxActive-this.subActiveNum){this.minLab.getComponent(cc.Label).string=String(0)+String(3),this.secLab.getComponent(cc.Label).string=String(0)+String(0),this.mask.active=!0,this.timeAction(),this.staminaAct();var o=r.default.getTenTimeStamp()+60*this.replyTime*this.subActiveNum;a.default.set("G35_leaveTime",JSON.stringify(o))}else{o=JSON.parse(a.default.get("G35_leaveTime","0"));o+=60*this.replyTime*this.subActiveNum,a.default.set("G35_leaveTime",JSON.stringify(o))}this.flyLoveAction(t,this.subActiveNum,e),a.default.set("G35_Active",JSON.stringify(this.activeNum-this.subActiveNum))}else cc.find("Canvas").getChildByName("getActiveWindow").getComponent(c.default).init(),cc.find("Canvas").getComponent(l.default)._lock=!1,cc.find("Canvas").getComponent(l.default).closeAction(),console.log("\u7231\u5fc3\u4e0d\u8db3")},e.prototype.flyLoveAction=function(t,e,o){var i=this;if(t)if(e)if(o){var n=0,a=!1;cc.tween(this.node).repeat(e,cc.tween().call(function(){var e=cc.instantiate(i.newNode);e.getComponent(cc.Sprite).spriteFrame=i.activeImg,e.parent=i.node.parent,e.position=i.node.position,e.zIndex=1001,e.scale=.8,u.audioManager.playEffect(i.flyTo),i.activeNum-=1,i.activeNode.getComponent(cc.Label).string=String(i.activeNum),cc.tween(e).to(.3,{position:t.position}).call(function(){(n+=1)==i.subActiveNum&&i.scheduleOnce(function(){a||(a=!0,o())},.5)}).removeSelf().start(),i.scheduleOnce(function(){a||(a=!0,o())},2)}).delay(.2)).start()}else console.log("\u56de\u8c03\u51fd\u6570\u627e\u4e0d\u5230");else console.log("\u51cf\u5c11\u7231\u5fc3\u6570\u627e\u4e0d\u5230");else console.log("\u602a\u7269\u8282\u70b9\u627e\u4e0d\u5230")},e.prototype.timeAction=function(t){var e=this;void 0===t&&(t=60*this.replyTime);var o=null,i=null;o=Math.floor(t/60),i=t%60,this.minLab.getComponent(cc.Label).string="0"+o,this.secLab.getComponent(cc.Label).string=i<10?"0"+i:String(i),cc.tween(this.node).repeatForever(cc.tween().delay(1).call(function(){(i-=1)<0&&(0==o?(e.activeNum+=1,e.activeNum>=e.maxActive&&(e.activeNum=5),e.node.stopAllActions(),e.newAddLove(),i=59):(o-=1,e.minLab.getComponent(cc.Label).string="0"+o,i=59)),e.secLab.getComponent(cc.Label).string=i<10?"0"+i:String(i)})).start()},e.prototype.newAddLove=function(){a.default.set("G35_Active",JSON.stringify(this.activeNum)),this.activeNum>=this.maxActive?(this.mask.active=!1,this.activeNode.getComponent(cc.Label).string=String(this.activeNum),this.node.stopAllActions(),this.stopStaminaAct(),a.default.set("G35_leaveTime",JSON.stringify(0))):(this.activeNode.getComponent(cc.Label).string=String(this.activeNum),this.timeAction())},e.prototype.staminaAct=function(){var t=this;this.stamina.active=!0,cc.tween(this.stamina).repeatForever(cc.tween().call(function(){s.G35_commonAct.filenames(t.stamina,t.staminaImg,.5)}).delay(2)).start()},e.prototype.stopStaminaAct=function(){this.stamina.stopAllActions(),this.stamina.active=!1},e.prototype.init=function(){this.activeNum=JSON.parse(a.default.get("G35_Active","10")),this.leaveTime=JSON.parse(a.default.get("G35_leaveTime","10"));var t=r.default.getTenTimeStamp();if(this.activeNode=cc.find("staminaUI/lable",this.node),this.mask=this.node.getChildByName("mask"),this.minLab=this.mask.getChildByName("minLab"),this.secLab=this.mask.getChildByName("secLab"),this.stamina=this.node.getChildByName("stamina"),this.leaveTime==this.maxActive)return this.mask.active=!1,this.activeNum=this.maxActive,this.activeNode.getComponent(cc.Label).string=String(this.activeNum),void a.default.set("G35_Active",JSON.stringify(this.activeNum));if(t>=this.leaveTime)this.mask.active=!1,this.activeNum=this.maxActive,this.activeNode.getComponent(cc.Label).string=String(this.activeNum);else{var e=this.leaveTime-t;e%(60*this.replyTime)?(this.activeNum=this.maxActive-Math.floor(e/(60*this.replyTime))-1,this.timeAction(e%(60*this.replyTime))):(this.activeNum=this.maxActive-Math.floor(e/(60*this.replyTime)),this.timeAction()),this.mask.active=!0,this.activeNode.getComponent(cc.Label).string=String(this.activeNum),this.staminaAct()}a.default.set("G35_Active",JSON.stringify(this.activeNum))},e.prototype.clickAddActive=function(){this.addActive(1)},e.prototype.onLoad=function(){},e.prototype.start=function(){this.init()},n([h({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([h({type:cc.SpriteFrame,tooltip:"island"})],e.prototype,"activeImg",void 0),n([h({type:cc.SpriteFrame,tooltip:"stamina"})],e.prototype,"staminaImg",void 0),n([h({type:cc.AudioClip,tooltip:"\u98de\u5411\u602a\u7269"})],e.prototype,"flyTo",void 0),e=n([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/core/util/DateUtil":"DateUtil","../../../lib/core/util/StoreUtil":"StoreUtil","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../Common/G35_getActiveWindow":"G35_getActiveWindow","./G35_Select":"G35_Select"}],G35_AnalyticsCommon:[function(t,e,o){"use strict";cc._RF.push(e,"82e1fqhGsNMKK7ocd4kAMeP","G35_AnalyticsCommon"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./G35_AnalyticsKey"),n=t("../../../lib/business/manager/AnalyticsManager"),a=function(){function t(){}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.modalModule=function(t,e){var o="\u66dd\u5149";2==e&&(o="\u70b9\u51fb"),n.analyticsManager.recordEvent(i.default.MODAL_MODULE,t,o)},t.prototype.videoStatistics=function(t,e){var o="\u66dd\u5149";2==e&&(o="\u70b9\u51fb"),n.analyticsManager.recordEvent(i.default.VIDEO_STATISTICS,o,t)},t.prototype.shareStatistics=function(t,e){var o="\u66dd\u5149";2==e&&(o="\u70b9\u51fb"),n.analyticsManager.recordEvent(i.default.SHARE_STATISTICS,o,t)},t.prototype.clickMap=function(){n.analyticsManager.recordEvent(i.default.CLICKMAP_STATISTICS,"\u56fe\u9274\u70b9\u51fb\u6570")},t.INSTANCE=void 0,t}();o.default=a,o.analyticsCommon=a.get(),cc._RF.pop()},{"../../../lib/business/manager/AnalyticsManager":"AnalyticsManager","./G35_AnalyticsKey":"G35_AnalyticsKey"}],G35_AnalyticsKeyName:[function(t,e,o){"use strict";cc._RF.push(e,"8b552dKbd5KqZTnQli4Lq0A","G35_AnalyticsKeyName"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.STICKER_SHARE="\u8d34\u7eb8\u5206\u4eab\u5f39\u7a97_\u5206\u4eab\u6309\u94ae",t.ACTIVE_WINDOW_VIDEO="\u4f53\u529b\u4e0d\u8db3\u5f39\u7a97_\u89c6\u9891\u6309\u94ae",t.ACTIVE_WINDOW_SHARE="\u4f53\u529b\u4e0d\u8db3\u5f39\u7a97_\u5206\u4eab\u6309\u94ae",t.STICKER_WINDOW_VIDEO="\u8d34\u7eb8\u83b7\u5f97\u5f39\u7a97_\u89c6\u9891\u6309\u94ae",t.STICKER_WINDOW_SHARE="\u8d34\u7eb8\u83b7\u5f97\u5f39\u7a97_\u5206\u4eab\u6309\u94ae",t.MAP_SHARE="\u56fe\u9274\u9875_\u5206\u4eab\u6309\u94ae",t}();o.default=i,cc._RF.pop()},{}],G35_AnalyticsKey:[function(t,e,o){"use strict";cc._RF.push(e,"f6e68REqqVGm5YO4ZEOlUNe","G35_AnalyticsKey"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.MODAL_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u5f39\u7a97\u6a21\u5757",id:"e61d7032-8d0b-4bc1-b283-81e212bf355d"},t.VIDEO_STATISTICS={name:"\u516c\u5171\u8ba1\u6570-\u6fc0\u52b1\u89c6\u9891\u66dd\u5149\u70b9\u51fb",id:"0586d84d-c6da-44fd-8fe3-aae0755d8617"},t.SHARE_STATISTICS={name:"\u516c\u5171\u8ba1\u6570-\u5206\u4eab\u66dd\u5149\u70b9\u51fb",id:"b196c20d-f7bb-428e-854c-8c5f7034cf87"},t.CLICKMAP_STATISTICS={name:"\u56fe\u9274\u70b9\u51fb",id:"5d3de369-91a5-46a8-b3ac-b58139033053"},t}();o.default=i,cc._RF.pop()},{}],G35_BackBtn:[function(t,e,o){"use strict";cc._RF.push(e,"0125dfSp0BDKqvpg4qGrC8z","G35_BackBtn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/Manager/AudioManager"),r=t("../../../lib/business/base/BBScene"),s=t("../../../lib/business/manager/BannerManager"),c=t("../../GameUtils/G35_GlobalParams"),l=t("../../../lib/business/manager/MediaManager"),u=t("../../../../BBGameWeb/Script/Common/BBLoader"),d=t("../../../lib/core/util/PlatformUtil"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;c.G35_GlobalParams.gameVar.backBtnTouch=!0,this.node.active=!1,this.scheduleOnce(function(){t.node.active=!0,c.G35_GlobalParams.gameVar.backBtnTouch=!1},5),this.node.zIndex=9997,this.registerTouch()},e.prototype.registerTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this)},e.prototype.onTouchStarted=function(){console.log("\u8fd4\u56de\u70b9\u51fb"),l.mediaManager.showBackDialog(this.backDialog.bind(this))},e.prototype.backDialog=function(){var t=this;c.G35_GlobalParams.gameVar.backBtnTouch||(this.click&&a.audioManager.playEffect(this.click),s.bannerManager.hide(),cc.tween(this.node).to(.001,{scale:.8}).delay(.2).to(.001,{scale:1}).delay(.1).call(function(){if(a.audioManager.stopLine(),cc.director.emit(r.BBSceneEventName.SCENE_EXIT),"G35_Select"==cc.director.getScene().name){if(d.default.isBBMGSimulatePlatform())return void u.default.getInstance().loadScene("G35_Welcome",t);cc.director.loadScene("G35_Welcome")}else{if(c.G35_GlobalParams.gameVar.sceneName="G35_Select",d.default.isBBMGSimulatePlatform())return void u.default.getInstance().loadScene("G35_Loading",t);cc.director.loadScene("G35_Loading")}}).start())},e.prototype.start=function(){},n([f({type:cc.AudioClip,tooltip:"\u70b9\u51fb\u6309\u94ae\u97f3\u6548~"})],e.prototype,"click",void 0),e=n([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBScene":"BBScene","../../../lib/business/manager/BannerManager":"BannerManager","../../../lib/business/manager/MediaManager":"MediaManager","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalParams":"G35_GlobalParams"}],G35_Cloud:[function(t,e,o){"use strict";cc._RF.push(e,"c4451VbjblJDbhHfGa1vTcx","G35_Cloud");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/core/util/MathUtil"),r=t("../../GameUtils/G35_Utils"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._speed=null,e._pos=null,e._dir=null,e.id=null,e.cloudAlt=null,e}return i(e,t),e.prototype.init=function(t){this._speed=t.speed,this._pos=t.pos,this._dir=t.dir,this.id=t.id,this.node.getComponent(cc.Sprite).spriteFrame=this.cloudAlt.getSpriteFrame("cloud"+this.id),this.moveLeft()},e.prototype.moveLeft=function(){var t=this;cc.tween(this.node).repeatForever(cc.tween().by(this._speed,{x:this._dir*(cc.winSize.width+this.node.width/2)}).call(function(){var e=0,o=t._pos.y+a.default.random(-30,30);e=1==t._dir?-t.node.width/2:cc.winSize.width+t.node.width/2,t.node.position=r.G35_utils.convertToSpacePos(cc.v2(e,o),t.node.parent)})).start()},e.prototype.onLoad=function(){},e.prototype.start=function(){},n([l({type:cc.SpriteAtlas,tooltip:"cloud"})],e.prototype,"cloudAlt",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../lib/core/util/MathUtil":"MathUtil","../../GameUtils/G35_Utils":"G35_Utils"}],G35_CommonAct:[function(t,e,o){"use strict";cc._RF.push(e,"63675h5mGBJEpTXppl3YDst","G35_CommonAct"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../lib/core/util/MathUtil"),n=t("../G35_GlobalView"),a=t("../../../lib/business/Manager/AudioManager"),r=function(){function t(){}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.breathing=function(t,e,o){if(void 0===e&&(e=1),void 0===o&&(o=0),t){var n=i.default.random(10,12);t.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(n/10,e,e-.05),cc.rotateTo(n/10,o-2)),cc.spawn(cc.scaleTo(n/10,e),cc.rotateTo(n/10,o)),cc.spawn(cc.scaleTo(n/10,e,e-.05),cc.rotateTo(n/10,o+2)),cc.spawn(cc.scaleTo(n/10,e),cc.rotateTo(n/10,o)))))}},t.prototype.feedback=function(t,e,o){var i;(void 0===e&&(e=1),void 0===o&&(o=1),t.isfirst)||(t.isfirst=!0,i=t.scaleX>t.scaleY?t.scaleX-(t.scaleX-t.scaleY)/2:t.scaleX<t.scaleY?t.scaleX+(t.scaleX-t.scaleY)/2:t.scaleX,t.runAction(cc.sequence(cc.scaleTo(.1,i+.15*e,i-.1*o),cc.scaleTo(.1,i+.1*e,i-.05*o),cc.scaleTo(.1,i),cc.scaleTo(.1,i+.1*e,i-.05*o),cc.scaleTo(.1,i),cc.callFunc(function(){t.isfirst=!1}))))},t.prototype.enterOffset=function(t,e,o,i,n){void 0===i&&(i=.01),t&&e&&o?(t.position=t.position.add(cc.v2(e,o)),t.runAction(cc.sequence(cc.delayTime(i),cc.moveBy(.4,cc.v2(-e,-o)),cc.callFunc(function(){n&&n()})))):console.log("\u9053\u5177\u79bb\u573acommonAction:enterOffset() \u53c2\u6570\u4e3a\u7a7a")},t.prototype.quit=function(t,e,o,i){var n=cc.v2(cc.winSize.width/2+e.width,t.y);if(2==o)cc.v2(-cc.winSize.width/2-e.width,t.y);var a=Math.abs(.4*(n.x-t.x)/cc.winSize.width/2);t.runAction(cc.sequence(cc.moveTo(a,n),cc.callFunc(function(){i&&i()})))},t.prototype.leave=function(t,e,o,i){if(void 0===e&&(e=null),void 0===o&&(o=1),void 0===i&&(i=null),e||(e=t),t){var a,r=n.G35_globalView.offset;o&&1!=o||(a=cc.v2(cc.winSize.width/2+e.width,t.y)),-1==o&&(a=cc.v2(-e.width-500-r.x,t.y)),2==o&&(a=cc.v2(t.x,-e.height-300-r.y));t.runAction(cc.sequence(cc.moveTo(.4,a),cc.callFunc(function(){i&&i()})))}else console.log("\u9053\u5177\u79bb\u573acommonAction:leave() \u53c2\u6570node\u4e3a\u7a7a")},t.prototype.filenames=function(t,e,o){void 0===o&&(o=.1);var i=0;cc.tween(t).repeat(e.length,cc.tween().call(function(){t.getComponent(cc.Sprite).spriteFrame=e[i],i+=1}).delay(o)).start()},t.prototype.playExcitation=function(t){},t.prototype.changeParent=function(t,e,o){void 0===o&&(o=0)},t.prototype.getSpriteFrameArr=function(t,e,o){if(t&&e&&o)return t.getSpriteFrames().slice(e-1,e-1+o);console.error("form CommonAct in getSpriteFrameArr !alt || !num || !count = true")},t.prototype.getSpriteFrameArrForName=function(t,e,o,i){if(t&&o&&i){var n=[];if(e)for(a=0;a<i;a++)n.push(t.getSpriteFrame(e+(o+a)));else for(var a=0;a<i;a++)n.push(t.getSpriteFrame(""+(o+a)));return n}console.error("form CommonAct in getSpriteFrameArrForName !alt || !name || !num || !count = true")},t.prototype.getSpriteFrameArrForNameArr=function(t,e){if(t&&e){for(var o=[],i=0;i<e.length;i++)o.push(t.getSpriteFrame(e[i]));return o}console.error("form CommonAct in getSpriteFrameArrForNameArr !alt || !nameArr = true")},t.prototype.thinkMove=function(t,e,o){if(t&&e&&o){t.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.4,cc.v2(0,8)),cc.moveBy(.4,cc.v2(0,-8)),cc.moveBy(.4,cc.v2(0,-8)),cc.moveBy(.4,cc.v2(0,8))))),e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.4,cc.v2(0,6)),cc.moveBy(.4,cc.v2(0,-6)),cc.moveBy(.4,cc.v2(0,-6)),cc.moveBy(.4,cc.v2(0,6))))),o.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.4,cc.v2(0,3)),cc.moveBy(.4,cc.v2(0,-3)),cc.moveBy(.4,cc.v2(0,-3)),cc.moveBy(.4,cc.v2(0,3)))))}},t.prototype.enterFrom=function(t,e,o,i,n){if(void 0===o&&(o=null),void 0===i&&(i=.01),void 0===n&&(n=null),t&&e){t.pos=t.position,1==e?t.position=cc.v2(t.pos.x,cc.winSize.height/2+t.height/2):2==e?t.position=cc.v2(t.pos.x,-cc.winSize.height/2-t.height/2):3==e?t.position=cc.v2(-cc.winSize.width/2-t.width/2,t.pos.y):4==e&&(t.position=cc.v2(cc.winSize.width/2+t.width/2,t.pos.y));var a=cc.moveTo(.4,t.pos);o&&(a=cc.moveTo(.4,t.pos).easing(cc.easeBackOut())),t.runAction(cc.sequence(cc.delayTime(i),cc.callFunc(function(){t.opacity=255}),a,cc.callFunc(function(){n&&n()})))}},t.prototype.enterAndBouncy=function(t){var e=this;if(t){var o=t.position;t.position=cc.v2(o.x,cc.winSize.height/2+t.height/2),t.opacity=255,t.runAction(cc.sequence(cc.show(),cc.moveTo(.4,o),cc.callFunc(function(){e.feedback(t)})))}},t.prototype.waterAction=function(t,e){void 0===e&&(e=.1);var o=t.scaleX,i=t.scaleY;cc.tween(t).repeatForever(cc.tween().to(1,{scaleX:o+e,scaleY:i-e}).to(1,{scaleX:o,scaleY:i}).to(1,{scaleX:o,scaleY:i-2*e}).to(1,{scaleX:o,scaleY:i})).start()},t.prototype.soundFades=function(t,e,o,i){var n=1;e?cc.tween(t).repeat(10,cc.tween().call(function(){n-=.1,cc.audioEngine.setMusicVolume(n),n<.1&&(cc.audioEngine.stopMusic(),cc.audioEngine.setMusicVolume(1))}).delay(o/10)).start():cc.tween(t).repeat(10,cc.tween().call(function(){n-=.1,cc.audioEngine.setVolume(i,n),n<.1&&a.audioManager.stopAudio(i)}).delay(o/10)).start()},t.INSTANCE=void 0,t}();o.G35_commonAct=r.get(),cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/core/util/MathUtil":"MathUtil","../G35_GlobalView":"G35_GlobalView"}],G35_Excitation:[function(t,e,o){"use strict";cc._RF.push(e,"12529grzq1P5pmMnKPuEm4p","G35_Excitation");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../../lib/business/Manager/AudioManager"),s=t("../../../lib/core/util/MathUtil"),c=t("../../../lib/core/util/StoreUtil"),l=t("../G35_Select/G35_Select"),u=t("../../../lib/core/util/PlatformUtil"),d=t("../../../lib/core/util/NetUtil"),p=t("../../../lib/core/util/ToastUtil"),h=t("../../../lib/business/manager/ShareManager"),f=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),g=t("../../GameUtils/Tools/G35_CommonAct"),_=t("../../GameUtils/G35_GlobalParams"),y=t("../../../lib/business/manager/InterstitialManager"),m=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),v=t("../../../lib/business/base/BBDialog"),b=t("../../../../BBGameWeb/Script/Common/BBLoader"),S=t("../../../Config/FrameworkConfig"),w=cc._decorator,A=w.ccclass,C=w.property,G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.jieshujili=[],e.yubiao1=null,e.jilia=null,e.jilib=null,e.handbookAlt=null,e.excitationAlt=null,e.handbookfileAlt=null,e.handimg=[],e.a22807037=null,e.a22812002=null,e.a22812003=null,e.a22812001=null,e.voiceFn=[],e.a228101=null,e.a228102=null,e.clicklook=null,e.firstGetSticker=null,e.btnLock=!1,e.id=null,e._fromSelect=!1,e._mask=null,e._book=null,e._icon=null,e._item=null,e._light=null,e.btn=null,e}return i(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.showDialog()},e.prototype.init=function(t){this.id=t.id,this._fromSelect=t.fromSelect||!1,this.loadRibbon()},e.prototype.loadRibbon=function(){var t=this;if(this._fromSelect)return this.getFile(),void this.loadMask();for(var e=[],o=[cc.v2(0,0),cc.v2(cc.winSize.width,0),cc.v2(cc.winSize.width/2,cc.winSize.height/2)],i=0;i<3;i++){var n=cc.instantiate(this.jieshujili[i]);n.parent=cc.find("Canvas"),n.zIndex=9999,n.position=a.G35_utils.convertToSpacePos(o[i],n.parent),i<2&&(n.scale=.8),e.push(n)}r.audioManager.playEffect(this.a22807037),r.audioManager.playLine(this.voiceFn[this.id-1]);cc.tween(this.node).delay([3.6,3.2,2.6,3.1][this.id-1]).call(function(){e.forEach(function(t){t&&t.isValid&&t.destroy()}),t.loadMask()}).delay(2.1).call(function(){console.log("\u8df3\u8f6c\u5230\u9009\u62e9\u573a\u666f"),_.G35_GlobalParams.gameVar.sceneName="G35_Select",_.G35_GlobalParams.gameVar._finishGameId=t.id,u.default.isBBMGSimulatePlatform()?b.default.getInstance().loadScene("G35_Loading",t):cc.director.loadScene("G35_Loading")}).start()},e.prototype.loadMask=function(){var t=this;this.node.setContentSize(cc.winSize.width,cc.winSize.height);var e=this.node.getChildByName("mask");e.setContentSize(cc.winSize.width+10,cc.winSize.height+10),e.opacity=0,e.active=!0,this._mask=e,this._fromSelect?(this._mask.opacity=180,this.appearfish(),this.loadLight()):cc.tween(this._mask).to(.3,{opacity:180}).call(function(){t._book=a.G35_utils.creatNode(t.newNode,t.handbookAlt.getSpriteFrame("bookui"),t.node.parent,cc.v2(cc.winSize.width/2-150,cc.winSize.height/2-60),1,9999),t.loadIcon(),t.loadLight(),t.loadParticle()}).start()},e.prototype.loadIcon=function(){if(this._icon=a.G35_utils.creatNode(this.newNode,this.excitationAlt.getSpriteFrame("icon"+this.id),this.node,cc.v2(0,0),1,10),this._icon.scale=.6,this._icon.opacity=0,this._fromSelect)return this._icon.opacity=255,void(this._icon.scale=1);this._icon.opacity=255,cc.tween(this._icon).then(cc.scaleTo(.3,1).easing(cc.easeBackOut())).start()},e.prototype.appearfish=function(){var t=this;if(this._item&&this._item.isValid)if(r.audioManager.playEffect(this.a22812002),this._item.position=cc.v2(0,0),u.default.isWechatGame()){this._item.y,m.analyticsCommon.modalModule(f.default.STICKER_SHARE,1),h.shareManager.buttonShow(f.default.STICKER_SHARE);var e=this.node.getChildByName("btn-vedio");e.getChildByName("lable").getComponent(cc.Label).string="(5s)",e.y=-100,e.zIndex=20,e.active=!0,this.btn=e;var o=5;cc.tween(this.node).repeat(5,cc.tween().delay(1).call(function(){o-=1,e.getChildByName("lable").getComponent(cc.Label).string="("+o+"s)",0==o&&(e.active=!1,t.flyToMap())})).start()}else this.scheduleOnce(function(){t.flyToMap()},2)},e.prototype.btnClick=function(){var t=this;if(d.netUtil.isNetActive()){if(!this.btnLock){this.btnLock=!0,this.node.stopAllActions(),m.analyticsCommon.modalModule(f.default.STICKER_SHARE,2);var e="share";1==s.default.random(1,2)&&(e="menu"),h.shareManager.shareApp(e,f.default.STICKER_SHARE).then(function(){console.log("\u5206\u4eab\u6210\u529f"),t.btn.active=!1,t.flyToMap()}).catch(function(){console.log("\u5206\u4eab\u5931\u8d25")})}}else p.default.toastShort(loadManager.getString("o1"))},e.prototype.flyToMap=function(){var t=this;cc.tween(this._item).then(cc.scaleTo(.3,1.5).easing(cc.easeBackOut())).call(function(){cc.tween(t._light).to(.2,{scale:0,opacity:0}).start()}).delay(.2).call(function(){r.audioManager.playEffect(t.a22812003);var e=cc.instantiate(t.yubiao1);e.parent=t._item,e.x=-t._item.width/2}).parallel(cc.tween().then(cc.jumpTo(.5,a.G35_utils.convertToSpacePos(cc.find("Canvas").getComponent(l.default).ui.convertToWorldSpaceAR(cc.v2(0,0)),this.node),100,1)),cc.tween().to(.5,{scale:0})).call(function(){if(cc.tween(cc.find("Canvas").getComponent(l.default).ui).to(.1,{scale:.9}).to(.1,{scale:1.1}).to(.1,{scale:1}).start(),JSON.parse(c.default.get("G23_isFirstGet","true"))){c.default.set("G23_isFirstGet",JSON.stringify(!1));var e=t.node.getChildByName("hand");e.position=a.G35_utils.convertToSpacePos(cc.find("Canvas").getComponent(l.default).ui.convertToWorldSpaceAR(cc.v2(0,0)),t.node),e.active=!0,a.G35_utils.resetParent(e,cc.find("Canvas"),9998),u.default.isPure()&&S.default.i18n&&"zh"!==S.default.i18n||r.audioManager.playLine(t.clicklook),cc.tween(e).repeatForever(cc.tween().call(function(){g.G35_commonAct.filenames(e,t.handimg,.5)}).delay(1)).start()}else cc.tween(t._mask).to(.5,{opacity:0}).removeSelf().call(function(){u.default.isWechatGame()||y.interstitialManager.showCustomByTimes(2),cc.find("Canvas").getComponent(l.default).signPopup(),cc.find("Canvas").getComponent(l.default).openRandomAct(),t.node.destroy()}).start()}).start(),cc.find("Canvas").getComponent(l.default)._lock=!1},e.prototype.loadLight=function(){if(this._light=a.G35_utils.creatNode(this.newNode,this.excitationAlt.getSpriteFrame("light"),this.node,cc.v2(0,0),1,5),this._light.scale=0,this._fromSelect)return this._light.scale=1.2,void cc.tween(this._light).by(5,{angle:-360}).start();r.audioManager.playEffect(this.a22812001),cc.tween(this._light).to(.4,{scale:1.2},{easing:"quadIn"}).by(5,{angle:-360}).start()},e.prototype.loadParticle=function(){cc.instantiate(this.jilia).parent=this.node,cc.instantiate(this.jilib).parent=this.node},e.prototype.getFile=function(){var t=s.default.random(0,4),e=JSON.parse(c.default.get("G35_USERBOOK","null")),o=JSON.parse(c.default.get("G35_USERBAR","null"));e&&o?(0==e[this.id-1][t]&&(e[this.id-1][t]=1),0==o[this.id-1][t]&&(o[this.id-1][t]=1),c.default.set("G35_USERBOOK",JSON.stringify(e)),c.default.set("G35_USERBAR",JSON.stringify(o)),u.default.isPure()?r.audioManager.playLine(this.a228101):r.audioManager.playLine(this.firstGetSticker),this._item=a.G35_utils.creatNode(this.newNode,this.handbookfileAlt.getSpriteFrame(this.id+"-"+(t+1)),this.node,cc.v2(0,0),1,10)):console.log("\u6ca1\u6709\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f\uff01\uff01\uff01\uff01")},e.prototype.start=function(){},n([C({type:cc.Prefab,tooltip:"newNode"})],e.prototype,"newNode",void 0),n([C({type:cc.Prefab,tooltip:"jieshujili"})],e.prototype,"jieshujili",void 0),n([C({type:cc.Prefab,tooltip:"yubiao1"})],e.prototype,"yubiao1",void 0),n([C({type:cc.Prefab,tooltip:"jilia"})],e.prototype,"jilia",void 0),n([C({type:cc.Prefab,tooltip:"jilib"})],e.prototype,"jilib",void 0),n([C({type:cc.SpriteAtlas,tooltip:"handbook"})],e.prototype,"handbookAlt",void 0),n([C({type:cc.SpriteAtlas,tooltip:"excitation"})],e.prototype,"excitationAlt",void 0),n([C({type:cc.SpriteAtlas,tooltip:"handbook"})],e.prototype,"handbookfileAlt",void 0),n([C({type:cc.SpriteFrame,tooltip:"hand"})],e.prototype,"handimg",void 0),n([C({type:cc.AudioClip,tooltip:"22807037"})],e.prototype,"a22807037",void 0),n([C({type:cc.AudioClip,tooltip:"22812002"})],e.prototype,"a22812002",void 0),n([C({type:cc.AudioClip,tooltip:"22812003"})],e.prototype,"a22812003",void 0),n([C({type:cc.AudioClip,tooltip:"22812001"})],e.prototype,"a22812001",void 0),n([C({type:cc.AudioClip,tooltip:"water"})],e.prototype,"voiceFn",void 0),n([C({type:cc.AudioClip,tooltip:"228101"})],e.prototype,"a228101",void 0),n([C({type:cc.AudioClip,tooltip:"228102"})],e.prototype,"a228102",void 0),n([C({type:cc.AudioClip,tooltip:"\u5f15\u5bfc\u70b9\u51fb\u56fe\u7247"})],e.prototype,"clicklook",void 0),n([C({type:cc.AudioClip,tooltip:"\u54c7~\u592a\u5e78\u8fd0\u5566\uff0c\u4f60\u83b7\u5f97\u4e86\u4e00\u5f20\u9c7c\u513f\u8d34\u7eb8\uff01"})],e.prototype,"firstGetSticker",void 0),e=n([A],e)}(v.default);o.default=G,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../Config/FrameworkConfig":"FrameworkConfig","../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBDialog":"BBDialog","../../../lib/business/manager/InterstitialManager":"InterstitialManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/NetUtil":"NetUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/StoreUtil":"StoreUtil","../../../lib/core/util/ToastUtil":"ToastUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../G35_Select/G35_Select":"G35_Select"}],G35_FarFish:[function(t,e,o){"use strict";cc._RF.push(e,"f0d5f3kqQpE+KJ7fy4VoAk3","G35_FarFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/core/util/MathUtil"),r=t("../../GameUtils/G35_Utils"),s=t("../../GameUtils/Tools/G35_CommonAct"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CommonFishAlt=null,e._minP=null,e._maxP=null,e._totalNum=null,e._size=null,e._color=null,e._fType=null,e._fish=[],e.id=null,e._space=null,e._cnt=null,e._pos=null,e.name1=null,e}return i(e,t),e.prototype.init=function(t){this._minP=t.minp,this._maxP=t.maxP,this._totalNum=t.totalNum,this._size=t.size||1,this._color=t.color,this._fType=t.fType,this.id=t.id||0,this._pos=t.pos||null,this.name1=t.name||null,this.initD(),this.loadFish()},e.prototype.initD=function(){this.node.setContentSize(100,100),this.node.getComponent(cc.Sprite).spriteFrame=null;var t=a.default.random(this._minP.x,this._maxP.x),e=a.default.random(this._minP.y,this._maxP.y);this.node.position=cc.v2(t,e),r.G35_utils.adjustPos(this.node,this.node.parent)},e.prototype.loadFish=function(){var t=this,e=80;this._totalNum>15&&(e=120),this._space=e;for(var o=a.default.random(1,2),i=function(i){var c=50+a.default.random(-e,e),l=50+a.default.random(-e,e),u=r.G35_utils.createNoTrimNode(n.CommonFishAlt.getSpriteFrame(o+"-1"),"fish",!1,!0);u.parent=n.node,u.position=r.G35_utils.convertToSpacePos(cc.v2(c,l),n.node),u.color=n._color,cc.tween(u).repeatForever(cc.tween().call(function(){s.G35_commonAct.filenames(u,s.G35_commonAct.getSpriteFrameArrForName(t.CommonFishAlt,o+"-",1,2),.5)}).delay(1)).start(),n._fish.push(u)},n=this,c=0;c<this._totalNum;c++)i();this._cnt=a.default.random(1,2),this.randomMove()},e.prototype.randomMove=function(){var t=this,e=[this._minP.x,this._maxP.x][this._cnt%2],o=a.default.random(this._minP.y,this._maxP.y);this._cnt+=1;var i=cc.v2(e-50,o-50),n=.05*i.sub(this.node.position).mag();this.fishTurnAround(i),this.adjustFishPos(),cc.tween(this.node).to(n,{position:i}).call(function(){t.randomMove()}).start()},e.prototype.fishTurnAround=function(t){t.x<this.node.x?this.node.scaleX=this._size:this.node.scaleX=-this._size},e.prototype.adjustFishPos=function(){var t=this;this._fish.forEach(function(e){var o=a.default.random(-t._space,t._space),i=a.default.random(-t._space,t._space);e.position=cc.v2(o,i)})},e.prototype.onLoad=function(){},e.prototype.start=function(){},n([u({type:cc.SpriteAtlas,tooltip:"CommonFish"})],e.prototype,"CommonFishAlt",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../lib/core/util/MathUtil":"MathUtil","../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct"}],G35_Focu:[function(t,e,o){"use strict";cc._RF.push(e,"50a9bpu2H1PrYvI36rcxc1s","G35_Focu");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.focusOn=function(t,e,o,i,n,r){void 0===o&&(o=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=5e3),this.node.parent=e,this.node.setPosition(a.G35_utils.convertPosition(t,e)),this.node.zIndex=r},e.prototype.focusOnMoveto=function(t,e,o,i){void 0===i&&(i=1),cc.tween(this.node).to(e,{scale:i,position:a.G35_utils.convertToSpacePos(o,this.node.parent)}).start()},e.prototype.focusBreath=function(t){var e=this.node.scale;cc.tween(this.node).repeatForever(cc.tween().to(1,{scale:e+.1}).to(1,{scale:e})).start()},e.prototype.removefocus=function(t){this.node&&this.node.isValid&&(this.node.stopAllActions(),this.node.destroy())},e.prototype.start=function(){},e=n([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../GameUtils/G35_Utils":"G35_Utils"}],G35_GameConstants:[function(t,e,o){"use strict";cc._RF.push(e,"8f22dR/2IVJlZBOXVO5mitG","G35_GameConstants"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameConstants={notAdToast:"\u89c6\u9891\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u2026"},cc._RF.pop()},{}],G35_GetStickerWindow:[function(t,e,o){"use strict";cc._RF.push(e,"d56939w3ftJjLtf2M1apDuW","G35_GetStickerWindow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/base/BBDialog"),r=t("../../../lib/business/Manager/AudioManager"),s=t("../../../lib/business/manager/SwitchManager"),c=t("../../../lib/business/manager/RewardManager"),l=t("../../../lib/core/util/PlatformUtil"),u=t("../../../lib/business/manager/BannerManager"),d=t("../../GameUtils/G35_GlobalView"),p=t("../../../lib/core/util/NetUtil"),h=t("../../../lib/core/util/ToastUtil"),f=t("../../GameUtils/G35_Utils"),g=t("../../../lib/business/manager/LoadManager"),_=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),y=t("../../../lib/core/util/MathUtil"),m=t("../../../lib/business/manager/ShareManager"),v=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),b=cc._decorator,S=b.ccclass,w=b.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.dialogNode=null,e.btnVideoNode=null,e.btnShareNode=null,e.btnFreeNode=null,e.closeNode=null,e.fishName=null,e.videoCoin=null,e.shareCoin=null,e.videoCoin2=null,e[13801002]=null,e[13801001]=null,e.fishAlt=null,e.bag=[],e.touchSwitch=!0,e.unlockType=1,e.targetNode=null,e.flyNode=null,e.loopSoundId=null,e.callBackFuntion=null,e.isSound=!1,e.id1=null,e.id2=null,e}return i(e,t),e.prototype.init=function(){var t=this;this.node.active=!0,this.node.opacity=255;r.audioManager.playLine(this.fishName);s.switchManager.isRewardOpen()?(this.btnVideoNode.active=!0,this.btnShareNode.active=!1,this.unlockType=1,v.analyticsCommon.modalModule(_.default.STICKER_WINDOW_VIDEO,1),c.rewardManager.buttonShow(_.default.STICKER_WINDOW_VIDEO),this.scheduleOnce(function(){r.audioManager.playLine(t.videoCoin)},1.8)):this.noAdFun(1.8),this.node.getChildByName("mask").opacity=200,this.touchSwitch=!0,this.animation(),this.dialogNode.setPosition(cc.v2(0,d.G35_globalView.AdHeight/2)),u.bannerManager.showDefault(u.BannerPosition.BOTTOM),this.setImg()},e.prototype.noAdFun=function(t){var e=this;if(l.default.isWechatGame())this.btnVideoNode.active=!1,this.btnShareNode.active=!0,this.unlockType=2,v.analyticsCommon.modalModule(_.default.STICKER_WINDOW_SHARE,1),m.shareManager.buttonShow(_.default.STICKER_WINDOW_SHARE),this.scheduleOnce(function(){r.audioManager.playLine(e.shareCoin)},t);else if(l.default.isPure()){this.unlockType=3,this.btnVideoNode.active=!0;var o=this.btnVideoNode.getChildByName("icon-vedio");o&&(o.active=!1);var i=this.btnVideoNode.getChildByName("icon-vedio_tt");i&&(i.active=!1);var n=this.btnVideoNode.getChildByName("getstickers");n&&(n.x=0)}else this.unlockType=1,this.btnVideoNode.active=!0,this.btnShareNode.active=!1,this.scheduleOnce(function(){r.audioManager.playLine(e.videoCoin)},t)},e.prototype.setImg=function(){this.dialogNode.getChildByName("fish").getComponent(cc.Sprite).spriteFrame=this.fishAlt.getSpriteFrame(this.id1+"-"+this.id2)},e.prototype.animation=function(){var t=this,e=cc.tween().repeatForever(cc.tween().call(function(){r.audioManager.playEffect(t[13801002])}).to(.2,{scale:1.1}).to(.2,{scale:1}).to(.2,{scale:1.1}).to(.2,{scale:1}).delay(3));1==this.unlockType?cc.tween(this.btnVideoNode).then(e).start():2==this.unlockType&&cc.tween(this.btnShareNode).then(e).start()},e.prototype.stopAnimation=function(){this.btnVideoNode.stopAllActions(),this.btnShareNode.stopAllActions()},e.prototype.reset=function(){this.touchSwitch=!0},e.prototype.unlockVideo=function(){var t=this;l.default.isPure()?this.rewardSuccess(null):(v.analyticsCommon.modalModule(_.default.STICKER_WINDOW_VIDEO,2),this.touchSwitch&&(this.stopAnimation(),this.touchSwitch=!1,l.default.isBaiduGame()?p.netUtil.getWifiState().then(function(){t.showVideo(),t.scheduleOnce(function(){t.touchSwitch=!0},5)}).catch(function(){h.default.toastShort(g.loadManager.getString("o2")),t.scheduleOnce(function(){t.animation(),t.touchSwitch=!0},1)}):this.showVideo(),r.audioManager.playEffect(this[13801001])))},e.prototype.showVideo=function(){var t=this;f.G35_utils.showLoadingWithMask("\u89c6\u9891\u52a0\u8f7d\u4e2d\u2026");var e=0;this.schedule(function(){if(e++,c.rewardManager.isValid())t.unscheduleAllCallbacks(),g.loadManager.hideLoading(),t.unschedule(t.reset),t.scheduleOnce(t.reset,3),r.audioManager.stopLine(),p.netUtil.getRewardNetState().then(function(){c.rewardManager.show(_.default.STICKER_WINDOW_VIDEO).then(t.rewardSuccess.bind(t)).catch(function(e){e&&e.errCode&&("1004"==e.errCode||"1003"==e.errCode)&&l.default.isTouTiao()?h.default.toastShort(g.loadManager.getString("o4")):t.rewardFail.bind(t)})}).catch(function(){h.default.toastShort(g.loadManager.getString("o3"))});else if(e>=5){if(t.unscheduleAllCallbacks(),g.loadManager.hideLoading(),!l.default.isWechatGame())return h.default.toastShort(g.loadManager.getString("o9")),void t.scheduleOnce(function(){t.close()},1);h.default.toastShort(g.loadManager.getString("o10")),t.scheduleOnce(function(){t.touchSwitch=!0,t.changeShareBtn()},1)}},1)},e.prototype.unlockShare=function(){var t=this;if(p.netUtil.isNetActive()){if(this.node.stopAllActions(),v.analyticsCommon.modalModule(_.default.STICKER_WINDOW_SHARE,2),this.touchSwitch){this.stopAnimation(),this.touchSwitch=!1;var e="share";1==y.default.random(1,2)&&(e="menu"),m.shareManager.shareApp(e,_.default.STICKER_WINDOW_SHARE).then(function(){console.log("\u5206\u4eab\u6210\u529f"),t.rewardSuccess("Share")}).catch(function(){console.log("\u5206\u4eab\u5931\u8d25")})}}else h.default.toastShort(g.loadManager.getString("o1"))},e.prototype.rewardSuccess=function(t){this.node.opacity=0,u.bannerManager.hide(),this.callBackFuntion(),this.node.destroy()},e.prototype.rewardFail=function(){this.touchSwitch=!0,this.animation(),h.default.toastShort(g.loadManager.getString("o8")),r.audioManager.playLine(this.videoCoin2)},e.prototype.changeShareBtn=function(){v.analyticsCommon.modalModule(_.default.STICKER_WINDOW_SHARE,1),m.shareManager.buttonShow(_.default.STICKER_WINDOW_SHARE),this.btnVideoNode.active=!1,this.btnShareNode.active=!0,this.unlockType=2,this.animation()},e.prototype.close=function(t){if(void 0===t&&(t=null),t){if(!this.touchSwitch)return;this.stopAnimation(),r.audioManager.playEffect(this[13801001])}this.node.stopAllActions(),this.dialogNode.y=0,u.bannerManager.hide(),this.node.active=!1,this.node.destroy(),r.audioManager.stopLine()},e.prototype.setSucCallBack=function(t,e,o,i){this.callBackFuntion=i,this.id1=t,this.id2=e,this.fishName=o},e.prototype.iconStyle=function(){if(!l.default.isPure()){var t=this.btnVideoNode.getChildByName("icon-vedio_tt"),e=this.btnVideoNode.getChildByName("icon-vedio");l.default.isTouTiao()?(t.active=!0,e.active=!1):(t.active=!1,e.active=!0)}},e.prototype.onEnable=function(){this.showDialog(),t.prototype.onEnable.call(this)},e.prototype.onDestroy=function(){u.bannerManager.hide()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),t.prototype.showDialog.call(this),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=d.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0},e.prototype.start=function(){this.init(),this.iconStyle()},n([w({tooltip:"\u5f39\u7a97\u8282\u70b9",type:cc.Node})],e.prototype,"dialogNode",void 0),n([w({tooltip:"\u89c6\u9891\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnVideoNode",void 0),n([w({tooltip:"\u5206\u4eab\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnShareNode",void 0),n([w({tooltip:"\u514d\u8d39\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnFreeNode",void 0),n([w({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"closeNode",void 0),n([w({tooltip:"\u770b\u89c6\u9891\uff0c\u53ef\u4ee5\u83b7\u5f97\u8fd9\u5f20\u8d34\u7eb8\u54e6",type:cc.AudioClip})],e.prototype,"videoCoin",void 0),n([w({tooltip:"\u5206\u4eab\u53ef\u4ee5\u83b7\u5f97\u8fd9\u5f20\u8d34\u7eb8\u54e6",type:cc.AudioClip})],e.prototype,"shareCoin",void 0),n([w({tooltip:"\u770b\u5b8c\u89c6\u9891\uff0c\u624d\u53ef\u4ee5\u83b7\u5f97\u8d34\u7eb8\u54e6",type:cc.AudioClip})],e.prototype,"videoCoin2",void 0),n([w({tooltip:"\u7f29\u653e",type:cc.AudioClip})],e.prototype,13801002,void 0),n([w({tooltip:"\u901a\u7528\u70b9\u51fb",type:cc.AudioClip})],e.prototype,13801001,void 0),n([w({type:cc.SpriteAtlas,tooltip:"fish"})],e.prototype,"fishAlt",void 0),e=n([S],e)}(a.default);o.default=A,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBDialog":"BBDialog","../../../lib/business/manager/BannerManager":"BannerManager","../../../lib/business/manager/LoadManager":"LoadManager","../../../lib/business/manager/RewardManager":"RewardManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/business/manager/SwitchManager":"SwitchManager","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/NetUtil":"NetUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/ToastUtil":"ToastUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils"}],G35_GlobalParams:[function(t,e,o){"use strict";cc._RF.push(e,"d624dtp7cJGFbX1Zhrv3Sh5","G35_GlobalParams"),Object.defineProperty(o,"__esModule",{value:!0});cc.view.getVisibleSize();o.G35_GlobalParams={gameConfig:{name:"\u5947\u5999\u73e0\u5b9d\u5e97",debug:!0},gameConst:{maxWidth:1080,maxHeight:720,standardHeight:540,standardWidth:960,isLandscape:!0,vWidth:960,vHeight:540},gameVar:{isFromLocation:null,FIRST_FOUND_FISHINDEX:null,_currentNum:1,_fishType:1,_mapP:null,fromGameplay:null,sceneName:"G35_Welcome",gameId:0,fromSelect:!0,_finishGameId:0,backBtnTouch:!1}},cc._RF.pop()},{}],G35_GlobalView:[function(t,e,o){"use strict";cc._RF.push(e,"03e2eabd+9CBpcXCsqtG2nj","G35_GlobalView"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/core/util/DeviceUtil"),n=function(){function t(){}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},Object.defineProperty(t.prototype,"offset",{get:function(){return{x:cc.winSize.width/2-480,y:cc.winSize.height/2-270}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proportion",{get:function(){return cc.view.getFrameSize().width/cc.view.getFrameSize().height<1.7?cc.view.getFrameSize().width/cc.winSize.width:cc.view.getFrameSize().height/cc.winSize.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewSize",{get:function(){return cc.view.getVisibleSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AdHeight",{get:function(){return i.deviceUtil.unit2Cocos(106)/2},enumerable:!0,configurable:!0}),t.INSTANCE=void 0,t}();o.default=n,o.G35_globalView=n.get(),cc._RF.pop()},{"../../lib/core/util/DeviceUtil":"DeviceUtil"}],G35_HandBookBar:[function(t,e,o){"use strict";cc._RF.push(e,"57949bndcFAPriGEW5CnQrz","G35_HandBookBar");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../../lib/business/Manager/AudioManager"),s=t("../../../lib/core/util/StoreUtil"),c=t("./G35_HandBookbook"),l=t("../../../lib/core/util/NodeUtil"),u=t("../Common/G35_GetStickerWindow"),d=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),p=t("../../../lib/business/manager/ShareManager"),h=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),f=t("../../../lib/core/util/PlatformUtil"),g=t("../../GameUtils/G35_GlobalView"),_=cc._decorator,y=_.ccclass,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getStickerWindow=null,e.pictureClip=null,e.offset=null,e.res=null,e._layer=null,e._barTab=[],e._itemTab=[[],[],[],[]],e._guideFile=[],e._isTouch=!1,e._reLock=!1,e._item=null,e._finger=null,e._sceneGuideId=null,e.currPage=1,e._guideAct1=null,e._guideAct2=null,e._act=null,e._speak=null,e.IS_FIRST_GUIDE=0,e.flagCount=1,e.isNew=!1,e.USERBOOK=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],e.USERBAR=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],e.USERFLAG=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],e.USERPOS=[[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)]],e.soundTable=[["228051","228050","228048","228049","228047"],["228053","228052","228055","228054","228056"],["228057","228058","228060","228061","228059"],["228063","228064","228066","228062","228065"]],e}return i(e,t),e.prototype.init=function(t){this._layer=t.layer,this.res=this._layer.res,this.loadDisplay()},e.prototype.onLoad=function(){JSON.parse(s.default.get("G35_IS_FIRST_GUIDE","null"))?this.IS_FIRST_GUIDE=JSON.parse(s.default.get("G35_IS_FIRST_GUIDE","0")):s.default.set("G35_IS_FIRST_GUIDE",JSON.stringify(this.IS_FIRST_GUIDE)),JSON.parse(s.default.get("G35_USERFLAG","null"))?this.USERFLAG=JSON.parse(s.default.get("G35_USERFLAG","null")):s.default.set("G35_USERFLAG",JSON.stringify(this.USERFLAG)),JSON.parse(s.default.get("G35_USERPOS","null"))?this.USERPOS=JSON.parse(s.default.get("G35_USERPOS","null")):s.default.set("G35_USERPOS",JSON.stringify(this.USERPOS)),JSON.parse(s.default.get("G35_USERBOOK","null"))?this.USERBOOK=JSON.parse(s.default.get("G35_USERBOOK","null")):s.default.set("G35_USERBOOK",JSON.stringify(this.USERBOOK)),JSON.parse(s.default.get("G35_USERBAR","null"))?this.USERBAR=JSON.parse(s.default.get("G35_USERBAR","null")):s.default.set("G35_USERBAR",JSON.stringify(this.USERBAR));var t=g.G35_globalView.offset;this.offset=t},e.prototype.loadDisplay=function(){var t=cc.find("base",this.node);t.zIndex=1,this._item=a.G35_utils.creatNode(this.res.newNode,this.res.handBookAlt.getSpriteFrame("bar1"),t,cc.v2(0,0),1,0);for(var e=1;e<=4;e++){var o=a.G35_utils.creatNode(this.res.newNode,this.res.handBookAlt.getSpriteFrame("bar"),this.node,cc.v2(0,0),1,0);o.setAnchorPoint(cc.v2(0,.5)),o._canTouch=!0,o.scaleX=0,o.opacity=0,this._barTab.push(o)}for(e=1;e<=4;e++)this.loadItem(e);this.getFile()},e.prototype.loadItem=function(t){for(var e=1;e<=5;e++){var o=a.G35_utils.creatNode(this.res.newNode,this.res.fishAlt.getSpriteFrame(t+"-1"+e),this._barTab[t-1],cc.v2(130+130*(e-1),0),1);o._canTouch=!0,o.scale=.9;var i=0==this.USERBAR[t-1][e-1],n=a.G35_utils.creatNode(this.res.newNode,f.default.isTouTiao()?this.res.vedio_frame:this.res.bgAlt.getSpriteFrame("vedio"),o,cc.v2(o.width/2-20,-10),1);n.opacity=i?255:0,f.default.isPure()&&(n.opacity=0),o._ableVedio=i,n.name="vedio",o.id1=t,o.id2=e,this._itemTab[t-1].push(o),this.touchItem(o)}},e.prototype.touchItem=function(t){var e=this;f.default.isPure()?r.audioManager.playLine(this.res["a"+this.soundTable[t.id1-1][t.id2-1]]):t.on(cc.Node.EventType.TOUCH_START,function(o){if(t._ableVedio){var i=cc.instantiate(e.getStickerWindow);i.parent=cc.find("Canvas"),i.getComponent(u.default).setSucCallBack(t.id1,t.id2,e.res["a"+e.soundTable[t.id1-1][t.id2-1]],function(){e.watchSuccess(t)})}})},e.prototype.watchSuccess=function(t){var e=this;t.getChildByName("vedio").opacity=0,t._ableVedio=!1;var o=a.G35_utils.creatNode(this.res.newNode,this.res.fishAlt.getSpriteFrame(t.id1+"-"+t.id2),this._itemTab[t.id1-1][t.id2-1],cc.v2(0,0),1,9999);o._canTouch=!0,o.id1=t.id1,o.id2=t.id2,o.isNew=!0,this.nodeTouch(o),t.id1&&!this._sceneGuideId&&(this._sceneGuideId=t.id1,this._guideFile.push(this._sceneGuideId)),cc.tween(o).to(.1,{scale:.8}).to(.1,{scale:.1}).to(.1,{scale:.8}).to(.1,{scale:1}).call(function(){r.audioManager.playEffect(e.res.a22811008)}).start(),this.USERBAR[t.id1-1][t.id2-1]=1,s.default.set("G35_USERBAR",JSON.stringify(this.USERBAR))},e.prototype.createFile=function(t,e){var o=a.G35_utils.creatNode(this.res.newNode,this.res.fishAlt.getSpriteFrame(t+"-"+e),this._itemTab[t-1][e-1],cc.v2(0,0),1,9999);o._canTouch=!0,o.id1=t,o.id2=e,o.isNew=!1,this.nodeTouch(o),t&&!this._sceneGuideId&&(this._sceneGuideId=t,this._guideFile.push(o))},e.prototype.getFile=function(){for(var t=1;t<=4;t++)for(var e=1;e<=5;e++)1==this.USERBAR[t-1][e-1]&&(0,this.createFile(t,e))},e.prototype.openGuide=function(){for(var t=this,e=function(e){if(1==o.USERBAR[o.currPage-1][e-1])return o._guideAct1=cc.tween(o.node).delay(1).call(function(){if(t._guideAct1){var o=a.G35_utils.convertPosition(t._itemTab[t.currPage-1][e-1],t._layer.node);t._finger=a.G35_utils.creatNode(t.res.newNode,t.res.comAlt.getSpriteFrame("hand_1"),t._layer.node,cc.v2(o.x,o.y-60),1,9999),t._finger.opacity=0}t.guideAct(e)}).start(),"break"},o=this,i=1;i<=5;i++){if("break"===e(i))break}},e.prototype.guideAct=function(t){var e=this;if(this._finger){var o=a.G35_utils.convertPosition(this._itemTab[this.currPage-1][t-1],this._layer.node);this._finger.getComponent(cc.Sprite).spriteFrame=this.res.comAlt.getSpriteFrame("hand_1"),this._finger.setPosition(o.x,o.y-60),this._guideAct2=cc.tween(this._finger).repeatForever(cc.tween().delay(1).call(function(){e._finger.opacity=255,r.audioManager.playLine(e.res.a228116),e._finger.getComponent(cc.Sprite).spriteFrame=e.res.comAlt.getSpriteFrame("hand_2")}).delay(.25).call(function(){e._finger.getComponent(cc.Sprite).spriteFrame=e.res.comAlt.getSpriteFrame("hand_3")}).to(.5,{position:cc.v2(0,0)}).delay(1).call(function(){e._finger.opacity=0,e._finger.getComponent(cc.Sprite).spriteFrame=e.res.comAlt.getSpriteFrame("hand_1"),e._finger.setPosition(o.x,o.y-60)}).delay(3)).start()}},e.prototype.closeOpen=function(t){this._guideAct1&&(this._guideAct1.stop(),this.node.stopAllActions(),this._guideAct1=null,t&&(this.IS_FIRST_GUIDE=1,s.default.set("G35_IS_FIRST_GUIDE",JSON.stringify(this.IS_FIRST_GUIDE))),this._finger&&(this._finger.opacity=0),this._guideAct2&&(this._guideAct2.stop(),this._guideAct2=null))},e.prototype.uiPopup=function(t){var e=this;this.currPage=t,this._reLock||(t==this._sceneGuideId&&0==this.IS_FIRST_GUIDE&&this.openGuide(),r.audioManager.playEffect(this.res.a22811007),cc.tween(this._barTab[t-1]).call(function(){e._barTab[t-1].opacity=255}).delay(.25).to(.25,{scale:1},{easing:"backOut"}).start(),cc.tween(this._item).delay(.25).to(.25,{scale:1}).start(),cc.tween(this.node).call(function(){e.node.opacity=255}).to(.25,{scale:1}).start(),this._act=cc.tween(this.node).delay(.5).call(function(){if(0==e.IS_FIRST_GUIDE&&t==e._sceneGuideId);else switch(r.audioManager.stopAllAudio(),t){case 1:e._speak=r.audioManager.playLine(e.res.a228067);break;case 2:e._speak=r.audioManager.playLine(e.res.a228068);break;case 3:e._speak=r.audioManager.playLine(e.res.a228069);break;case 4:e._speak=r.audioManager.playLine(e.res.a228070)}e._layer.loadButton()}).start())},e.prototype.uiReturn1=function(t){var e=this;this._reLock||(r.audioManager.playEffect(this.res.a22811006),cc.tween(this.node).delay(.25).to(.25,{scale:0}).call(function(){e.node.opacity=0}).start(),cc.tween(this._item).to(.25,{scale:0}).call(function(){console.log(t);var o=4==t?0:t;e._item.getComponent(cc.Sprite).spriteFrame=e.res.handBookAlt.getSpriteFrame("bar"+(o+1))}).start(),cc.tween(this._barTab[t-1]).to(.25,{scaleX:0,scaleY:1}).call(function(){e._barTab[t-1].opacity=0}).delay(1).call(function(){4==t&&(t=0),e.uiPopup(t+1)}).start())},e.prototype.uiBack=function(){var t=this;this._layer.book.getComponent(c.default).bookRight._canTouch=!1,r.audioManager.playEffect(this.res.a22811006),this._reLock=!0,this.node.stopAllActions();for(var e=function(e){cc.tween(o._barTab[e-1]).to(.25,{scaleX:0,scaleY:1}).call(function(){t._barTab[e-1].opacity=0}).start()},o=this,i=1;i<=4;i++)e(i);cc.tween(this.node).delay(.25).to(.25,{scale:0}).call(function(){t.node.opacity=0}).start(),cc.tween(this._item).to(.25,{scaleX:0,scaleY:1}).start()},e.prototype.uiReturn2=function(t){var e=this;r.audioManager.playEffect(this.res.a22811006),cc.tween(this._barTab[t-1]).to(.25,{scaleX:0,scaleY:1}).call(function(){e._barTab[t-1].opacity=0}).delay(1).call(function(){1==t&&(t=5),e.uiPopup(t-1)}).start(),cc.tween(this._item).to(.25,{scale:0}).call(function(){1==t&&(t=5),e._item.getComponent(cc.Sprite).spriteFrame=e.res.handBookAlt.getSpriteFrame("bar"+(t-1))}).start(),cc.tween(this.node).delay(.25).to(.25,{scale:0}).call(function(){e.node.opacity=0}).start()},e.prototype.nodeTouch=function(t){var e=this;t.on(cc.Node.EventType.TOUCH_START,function(o){if(!e._layer._isClick){e._isTouch=!0,e.closeOpen(!0);t.parent,e._itemTab[t.id1-1][t.id2-1];e._itemTab[t.id1-1][t.id2-1].getChildByName("vedio").opacity=255,e._itemTab[t.id1-1][t.id2-1]._ableVedio=!0,e._layer.shareBtn.active=!!f.default.isWechatGame(),f.default.isPure()&&(e._itemTab[t.id1-1][t.id2-1].getChildByName("vedio").opacity=0),e.analytics(),r.audioManager.stopAllAudio(),r.audioManager.playEffect(e.res.a17901001),l.default.modifyParent(t,e._layer.node,9999);var i=o.getLocation();return i.x<250+e.offset.x+t.width/2&&(i.x=250+e.offset.x+t.width/2),i.x>cc.winSize.width-220-e.offset.x-t.width/2&&(i.x=cc.winSize.width-220-e.offset.x-t.width/2),i.y<190+e.offset.y-t.height+20&&(i.y=190+e.offset.y-t.height+20),i.y>400+e.offset.y&&(i.y=400+e.offset.y),t.setPosition(a.G35_utils.convertToSpacePos(i,t.parent)),!0}}),t.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(!e._layer._isClick){var i=o.getLocation();return i.x<250+e.offset.x+t.width/2&&(i.x=250+e.offset.x+t.width/2),i.x>cc.winSize.width-220-e.offset.x-t.width/2&&(i.x=cc.winSize.width-220-e.offset.x-t.width/2),i.y<190+e.offset.y-t.height+20&&(i.y=190+e.offset.y-t.height+20),i.y>400+e.offset.y&&(i.y=400+e.offset.y),t.setPosition(a.G35_utils.convertToSpacePos(i,t.parent)),!0}}),t.on(cc.Node.EventType.TOUCH_END,function(o){e._layer._isClick||(e._isTouch=!1,r.audioManager.playEffect(e.res.a22811008),l.default.modifyParent(t,e._layer.book.getComponent(c.default).bookRight,9999),cc.tween(t).to(.2,{scale:1.4}).to(.05,{scale:1}).call(function(){var o=cc.instantiate(e.res.tietiezhi);o.parent=t,cc.tween(o).delay(1).removeSelf().start()}).start(),e.saveDate(t))}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(o){e._layer._isClick||(r.audioManager.playEffect(e.res.a22811008),l.default.modifyParent(t,e._layer.book.getComponent(c.default).bookRight,9999),cc.tween(t).to(.2,{scale:1.4}).to(.05,{scale:1}).call(function(){var o=cc.instantiate(e.res.tietiezhi);o.parent=t,cc.tween(o).delay(1).removeSelf().start()}).start(),e.saveDate(t))})},e.prototype.saveDate=function(t){t.isNew&&(t.isNew=!1,this.USERBAR[t.id1-1].push(0),this.USERFLAG[t.id1-1].push(1),this.USERBOOK[t.id1-1].push(1),this.USERPOS[t.id1-1].push(t.getPosition())),this.USERBOOK[t.id1-1][t.id2-1]=1,0==this.USERFLAG[t.id1-1][t.id2-1]?(this.USERFLAG[t.id1-1][t.id2-1]=1,this.USERPOS[t.id1-1][t.id2-1]=t.getPosition(),this.USERBAR[t.id1-1][t.id2-1]=0):1==this.USERFLAG[t.id1-1][t.id2-1]&&1==this.USERBAR[t.id1-1][t.id2-1]&&0==this.USERFLAG[t.id1-1][t.id2-1+5]?(this.USERFLAG[t.id1-1][t.id2-1+5]=1,this.USERPOS[t.id1-1][t.id2-1+5]=t.getPosition(),this.USERBAR[t.id1-1][t.id2-1]=0):(this.USERPOS[t.id1-1][t.id2-1]=t.getPosition(),this.USERBAR[t.id1-1][t.id2-1]=0),s.default.set("G35_USERBAR",JSON.stringify(this.USERBAR)),s.default.set("G35_USERBOOK",JSON.stringify(this.USERBOOK)),s.default.set("G35_USERFLAG",JSON.stringify(this.USERFLAG)),s.default.set("G35_USERPOS",JSON.stringify(this.USERPOS))},e.prototype.analytics=function(){d.analyticsCommon.modalModule(h.default.MAP_SHARE,1),p.shareManager.buttonShow(h.default.MAP_SHARE)},n([m({type:cc.Prefab,tooltip:"getStickerWindow"})],e.prototype,"getStickerWindow",void 0),n([m({type:cc.AudioClip,tooltip:"\u5d4c\u5165\u8d34\u56fe\u58f0\u97f3"})],e.prototype,"pictureClip",void 0),e=n([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/core/util/NodeUtil":"NodeUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/StoreUtil":"StoreUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../Common/G35_GetStickerWindow":"G35_GetStickerWindow","./G35_HandBookbook":"G35_HandBookbook"}],G35_HandBookButton:[function(t,e,o){"use strict";cc._RF.push(e,"8d19axoN4tO25JMulmuu0fb","G35_HandBookButton");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_HandBookBar"),r=t("../../../lib/business/Manager/AudioManager"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._turn=null,e._layer=null,e.touchLock=!0,e._elasticMotionAct=null,e.isTouchDie=!0,e}return i(e,t),e.prototype.init=function(t){this._turn=t.turn||"right",this._layer=t.layer},e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.touchStart=function(t){if(!this.isTouchDie){this._layer._isClick=!0;var e=this._layer._bar.getComponent(a.default);e.closeOpen(),e._act&&(this._layer._bar.stopAllActions(),e._act=null),this.touchLock||(this.node.setScale(.7*this.node.scaleX,.7*this.node.scaleY),this._layer.isTrigger(this._turn),r.audioManager.stopAllAudio())}},e.prototype.touchEnd=function(t){var e=this;if(!this.isTouchDie){this.isTouchDie=!0;var o="left"==this._turn?1:-1;cc.tween(this.node).to(.2,{scaleX:o,scaleY:1}).call(function(){e._layer.moveOutButton(e._turn),e._layer.startFlip(e._turn)}).start()}},e.prototype.moveOut=function(t){var e=this;t=t||!1;var o="left"==this._turn?-150-cc.winSize.width/2:cc.winSize.width/2+150,i=cc.v2(o,this.node.y);cc.tween(this.node).to(.2,{position:i}).call(function(){e._layer.removeButton()}).start()},e.prototype.isIphoneX=function(){return/iphone/gi.test(navigator.userAgent)&&812==screen.height&&375==screen.width},e.prototype.moveIn=function(){var t=this;this._layer._isClick=!1;var e="left"==this._turn?-cc.winSize.width/2+this.node.width:cc.winSize.width/2-this.node.width,o=cc.v2(e,this.node.y);this.node.opacity=255,cc.tween(this.node).to(.3,{position:o},{easing:"backOut"}).call(function(){t._layer._isClick=!1,t.touchLock=!1,t.elasticMotion(),t.isTouchDie=!1}).start()},e.prototype.elasticMotion=function(){this._elasticMotionAct&&this.node.stopAction(this._elasticMotionAct);var t="left"==this._turn?-1:1;this._elasticMotionAct=cc.tween(this.node).repeatForever(cc.tween().delay(3).by(.2,{x:30*t}).by(.2,{x:-30*t}).by(.2,{x:30*t}).by(.2,{x:-30*t})).start()},e.prototype.removeButton=function(){this.node.stopAllActions();var t="left"==this._turn?-150-cc.winSize.width/2:cc.winSize.width/2+150,e=cc.v2(t,this.node.y);cc.tween(this.node).to(.2,{position:e},{easing:"backIn"}).removeSelf().start()},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","./G35_HandBookBar":"G35_HandBookBar"}],G35_HandBookPage:[function(t,e,o){"use strict";cc._RF.push(e,"4fa5bwLp6hK7aiO67ALE3C0","G35_HandBookPage");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../../lib/core/util/StoreUtil"),s=t("../../../lib/business/Manager/AudioManager"),c=t("../../GameUtils/G35_GlobalView"),l=t("../../../lib/core/util/NodeUtil"),u=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),d=t("../../../lib/business/manager/ShareManager"),p=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),h=t("../../../lib/core/util/PlatformUtil"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e._layer=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._canTouch=!0,e.pageIndex=null,e.bookNode=null,e.parent=null,e.isTouchHotRightRectToFlip=!0,e.dragFlipOrTouchFlip=!1,e._filePos=[cc.v2(190,350),cc.v2(190,175),cc.v2(360,250),cc.v2(530,350),cc.v2(530,175)],e.USERBOOK=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],e.USERBAR=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],e.USERFLAG=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],e.USERPOS=[[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)]],e}return i(e,t),e.prototype.init=function(t){this.pageIndex=t.pageIndex?t.pageIndex:0,this.bookNode=t.bookNode?t.bookNode:null,this._layer=t.layer,this.parent=t.parent,this.initData()},e.prototype.onLoad=function(){this.res=this._layer.res,this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=c.G35_globalView.offset;this.offset=t,JSON.parse(r.default.get("G35_USERFLAG","null"))?this.USERFLAG=JSON.parse(r.default.get("G35_USERFLAG","null")):r.default.set("G35_USERFLAG",JSON.stringify(this.USERFLAG)),JSON.parse(r.default.get("G35_USERPOS","null"))?this.USERPOS=JSON.parse(r.default.get("G35_USERPOS","null")):r.default.set("G35_USERPOS",JSON.stringify(this.USERPOS)),JSON.parse(r.default.get("G35_USERBOOK","null"))?this.USERBOOK=JSON.parse(r.default.get("G35_USERBOOK","null")):r.default.set("G35_USERBOOK",JSON.stringify(this.USERBOOK)),JSON.parse(r.default.get("G35_USERBAR","null"))?this.USERBAR=JSON.parse(r.default.get("G35_USERBAR","null")):r.default.set("G35_USERBAR",JSON.stringify(this.USERBAR)),this.loadDisplay()},e.prototype.loadDisplay=function(){this.loadBg()},e.prototype.initData=function(){this.pageIndex<=0?this.pageIndex=4:this.pageIndex>=5&&(this.pageIndex=1)},e.prototype.loadBg=function(){this._canTouch=!0;var t=0;t=1==this.pageIndex?3:3==this.pageIndex?1:this.pageIndex;var e=a.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("card-"+t),this.node,cc.v2(0,0),1);e.setAnchorPoint(cc.v2(0,0)),this.node.setContentSize(e.getContentSize()),a.G35_utils.setImg(e),this._layer._itemTab[this.pageIndex-1]=[];for(var o=0,i=1;i<10;i++)if(1==this.USERFLAG[this.pageIndex-1][i-1]){var n=void 0;n=i>5?i-5:i,o++;var r=a.G35_utils.creatNode(this.res.newNode,this.res.fishAlt.getSpriteFrame(this.pageIndex+"-"+n),this.node,cc.v2(this.USERPOS[this.pageIndex-1][i-1]),1);r._canTouch=!0,this._layer._itemTab[this.pageIndex-1].push(r),this.nodeTouch(r,i)}this._layer.shareBtn.active=!!(o>0&&h.default.isWechatGame()),o>0&&this.analytics()},e.prototype.analytics=function(){u.analyticsCommon.modalModule(p.default.MAP_SHARE,1),d.shareManager.buttonShow(p.default.MAP_SHARE)},e.prototype.nodeTouch=function(t,e){var o=this;t.on(cc.Node.EventType.TOUCH_START,function(e){if(t._canTouch&&!o._layer._isClick)return s.audioManager.stopAllAudio(),s.audioManager.playEffect(o.res.a17901001),a.G35_utils.resetParent(t,o._layer.node,9999),t.setScale(1.2),!0}),t.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t._canTouch&&!o._layer._isClick){l.default.modifyParent(t,o._layer.node,9999);var i=e.getLocation();i.x<250+o.offset.x+t.width/2&&(i.x=250+o.offset.x+t.width/2),i.x>cc.winSize.width-220-o.offset.x-t.width/2&&(i.x=cc.winSize.width-220-o.offset.x-t.width/2),i.y<190-t.height+o.offset.y+20&&(i.y=190+o.offset.y-t.height+20),i.y>400+o.offset.y&&(i.y=400+o.offset.y),t.setPosition(a.G35_utils.convertToSpacePos(i,t.parent))}},this),t.on(cc.Node.EventType.TOUCH_END,function(i){t._canTouch&&!o._layer._isClick&&(s.audioManager.playEffect(o.res.a22811008),l.default.modifyParent(t,o.node,9999),cc.tween(t).to(.2,{scale:1.4}).to(.05,{scale:1}).call(function(){var e=cc.instantiate(o.res.tietiezhi);e.parent=t,cc.tween(e).delay(1).removeSelf().start()}).start(),o.USERBOOK[o.pageIndex-1][e-1]=1,o.USERPOS[o.pageIndex-1][e-1]=t.position,o.USERBAR[o.pageIndex-1][e-1]=0,r.default.set("G35_USERBOOK",JSON.stringify(o.USERBOOK)),r.default.set("G35_USERPOS",JSON.stringify(o.USERPOS)),r.default.set("G35_USERBAR",JSON.stringify(o.USERBAR)),r.default.set("G35_USERFLAG",JSON.stringify(o.USERFLAG)))}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(i){t._canTouch&&!o._layer._isClick&&(s.audioManager.playEffect(o.res.a22811008),l.default.modifyParent(t,o.node,9999),cc.tween(t).to(.2,{scale:1.4}).to(.05,{scale:1}).call(function(){var e=cc.instantiate(o.res.tietiezhi);e.parent=t,cc.tween(e).delay(1).removeSelf().start()}).start(),o.USERBOOK[o.pageIndex-1][e-1]=1,o.USERPOS[o.pageIndex-1][e-1]=t.position,o.USERBAR[o.pageIndex-1][e-1]=0,r.default.set("G35_USERBOOK",JSON.stringify(o.USERBOOK)),r.default.set("G35_USERPOS",JSON.stringify(o.USERPOS)),r.default.set("G35_USERBAR",JSON.stringify(o.USERBAR)),r.default.set("G35_USERFLAG",JSON.stringify(o.USERFLAG)))})},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/core/util/NodeUtil":"NodeUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/StoreUtil":"StoreUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils"}],G35_HandBookRes:[function(t,e,o){"use strict";cc._RF.push(e,"ab685frOCFMhIGqEGrRRmHz","G35_HandBookRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.button=null,e.tietiezhi=null,e.bar=null,e.bgAlt=null,e.comAlt=null,e.handBookAlt=null,e.fishAlt=null,e.vedio_frame=null,e.a22811005=null,e.a22811008=null,e.a17901001=null,e.a228116=null,e.a22811007=null,e.a228067=null,e.a228068=null,e.a228069=null,e.a228070=null,e.a22811006=null,e.a228051=null,e.a228050=null,e.a228048=null,e.a228049=null,e.a228047=null,e.a228053=null,e.a228052=null,e.a228055=null,e.a228054=null,e.a228056=null,e.a228057=null,e.a228058=null,e.a228060=null,e.a228061=null,e.a228059=null,e.a228063=null,e.a228064=null,e.a228066=null,e.a228062=null,e.a228065=null,e}return i(e,t),n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"button"})],e.prototype,"button",void 0),n([s({type:cc.Prefab,tooltip:"tietiezhi"})],e.prototype,"tietiezhi",void 0),n([s({type:cc.Prefab,tooltip:"bar"})],e.prototype,"bar",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bgAlt"})],e.prototype,"bgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"comAlt"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"handBookAlt"})],e.prototype,"handBookAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fishAlt"})],e.prototype,"fishAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u767e\u5ea6\u7248\u672c  \u89c6\u9891\u56fe\u6807"})],e.prototype,"vedio_frame",void 0),n([s({type:cc.AudioClip,tooltip:"a22811005"})],e.prototype,"a22811005",void 0),n([s({type:cc.AudioClip,tooltip:"a22811008"})],e.prototype,"a22811008",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"a228116"})],e.prototype,"a228116",void 0),n([s({type:cc.AudioClip,tooltip:"22811007"})],e.prototype,"a22811007",void 0),n([s({type:cc.AudioClip,tooltip:"228067"})],e.prototype,"a228067",void 0),n([s({type:cc.AudioClip,tooltip:"228068"})],e.prototype,"a228068",void 0),n([s({type:cc.AudioClip,tooltip:"228069"})],e.prototype,"a228069",void 0),n([s({type:cc.AudioClip,tooltip:"228070"})],e.prototype,"a228070",void 0),n([s({type:cc.AudioClip,tooltip:"22811006"})],e.prototype,"a22811006",void 0),n([s({type:cc.AudioClip,tooltip:"228051"})],e.prototype,"a228051",void 0),n([s({type:cc.AudioClip,tooltip:"228050"})],e.prototype,"a228050",void 0),n([s({type:cc.AudioClip,tooltip:"228048"})],e.prototype,"a228048",void 0),n([s({type:cc.AudioClip,tooltip:"228049"})],e.prototype,"a228049",void 0),n([s({type:cc.AudioClip,tooltip:"228047"})],e.prototype,"a228047",void 0),n([s({type:cc.AudioClip,tooltip:"228053"})],e.prototype,"a228053",void 0),n([s({type:cc.AudioClip,tooltip:"228052"})],e.prototype,"a228052",void 0),n([s({type:cc.AudioClip,tooltip:"228055"})],e.prototype,"a228055",void 0),n([s({type:cc.AudioClip,tooltip:"228054"})],e.prototype,"a228054",void 0),n([s({type:cc.AudioClip,tooltip:"228056"})],e.prototype,"a228056",void 0),n([s({type:cc.AudioClip,tooltip:"228057"})],e.prototype,"a228057",void 0),n([s({type:cc.AudioClip,tooltip:"228058"})],e.prototype,"a228058",void 0),n([s({type:cc.AudioClip,tooltip:"228060"})],e.prototype,"a228060",void 0),n([s({type:cc.AudioClip,tooltip:"228061"})],e.prototype,"a228061",void 0),n([s({type:cc.AudioClip,tooltip:"228059"})],e.prototype,"a228059",void 0),n([s({type:cc.AudioClip,tooltip:"228063"})],e.prototype,"a228063",void 0),n([s({type:cc.AudioClip,tooltip:"228064"})],e.prototype,"a228064",void 0),n([s({type:cc.AudioClip,tooltip:"228066"})],e.prototype,"a228066",void 0),n([s({type:cc.AudioClip,tooltip:"228062"})],e.prototype,"a228062",void 0),n([s({type:cc.AudioClip,tooltip:"228065"})],e.prototype,"a228065",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_HandBookShare:[function(t,e,o){"use strict";cc._RF.push(e,"8584bwSefJJf5wo2+n2cxSq","G35_HandBookShare");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_GlobalView"),r=t("../../../lib/business/manager/ShareManager"),s=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),c=t("../../../lib/core/util/PlatformUtil"),l=t("../../../lib/business/manager/BannerManager"),u=t("../../../lib/business/base/BBDialog"),d=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),p=t("../../../lib/core/util/MathUtil"),h=cc._decorator,f=h.ccclass,g=h.property,_=[{title:"\u8da3\u5473\u5c0f\u95ee\u7b54\uff1a\u9ca8\u9c7c\u5403\u9c7c\u65f6\uff0c\u4e5f\u9700\u8981\u5410\u9c7c\u523a\u5417\uff1f"},{title:"\u989c\u503c\u7206\u8868\u76844\u79cd\u73cd\u7a00\u9c7c\u7c7b\uff0c\u8bf4\u51fa\u540d\u5b57\uff0c\u5c31\u80fd\u628a\u5b83\u4eec\u5e26\u56de\u5bb6\uff01"},{title:"\u9493\u9c7c\u53ea\u662f\u8001\u5e74\u4eba\u7684\u6d3b\u52a8\uff1f\u4f60OUT\u4e86\uff01\u4e0d\u4fe1\u770b\u770b\u8fd9\u4e2a\u6f6e\u6d41\u9493\u9c7c\u6cd5\uff01"},{title:"\u6d77\u6d0b\u77e5\u8bc6\u7ade\u7b54\uff1a\u9ca8\u9c7c\u6709\u51e0\u9897\u7259\u9f7f\uff1f\u70b9\u5f00\u5927\u56fe\u6570\u6570\u5427\uff01"}],y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shareBtn=null,e.sprite=null,e.photo=null,e.touchDie=!0,e}return i(e,t),e.prototype.onClickShare=function(t){var e=this;this.shareBtn=t.target,l.bannerManager.hide(),d.analyticsCommon.modalModule(s.default.MAP_SHARE,2),this.node.stopAllActions(),this.shareBtn.stopAllActions(),this.shareBtn.scale=1;var o=p.default.random(0,_.length-1);this.screenshot({width:262.5,height:210},cc.v2(0,0)).then(function(t){if(console.log(t,"---------------"),console.log(t.tempFilePath,"+++++++++++++++"),!t||!t.tempFilePath)return console.log("shareTouchStarted =====================:res.tempFilePath = null"+t),void e.share();console.log("shareTouchStarted =====================: overoverover"),r.shareManager.shareApp("over",s.default.MAP_SHARE,{title:_[o].title,imageUrl:t.tempFilePath}).then(function(){console.log("\u5206\u4eab\u6210\u529f")}).catch(function(){console.log("\u5206\u4eab\u5931\u8d25")})}).catch(function(t){console.log("shareTouchStarted =====================: catchcatchcatch"),console.log(t),e.share()})},e.prototype.share=function(){r.shareManager.shareApp("share",s.default.MAP_SHARE).then(function(){console.log("\u5206\u4eab\u6210\u529f")}).catch(function(){console.log("\u5206\u4eab\u5931\u8d25")})},e.prototype.effect=function(){var t=this;console.log("\u5f00\u59cb\u622a\u56fe");a.G35_globalView.offset;this.screenshot({width:770,height:770},cc.v2(0,-30),{width:770,height:770}).then(function(t){console.log("\u622a\u56fe\u6210\u529f")}).catch(function(e){console.log("\u622a\u56fe\u5931\u8d2511111111111111111111",e),t.scheduleOnce(function(){},2.5)})},e.prototype.setSpriteFrame=function(t){if(t){var e=new cc.Texture2D;e.initWithElement(t.image),e.handleLoadedTexture();var o=new cc.SpriteFrame(e);this.sprite.getComponent(cc.Sprite).spriteFrame=o}},e.prototype.showDialog=function(){t.prototype.onLoad.call(this),t.prototype.showDialog.call(this)},e.prototype.onEnable=function(){t.prototype.onEnable.call(this)},e.prototype.loadAd=function(){l.bannerManager.showDefault(l.BannerPosition.BOTTOM).then(function(t){}).catch(function(){})},e.prototype.screenshot=function(t,e,o){var i=cc.game.canvas,n=i.width,a=i.height,r=i.width/cc.winSize.width,s=t.width*r,l=t.height*r,u={x:0,y:0};return e&&(u={x:e.x*r,y:e.y*r}),!o&&(o=t),new Promise(function(t,e){if(!i.toTempFilePath)return t({});i.toTempFilePath({x:(n-s)/2+u.x,y:(a-l)/2-u.y,width:s,height:l,destWidth:o.width,destHeight:o.height,fileType:"png",complete:function(o){if(console.log("\u622a\u56fe\u5b8c\u6210",o),!o||!o.tempFilePath)return e();var i=null;if(c.default.isWechatGame())i=window.wx.createImage();else{if(!c.default.isBaiduGame())return console.log("\u622a\u56fe\u53ea\u5728\u5fae\u4fe1\u4e0e\u767e\u5ea6\u4e0a\u5904\u7406"),t({});i=window.swan.createImage()}i.src=o.tempFilePath,i.onload=function(){t({image:i,tempFilePath:o.tempFilePath})},i.onerror=function(){return e()}}})})},n([g({tooltip:"\u5b58\u653e\u622a\u56fe\u8282\u70b9",type:cc.Node})],e.prototype,"sprite",void 0),n([g({tooltip:"\u622a\u56fe\u97f3\u6548",type:cc.AudioClip})],e.prototype,"photo",void 0),e=n([f],e)}(u.default);o.default=y,cc._RF.pop()},{"../../../lib/business/base/BBDialog":"BBDialog","../../../lib/business/manager/BannerManager":"BannerManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalView":"G35_GlobalView"}],G35_HandBookbooknode:[function(t,e,o){"use strict";cc._RF.push(e,"86d4fi8xVdEErsYo1bgkYqH","G35_HandBookbooknode");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_GlobalView"),r=t("./G35_HandBookRes"),s=t("../../GameUtils/G35_Utils"),c=t("./G35_HandBookbook"),l=t("./G35_HandBookButton"),u=t("../../../lib/business/Manager/AudioManager"),d=t("./G35_HandBookBar"),p=t("../../../lib/core/util/StoreUtil"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e._canTouch=!0,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e.layer=null,e.isFlipPage=!1,e.flipDir=null,e._itemTab=[[],[],[],[]],e._bookBg=null,e.book=null,e.flipPage=null,e.leftButton=null,e.rightButton=null,e.currentPage=1,e._bar=null,e._x=null,e._y=null,e.theold_value=null,e.dis_speed=null,e.bg=null,e.sp=null,e.shareBtn=null,e.USERBAR=[],e._isClick=!1,e}return i(e,t),e.prototype.init=function(t){this.layer=t.layer},e.prototype.onLoad=function(){this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this.node.scale=0,this.shareBtn=cc.find("shareBtn",this.node),this.shareBtn.zIndex=9999,this.loadBook()},e.prototype.openEffect=function(){var t=this;cc.tween(this.node).then(cc.sequence(cc.spawn(cc.scaleTo(.6,1),cc.moveTo(.6,s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),this.node.parent))),cc.callFunc(function(){t._bar.getComponent(d.default).uiPopup(t.currentPage)}))).start()},e.prototype.returnEffect=function(){var t=this;this._bar.getComponent(d.default).closeOpen(!1),this.removeButton(),this._bar.getComponent(d.default).uiBack(),cc.tween(this.node).delay(.2).parallel(cc.tween().to(.6,{position:cc.v2(-cc.winSize.width,60-cc.winSize.height)}),cc.tween().to(.6,{scale:0}).removeSelf()).call(function(){t._bar.getComponent(d.default)._reLock=!1}).delay(.1).start()},e.prototype.loadBook=function(){var t=s.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("book_bg"),this.node,cc.v2(-90+this.offset.x-cc.winSize.width/2,this.offset.y+248-cc.winSize.height/2),1);t.setAnchorPoint(0,.5),t.setScale(1),s.G35_utils.creatNode(this.res.newNode,this.res.handBookAlt.getSpriteFrame("book_bg2"),t,cc.v2(0,0),1).setAnchorPoint(1,.5),this._bookBg=t;cc.v2(-620+this.offset.x+55,540*this.Y_FACTOR/2-240);if(this.USERBAR=JSON.parse(p.default.get("G35_USERBAR","null")),0==JSON.parse(p.default.get("G35_IS_FIRST_GUIDE","0")))for(var e=1;e<=4;e++)for(var o=1;o<=5;o++)if(1==this.USERBAR[e-1][o-1]){this.currentPage=e;break}this.book=new cc.Node,this.book.addComponent(c.default).init({currentPage:this.currentPage,width:1406,height:440,bookNode:this.node,layer:this}),this.book.zIndex=20,this.book.setAnchorPoint(cc.v2(0,0)),this.book.parent=this.node,this.book.setPosition(cc.v2(this.offset.x-cc.winSize.width/2-520,this.offset.y-cc.winSize.height/2+140));var i=cc.instantiate(this.res.bar);i.parent=this.node,i.setPosition(cc.v2(this.offset.x-cc.winSize.width/2+150,this.offset.y-cc.winSize.height/2+50)),i.zIndex=9999,i.getComponent(d.default).init({layer:this}),this._bar=i},e.prototype.loadButton=function(){this.loadLeftButton(),this.loadRightButton()},e.prototype.loadLeftButton=function(){this.leftButton=cc.instantiate(this.res.button);var t=this.leftButton.getComponent(l.default);t.init({turn:"left",layer:this}),this.leftButton.parent=this.node,this.leftButton.zIndex=20;var e=s.G35_utils.convertToSpacePos(cc.v2(-240,240+this.offset.y),this.node);this.leftButton.setPosition(e.x-cc.winSize.width/2,e.y),this.leftButton.opacity=0,t.moveIn(),this.leftButton.name="handbookButtonLeft"},e.prototype.loadRightButton=function(){this.rightButton=cc.instantiate(this.res.button);var t=this.rightButton.getComponent(l.default);t.init({turn:"right",layer:this}),this.rightButton.parent=this.node,this.rightButton.zIndex=20,this.rightButton.scaleX=-1;var e=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+240,240+this.offset.y),this.node);this.rightButton.setPosition(e.x+cc.winSize.width/2,e.y),this.rightButton.opacity=0,t.moveIn(),this.rightButton.name="handbookButtonRight"},e.prototype.startFlip=function(t){switch(t){case"right":this.next(),this.isFlipPage=!0;break;case"left":this.prev(),this.isFlipPage=!0}},e.prototype.isTrigger=function(t){return!("right"!=t||!this.book.getComponent(c.default).canFlipNext())||!("left"!=t||!this.book.getComponent(c.default).canFlipPrev())},e.prototype.moveOutButton=function(t){var e=this.book.getComponent(c.default).currentPage,o=!1,i=!1;switch(t=t||!1){case"right":i=!0,this._bar.getComponent(d.default).uiReturn1(e);break;case"left":o=!0,this._bar.getComponent(d.default).uiReturn2(e)}this.rightButton.getComponent(l.default).moveOut(i),this.leftButton.getComponent(l.default).moveOut(o),u.audioManager.playEffect(this.res.a22811005)},e.prototype.moveInButton=function(){this.leftButton&&this.leftButton.getComponent(l.default).moveIn&&this.leftButton.getComponent(l.default).moveIn(),this.rightButton&&this.rightButton.getComponent(l.default).moveIn&&this.rightButton.getComponent(l.default).moveIn()},e.prototype.removeButton=function(){this.leftButton&&this.leftButton.getComponent(l.default).removeButton(),this.rightButton&&this.rightButton.getComponent(l.default).removeButton()},e.prototype.addNewPage=function(t){"right"==t?(this.flipDir="right",this.addNextPage()):"left"==t&&(this.flipDir="left",this.addPrevPage())},e.prototype.addNextPage=function(){this.flipDir="right";this.book.getComponent(c.default).getNextStr()[0],this.book.getComponent(c.default).getNextStr()[1];this.book.getComponent(c.default).changeBookShow(this.flipDir)},e.prototype.addPrevPage=function(){this.flipDir="left";this.book.getComponent(c.default).getPrevStr()[0],this.book.getComponent(c.default).getPrevStr()[1];this.book.getComponent(c.default).changeBookShow(this.flipDir)},e.prototype.next=function(){this.addNextPage()},e.prototype.prev=function(){this.addPrevPage()},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/core/util/StoreUtil":"StoreUtil","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","./G35_HandBookBar":"G35_HandBookBar","./G35_HandBookButton":"G35_HandBookButton","./G35_HandBookRes":"G35_HandBookRes","./G35_HandBookbook":"G35_HandBookbook"}],G35_HandBookbook:[function(t,e,o){"use strict";cc._RF.push(e,"3a383QfUbBHDIUY+S6U5v2o","G35_HandBookbook");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_HandBookPage"),r=t("../../GameUtils/G35_Utils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalPage=4,e.hotLeftRect=cc.rect(0,0,0,0),e.canTouchPage=!0,e.currentPage=null,e.pageWidth=null,e.pageHeight=null,e.bookNode=null,e.bookRight=null,e.bookRight2=null,e._layer=null,e.allPage=null,e.halfPage=null,e.dir=null,e}return i(e,t),e.prototype.init=function(t){this.currentPage=t.currentPage?t.currentPage:1,this.pageWidth=t.width?t.width:600,this.pageHeight=t.height?t.height:400,this._layer=t.layer,this.bookNode=t.bookNode,this.initShow()},e.prototype.initShow=function(){this.bookRight=this.loadNewPage(this.currentPage)},e.prototype.loadNewPage=function(t,e,o){var i=this;void 0===e&&(e=null),void 0===o&&(o=null),e=e||this.node,o=o||cc.v2(this.pageWidth/2,-this.pageHeight/5-5);var n=new cc.Node("bookPage");return n.addComponent(a.default).init({pageIndex:t,bookNode:this.bookNode,layer:this._layer,parent:this}),n.parent=e,n.setAnchorPoint(cc.v2(0,0)),n.setPosition(o),"left"==this.dir&&(n.angle=45,n.setPosition(cc.v2(-o.x,o.y)),cc.tween(n).delay(.25).then(cc.sequence(cc.spawn(cc.rotateTo(.4,0),cc.moveTo(.4,cc.v2(o))),cc.callFunc(function(){i.bookRight2.destroy(),i.bookRight2=null}))).start()),console.log("\u5f53\u524d\u9875\uff1a",this.currentPage),n},e.prototype.addAllPage=function(t,e,o){this.allPage=r.G35_utils.creatNode(this._layer.res.newNode,null,this.node,cc.v2(0,0),1),this.allPage.setAnchorPoint(cc.v2(0,0)),this.halfPage=r.G35_utils.creatNode(this._layer.res.newNode,null,this.node,cc.v2(0,0),1),this.halfPage.setAnchorPoint(cc.v2(0,0));this.loadNewPage(e,this.allPage,cc.v2(this.pageWidth/2,0)),this.dir=o,"right"==o?r.G35_utils.creatNode(this._layer.res.newNode,this._layer.res.handBookAlt.getSpriteFrame("back"),this.halfPage,cc.v2(0,0),1):"left"==o&&this.loadNewPage(t,this.halfPage,cc.v2(-this.pageWidth/2,0))},e.prototype.canFlipNext=function(){return this.currentPage!==this.totalPage},e.prototype.canFlipPrev=function(){return 1!==this.currentPage},e.prototype.changeBookShow=function(t){var e=this;switch(t){case"left":this.currentPage--,0==this.currentPage&&(this.currentPage=4);break;case"right":this.currentPage++,5==this.currentPage&&(this.currentPage=1)}this.dir=t,this.bookRight2=this.bookRight,"right"==t?cc.tween(this.bookRight2).then(cc.sequence(cc.spawn(cc.rotateTo(.8,-45),cc.moveTo(.8,cc.v2(-this.bookRight2.position.x,this.bookRight2.position.y)),cc.callFunc(function(){e.bookRight2.zIndex=2,e.bookRight=e.loadNewPage(e.currentPage)})),cc.callFunc(function(){e.bookRight2.destroy(),e.bookRight2=null}))).start():"left"==t&&(this.bookRight=this.loadNewPage(this.currentPage))},e.prototype.getNextStr=function(){return[this.currentPage,this.currentPage+1]},e.prototype.getPrevStr=function(){return[this.currentPage-1,this.currentPage]},e.prototype.touchStart=function(t){},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../GameUtils/G35_Utils":"G35_Utils","./G35_HandBookPage":"G35_HandBookPage"}],G35_HandGuide:[function(t,e,o){"use strict";cc._RF.push(e,"f0d74uEf3JOMp1D17+xKWW8","G35_HandGuide");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../GameUtils/Tools/G35_CommonAct"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._arrow=null,e.commonAlt=null,e}return i(e,t),e.prototype.handGuide=function(t,e){var o=this;this.node.parent=t,this.node.zIndex=11,this.node.position=e,this.node.opacity=0,a.G35_utils.setImg(this.node),cc.tween(this.node).repeatForever(cc.tween().call(function(){o.node.x=e.x-43,o.node.y=e.x-30}).to(.01,{opacity:255}).call(function(){r.G35_commonAct.filenames(o.node,r.G35_commonAct.getSpriteFrameArrForName(o.commonAlt,"hand_",1,3))}).delay(.3).call(function(){var e=a.G35_utils.createNoTrimNode(o.commonAlt.getSpriteFrame("arrow2"),"arrow",!1,!0);e.parent=t,e.zIndex=10,e.x=o.node.x+95-o.node.width/2,e.y=o.node.y+105-o.node.height/2,a.G35_utils.setImg(e),o._arrow=e,cc.tween(e).by(.5,{position:cc.v2(30,0)}).by(.5,{position:cc.v2(-30,-30)}).by(.5,{position:cc.v2(-30,30)}).by(.5,{position:cc.v2(30,10)}).by(.5,{position:cc.v2(10,-10)}).by(.5,{position:cc.v2(-10,-10)}).by(.5,{position:cc.v2(-10,10)}).by(.5,{position:cc.v2(10,10)}).delay(.3).removeSelf().start()}).by(.5,{position:cc.v2(50,0)}).by(.5,{position:cc.v2(-50,-50)}).by(.5,{position:cc.v2(-50,50)}).by(.5,{position:cc.v2(50,50)}).by(.5,{position:cc.v2(50,-50)}).by(.5,{position:cc.v2(-50,-50)}).by(.5,{position:cc.v2(-50,50)}).by(.5,{position:cc.v2(50,50)}).to(.01,{opacity:0}).delay(3)).start()},e.prototype.removeHand=function(){this.node.isValid&&(this.node.stopAllActions(),this.node.destroy(),this._arrow&&(this._arrow.stopAllActions(),this._arrow.destroy(),this._arrow=null))},e.prototype.start=function(){},n([l({type:cc.SpriteAtlas,tooltip:"common"})],e.prototype,"commonAlt",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct"}],G35_IceholeBar:[function(t,e,o){"use strict";cc._RF.push(e,"19c7clIpf1Pwpbrmb2OHav1","G35_IceholeBar");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_Icehole"),r=t("./G35_IceholeRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/business/Manager/AudioManager"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e._lock=null,e.moveNode=null,e.id=null,e}return i(e,t),e.prototype.touchStart=function(t){this.mainScript.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.node.opacity=0,this.moveNode=c.G35_utils.creatNode(this.res.newNode,this.res.item2Alt.getSpriteFrame(""+this.id),this._canvas,t.getLocation(),0,9999),this.mainScript._itemTouch=!0,this.mainScript.stopGuide(),l.audioManager.playEffect(this.res.a17901001)))},e.prototype.touchMove=function(t){this.mainScript.canTouch&&this.touchThrigger&&(this.moveNode.position=c.G35_utils.convertToSpacePos(t.getLocation(),this._canvas))},e.prototype.touchEnd=function(t){var e=this;this.mainScript.canTouch&&(this.touchThrigger&&this.mainScript._shadow&&(this.touchThrigger=!1,c.G35_utils.getDistace(this.moveNode,this.mainScript._shadow)<=50&&this.id==this.mainScript._shadow.id&&this.mainScript._mateLock?(this.mainScript.canTouch=!1,c.G35_utils.resetParent(this.moveNode,this.mainScript._hook,1e3),cc.tween(this.moveNode).parallel(cc.tween().by(.2,{position:cc.v2(50,50)}),cc.tween().to(.2,{scale:1.4})).to(.2,{scaleX:1.3,scaleY:1,position:c.G35_utils.convertToSpacePos(this.mainScript._shadow.convertToWorldSpaceAR(cc.v2(0,0)),this.mainScript._hook)}).to(.1,{scale:1.2}).call(function(){c.G35_utils.creatParticle(e.res.pinyugan,e._canvas,e.moveNode.convertToWorldSpaceAR(cc.v2(0,0)),9999);l.audioManager.playEffect(e.res.a22806007),e.mainScript._shadow.getComponent(cc.Sprite).spriteFrame=e.res.item2Alt.getSpriteFrame(""+e.id)}).hide().call(function(){e.node.opacity=255,e.mainScript.hookUp()}).start()):(this.node.opacity=255,this.mainScript.barGuide(),this.moveNode.destroy(),this.moveNode=null)))},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.mainScript=cc.find("Canvas").getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Icehole":"G35_Icehole","./G35_IceholeRes":"G35_IceholeRes"}],G35_IceholeFish:[function(t,e,o){"use strict";cc._RF.push(e,"c020bwn7tJFdKBzqI91IAE+","G35_IceholeFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_IceholeRes"),r=t("./G35_Icehole"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../../lib/core/util/MathUtil"),d=t("../../../GameUtils/Tools/G35_CommonAct"),p=t("./G35_IceholeRod"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e.id=null,e._type=null,e._lock=null,e.particle=null,e._speak=null,e}return i(e,t),e.prototype.escape=function(){var t=this;cc.tween(this.node).then(cc.moveBy(.15,cc.v2(0,-25)).easing(cc.easeIn(3))).then(cc.moveBy(.15,cc.v2(0,-50)).easing(cc.easeIn(3))).call(function(){t.afterEscape()}).start()},e.prototype.fishUp=function(){var t=this;if(!this._lock)if(this._lock=!0,"sc"==this._type||"xz"==this._type){var e=-10;"sc"==this._type&&(e=-30),cc.tween(this.node).by(.23,{position:cc.v2(e,150)}).call(function(){t.grassShake(),t.mainScript._rodTab[t.id-1].getComponent(p.default).fishUp=!1}).start()}else 0!=this.mainScript._fishCount||this.mainScript._firstVoive||(this.mainScript._firstVoive=1,c.audioManager.playLine(this.res.a228097)),cc.tween(this.node).by(.23,{x:-20,y:100}).call(function(){t.mainScript._rodTab[t.id-1].getComponent(p.default).fishUp=!1}).start()},e.prototype.fishFly=function(){this.node.particle&&(this.node.particle.destroy(),this.node.particle=null);var t=cc.instantiate(this.res.shuidi1);t.parent=this.node.parent,t.zIndex=this.node.zIndex-1,t.x=this.node.x,t.y=this.node.y-130;var e=-180;this.id>2&&(e=180),"sc"==this._type?this.scFlyToKeg(e):"xz"==this._type?this.xzFlyToKeg(e):this.fishFlyToKeg(e)},e.prototype.scFlyToKeg=function(t){var e=this;this.mainScript._grassCount+=1,"sc"!=this._type||this.mainScript._soundSc||(this.mainScript._soundSc=1,cc.audioEngine.stopAllEffects(),this._speak=c.audioManager.playLine(this.res.a228112)),cc.tween(this.node).by(.25,{y:150}).set({zIndex:9999}).parallel(cc.tween().to(.5,{angle:t,scale:1}),cc.tween().then(cc.jumpTo(.5,cc.v2(l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),this.node.parent)),300,1))).call(function(){c.audioManager.playEffect(e.res.a22806014)}).delay(.25).call(function(){e.mainScript.loadWaterStain(),e.mainScript._lineFlag[e.id-1]=1,e.mainScript._markTab[e.id-1].opacity=255,c.audioManager.playEffect(e.res.a22806015)}).by(.25,{y:-cc.winSize.height/2-100}).removeSelf().start()},e.prototype.xzFlyToKeg=function(t){var e=this;this.mainScript._shoesCount+=1,this.mainScript._soundXz||(this.mainScript._soundXz=1,cc.audioEngine.stopAllEffects(),this._speak=c.audioManager.playEffect(this.res.a228113)),cc.tween(this.node).by(.25,{y:150}).set({zIndex:9999}).call(function(){c.audioManager.playEffect(e.res.a22806017)}).parallel(cc.tween().to(.5,{angle:t,scale:1}),cc.tween().then(cc.jumpTo(.5,cc.v2(l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+u.default.random(-200,200),cc.winSize.height/2+u.default.random(-125,125)),this.node.parent)),300,1))).call(function(){c.audioManager.playEffect(e.res.a22806014)}).delay(.25).call(function(){e.mainScript._lineFlag[e.id-1]=1,e.mainScript._markTab[e.id-1].opacity=255,c.audioManager.playEffect(e.res.a22806015)}).by(.25,{y:-cc.winSize.height/2-100}).removeSelf().start()},e.prototype.fishFlyToKeg=function(t){var e=this;cc.tween(this.node).by(.25,{y:150}).set({zIndex:5e3}).parallel(cc.tween().to(.5,{angle:t,scale:.5}),cc.tween().then(cc.jumpTo(.5,cc.v2(l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,0),this.node.parent)),300,1))).call(function(){c.audioManager.playEffect(e.res.a22806013),e.mainScript._fishCount+=1;var t=l.G35_utils.creatNode(e.res.newNode,e.res.putWaterAlt.getSpriteFrame("fishwater-1"),e.mainScript._keg1,cc.v2(-25,e.mainScript._keg1.height/2),1,9999);cc.tween(t).call(function(){d.G35_commonAct.filenames(t,d.G35_commonAct.getSpriteFrameArrForName(e.res.putWaterAlt,"fishwater-",2,5))}).delay(.5).removeSelf().start(),5*e.mainScript._fishCount<=100&&e.mainScript.bar(5*e.mainScript._fishCount,.25),e.mainScript._lineFlag[e.id-1]=1,e.mainScript._markTab[e.id-1].opacity=255,e.changeRule()}).removeSelf().start()},e.prototype.changeRule=function(){if(6==this.mainScript._fishCount)this.mainScript._stage=2,this.mainScript._time=1,this.mainScript._escapeTime=3,this.mainScript._ruleAction&&(this.mainScript._ruleAction.stop(),this.mainScript._ruleAction=null,this.mainScript.rule()),c.audioManager.playLine(this.res.a228098);else if(13==this.mainScript._fishCount)cc.audioEngine.stopAllEffects(),c.audioManager.playEffect(this.res.a228110),this.mainScript._stage=3,this.mainScript._time=.5,this.mainScript._escapeTime=2,this.mainScript._ruleAction&&(this.mainScript._ruleAction.stop(),this.mainScript._ruleAction=null,this.mainScript.rule());else if(20==this.mainScript._fishCount)return this.node.stopAllActions(),this.mainScript._ruleAction.stop(),this.mainScript.canTouch=!1,void this.mainScript.gameOver()},e.prototype.grassShake=function(){cc.tween(this.node).then(cc.moveBy(1,cc.v2(15,0))).then(cc.moveBy(1,cc.v2(-15,0))).start()},e.prototype.touchStart=function(t){this.mainScript.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.mainScript._rodTab[this.id-1].getComponent(p.default).touchStart(t)))},e.prototype.touchEnd=function(t){this.mainScript.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.mainScript._rodTab[this.id-1].getComponent(p.default).touchEnd(t))},e.prototype.afterEscape=function(){this.mainScript.escapeAfter(this.id),this.node.active=!1},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.fishUp(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Icehole":"G35_Icehole","./G35_IceholeRes":"G35_IceholeRes","./G35_IceholeRod":"G35_IceholeRod"}],G35_IceholeMachine:[function(t,e,o){"use strict";cc._RF.push(e,"307fa6uaaJC97mwHdE4J4Xa","G35_IceholeMachine");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_IceholeRes"),r=t("./G35_Icehole"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/Tools/G35_CommonAct"),l=t("../../../../lib/business/Manager/AudioManager"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._count=1,e._touch=!1,e._lock=!1,e._canTouch=!1,e._act2=null,e._over=null,e}return i(e,t),e.prototype.startUp=function(){var t=this;this._count>3||this._lock||(this._lock=!0,this._act2=cc.tween(this.node).delay(.2).call(function(){c.G35_commonAct.filenames(t.node,c.G35_commonAct.getSpriteFrameArrForName(t.res.machineAlt,"",4,2))}).delay(.2).call(function(){t._lock=!1,t._touch?t.startUp():t.node.getComponent(cc.Sprite).spriteFrame=t.res.machineAlt.getSpriteFrame("1")}).start(),this.iceChange(),1==this._count?l.audioManager.playEffect(this.res.a22806003):2==this._count?(l.audioManager.playEffect(this.res.a22806002),this.mainScript.loadHoleMask(this.mainScript._guideLineTab[this.mainScript._holeCount-1]),this.mainScript._holeMask&&c.G35_commonAct.filenames(this.mainScript._holeMask,c.G35_commonAct.getSpriteFrameArrForName(this.res.play1Alt,"play-",1,2))):3==this._count&&(l.audioManager.playEffect(this.res.a22806004),this.mainScript._holeMask&&cc.tween(this.mainScript._holeMask).call(function(){c.G35_commonAct.filenames(t.mainScript._holeMask,c.G35_commonAct.getSpriteFrameArrForName(t.res.play1Alt,"play-",3,2))}).delay(.5).call(function(){if(t.node.getComponent(cc.Sprite).spriteFrame=t.res.machineAlt.getSpriteFrame("1"),t._canTouch=!1,t._touch=!1,t._count=1,t._lock=!1,t.mainScript._holeCount+=1,t.mainScript._holeCount>4){if(!t._over){t._over=!0,t._touch=!0,l.audioManager.playEffect(t.res.a22802003);var e=cc.instantiate(t.res.zuandongwc2);e.parent=t._canvas,e.zIndex=9999,t.mainScript.inPopup()}}else t.mainScript.machineMove()}).start()))},e.prototype.iceChange=function(){var t=this,e=20*this._count;this._count,cc.tween(this.node).by(.4,{y:-e}).start(),cc.tween(this.mainScript._guideLineTab[this.mainScript._holeCount-1].ice).to(.01,{opacity:255}).call(function(){c.G35_commonAct.filenames(t.mainScript._guideLineTab[t.mainScript._holeCount-1].ice,c.G35_commonAct.getSpriteFrameArrForName(t.res.iceAlt,"",2,4))}).delay(.4).to(.01,{opacity:0}).start(),cc.tween(this.mainScript._guideLineTab[this.mainScript._holeCount-1].water).to(.01,{opacity:255}).call(function(){c.G35_commonAct.filenames(t.mainScript._guideLineTab[t.mainScript._holeCount-1].water,c.G35_commonAct.getSpriteFrameArrForName(t.res.holeWater,"",2,2))}).delay(.2).to(.01,{opacity:0}).start(),cc.tween(this.mainScript._guideLineTab[this.mainScript._holeCount-1]).call(function(){c.G35_commonAct.filenames(t.mainScript._guideLineTab[t.mainScript._holeCount-1],c.G35_commonAct.getSpriteFrameArrForName(t.res.play1Alt,"",2*t._count,2))}).delay(.2).call(function(){t._count+=1}).start(),cc.instantiate(this.res.zuandongwc1).parent=this.mainScript._guideLineTab[this.mainScript._holeCount-1]},e.prototype.touchStart=function(t){var e=this;this._canTouch&&(this._touch||this.touchThrigger||(this._touch=!0,this.touchThrigger=!0,cc.tween(this.node).call(function(){c.G35_commonAct.filenames(e.node,c.G35_commonAct.getSpriteFrameArrForName(e.res.machineAlt,"",2,2))}).start(),l.audioManager.playEffect(this.res.a22806002),this.startUp()))},e.prototype.touchEnd=function(t){this.touchThrigger&&(this.touchThrigger=!1,this._touch=!1)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Icehole":"G35_Icehole","./G35_IceholeRes":"G35_IceholeRes"}],G35_IceholeRes:[function(t,e,o){"use strict";cc._RF.push(e,"18c94tSwZ1IV7uR2DVjj5is","G35_IceholeRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.fish=null,e.imgMaskNode=null,e.fish2=null,e.shuihua1=null,e.pinyugan=null,e.shuidi1=null,e.zuandongwc2=null,e.zuandongwc1=null,e.comAlt=null,e.iceAlt=null,e.machineAlt=null,e.play1Alt=null,e.waterAlt=null,e.putWaterAlt=null,e.bgImg=null,e.icemaskImg=null,e.skyImg=null,e.handImg=null,e.gofishImg=null,e.popupComAlt=null,e.item1Alt=null,e.item2Alt=null,e.shadowAlt=null,e.mask2Img=null,e.holeWater=null,e.Excitation=null,e.bgm02=null,e.a22806001=null,e.a22806005=null,e.a22806012=null,e.a22806006=null,e.a22806008=null,e.a22806009=null,e.a22806016=null,e.a22805002=null,e.a17901001=null,e.a22806007=null,e.a22806014=null,e.a22806015=null,e.a22806017=null,e.a22806013=null,e.a22806003=null,e.a22806004=null,e.a22802003=null,e.a22806002=null,e.a22806010=null,e.a22806011=null,e.a228110=null,e.a228098=null,e.a228113=null,e.a228112=null,e.a228097=null,e.a228109=null,e.a228111=null,e.a228041=null,e.a228040=null,e.a228039=null,e.a228038=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u9c7c"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"\u56fe\u50cf\u906e\u7f69"})],e.prototype,"imgMaskNode",void 0),n([s({type:cc.Prefab,tooltip:"\u9c7c2"})],e.prototype,"fish2",void 0),n([s({type:cc.Prefab,tooltip:"shuihua1"})],e.prototype,"shuihua1",void 0),n([s({type:cc.Prefab,tooltip:"pinyugan"})],e.prototype,"pinyugan",void 0),n([s({type:cc.Prefab,tooltip:"shuidi1"})],e.prototype,"shuidi1",void 0),n([s({type:cc.Prefab,tooltip:"zuandongwc2"})],e.prototype,"zuandongwc2",void 0),n([s({type:cc.Prefab,tooltip:"zuandongwc1"})],e.prototype,"zuandongwc1",void 0),n([s({type:cc.SpriteAtlas,tooltip:"com"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"ice"})],e.prototype,"iceAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"machine"})],e.prototype,"machineAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"play1"})],e.prototype,"play1Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"putWaterAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"bg"})],e.prototype,"bgImg",void 0),n([s({type:cc.SpriteFrame,tooltip:"icemask"})],e.prototype,"icemaskImg",void 0),n([s({type:cc.SpriteFrame,tooltip:"sky"})],e.prototype,"skyImg",void 0),n([s({type:cc.SpriteFrame,tooltip:"hand"})],e.prototype,"handImg",void 0),n([s({type:cc.SpriteAtlas,tooltip:"gofish"})],e.prototype,"gofishImg",void 0),n([s({type:cc.SpriteAtlas,tooltip:"popup"})],e.prototype,"popupComAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"item1"})],e.prototype,"item1Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"item2"})],e.prototype,"item2Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"shadow"})],e.prototype,"shadowAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"mask2"})],e.prototype,"mask2Img",void 0),n([s({type:cc.SpriteAtlas,tooltip:"holeWater"})],e.prototype,"holeWater",void 0),n([s({type:cc.Prefab,tooltip:"Excitation"})],e.prototype,"Excitation",void 0),n([s({type:cc.AudioClip,tooltip:"bgm2"})],e.prototype,"bgm02",void 0),n([s({type:cc.AudioClip,tooltip:"22806001"})],e.prototype,"a22806001",void 0),n([s({type:cc.AudioClip,tooltip:"22806005"})],e.prototype,"a22806005",void 0),n([s({type:cc.AudioClip,tooltip:"22806012"})],e.prototype,"a22806012",void 0),n([s({type:cc.AudioClip,tooltip:"22806006"})],e.prototype,"a22806006",void 0),n([s({type:cc.AudioClip,tooltip:"22806008"})],e.prototype,"a22806008",void 0),n([s({type:cc.AudioClip,tooltip:"22806009"})],e.prototype,"a22806009",void 0),n([s({type:cc.AudioClip,tooltip:"22806016"})],e.prototype,"a22806016",void 0),n([s({type:cc.AudioClip,tooltip:"22805002"})],e.prototype,"a22805002",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"22806007"})],e.prototype,"a22806007",void 0),n([s({type:cc.AudioClip,tooltip:"22806014"})],e.prototype,"a22806014",void 0),n([s({type:cc.AudioClip,tooltip:"22806015"})],e.prototype,"a22806015",void 0),n([s({type:cc.AudioClip,tooltip:"22806017"})],e.prototype,"a22806017",void 0),n([s({type:cc.AudioClip,tooltip:"22806013"})],e.prototype,"a22806013",void 0),n([s({type:cc.AudioClip,tooltip:"22806003"})],e.prototype,"a22806003",void 0),n([s({type:cc.AudioClip,tooltip:"22806004"})],e.prototype,"a22806004",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22806002"})],e.prototype,"a22806002",void 0),n([s({type:cc.AudioClip,tooltip:"22806010"})],e.prototype,"a22806010",void 0),n([s({type:cc.AudioClip,tooltip:"22806011"})],e.prototype,"a22806011",void 0),n([s({type:cc.AudioClip,tooltip:"228110"})],e.prototype,"a228110",void 0),n([s({type:cc.AudioClip,tooltip:"228098"})],e.prototype,"a228098",void 0),n([s({type:cc.AudioClip,tooltip:"228113"})],e.prototype,"a228113",void 0),n([s({type:cc.AudioClip,tooltip:"228112"})],e.prototype,"a228112",void 0),n([s({type:cc.AudioClip,tooltip:"228097"})],e.prototype,"a228097",void 0),n([s({type:cc.AudioClip,tooltip:"228109"})],e.prototype,"a228109",void 0),n([s({type:cc.AudioClip,tooltip:"228111"})],e.prototype,"a228111",void 0),n([s({type:cc.AudioClip,tooltip:"228041"})],e.prototype,"a228041",void 0),n([s({type:cc.AudioClip,tooltip:"228040"})],e.prototype,"a228040",void 0),n([s({type:cc.AudioClip,tooltip:"228039"})],e.prototype,"a228039",void 0),n([s({type:cc.AudioClip,tooltip:"228038"})],e.prototype,"a228038",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_IceholeRod:[function(t,e,o){"use strict";cc._RF.push(e,"40f2f9nkNxOh6ByjGr0UKsB","G35_IceholeRod");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_IceholeRes"),r=t("./G35_Icehole"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_IceholeFish"),u=t("../../../../lib/business/Manager/AudioManager"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e.id=null,e.can=!0,e._lock=!1,e._rotate=null,e.fishUp=null,e._act=null,e._escapeAct=null,e}return i(e,t),e.prototype.loadDisplay=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.res.gofishImg.getSpriteFrame("rod2-1"),1==this.id?(this.node.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+82,160+this.offset.y),this.node.parent),this.node.setAnchorPoint(cc.v2(.056,.301)),this.node.zIndex=2501,this._rotate=0):2==this.id?(this.node.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+20,200+this.offset.y),this.node.parent),this.node.setAnchorPoint(cc.v2(.056,.301)),this.node.angle=30,this._rotate=30):3==this.id?(this.node.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2-20,200+this.offset.y),this.node.parent),this.node.scale=.9,this.node.scaleX*=-1,this.node.setAnchorPoint(cc.v2(.056,.301)),this.node.angle=-30,this._rotate=-30):4==this.id&&(this.node.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2-82,160+this.offset.y),this.node.parent),this.node.scaleX*=-1,this.node.setAnchorPoint(cc.v2(.056,.301)),this._rotate=0)},e.prototype.rodUp=function(){var t=this;1==this.id||2==this.id?cc.tween(this.node).parallel(cc.tween().to(.15,{angle:this._rotate+15}),cc.tween().delay(.05).call(function(){t.node.getComponent(cc.Sprite).spriteFrame=t.res.gofishImg.getSpriteFrame("rod2-2"),t.mainScript._lineFlag[t.id-1]=2,t.mainScript._markTab[t.id-1].opacity=0})).call(function(){"sc"!=t.mainScript._fishTab[t.id-1].getComponent(l.default)._type&&"xz"!=t.mainScript._fishTab[t.id-1].getComponent(l.default)._type&&(t._act=cc.tween(t.node).repeatForever(cc.tween().to(.075,{angle:t._rotate+17}).to(.075,{angle:t._rotate+13})).start())}).start():cc.tween(this.node).parallel(cc.tween().to(.15,{angle:this._rotate-15}),cc.tween().delay(.05).call(function(){t.node.getComponent(cc.Sprite).spriteFrame=t.res.gofishImg.getSpriteFrame("rod2-2"),t.mainScript._lineFlag[t.id-1]=2,t.mainScript._markTab[t.id-1].opacity=0})).call(function(){"sc"!=t.mainScript._fishTab[t.id-1].getComponent(l.default)._type&&"xz"!=t.mainScript._fishTab[t.id-1].getComponent(l.default)._type&&(t._act=cc.tween(t.node).repeatForever(cc.tween().to(.075,{angle:t._rotate-17}).to(.075,{angle:t._rotate-13})).start())}).start(),u.audioManager.playEffect(this.res.a22806010)},e.prototype.stopRotateAct=function(){this._act&&(this._act.stop(),this._act=null),this._escapeAct&&(this._escapeAct.stop(),this._escapeAct=null)},e.prototype.escape=function(){var t=this;this._escapeAct=cc.tween(this.node).delay(this.mainScript._escapeTime).call(function(){t.mainScript._fishTab[t.id-1]&&(t.fishUp=!0,t.mainScript._fishTab[t.id-1].getComponent(l.default).escape())}).start()},e.prototype.rodAction=function(t,e){var o=this;cc.tween(this.node).then(cc.rotateTo(.1,this._rotate+t).easing(cc.easeIn(2))).then(cc.rotateTo(.4,this._rotate+e).easing(cc.easeOut(30))).delay(.25).parallel(cc.tween().then(cc.rotateTo(.3,-this._rotate).easing(cc.easeBackOut())),cc.tween().delay(.05).call(function(){o.node.getComponent(cc.Sprite).spriteFrame=o.res.gofishImg.getSpriteFrame("rod2-1")})).call(function(){o.can=!0,o._lock=!1}).start()},e.prototype.fishFly=function(){this.mainScript._fishTab[this.id-1]&&this.mainScript._fishTab[this.id-1].getComponent(l.default).fishFly()},e.prototype.touchStart=function(t){if(this.mainScript.canTouch&&!(this.touchThrigger||(this.touchThrigger=!0,this.stopRotateAct(),this._lock||this.can||this.fishUp))){switch(this.mainScript.closeVioceGuide(),this._lock=!0,this.id){case 1:this.rodAction(30,-90);break;case 2:this.rodAction(-30,-120);break;case 3:this.rodAction(30,120);break;case 4:this.rodAction(-30,90)}this.fishFly(),u.audioManager.playEffect(this.res.a22806011)}},e.prototype.touchEnd=function(t){this.mainScript.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.mainScript.openVioceGuide())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Icehole":"G35_Icehole","./G35_IceholeFish":"G35_IceholeFish","./G35_IceholeRes":"G35_IceholeRes"}],G35_Icehole:[function(t,e,o){"use strict";cc._RF.push(e,"b33d4aL6qZDFZi2IxdGVHef","G35_Icehole");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_IceholeRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_IceholeMachine"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=t("./G35_IceholeRod"),p=t("./G35_IceholeBar"),h=t("../../../../lib/core/util/ArrayUtil"),f=t("./G35_IceholeFish"),g=t("../../../../lib/core/util/MathUtil"),_=t("../../../../lib/business/Manager/AudioManager"),y=t("../../Common/G35_Excitation"),m=t("../../../../lib/core/util/PlatformUtil"),v=t("../../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),b=cc._decorator,S=b.ccclass,w=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.holePos=[],e.cilpPos=[],e.machinePos=[],e.markPos=[],e.fishPos=[],e.fishZ=[1250,500,500,1250],e.maskZ=[1500,900,900,1500],e.maskPos=[],e.bgPos=[cc.v2(-223.3,507.8),cc.v2(9.2,186.5),cc.v2(20.5,189.7),cc.v2(521.8,237)],e._guideLineTab=[],e._clipTab=[],e._holeCount=1,e._holeWaterTab=[],e._numberTab=[1,2,3,4],e._hookFeedTab=[],e._mateLock=!1,e._rodTab=[],e._markTab=[],e._drawTab=[],e._lineFlag=[1,1,1,1],e._time=2,e._stage=1,e._fishNameTab=["lany","ly","hy","hgy","xgy"],e._fishTab=[],e._escapeTime=4,e._imgMaskTab=[],e._fishCount=0,e._grassCount=0,e._shoesCount=0,e._bg=null,e._machine=null,e._qiqi=null,e._hand=null,e._blackMask=null,e._popup=null,e._Bar=null,e._keg1=null,e._keg2=null,e._ice=null,e._holeMask=null,e._mask=null,e._hook=null,e._shadow=null,e._render=null,e._ui=null,e._progress=null,e._item=null,e._itemTouch=null,e.canTouch=null,e._feedId=null,e._voiceGuide=null,e._voice=null,e._popupHookAct=null,e._drawUpdate=null,e._ruleAction=null,e._voiceGuideAct=null,e._guideAct=null,e.startPos=null,e._firstVoive=null,e._soundSc=null,e._soundXz=null,e.workSound=null,e}return i(e,t),e.prototype.createQiqiBone=function(){var t=this;this._qiqi=this.node.getChildByName("qiqi"),this._qiqi.zIndex=500,this._qiqi.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+50,230),this.node);var e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("qiqishadow"),this.node,cc.v2(0,0),499);this._qiqi.shadow=e,e.position=cc.v2(this._qiqi.x-5,this._qiqi.y-100),cc.tween(e).repeatForever(cc.tween().call(function(){e.position=cc.v2(t._qiqi.x-5,t._qiqi.y-100)}).delay(.025))},e.prototype.handIn=function(){var t=this;this._hand=c.G35_utils.creatNode(this.res.newNode,this.res.handImg,this.node,cc.v2(cc.winSize.width/2,-200),0),this._hand.angle=-40,this._hand.scale=.6;var e=c.G35_utils.creatNode(this.res.newNode,this.res.gofishImg.getSpriteFrame("rod1"),this._hand,cc.v2(118.7,175.4),1);c.G35_utils.adjustPos(e,this._hand),e.angle=-40,e.scale=2,this.loadPopup(),cc.tween(this._hand).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,50),this.node)}).delay(.25).call(function(){_.audioManager.playLine(t.res.a228040),t.scheduleOnce(function(){t._itemTouch||t.barGuide()},_.audioManager.getDurationByMap("228040")),_.audioManager.playEffect(t.res.a22806005),cc.tween(t._blackMask).to(.25,{opacity:180}).start(),cc.tween(t._popup).set({opacity:255}).to(.25,{scale:1.35}).to(.15,{scale:1.15}).call(function(){cc.tween(t._Bar).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width-90-t.offset.x,cc.winSize.height/2-25),t._Bar.parent)}).call(function(){t.linSign()}).start()}).start()}).start()},e.prototype.inPopup=function(){var t=this;cc.tween(this._qiqi).delay(1).by(1,{y:120}).start(),cc.tween(this._qiqi.shadow).delay(1).by(1,{y:120}).start(),cc.tween(this._bg).delay(1).call(function(){_.audioManager.playEffect(t.res.a22806001)}).by(1,{y:120}).call(function(){t.handIn()}).start(),this._guideLineTab.forEach(function(t){cc.tween(t).delay(1).by(1,{y:120}).start()}),this.nodeChange(this._machine,this.node,2e3),cc.tween(this._machine).by(.15,{y:100}).by(.25,{x:-400}).start();for(var e=0;e<4;e++)this._clipTab[e].destroy(),this._clipTab[e]=null},e.prototype.inFish=function(t){void 0===t&&(t=null),t&&(this._keg1.opacity=255,this._keg2.opacity=255,this._keg1.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,60+this.offset.y/2),this._keg1.parent),this._keg2.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,60+this.offset.y/2),this._keg2.parent));for(var e=0;e<4;e++)this._rodTab[e].opacity=255,this._markTab[e].opacity=255,this._drawTab[e].opacity=255,this._imgMaskTab[e].opacity=255;this.openVioceGuide(),this.canTouch=!0},e.prototype.loadBg=function(){this._bg=this.node.getChildByName("ground");var t=this.node.getChildByName("ground").getChildByName("ground1");t.y=-cc.winSize.height/2,t.zIndex=2,c.G35_utils.creatNode(this.res.newNode,this.res.skyImg,this._bg,cc.v2(t.x,t.y+t.height+100),1,1).scale=1.25;var e=c.G35_utils.creatNode(this.res.newNode,this.res.bgImg,this._bg,cc.v2(t.x,t.y+10),1,1);e.scale=1.25,e.anchorY=1;c.G35_utils.creatNode(this.res.newNode,this.res.icemaskImg,e,cc.v2(t.x,t.height/2),1,100);this._ice=e,this.loadBgFish()},e.prototype.loadBgFish=function(){for(var t=this,e=[cc.v2(-25,-50),cc.v2(this._ice.width+50,-100),cc.v2(-100,-125)],o=function(o){o<3?"bmjljy":"bmqdfjy";var n=cc.instantiate(i.res.fish);n.parent=i._ice,n.scale=.5,n.zIndex=50,n.position=e[o],n.x<0?(n.scaleX*=-1,cc.tween(n).repeatForever(cc.tween().by(1,{x:50}).call(function(){n.x>t._ice.width/2+25&&(n.x=-t._ice.width/2-25)})).start()):cc.tween(n).repeatForever(cc.tween().by(1,{x:-75}).call(function(){n.x<-t._ice.width/2-25&&(n.x=t._ice.width/2+25)})).start()},i=this,n=0;n<3;n++)o(n)},e.prototype.createMachine=function(){this._machine=c.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("1"),this.node,cc.v2(cc.winSize.width+100,210+this.offset.y),0,2e3),this._machine.scale=1.3,this._machine.addComponent(l.default)},e.prototype.loadGuideLine=function(){for(var t=0;t<4;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("line"),this.node,cc.v2(this.holePos[t].x,this.holePos[t].y-550),0,500);e.opacity=0,c.G35_utils.setImg(e),e.ice=c.G35_utils.creatNode(this.res.newNode,this.res.iceAlt.getSpriteFrame("1"),e,cc.v2(0,0),1,1e3),e.ice.opacity=0,e.ice.scale=1.2,e.water=c.G35_utils.creatNode(this.res.newNode,this.res.holeWater.getSpriteFrame("1"),e,cc.v2(0,0),1,1e3),e.water.opacity=0,e.water.scale=1.2,this._guideLineTab.push(e)}this._guideLineTab[0].zIndex=1e3,this._guideLineTab[1].zIndex=500,this._guideLineTab[2].zIndex=500,this._guideLineTab[3].zIndex=1e3},e.prototype.loadHoleMask=function(t){var e=c.G35_utils.creatNode(this.res.newNode,this.res.play1Alt.getSpriteFrame("play-1"),this.node,t.convertToWorldSpaceAR(cc.v2(0,0)),0,1500);this._holeMask=e,c.G35_utils.setImg(this._holeMask),this.loadHoleWave(this._holeCount-1)},e.prototype.loadHoleMask2=function(){for(var t=this,e=function(e){var i=new cc.Node("imgparent");i.parent=o.node,i.zIndex=o.maskZ[e];var n=c.G35_utils.creatNode(o.res.newNode,o.res.comAlt.getSpriteFrame("mask1"),i,o.maskPos[e],0,2);i.opacity=0,o._imgMaskTab.push(i),n.name="img",c.G35_utils.setImg(n);var a=c.G35_utils.creatNode(o.res.newNode,o.res.waterAlt.getSpriteFrame("1"),i,cc.v2(n.x,n.y+n.height/2-50),1,1);c.G35_utils.setImg(a),cc.tween(a).repeatForever(cc.tween().call(function(){u.G35_commonAct.filenames(a,u.G35_commonAct.getSpriteFrameArrForName(t.res.waterAlt,"",1,4))}).delay(.4)).start();var r=cc.instantiate(o.res.imgMaskNode);r.parent=n,r.zIndex=1001,r.getComponent(cc.Mask).spriteFrame=o.res.comAlt.getSpriteFrame("mask1"),r.setContentSize(o.res.comAlt.getSpriteFrame("mask1").getOriginalSize()),r.getComponent(cc.Mask).inverted=!1,c.G35_utils.creatNode(o.res.newNode,o.res.bgImg,r,o.bgPos[e],0).scale=1.25},o=this,i=0;i<4;i++)e(i);for(i=0;i<4;i++){var n=cc.instantiate(this.res.imgMaskNode);n.parent=this.node,n.zIndex=1001,n.anchorY=1,n.position=c.G35_utils.convertToSpacePos(cc.v2(this.cilpPos[i].x,this.cilpPos[i].y-430),this.node),n.getComponent(cc.Mask).spriteFrame=this.res.comAlt.getSpriteFrame("mask"),n.setContentSize(this.res.comAlt.getSpriteFrame("mask").getOriginalSize()),n.getComponent(cc.Mask).inverted=!0,this._clipTab.push(n)}},e.prototype.loadHoleWave=function(t){var e=this,o=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("water"),this._clipTab[t],cc.v2(this.cilpPos[t].x,this.cilpPos[t].y-500),0,1500);o.opacity=143;var i=c.G35_utils.creatNode(this.res.newNode,this.res.waterAlt.getSpriteFrame("1"),o,cc.v2(this.cilpPos[t].x,this.cilpPos[t].y-75),0,1600);cc.tween(i).repeatForever(cc.tween().call(function(){u.G35_commonAct.filenames(i,u.G35_commonAct.getSpriteFrameArrForName(e.res.waterAlt,"",1,4),.4)}).delay(1.6)).start(),this._holeWaterTab.push(o)},e.prototype.loadKeg=function(){this._keg1=c.G35_utils.creatNode(this.res.newNode,this.res.gofishImg.getSpriteFrame("keg1"),this.node,cc.v2(cc.winSize.width/2,-170),0,4e3),this._keg2=c.G35_utils.creatNode(this.res.newNode,this.res.gofishImg.getSpriteFrame("keg2"),this.node,cc.v2(cc.winSize.width/2,-170),0,9e3)},e.prototype.loadFishRod=function(){for(var t=0;t<4;t++){var e=cc.instantiate(this.res.newNode);e.getComponent(cc.Sprite).spriteFrame=this.res.gofishImg.getSpriteFrame("rod2-1"),e.parent=this.node,e.zIndex=2500,e.opacity=0,e.addComponent(d.default).id=t+1,e.start=cc.instantiate(this.res.newNode),e.start.parent=e,e.start.position=cc.v2(238,74),e.start.scale=.3,e.start.opacity=0,this._rodTab.push(e)}},e.prototype.loadBar=function(){this._Bar=this.node.getChildByName("bar"),this._Bar.zIndex=3e3,this._Bar.position=cc.v2(cc.winSize.width+100,-25),this._Bar.children.forEach(function(t,e){t.addComponent(p.default).id=e+1})},e.prototype.loadPopup=function(){this._popup=c.G35_utils.creatNode(this.res.newNode,this.res.popupComAlt.getSpriteFrame("popup"),this.node,cc.v2(713+this.offset.x,36+this.offset.y),0,3e3),this._popup.setAnchorPoint(cc.v2(1,0)),this._popup.scale=0,this._popup.opacity=0;c.G35_utils.creatNode(this.res.newNode,this.res.popupComAlt.getSpriteFrame("popup1"),this._popup,cc.v2(-this._popup.width/2,this._popup.height/2),1);this.loadPopupMask(),this._blackMask=c.G35_utils.creatNode(this.res.newNode,this.res.mask2Img,this.node,cc.v2(0,-cc.winSize.height/2),1,2999),this._blackMask.opacity=0,this._blackMask.anchorY=0,this._blackMask.scale=1.25},e.prototype.loadPopupMask=function(){var t=cc.instantiate(this.res.imgMaskNode);t.parent=this._popup,t.zIndex=1,t.getComponent(cc.Mask).spriteFrame=this.res.popupComAlt.getSpriteFrame("popup"),t.getComponent(cc.Mask).inverted=!1,this._mask=t,this._mask.position=cc.v2(-this._popup.width/2,this._popup.height/2),t.setContentSize(this.res.popupComAlt.getSpriteFrame("popup").getOriginalSize()),this.loadPopupHook()},e.prototype.loadPopupHook=function(){var t=new cc.Node("hookParent");t.parent=this._mask,t.zIndex=100;var e=c.G35_utils.creatNode(this.res.newNode,this.res.popupComAlt.getSpriteFrame("hook2"),t,cc.v2(0,20),1,2);e.name="hook",e.scale=.8;var o=c.G35_utils.creatNode(this.res.newNode,this.res.popupComAlt.getSpriteFrame("line1"),t,cc.v2(118.2,346.9),1,1),i=c.G35_utils.creatNode(this.res.newNode,this.res.popupComAlt.getSpriteFrame("line2"),e,cc.v2(121.4,411.9),1,1);c.G35_utils.adjustPos(o,e),c.G35_utils.adjustPos(i,e),this._hook=t,this.createShadow(!0)},e.prototype.createShadow=function(t){void 0===t&&(t=null);var e=h.default.getRandomItem(this._numberTab);if(h.default.removeObj(this._numberTab,e),e){this.canTouch=!0;var o=c.G35_utils.creatNode(this.res.newNode,this.res.shadowAlt.getSpriteFrame(""+e),this._hook.getChildByName("hook"),cc.v2(210,80),1);c.G35_utils.adjustPos(o,this._hook.getChildByName("hook")),o.scale=1.2,o.opacity=0,o.id=e,this._feedId=e,this._shadow=o,t||this.barGuide()}else this._popupHookAct&&(this._popupHookAct.stop(),this._popupHookAct=null,this.linSign(),this.inFish())},e.prototype.loadFishMark=function(){console.log("\u52a0\u8f7d\u9c7c\u6807");for(var t=0;t<4;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.gofishImg.getSpriteFrame("mark"),this.node,this.markPos[t],0,1e3);e.anchorY=0,e.opacity=0,this._markTab.push(e),this.addLine(t+1),this.breathing(e)}},e.prototype.loadFish=function(t,e){var o=cc.instantiate(this.res.fish2);o.parent=this.node,o.zIndex=this.fishZ[e-1],o.position=c.G35_utils.convertToSpacePos(this.fishPos[e-1],this.node),o.getComponent(dragonBones.ArmatureDisplay).playAnimation(t+"_zz",-1),o.addComponent(f.default).id=e,o.getComponent(f.default)._type=t,"sc"==t?o.scale=.5:"xz"==t?o.scale=.5:(o.getComponent(dragonBones.ArmatureDisplay).armature().getSlot(t+"_yx").displayIndex=-1,_.audioManager.playEffect(this.res.a22806012),o.particle=cc.instantiate(this.res.shuihua1),o.particle.parent=o,o.particle.position=cc.v2(-20,60)),this._fishTab[e-1]=o,this._rodTab[e-1].getComponent(d.default).rodUp()},e.prototype.loadWaterStain=function(){var t=this.node.getChildByName("mask");t.active=!0,t.setContentSize(0,0),t.getComponent(cc.Mask).inverted=!0,t.zIndex=9999;var e=c.G35_utils.creatNode(this.res.newNode,this.res.gofishImg.getSpriteFrame("water"),t,cc.v2(0,0),1);cc.tween(e).to(2,{opacity:0}).start(),this.scheduleOnce(function(){t.active=!1,o.destroy()},2),this._render=t;var o=new cc.Node("maskTouchNode");o.parent=this.node,o.zIndex=9998,o.setContentSize(cc.winSize.width,cc.winSize.height),o.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),o.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),o.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),o.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.touchStart=function(t){this.startPos=c.G35_utils.convertToSpacePos(t.getLocation(),this._render.parent)},e.prototype.touchMove=function(t){var e=this;if(this.startPos){var o=this._render.getComponent(cc.Mask),i=c.G35_utils.convertToSpacePos(t.getLocation(),this._render.parent);o._graphics.strokeColor=cc.color(255,0,0),o._graphics.fillColor=cc.color(0,255,0),o._graphics.circle(i.x,i.y,50),o._graphics.fill(),o._graphics.stroke(),this.workSound||(this.workSound=_.audioManager.playEffect(this.res.a22806016),this.scheduleOnce(function(){e.workSound=null},.7)),this.startPos=t.getLocation()}},e.prototype.touchEnd=function(t){this.startPos=null},e.prototype.loadProgress=function(){this._ui=this.node.getChildByName("progress"),this._ui.zIndex=9997,this._ui.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,-50),this.node),this._ui.active=!0},e.prototype.nodeChange=function(t,e,o){t.stopAllActions(),c.G35_utils.resetParent(t,e,o)},e.prototype.holeSign=function(){cc.tween(this._guideLineTab[this._holeCount-1]).to(.15,{opacity:255}).to(.15,{opacity:0}).to(.15,{opacity:255}).start()},e.prototype.machineMove=function(){var t=this;this.holeSign(),cc.tween(this._machine).delay(.5).by(.15,{y:100}).call(function(){t.nodeChange(t._machine,t.node,2e3),t.removeWater(),cc.tween(t._machine).to(.35,{position:c.G35_utils.convertToSpacePos(t.machinePos[t._holeCount-1],t._machine.parent)}).call(function(){t.nodeChange(t._machine,t._clipTab[t._holeCount-1],1e3),t._machine.getComponent(l.default)._touch=!1,t._machine.getComponent(l.default)._canTouch=!0}).start()}).start()},e.prototype.removeWater=function(){this._holeWaterTab.forEach(function(t){t.isValid&&(t.destroy(),t=null)})},e.prototype.hideHookShadow=function(){this._shadow.opacity=0},e.prototype.linSign=function(){var t=this;this._shadow?(_.audioManager.playEffect(this.res.a22806006),cc.tween(this._shadow).to(.15,{opacity:255}).to(.15,{opacity:0}).to(.15,{opacity:255}).call(function(){t._mateLock=!0}).start()):(cc.tween(this._blackMask).to(.4,{opacity:0}).call(function(){cc.tween(t._keg1).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,60+t.offset.y/2),t._keg1.parent)}).start(),cc.tween(t._keg2).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,60+t.offset.y/2),t._keg2.parent)}).call(function(){cc.tween(t._ui).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,31),t._ui.parent)}).call(function(){_.audioManager.playLine(t.res.a228041),t.scheduleOnce(function(){t.rule()},_.audioManager.getDurationByMap("228041"))}).start()}).start()}).removeSelf().start(),cc.tween(this._popup).to(.15,{scale:1.35}).to(.25,{scale:0}).removeSelf().start(),cc.tween(this._Bar).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+100,cc.winSize.height/2-25),this._Bar.parent)}).start(),this._hand&&(this._hand.destroy(),this._hand=null))},e.prototype.hookUp=function(){var t=this;this._popupHookAct=cc.tween(this._hook).delay(.25).call(function(){_.audioManager.playEffect(t.res.a22806008)}).by(.1,{y:-50}).by(.35,{y:360}).call(function(){t._shadow.destroy(),t._shadow=null,t.createShadow()}).delay(.25).call(function(){_.audioManager.playEffect(t.res.a22806009)}).then(cc.moveBy(.5,cc.v2(0,-310)).easing(cc.easeBackOut())).call(function(){t.linSign()}).start()},e.prototype.addLine=function(t){var e=new cc.Node;e.addComponent(cc.Graphics),e.opacity=0,e.parent=this.node,e.zIndex=1660,this._drawTab.push(e);var o=e.getComponent(cc.Graphics);o.lineWidth=1;var i=this.getLinePos(t),n=i.startPos,a=i.control,r=i.endPos;o.strokeColor=cc.color(255,255,255,255),o.moveTo(n.x,n.y),o.quadraticCurveTo(a.x,a.y,r.x,r.y),o.stroke(),this.openDrawUpdate()},e.prototype.openDrawUpdate=function(){var t=this;this._drawUpdate||(this._drawUpdate=cc.tween(this.node).repeatForever(cc.tween().delay(.025).call(function(){t.updatePoints()})).start())},e.prototype.updatePoints=function(){var t=this;this._drawTab.forEach(function(e,o){var i=e.getComponent(cc.Graphics);i.clear(),i.lineWidth=1;var n=t.getLinePos(o+1),a=n.startPos,r=n.control,s=n.endPos;i.strokeColor=cc.color(255,255,255,255),i.moveTo(a.x,a.y),i.quadraticCurveTo(r.x,r.y,s.x,s.y),i.stroke()})},e.prototype.getLinePos=function(t){var e,o=c.G35_utils.convertPosition(this._rodTab[t-1].start,this._drawTab[t-1]);if(1==this._lineFlag[t-1])(e=c.G35_utils.convertPosition(this._markTab[t-1],this._drawTab[t-1])).x-=20;else if(2==this._lineFlag[t-1])if("sc"==this._fishTab[t-1].getComponent(f.default)._type||"xz"==this._fishTab[t-1].getComponent(f.default)._type){var i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-45,155));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}else if("lany"==this._fishTab[t-1].getComponent(f.default)._type){i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-27,95));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}else if("ly"==this._fishTab[t-1].getComponent(f.default)._type){i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-25,110));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}else if("hy"==this._fishTab[t-1].getComponent(f.default)._type){i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-24,116));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}else if("hgy"==this._fishTab[t-1].getComponent(f.default)._type){i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-24,85));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}else if("xgy"==this._fishTab[t-1].getComponent(f.default)._type){i=this._fishTab[t-1].convertToWorldSpaceAR(cc.v2(-24,100));e=this._drawTab[t-1].convertToNodeSpaceAR(i)}e.x+=18;var n=cc.v2(o.x,o.y),a=cc.v2(e.x,e.y);return{startPos:o,control:n.sub(a).mag()>30?cc.v2((o.x+e.x)/2,o.y-30):o,endPos:e}},e.prototype.breathing=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=1),void 0===i&&(i=0);var n=g.default.random(10,12),a=g.default.random(0,12),r=g.default.random(0,12);cc.tween(t).repeatForever(cc.tween().parallel(cc.tween().to(n/5,{angle:i-10}),cc.tween().then(cc.moveBy(n/5,cc.v2(a,r)))).parallel(cc.tween().to(n/5,{angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(-a,-r)))).parallel(cc.tween().to(n/5,{angle:i+10}),cc.tween().then(cc.moveBy(n/5,cc.v2(a,r)))).parallel(cc.tween().to(n/5,{angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(-a,-r))))).start()},e.prototype.rule=function(){var t=this;this._ruleAction=cc.tween(this.node).repeatForever(cc.tween().delay(this._time).call(function(){var e=t.selectHole();if(5!=e){var o=h.default.getRandomItem(t._fishNameTab);if(1==t._stage)t.loadFish(o,e);else if(2==t._stage){if(g.default.random(1,3)>1)t.loadFish(o,e);else g.default.random(1,3)>1?t.loadFish("xz",e):t.loadFish("sc",e)}else if(3==t._stage){if(1==g.default.random(1,2))t.loadFish(o,e);else g.default.random(1,2)>1?t.loadFish("xz",e):t.loadFish("sc",e)}}})).start()},e.prototype.selectHole=function(){for(var t=[],e=0;e<4;e++)this._rodTab[e].getComponent(d.default).can&&t.push(e+1);if(t.length>0){var o=h.default.getRandomItem(t);return this._rodTab[o-1].getComponent(d.default).can=!1,this._rodTab[o-1].getComponent(d.default).fishUp=!0,this._rodTab[o-1].getComponent(d.default).escape(),o}return 5},e.prototype.escapeAfter=function(t){this._lineFlag[t-1]=1,this._markTab[t-1].opacity=255,this._rodTab[t-1].getComponent(cc.Sprite).spriteFrame=this.res.gofishImg.getSpriteFrame("rod2-1"),this._rodTab[t-1].angle=this._rodTab[t-1].getComponent(d.default)._rotate,this._rodTab[t-1].getComponent(d.default)._act&&this._rodTab[t-1].getComponent(d.default)._act.stop(),this._rodTab[t-1].getComponent(d.default).can=!0},e.prototype.gameOver=function(){var t=this;this.closeVioceGuide(),cc.tween(this._ui).by(.25,{y:-100}).removeSelf().start(),cc.tween(this._keg1).delay(4).call(function(){t._keg2.stopAllActions(),c.G35_utils.resetParent(t._keg2,t._keg1)}).to(.4,{scale:1.3,position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,70+this.offset.x),this._keg1.parent)}).call(function(){t.nextScene(),t._drawUpdate.stop(),t._fishNameTab=h.default.upsetArray(t._fishNameTab);var e=[-1,1],o=cc.instantiate(t.res.shuihua1);o.parent=t._keg1,o.position=cc.v2(-20,40),o.scale=1.5;for(var i=function(o){var i=cc.instantiate(t.res.fish2);i.parent=t._keg1,i.angle=-90,i.position=cc.v2(g.default.random(-30,30),-t._keg1.height/2+65),i.scale=.4,i.getComponent(dragonBones.ArmatureDisplay).playAnimation(t._fishNameTab[o]+"_huxi",-1),i.getComponent(dragonBones.ArmatureDisplay).armature().getSlot(t._fishNameTab[o]+"_yx").displayIndex=-1,cc.tween(i).repeat(5,cc.tween().delay(.3*o).then(cc.spawn(cc.jumpBy(.7,cc.v2(0,0),g.default.random(150,200),1),cc.rotateBy(.7,180*e[g.default.random(0,1)]))).call(function(){i.angle=0,i.x=g.default.random(-30,30)}).delay(.3)).start()},n=0;n<3;n++)i(n)}).start()},e.prototype.nextScene=function(){m.default.isBBMGSimulatePlatform()&&v.default.getInstance().isBannerAdExist()&&v.default.getInstance().showBannerAd();var t=cc.instantiate(this.res.Excitation);t.parent=this.node,t.zIndex=9998,t.getComponent(y.default).init({id:4})},e.prototype.openVioceGuide=function(){var t=this;this._voiceGuideAct||(this._voiceGuideAct=cc.tween(this.node).repeatForever(cc.tween().delay(7).call(function(){t._voiceGuide=_.audioManager.playLine(t.res.a228111)}).delay(_.audioManager.getDurationByMap("228111"))).start())},e.prototype.closeVioceGuide=function(){this._voiceGuide&&(_.audioManager.stopAudio(this._voiceGuide),this._voiceGuide=null),this._voiceGuideAct&&(this._voiceGuideAct.stop(),this._voiceGuideAct=null)},e.prototype.barGuide=function(){var t=this;if(!this._guideAct){this._item=this._Bar.children[this._feedId-1];this._guideAct=cc.tween(this._item).repeatForever(cc.tween().delay(3).call(function(){_.audioManager.stopLine(),t._voice=_.audioManager.playLine(t.res.a228109),_.audioManager.playEffect(t.res.a22805002)}).to(.1,{scale:1}).to(.1,{scale:.8}).to(.1,{scale:1}).to(.1,{scale:.8}).delay(2.4)).start()}},e.prototype.stopGuide=function(){this._guideAct&&(this._guideAct.stop(),this._guideAct=null),this._voice&&(_.audioManager.stopAudio(this._voice),this._voice=null)},e.prototype.bar=function(t,e){t/=100;var o=this._ui.getChildByName("bar").getComponent(cc.Sprite);if(e<=0)o.fillRange=t;else{if(0==t)return cc.tween(this.node).repeat(Math.abs(100*this.node.getChildByName("bar").getComponent(cc.Sprite).fillRange),cc.tween().call(function(){o.fillRange-=.01}).delay(e/(100*this.node.getChildByName("bar").getComponent(cc.Sprite).fillRange))).start(),this.node._value=0,void this.scheduleOnce(function(){o.fillRange=0},e);var i=t-o.fillRange;i/=.01,cc.tween(this.node).repeat(Math.abs(i),cc.tween().call(function(){t<=0?o.fillRange-=.01:o.fillRange+=.01}).delay(e/Math.abs(i))).start()}},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),m.default.isBBMGSimulatePlatform()&&v.default.getInstance().isBannerAdExist()&&v.default.getInstance().hideBannerAd(),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.holePos=[cc.v2(cc.winSize.width/2+330,200),cc.v2(cc.winSize.width/2+155,350),cc.v2(cc.winSize.width/2-155,350),cc.v2(cc.winSize.width/2-330,200)],this.cilpPos=[cc.v2(817.4+e.x,93.2),cc.v2(640+e.x,244),cc.v2(333+e.x,243.2),cc.v2(157.4+e.x,93.2)],this.machinePos=[cc.v2(cc.winSize.width/2+330,210+e.y),cc.v2(cc.winSize.width/2+155,360+e.y),cc.v2(cc.winSize.width/2-155,360+e.y),cc.v2(cc.winSize.width/2-330,210+e.y)],this.markPos=[cc.v2(cc.winSize.width/2+335,160+e.y),cc.v2(cc.winSize.width/2+165,311+e.y),cc.v2(cc.winSize.width/2-165,311+e.y),cc.v2(cc.winSize.width/2-335,160+e.y)],this.fishPos=[cc.v2(cc.winSize.width/2+360,-25+e.y),cc.v2(cc.winSize.width/2+175,125+e.y),cc.v2(cc.winSize.width/2-130,125+e.y),cc.v2(cc.winSize.width/2-300,-25+e.y)],this.maskPos=[cc.v2(810+e.x,-14.8+e.y),cc.v2(634.3+e.x,136.7+e.y),cc.v2(324+e.x,135.5+e.y),cc.v2(149+e.x,-14.8+e.y)],this.loadBg(),this.createQiqiBone(),this.createMachine(),this.loadGuideLine(),this.loadKeg(),this.loadFishRod(),this.loadHoleMask2(),this.loadFishMark(),this.loadBar(),this.loadProgress()},e.prototype.start=function(){var t=this;_.audioManager.playMusic(this.res.bgm02),_.audioManager.playLine(this.res.a228038),cc.tween(this._bg).delay(_.audioManager.getDurationByMap("228038")).call(function(){_.audioManager.playEffect(t.res.a22806001)}).by(1,{y:430+this.offset.y}).call(function(){_.audioManager.playLine(t.res.a228039),t.holeSign(),cc.tween(t._machine).delay(.5).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+330,210+t.offset.y),t._machine.parent)}).call(function(){t.nodeChange(t._machine,t._clipTab[0],1e3),t._machine.getComponent(l.default)._canTouch=!0}).start()}).start(),this._guideLineTab.forEach(function(e){cc.tween(e).delay(4.5).by(1,{y:430+t.offset.y}).start()});for(var e=0;e<4;e++)cc.tween(this._clipTab[e]).delay(4.5).by(1,{y:430+this.offset.y}).start();cc.tween(this._qiqi).delay(4.5).call(function(){t._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("qq_bmqqhx",-1),cc.tween(t._qiqi.shadow).by(1,{y:430+t.offset.y}).start()}).by(1,{y:430+this.offset.y}).start()},e=n([S],e)}(a.default));o.default=w,cc._RF.pop()},{"../../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Excitation":"G35_Excitation","./G35_IceholeBar":"G35_IceholeBar","./G35_IceholeFish":"G35_IceholeFish","./G35_IceholeMachine":"G35_IceholeMachine","./G35_IceholeRes":"G35_IceholeRes","./G35_IceholeRod":"G35_IceholeRod"}],G35_IcepackageNeedle:[function(t,e,o){"use strict";cc._RF.push(e,"ac1f5HhXdpCSLx8QscgC7t4","G35_IcepackageNeedle");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_IcepackageRes"),r=t("./G35_Icepackage"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../../../lib/business/Manager/AudioManager"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e.tail=null,e.head=null,e.headPos=null,e.lastPos=null,e.lastAPos=null,e.movePos=null,e.nowAngle=null,e.state=null,e}return i(e,t),e.prototype.loadDisplay=function(){this.node.getComponent(cc.Sprite).spriteFrame=this.res.com2Alt.getSpriteFrame("needle"),this.tail=new cc.Node("tail"),this.tail.parent=this.node,this.tail.position=cc.v2(20,28),this.head=new cc.Node("head"),this.head.parent=this.node,this.head.position=cc.v2(97,26)},e.prototype.crashDetection=function(){this.mainScript._count>7||c.G35_utils.getDistace(this.node,this.mainScript._holeTab[this.mainScript._count])<=40&&(cc.instantiate(this.res.chuanxian).parent=this.mainScript._holeTab[this.mainScript._count],u.audioManager.playEffect(this.res.a22808005),this.mainScript._signLock=!1,this.mainScript.drawLine(this.mainScript._count+1),this.mainScript.holeSign(),this.isOver())},e.prototype.isOver=function(){var t=this;this.mainScript._count>=7&&(this.canTouch=!1,this.node.angle=-105,this.mainScript._holeTab.forEach(function(t){t.opacity=0}),cc.tween(this.node).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(370,148),this.node.parent)}).hide().call(function(){cc.instantiate(t.res.chuanxianwc).parent=t._canvas,u.audioManager.playEffect(t.res.a22808007),t.mainScript._drawNode.opacity=0,t.mainScript._line1.opacity=255,l.G35_commonAct.filenames(t.mainScript._line1,l.G35_commonAct.getSpriteFrameArrForName(t.res.lineplay1Alt,"",2,4),.15),cc.tween(t.mainScript._line2).call(function(){t.mainScript._line2.opacity=255,l.G35_commonAct.filenames(t.mainScript._line2,l.G35_commonAct.getSpriteFrameArrForName(t.res.lineplay2Alt,"",2,4),.15)}).delay(.6).call(function(){t.mainScript.sceneOver()}).start(),t.mainScript._lineTab.forEach(function(t){t.opacity=0})}).start())},e.prototype.touchStart=function(t){this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.mainScript.closeNeedleGuide(),this.headPos=t.getLocation(),this.lastPos=t.getLocation(),this.lastAPos=t.getLocation()))},e.prototype.touchMove=function(t){if(this.canTouch&&this.touchThrigger){var e=t.getLocation();e.x<50&&(e.x=50),e.x>cc.winSize.width-50&&(e.x=cc.winSize.width-50),e.y<50&&(e.y=50),e.y>cc.winSize.height-120&&(e.y=cc.winSize.height-120),this.headPos=e,this.movePos=e,this.nowAngle=c.G35_utils.quadAngle1(e,this.lastAPos),this.lastAPos.sub(this.movePos).mag()>20&&(this.state||(this.node.angle=-this.nowAngle,this.lastAPos=this.movePos)),this.state||(this.node.position=c.G35_utils.convertToSpacePos(e,this.node.parent),this.crashDetection()),this.lastPos=this.movePos}},e.prototype.touchEnd=function(t){this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.mainScript.needleGuide())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Icepackage":"G35_Icepackage","./G35_IcepackageRes":"G35_IcepackageRes"}],G35_IcepackageRes:[function(t,e,o){"use strict";cc._RF.push(e,"3ffcaUCkttIEZ5tJda/4H9W","G35_IcepackageRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.chuanxian=null,e.playLight=null,e.chuanxianwc=null,e.pinyugan=null,e.comAlt=null,e.com2Alt=null,e.readyPropAlt=null,e.lineplay1Alt=null,e.lineplay2Alt=null,e.a22808003=null,e.a22808005=null,e.a22808006=null,e.a22808004=null,e.a22808007=null,e.a22808001=null,e.a22808002=null,e.a17901001=null,e.a228090=null,e.a228094=null,e.a228093=null,e.a228092=null,e.a228091=null,e.a228095=null,e.a228096=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"chuanxian"})],e.prototype,"chuanxian",void 0),n([s({type:cc.Prefab,tooltip:"playLight"})],e.prototype,"playLight",void 0),n([s({type:cc.Prefab,tooltip:"chuanxianwc"})],e.prototype,"chuanxianwc",void 0),n([s({type:cc.Prefab,tooltip:"pinyugan"})],e.prototype,"pinyugan",void 0),n([s({type:cc.SpriteAtlas,tooltip:"com"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"com2"})],e.prototype,"com2Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"readyProp"})],e.prototype,"readyPropAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"lineplay1"})],e.prototype,"lineplay1Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"lineplay2"})],e.prototype,"lineplay2Alt",void 0),n([s({type:cc.AudioClip,tooltip:"22808003"})],e.prototype,"a22808003",void 0),n([s({type:cc.AudioClip,tooltip:"22808005"})],e.prototype,"a22808005",void 0),n([s({type:cc.AudioClip,tooltip:"22808006"})],e.prototype,"a22808006",void 0),n([s({type:cc.AudioClip,tooltip:"22808004"})],e.prototype,"a22808004",void 0),n([s({type:cc.AudioClip,tooltip:"22808007"})],e.prototype,"a22808007",void 0),n([s({type:cc.AudioClip,tooltip:"22808001"})],e.prototype,"a22808001",void 0),n([s({type:cc.AudioClip,tooltip:"22808002"})],e.prototype,"a22808002",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"228090"})],e.prototype,"a228090",void 0),n([s({type:cc.AudioClip,tooltip:"228094"})],e.prototype,"a228094",void 0),n([s({type:cc.AudioClip,tooltip:"228093"})],e.prototype,"a228093",void 0),n([s({type:cc.AudioClip,tooltip:"228092"})],e.prototype,"a228092",void 0),n([s({type:cc.AudioClip,tooltip:"228091"})],e.prototype,"a228091",void 0),n([s({type:cc.AudioClip,tooltip:"228095"})],e.prototype,"a228095",void 0),n([s({type:cc.AudioClip,tooltip:"228096"})],e.prototype,"a228096",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_IcepackageSub:[function(t,e,o){"use strict";cc._RF.push(e,"54cf5dnPMdCOrwgklEf2Yos","G35_IcepackageSub");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_IcepackageRes"),r=t("./G35_Icepackage"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/business/Manager/AudioManager"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e.canTouch=!1,e}return i(e,t),e.prototype.isActive=function(){var t=this;if(c.G35_utils.isTouchInsideAndVisible(this.mainScript._shadowTab[this.id-1],this.node.convertToWorldSpaceAR(cc.v2(0,0))))this.canTouch=!1,this.mainScript._shadowTab[this.id-1].opacity=0,cc.tween(this.node).to(.2,{position:c.G35_utils.convertToSpacePos(this.mainScript._shadowPos[this.id-1],this.node.parent),scale:1.3}).to(.05,{scale:1}).call(function(){switch(cc.audioEngine.stopAllEffects(),t.id){case 1:l.audioManager.playLine(t.res.a228091);break;case 2:l.audioManager.playLine(t.res.a228092);break;case 3:l.audioManager.playLine(t.res.a228093);break;case 4:l.audioManager.playLine(t.res.a228094)}c.G35_utils.creatParticle(t.res.pinyugan,t._canvas,t.node.convertToWorldSpaceAR(cc.v2(0,0))),l.audioManager.playEffect(t.res.a22808001),c.G35_utils.resetParent(t.node,t.mainScript._rod,100),4!=t.id?(t.mainScript.shadowSign(t.id+1),t.mainScript.fiveGuide(t.mainScript._subTab[t.id])):t.mainScript.inPopup()}).start();else{this.node.stopAllActions(),c.G35_utils.resetParent(this.node,this.mainScript._box,100),this.canTouch=!1,l.audioManager.playEffect(this.res.a22808002);var e=cc.v2(this.mainScript._subPos[this.id-1].x-this.mainScript._box.width/2,this.mainScript._subPos[this.id-1].y-this.mainScript._box.height/2);cc.tween(this.node).by(.05,{angle:-15}).by(.05,{angle:15}).by(.05,{angle:-15}).by(.05,{angle:15}).parallel(cc.tween().to(.2,.8),cc.tween().then(cc.jumpTo(.2,e,50,1))).call(function(){t.canTouch=!0,t.mainScript.fiveGuide(t.node)}).start()}},e.prototype.touchStart=function(t){this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.mainScript.closeGuide(),this.node.stopAllActions(),c.G35_utils.resetParent(this.node,this._canvas,200),this.node.scale=1,l.audioManager.playEffect(this.res.a17901001)))},e.prototype.touchMove=function(t){this.canTouch&&this.touchThrigger&&(this.node.position=c.G35_utils.convertToSpacePos(t.getLocation(),this.node.parent))},e.prototype.touchEnd=function(t){this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.isActive())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Icepackage":"G35_Icepackage","./G35_IcepackageRes":"G35_IcepackageRes"}],G35_Icepackage:[function(t,e,o){"use strict";cc._RF.push(e,"2e848J9LkdP44ePiRFzYWmt","G35_Icepackage");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_IcepackageRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_IcepackageSub"),u=t("./G35_IcepackageNeedle"),d=t("../../Common/G35_playLight"),p=t("../../../../lib/business/Manager/AudioManager"),h=t("../../../GameUtils/G35_GlobalParams"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._shadowTab=[],e._subTab=[],e._holeTab=[],e._shadowPos=[],e._subPos=[cc.v2(112.8,118),cc.v2(65.8,57.4),cc.v2(211.7,125.6),cc.v2(225.9,41.6)],e._holePos=[cc.v2(271.5,281),cc.v2(300,104),cc.v2(156.6,118),cc.v2(326,150),cc.v2(159,160.5),cc.v2(322.8,206),cc.v2(208,205.2)],e._count=1,e._lineTab=[],e._color=cc.color(255,255,255,255),e._signLock=!1,e._guideAct1=null,e._needleGuideAct=null,e.holeSignAct=null,e._box=null,e._rod=null,e._popup=null,e._hook=null,e._needle=null,e._line1=null,e._line2=null,e._drawNode=null,e}return i(e,t),e.prototype.loadFishRod=function(){this._rod=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("rod"),this.node,cc.v2(200+this.offset.x,240+this.offset.y),0)},e.prototype.loadRodShadow=function(){for(var t=0;t<4;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame(""+(t+1)),this.node,this._shadowPos[t],0);e.id=t+1,e.opacity=0,e.scale=0,this._shadowTab.push(e)}},e.prototype.loadBox=function(){var t=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("box1"),this.node,cc.v2(cc.winSize.width+200,178),0,100),e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("box2"),t,cc.v2(152,13),1,101);c.G35_utils.adjustPos(e,t),this._box=t,this.loadSub()},e.prototype.loadSub=function(){for(var t=0;t<4;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("sub"+(t+1)),this._box,this._subPos[t],1);c.G35_utils.adjustPos(e,this._box),e.scale=.8,e.addComponent(l.default).id=t+1,this._subTab.push(e)}},e.prototype.loadPopup=function(){var t=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("popup"),this.node,cc.v2(cc.winSize.width/2,cc.winSize.height/2-25),0,500);t.scale=0;c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("popup1"),t,cc.v2(0,0),1);this._popup=t,this.loadHole(),this.loadHook(),this.loadNozzle(),this.loadLinePlay()},e.prototype.loadHole=function(){for(var t=0;t<7;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("hole"),this._popup,this._holePos[t],1);c.G35_utils.adjustPos(e,this._popup),e.scale=1.2,e.active=!1,e.id=t+1,this._holeTab.push(e),t>1&&this.holeTouch(e)}this._holeTab[0].active=!0},e.prototype.holeTouch=function(t){var e=this;t.canTouch1=!1,t.on(cc.Node.EventType.TOUCH_START,function(o){if(t.canTouch1){t.canTouch1=!1,e._needle.getComponent(u.default).canTouch=!1;var i=c.G35_utils.quadAngle1(e._holeTab[t.id-1].convertToWorldSpaceAR(cc.v2(0,0)),e._needle.convertToWorldSpaceAR(cc.v2(0,0)));cc.tween(e._needle).to(.25,{angle:i}).to(.5,{position:c.G35_utils.convertToSpacePos(e._holeTab[t.id-1].convertToWorldSpaceAR(cc.v2(0,0)),e._needle.parent)}).call(function(){cc.instantiate(e.res.chuanxian).parent=e._holeTab[t.id-1],p.audioManager.playEffect(e.res.a22808005)}).to(.25,150).call(function(){e.drawLine(t.id)}).call(function(){e.holeSign(),t.id<7&&(e._needle.getComponent(u.default).canTouch=!0),e._needle.getComponent(u.default).isOver()}).start()}},this)},e.prototype.loadHook=function(){this._hook=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("hook"),this._popup,cc.v2(0,0),1,1e3),this.loadInitLine()},e.prototype.loadInitLine=function(){var t=this,e=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("line1"),this._popup,cc.v2(0,0),1,999);cc.tween(e).repeatForever(cc.tween().delay(.025).call(function(){e.x=t._hook.x+103-t._hook.width/2,e.y=t._hook.y+302-t._hook.height/2})).start(),this._lineTab.push(e)},e.prototype.loadNozzle=function(){this._needle=cc.instantiate(this.res.newNode),this._needle.parent=this.node,this._needle.zIndex=800,this._needle.setAnchorPoint(cc.v2(.2,.47)),this._needle.scale=1.4,this._needle.position=c.G35_utils.convertToSpacePos(cc.v2(525,323),this.node),this._needle.addComponent(u.default),this._needle.opacity=0,this.addLine()},e.prototype.loadLinePlay=function(){this._line1=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("lineplay-1"),this._popup,cc.v2(240.5,186),1),this._line2=c.G35_utils.creatNode(this.res.newNode,this.res.com2Alt.getSpriteFrame("lineplay-2"),this._popup,cc.v2(240.5,186),1),c.G35_utils.adjustPos(this._line1,this._popup),c.G35_utils.adjustPos(this._line2,this._popup),this._line1.scale=.86,this._line1.opacity=0,this._line2.scale=.86,this._line2.opacity=0},e.prototype.nodeChange=function(t,e,o){t.stopAllActions(),c.G35_utils.resetParent(t,e,o)},e.prototype.shadowSign=function(t){this._shadowTab[t-1].scale=1,cc.tween(this._shadowTab[t-1]).to(.15,{opacity:255}).to(.15,{opacity:0}).to(.15,{opacity:255}).start()},e.prototype.addLine=function(){var t=this;if(!this._drawNode){this._drawNode=new cc.Node,this._drawNode.addComponent(cc.Graphics),this._drawNode.opacity=0,this._drawNode.parent=this.node,this._drawNode.zIndex=1250;var e=this._drawNode.getComponent(cc.Graphics);e.lineWidth=3.7;var o=this.getLinePos(),i=o.startPos,n=o.control,a=o.endPos;e.strokeColor=this._color,e.moveTo(i.x,i.y),e.quadraticCurveTo(n.x,n.y,a.x,a.y),e.stroke(),cc.tween(this.node).repeatForever(cc.tween().delay(.025).call(function(){t.updatePoints()})).start()}},e.prototype.drawLine=function(t){var e=new cc.Node;e.addComponent(cc.Graphics),this._count%2==1?(e.parent=this.node,e.zIndex=1250):(e.parent=this.node,e.zIndex=750),this._lineTab.push(e);var o=e.getComponent(cc.Graphics);o.lineWidth=5,o.strokeColor=this._color;var i=c.G35_utils.convertPosition(this._holeTab[t-2],e),n=c.G35_utils.convertPosition(this._holeTab[t-1],e);o.moveTo(i.x,i.y),o.lineTo(n.x,n.y),o.stroke(),this._count++,this._count>=7&&(this._count=7)},e.prototype.updatePoints=function(){if(this._drawNode){this._count%2==1?(this._drawNode.zIndex=1250,this._needle.zIndex=1300):(this._drawNode.zIndex=750,this._needle.zIndex=800);var t=this._drawNode.getComponent(cc.Graphics);t.clear(),t.lineWidth=5;var e=this.getLinePos(),o=e.startPos,i=e.control,n=e.endPos;t.strokeColor=this._color,t.moveTo(o.x,o.y),t.quadraticCurveTo(i.x,i.y,n.x,n.y),t.stroke()}},e.prototype.getLinePos=function(){var t,e=c.G35_utils.convertPosition(this._holeTab[this._count-1],this._drawNode),o=c.G35_utils.convertPosition(this._needle,this._drawNode),i=cc.v2(e.x,e.y),n=cc.v2(o.x,o.y);if(i.sub(n).mag()>30){var a=Math.abs(e.x-o.x)/5;t=cc.v2((e.x+o.x)/2,o.y-a)}else t=e;return{startPos:e,control:t,endPos:o}},e.prototype.holeSign=function(){var t=this;if(console.log("========: ",this._count),this._count>=7){var e=this._holeTab[this._count-1];e&&e.isValid&&(e.stopAllActions(),e.opacity=0)}else this._holeTab[this._count]._touch||(this._holeTab[this._count]._touch=!0,this._holeTab[this._count].canTouch1=!0),this._holeTab[this._count].active=!0,p.audioManager.playEffect(this.res.a22808006),this._holeTab[this._count-1].stopAllActions(),this._holeTab[this._count-1].opacity=0,cc.tween(this._holeTab[this._count]).to(.15,{opacity:255}).to(.15,{opacity:0}).to(.15,{opacity:255}).call(function(){t._signLock=!0}).start()},e.prototype.inPopup=function(){var t=this;p.audioManager.playEffect(this.res.a22808003),cc.tween(this._box).then(cc.moveTo(.25,c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+200,178),this._box.parent)).easing(cc.easeIn(3))).call(function(){p.audioManager.playEffect(t.res.a22808004),cc.tween(t._popup).call(function(){t._popup.opacity=255}).to(.25,{scale:1.4}).to(.15,{scale:1.2}).call(function(){t.nodeChange(t._hook,t.node,1e3),t.nodeChange(t._line2,t.node,9999),t._needle.opacity=255,t._drawNode.opacity=255,t.holeSign(),cc.tween(t._needle).to(.25,{angle:-90}).to(.5,{position:c.G35_utils.convertToSpacePos(t._holeTab[1].convertToWorldSpaceAR(cc.v2(0,0)),t._holeTab[1].parent)}).call(function(){cc.instantiate(t.res.chuanxian).parent=t._holeTab[0],p.audioManager.playEffect(t.res.a22808005)}).to(.25,{angle:150}).call(function(){t.drawLine(2)}).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(t._holeTab[1].convertToWorldSpaceAR(cc.v2(0,0)).x-150,t._holeTab[1].convertToWorldSpaceAR(cc.v2(0,0)).y-50),t._needle.parent)}).call(function(){p.audioManager.playLine(t.res.a228095),t.holeSign(),t._needle.getComponent(u.default).canTouch=!0,t.needleGuide()}).start()}).start()}).start()},e.prototype.sceneOver=function(){var t=this;this._hook.stopAllActions(),c.G35_utils.resetParent(this._hook,this._popup,500),this._line1.stopAllActions(),c.G35_utils.resetParent(this._line1,this._popup,500),this._line2.stopAllActions(),c.G35_utils.resetParent(this._line2,this._popup,500),this.node.stopAllActions;cc.tween(this._popup).to(.15,{scale:1.3}).to(.35,{scale:0}).call(function(){cc.tween(t._rod).to(.5,{scale:.8,position:cc.v2(0,0)}).call(function(){t._rod.opacity=0;c.G35_utils.creatNode(t.res.newNode,t.res.readyPropAlt.getSpriteFrame("6_1"),t.node,cc.v2(0,0),1,600);p.audioManager.playLine(t.res.a228096),cc.instantiate(t.res.playLight).getComponent(d.default).playLight(t.node,60,2.1)}).delay(2).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),h.G35_GlobalParams.gameVar.fromSelect=!1,h.G35_GlobalParams.gameVar.gameId=4,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Ready")}).start()}).start()},e.prototype.fiveGuide=function(t){void 0===t&&(t=null),t||(t=this._subTab[0]),this._guideAct1=cc.tween(t).repeatForever(cc.tween().delay(5).to(.25,{scale:1}).to(.25,{scale:.8})).start()},e.prototype.closeGuide=function(){this._guideAct1&&(this._guideAct1.stop(),this._guideAct1=null)},e.prototype.needleGuide=function(){this._needleGuideAct=cc.tween(this._needle).repeatForever(cc.tween().delay(3).to(.15,{scale:1.8}).to(.15,{scale:1.4})).start(),this.holeSignAct&&(this.holeSignAct.stop(),this.holeSignAct=null,this._holeTab[this._count].opacity=255)},e.prototype.closeNeedleGuide=function(){this._needleGuideAct&&(this._needleGuideAct.stop(),this._needleGuideAct=null,this._needle.scale=1.4),this.holeSignAct=cc.tween(this._holeTab[this._count]).repeatForever(cc.tween().to(.15,{opacity:255}).to(.15,{opacity:0})).start()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._shadowPos=[cc.v2(557.7+e.x,306.7+e.y),cc.v2(407.2+e.x,226+e.y),cc.v2(262.3+e.x,86.5+e.y),cc.v2(530+e.x,65+e.y)],this.loadFishRod(),this.loadRodShadow(),this.loadBox(),this.loadPopup()},e.prototype.start=function(){var t=this;cc.tween(this._box).then(cc.moveTo(.5,c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width-150-this.offset.x,178),this._box.parent)).easing(cc.easeOut(3))).call(function(){p.audioManager.playLine(t.res.a228090),t.shadowSign(1),t.fiveGuide(),t._subTab.forEach(function(t){t.getComponent(l.default).canTouch=!0})}).start(),p.audioManager.playEffect(this.res.a22808003)},e=n([g],e)}(a.default));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_playLight":"G35_playLight","./G35_IcepackageNeedle":"G35_IcepackageNeedle","./G35_IcepackageRes":"G35_IcepackageRes","./G35_IcepackageSub":"G35_IcepackageSub"}],G35_ImageFrame:[function(t,e,o){"use strict";cc._RF.push(e,"677f8BYnMpGJoNUevkYwdN6","G35_ImageFrame");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/Manager/AudioManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a22803003=null,e._layer=null,e._totalNum=0,e._thingNum=0,e._thing=null,e}return i(e,t),e.prototype.init=function(t){this._layer=t.layer,this._totalNum=t.totalNum,this._thingNum=t.thingNum},e.prototype.loadThing=function(t,e,o,i){var n=cc.find("thing",o);n.getComponent(cc.Sprite).spriteFrame=e,i<0?n.setPosition(cc.v2(-o.width/2,o.height/2)):n.setPosition(cc.v2(o.width/2,o.height/2)),n.scaleX=i,this._thing=n},e.prototype.swithImg=function(t,e){var o=this;this.quit(),this._thingNum=this._thingNum+1,this._thingNum<this._totalNum&&cc.tween(this.node).delay(.6).call(function(){o._thing.getComponent(cc.Sprite).spriteFrame=t,o.enter(e)}).start()},e.prototype.enter=function(t){var e=this;a.audioManager.playEffect(this.a22803003),cc.tween(this.node).parallel(cc.tween().to(.5,{scaleX:t,scaleY:1},{easing:"backOut"}),cc.tween().then(cc.fadeIn(.3))).call(function(){e.floatAction()}).start(),cc.tween(this._thing).then(cc.fadeIn(.3)).start()},e.prototype.quit=function(){this.node.stopAllActions(),cc.tween(this.node).parallel(cc.tween().to(.5,{scaleX:0,scaleY:0}),cc.tween().call(function(){cc.tween().then(cc.sequence(cc.delayTime(.2),cc.fadeOut(.3)))})).start(),cc.tween(this._thing).delay(.2).then(cc.sequence(cc.delayTime(.2),cc.fadeOut(.3))).start()},e.prototype.floatAction=function(){cc.tween(this.node).repeatForever(cc.tween().delay(.3).by(.7,{y:5}).delay(.3).by(.7,{y:-5})).start()},e.prototype.scaleGuide=function(){cc.tween(this.node).to(.1,{scale:1.2}).to(.1,{scale:1}).to(.1,{scale:1.2}).to(.1,{scale:1}).start()},e.prototype.start=function(){},n([c({type:cc.AudioClip,tooltip:"22803003"})],e.prototype,"a22803003",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager"}],G35_Island:[function(t,e,o){"use strict";cc._RF.push(e,"09df7uXcdVL/6CqBp7Wxh4r","G35_Island");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../GameUtils/Tools/G35_CommonAct"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.islandsAlt=[],e.id=null,e._shadow=null,e}return i(e,t),e.prototype.loadDisplay=function(){var t=a.G35_utils.creatNode(this.newNode,this.islandsAlt[this.id-1].getSpriteFrame("land"),this.node,cc.v2(0,0),1,2);this.node.setContentSize(t.getContentSize()),this.addDecorate();var e=[cc.v2(0,-20),cc.v2(-10,-10),cc.v2(-20,-10),cc.v2(10,-5),cc.v2(-10,-20),cc.v2(0,0),cc.v2(0,-10),cc.v2(0,0)];this._shadow=a.G35_utils.creatNode(this.newNode,this.islandsAlt[this.id-1].getSpriteFrame("shadow"),this.node,e[this.id-1],1,1),cc.tween(this._shadow).repeatForever(cc.tween().to(2,{scaleX:.95,scaleY:1.05}).to(1,{scaleX:1,scaleY:1}).to(2,{scaleX:1.05,scaleY:.95}).to(1,{scaleX:1,scaleY:1})).start()},e.prototype.addDecorate=function(){var t=this,e=this.getDecotateInfo();e&&e.forEach(function(e,o){var i=e.anc||cc.v2(.5,.5),n=a.G35_utils.creatNode(t.newNode,e.imgName,t.node,e.pos,1,50);n.setAnchorPoint(i),a.G35_utils.adjustPos(n,t.node),e.act&&cc.tween(t.node).delay(.1*(o+1)).call(function(){t.decorateAction(n,e.act)}).start()})},e.prototype.decorateAction=function(t,e){t.scale;switch(e){case 1:this.floatAction(t);break;case 2:this.jumpAction(t);break;case 3:this.swingAction(t);break;case 4:this.breathAction(t);break;case 5:this.crabAction(t);break;case 6:this.volcanoAction(t);break;case 7:this.octopusAction(t)}},e.prototype.floatAction=function(t){cc.tween(t).repeatForever(cc.tween().delay(.3).by(.7,{position:cc.v2(1,3)}).delay(.3).by(.7,{position:cc.v2(-1,-3)})).start()},e.prototype.jumpAction=function(t){var e=t.scale;cc.tween(t).repeatForever(cc.tween().delay(1.5).parallel(cc.tween().by(.3,{y:30}),cc.tween().to(.1,{scaleX:e-.05,scaleY:e+.15})).by(.1,{y:-30}).to(.1,{scaleX:e+.1,scaleY:e-.1}).to(.05,{scale:e})).start()},e.prototype.swingAction=function(t){var e=t.scale;cc.tween(t).repeatForever(cc.tween().to(1,{scaleX:e-.05,scaleY:e+.05,angle:-3}).to(1,{scaleX:e+.05,scaleY:e,angle:3})).start()},e.prototype.breathAction=function(t){var e=t.scale;cc.tween(t).repeatForever(cc.tween().to(1,{scaleX:e-.05,scaleY:e+.05}).to(1,{scale:e})).start()},e.prototype.crabAction=function(t){var e=this,o=t.scale;cc.tween(t).repeatForever(cc.tween().call(function(){r.G35_commonAct.filenames(t,r.G35_commonAct.getSpriteFrameArrForName(e.islandsAlt[3],"crab-",1,3))}).delay(.3)).start(),cc.tween(t).repeatForever(cc.tween().by(1,{x:70}).parallel(cc.tween().by(1.2,{position:cc.v2(-75,-70)}),cc.tween().to(1.2,{scale:o+.2})).by(1.1,{x:80}).parallel(cc.tween().by(1.2,{position:cc.v2(-50,70)}),cc.tween().to(1.2,{scale:o})).by(.4,{x:-25}).delay(1.5)).start()},e.prototype.volcanoAction=function(t){var e=t.scale;cc.tween(t).repeatForever(cc.tween().to(1,{scaleX:e,scaleY:e+.2}).to(1,{scaleX:e+.2,scaleY:e-.2}).to(1,{scale:e})).start()},e.prototype.octopusAction=function(t){var e=this;this.breathAction(t);var o=a.G35_utils.creatNode(this.newNode,this.islandsAlt[4].getSpriteFrame("ink-1"),this.node,cc.v2(67,58),1,60);a.G35_utils.adjustPos(o,this.node),o.opacity=0,cc.tween(t).repeatForever(cc.tween().delay(3).call(function(){cc.tween(o).to(.01,{opacity:255}).call(function(){r.G35_commonAct.filenames(o,r.G35_commonAct.getSpriteFrameArrForName(e.islandsAlt[4],"ink-",1,10))}).delay(1).to(.01,{opacity:0}).start()})).start()},e.prototype.getDecotateInfo=function(){return[[{imgName:this.islandsAlt[0].getSpriteFrame("snowman1"),pos:cc.v2(41,115),anc:cc.v2(.5,0),act:2},{imgName:this.islandsAlt[0].getSpriteFrame("ice3"),pos:cc.v2(-5,45),act:1},{imgName:this.islandsAlt[0].getSpriteFrame("ice1"),pos:cc.v2(24,20),act:1},{imgName:this.islandsAlt[0].getSpriteFrame("snowman2"),pos:cc.v2(160,139),anc:cc.v2(.5,0),act:2},{imgName:this.islandsAlt[0].getSpriteFrame("ice2"),pos:cc.v2(281,53),act:1},{imgName:this.islandsAlt[0].getSpriteFrame("ice3"),pos:cc.v2(244,17),act:1},{imgName:this.islandsAlt[0].getSpriteFrame("snowman3"),pos:cc.v2(142,53),anc:cc.v2(.5,0),act:2},{imgName:this.islandsAlt[0].getSpriteFrame("snow1"),pos:cc.v2(54,120)},{imgName:this.islandsAlt[0].getSpriteFrame("snow2"),pos:cc.v2(149,55)}],[{imgName:this.islandsAlt[1].getSpriteFrame("3"),pos:cc.v2(60,101),anc:cc.v2(.5,.7),act:3},{imgName:this.islandsAlt[1].getSpriteFrame("3"),pos:cc.v2(102,98),anc:cc.v2(.5,.7),act:3}],[{imgName:this.islandsAlt[2].getSpriteFrame("1"),pos:cc.v2(177,15)},{imgName:this.islandsAlt[2].getSpriteFrame("2"),pos:cc.v2(197,0),anc:cc.v2(.5,0),act:4},{imgName:this.islandsAlt[2].getSpriteFrame("tree"),pos:cc.v2(145,169),anc:cc.v2(.7,0),act:3},{imgName:this.islandsAlt[2].getSpriteFrame("2"),pos:cc.v2(152,157),anc:cc.v2(.5,0),act:4}],[{imgName:this.islandsAlt[3].getSpriteFrame("crab-1"),pos:cc.v2(144,136),act:5},{imgName:this.islandsAlt[3].getSpriteFrame("2"),pos:cc.v2(117,138)},{imgName:this.islandsAlt[3].getSpriteFrame("1"),pos:cc.v2(78,113),anc:cc.v2(.5,0),act:4},{imgName:this.islandsAlt[3].getSpriteFrame("3"),pos:cc.v2(110,124)}],[{imgName:this.islandsAlt[4].getSpriteFrame("octopus"),pos:cc.v2(67,48),anc:cc.v2(.5,0),act:7}],[],[{imgName:this.islandsAlt[6].getSpriteFrame("tree2"),pos:cc.v2(300,64),anc:cc.v2(.3,0),act:3},{imgName:this.islandsAlt[6].getSpriteFrame("tree1"),pos:cc.v2(279,69),anc:cc.v2(.7,0),act:3},{imgName:this.islandsAlt[6].getSpriteFrame("tree1"),pos:cc.v2(107,17),anc:cc.v2(.7,0),act:3},{imgName:this.islandsAlt[6].getSpriteFrame("1"),pos:cc.v2(290,70)},{imgName:this.islandsAlt[6].getSpriteFrame("2"),pos:cc.v2(104,20)}],[{imgName:this.islandsAlt[7].getSpriteFrame("volcano"),pos:cc.v2(274,77),anc:cc.v2(.5,0),act:6},{imgName:this.islandsAlt[7].getSpriteFrame("tree"),pos:cc.v2(394,111),anc:cc.v2(.7,0),act:3},{imgName:this.islandsAlt[7].getSpriteFrame("1"),pos:cc.v2(343,86),anc:cc.v2(.5,0),act:4},{imgName:this.islandsAlt[7].getSpriteFrame("2"),pos:cc.v2(328,91)}]][this.id-1]},e.prototype.onLoad=function(){},e.prototype.start=function(){this.loadDisplay()},n([l({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([l({type:cc.SpriteAtlas,tooltip:"islands"})],e.prototype,"islandsAlt",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct"}],G35_Item:[function(t,e,o){"use strict";cc._RF.push(e,"64cf3iYjRJOFJOuw8vFtJsc","G35_Item");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/core/util/StoreUtil"),r=t("./G35_Scrollvoew"),s=t("../../GameUtils/G35_Utils"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.image=null,e.size=1,e.id=1,e.bar=null,e.beganPos=null,e.isBuy=!1,e.isMoveBar=!1,e.isMoveUi=!1,e.move=null,e.canvas=null,e.sceneName="",e.lockNode=null,e.numNode=null,e.failActIng=!1,e.mainLayer=null,e.moveStop=!1,e.isTouchStart=!1,e.die=!1,e.barScript=null,e.noBuy=!1,e.moveOffset=cc.v2(0,0),e._moveCreat=null,e._creatAction=null,e.isMove=!1,e.typeInfos=null,e.coinNumInfo=null,e.coinPre=null,e.starPre=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(t){this.size=t.size,this.id=t.id,this.bar=t.bar,this.barScript=this.bar.getComponent(r.default),this.mainLayer=t.mainLayer,this._moveCreat=t.moveCreat||!0,this.coinNumInfo=t.coinNumInfo,this.sceneName=cc.director.getScene().name,this.coinPre=t.coinPre,this.starPre=t.starPre,this.loadCoinPre(),this.loadDisplay(),this.node.scale=this.size,this.registerTouch()},e.prototype.loadDisplay=function(){},e.prototype.loadCoinPre=function(){var t=this;if(this.coinNumInfo&&(this.coinNumInfo.forEach(function(e,o){if(0!=e&&o+1==t.id){var i=cc.instantiate(t.coinPre);i.parent=t.node,i.scale=1*t.node.scale,i.position=cc.v2(40,-40),i.getChildByName("lable").getComponent(cc.Label).string=e,i.zIndex=100,t.isBuy=!0}}),this.starPre&&this.id>this.coinNumInfo.length)){var e=cc.instantiate(this.starPre);e.parent=this.node,e.scale=1*this.node.scale,e.position=cc.v2(40,-40)}},e.prototype.registerTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnded,this)},e.prototype.onTouchStarted=function(t){this.barScript.die||(this.isTouchStart=!0,this.moveStop?this.moveStop=!1:(this.beganPos=t.getLocation(),this.node.scale=1.2*this.size,this.beganEven(t)))},e.prototype.onTouchMoved=function(t){var e=this;if(!this.moveStop&&this.isTouchStart){if(Math.abs(t.getLocationX()-this.beganPos.x)>80&&!this.isMoveBar&&(this.isMoveUi=!0),this.isMoveUi){if(this.isBuy){if(!(JSON.parse(a.default.get("G35_GAME_COIN_NUM","0"))>=this.coinNumInfo[this.id-1]))return this.node.scale=this.size,this.isTouchStart=!1,this.isMoveUi=!1,void(this.isMoveBar=!1);this.buySucceed()}if(this.bar.getComponent(r.default).cannotMove=!0,!this.move){var o=this.createMoveNode();if(!o)return;this.move=o,this._moveCreat?(this.node.scale=0,this.node.opacity=0,this._creatAction=cc.sequence(cc.delayTime(.2),cc.callFunc(function(){e.node.opacity=255}),cc.scaleTo(.2,this.size),cc.callFunc(function(){e._creatAction=null})),this.node.runAction(this._creatAction)):this.node.runAction(cc.hide())}this.move.setPosition(this.move.parent.convertToNodeSpaceAR(t.getLocation()).add(this.moveOffset)),this.move.runAction(cc.show()),this.movedEven(t)}Math.abs(t.getLocationY()-this.beganPos.y)>40&&!this.isMoveUi&&(this.isMoveBar=!0)}},e.prototype.onTouchEnded=function(t){this.isTouchStart&&(this.isTouchStart=!1,this.noBuy=!1,this.node.scale=this.size,this.bar.getComponent(r.default).cannotMove=!1,this.endedEvenAll(t),this.moveStop?this.moveStop=!1:(this._creatAction||(this.node.scale=this.size),this.isMoveUi?this.endedEven(t):this.endedEvenOther(t),this.isMoveUi=!1,this.isMoveBar=!1))},e.prototype.goBack=function(){this.move&&(this.move.destroy(),this.move=null),this.node.runAction(cc.show())},e.prototype.goBack2=function(){this.move&&(this.move.runAction(cc.sequence(cc.moveBy(.3,cc.v2(0,-cc.winSize.height-this.move.height)),cc.removeSelf())),this.move=null)},e.prototype.createMoveNode=function(){var t=new cc.Node;return this.canvas.addChild(t),t},e.prototype.buySucceed=function(){var t=this.node.getChildByName("numCoin");s.G35_utils.resetParent(t,cc.find("Canvas"),9e3),t.scale=1,t.runAction(cc.sequence(cc.spawn(cc.jumpTo(.2,s.G35_utils.convertPosition(this.node,t.parent),30,1),cc.scaleBy(.2,.8)),cc.callFunc(function(){s.G35_utils.shake(t,.5,10)}),cc.delayTime(.3),cc.fadeTo(1,0),cc.removeSelf())),this.coinNumInfo[this.id-1]=0,this.isBuy=!1},e.prototype.beganEven=function(t){},e.prototype.movedEven=function(t){},e.prototype.endedEvenAll=function(t){},e.prototype.endedEven=function(t){},e.prototype.endedEvenOther=function(t){},e=n([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../lib/core/util/StoreUtil":"StoreUtil","../../GameUtils/G35_Utils":"G35_Utils","./G35_Scrollvoew":"G35_Scrollvoew"}],G35_Light:[function(t,e,o){"use strict";cc._RF.push(e,"f0322yKI0FKTJ7gMFerck0m","G35_Light");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lightAlt=null,e.newNode=null,e._lights=[],e}return i(e,t),e.prototype.loadDisplay=function(){this.node.setContentSize(600,200);for(var t=[cc.v2(-10,211),cc.v2(61.5,214),cc.v2(367,202),cc.v2(463,208)],e=0;e<4;e++){var o=a.G35_utils.creatNode(this.newNode,this.lightAlt.getSpriteFrame(""+(e+1)),this.node,t[e],1);o.setAnchorPoint(cc.v2(0,1)),o.opacity=0,this._lights.push(o)}this._lights[0].opacity=255,this.lightAction()},e.prototype.lightAction=function(){cc.tween(this._lights[3]).repeatForever(cc.tween().delay(1).then(cc.fadeTo(3,50).easing(cc.easeSineOut())).then(cc.fadeTo(3.5,220).easing(cc.easeSineIn()))).start(),cc.tween(this._lights[2]).repeatForever(cc.tween().delay(1.5).then(cc.fadeTo(2.5,255).easing(cc.easeSineOut())).then(cc.fadeTo(3.5,50).easing(cc.easeSineIn()))).start(),cc.tween(this._lights[1]).repeatForever(cc.tween().delay(2).then(cc.fadeTo(2.5,200).easing(cc.easeSineIn())).then(cc.fadeTo(3,50).easing(cc.easeSineOut()))).start(),this._lights.forEach(function(t,e){var o=1;e<2&&(o=-1),cc.tween(t).repeatForever(cc.tween().by(2.5,{x:50*o}).delay(.5).by(2.5,{x:-50*o}).delay(.5)).start()})},e.prototype.onLoad=function(){},e.prototype.start=function(){},n([c({type:cc.SpriteAtlas,tooltip:"light"})],e.prototype,"lightAlt",void 0),n([c({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../GameUtils/G35_Utils":"G35_Utils"}],G35_LoadingPre:[function(t,e,o){"use strict";cc._RF.push(e,"75cd6CkXZ9OEb6E94MVaxk5","G35_LoadingPre");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/manager/LoadManager"),r=t("../../GameUtils/G35_GlobalView"),s=t("../../../../BBGameWeb/Script/Common/BBLoader"),c=t("../../../lib/core/util/PlatformUtil"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.comfirm=null,e.mask=null,e.loading=null,e.btn_home=null,e.okBtn=null,e.sceneName=null,e.onTouchDie=!0,e.successFlag=!1,e.actionFlag=!1,e.failFlag=!1,e}return i(e,t),e.prototype.onLoad=function(){this.okBtn=this.comfirm.getChildByName("touch"),this.node.setPosition(cc.find("Canvas").position);r.G35_globalView.offset;this.okBtn.on(cc.Node.EventType.TOUCH_START,this.onOkTouchBegan,this),this.init()},e.prototype.init=function(){this.failFlag=!1,this.comfirm.active=!1,this.onTouchDie=!0,this.successFlag=!1,this.actionFlag=!1,this.loading.active=!1},e.prototype.beginLoad=function(t){this.sceneName!=t&&(this.init(),this.sceneName=t,this.preloadScene(t),this.scaleSmallAction())},e.prototype.preloadScene=function(t){var e=this;c.default.isBBMGSimulatePlatform()?s.default.getInstance().preloadScene(t,this,function(t){}).then(function(){e.loadSuccess()}):a.loadManager.preloadScene(t,{onPreloadProgress:function(t){},onPreloadFail:function(){console.log("\u52a0\u8f7d\u5931\u8d25\u56de\u8c03"),e.loadFail()},onPreloadSuccess:function(){console.log("\u52a0\u8f7d\u6210\u529f\u56de\u8c03"),e.loadSuccess()}})},e.prototype.loadFail=function(){this.failFlag=!0,this.comfirm.active=!0,this.hideLoading(),this.onTouchDie=!1},e.prototype.loadSuccess=function(){this.successFlag=!0,this.actionFlag&&(this.loadScene(this.sceneName),this.scaleBigAction())},e.prototype.loadScene=function(t){this.hideLoading(),cc.director.loadScene(t)},e.prototype.scaleSmallAction=function(){var t=this;cc.tween(this.mask).to(1.5,{width:0,height:0}).call(function(){t.actionFlag=!0,t.successFlag?(t.loadScene(t.sceneName),t.scaleBigAction()):t.failFlag||t.showLoading()}).start()},e.prototype.scaleBigAction=function(){var t=this;cc.tween(this.mask).to(1.5,{width:1024,height:1024}).call(function(){t.sceneName="G35_Welcome"}).start()},e.prototype.onHomeTouchBegan=function(){this.onTouchDie||(this.onTouchDie=!0,this.loadScene("G35_Welcome"),this.comfirm.active=!1,this.scaleBigAction())},e.prototype.onOkTouchBegan=function(){this.onTouchDie||(this.onTouchDie=!0,this.init(),this.actionFlag=!0,this.preloadScene(this.sceneName),this.showLoading())},e.prototype.showLoading=function(){this.loading.active=!0},e.prototype.hideLoading=function(){this.loading.active=!1},e.prototype.start=function(){},n([d({type:cc.Node,tooltip:"\u9519\u8bef\u4fe1\u606f\u5f39\u7a97"})],e.prototype,"comfirm",void 0),n([d({type:cc.Node,tooltip:"\u906e\u7f69"})],e.prototype,"mask",void 0),n([d({type:cc.Node,tooltip:"\u52a0\u8f7d"})],e.prototype,"loading",void 0),e=n([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../lib/business/manager/LoadManager":"LoadManager","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalView":"G35_GlobalView"}],G35_Loading:[function(t,e,o){"use strict";cc._RF.push(e,"45782LjW1xNl4VOiESsIzaW","G35_Loading");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_GlobalView"),r=t("../../../lib/business/base/BBScene"),s=t("../../GameUtils/G35_Utils"),c=t("../Common/G35_loadingProgress"),l=t("../../GameUtils/G35_GlobalParams"),u=t("../../../lib/core/util/PlatformUtil"),d=t("../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.fishArr=[],e.insect=null,e}return i(e,t),e.prototype.loadbar=function(){var t=this,e=1;this.insect=this.node.getChildByName("fish"),this.insect.getComponent(cc.Sprite).spriteFrame=this.fishArr[e-1],this.insect.zIndex=2,this.insect.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,270),this.node);var o=this.node.getChildByName("shadow");o.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,215),this.node),cc.tween(this.insect).repeatForever(cc.tween().then(cc.jumpBy(1,cc.v2(0,0),100,1)).call(function(){(e+=1)>5&&(e=1),t.insect.getComponent(cc.Sprite).spriteFrame=t.fishArr[e-1]})).start(),cc.tween(o).repeatForever(cc.tween().to(.5,{scale:.6}).to(.5,{scale:1})).start()},e.prototype.loadProgress=function(){var t=this.node.getChildByName("loadingProgress");t.zIndex=10,t.getChildByName("comfirmBg").position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),t),t.getChildByName("bg").active=!1,t.getComponent(c.default).initSence(l.G35_GlobalParams.gameVar.sceneName)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=a.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,u.default.isBBMGSimulatePlatform()&&d.default.getInstance().isBannerAdExist()&&d.default.getInstance().showBannerAd()},e.prototype.start=function(){this.loadbar(),this.loadProgress()},n([f({tooltip:"\u9c7c\u56fe\u7247",type:cc.SpriteFrame})],e.prototype,"fishArr",void 0),e=n([h],e)}(r.default);o.default=g,cc._RF.pop()},{"../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../lib/business/base/BBScene":"BBScene","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../Common/G35_loadingProgress":"G35_loadingProgress"}],G35_LockInit:[function(t,e,o){"use strict";cc._RF.push(e,"3e3adUF2IxEhrJtssdCObV5","G35_LockInit");var i=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../lib/core/util/StoreUtil"),a=cc._decorator,r=a.ccclass,s=(a.property,function(){function t(){var t=Number(n.default.get("G35_GAME_LOGIN_TIME","0"));t?e.isSameDay(t,Date.now())||(n.default.set("G35_GAME_LOGIN_TIME",String(Date.now())),console.log("\u65b0\u7684\u4e00\u5929\uff0c\u91cd\u7f6e\u6e38\u620f\u9501\uff01"),e.setLock2()):(console.log("\u9996\u6b21\u767b\u9646\u6e38\u620f\uff01"),n.default.set("G35_GAME_LOGIN_TIME",String(Date.now())),n.default.set("G35_Active","10"),n.default.set("G35_leaveTime",String(10)),e.setLock1())}var e;return e=t,t.get=function(){return e.INSTANCE||(e.INSTANCE=new e),e.INSTANCE},t.setLock1=function(){n.default.set("G35_USERBOOK",JSON.stringify([[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]])),n.default.set("G35_USERBAR",JSON.stringify([[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]])),n.default.set("G23_isFirstGet",JSON.stringify(!0)),n.default.set("G35_RETURN_IN_COUNT",JSON.stringify(0)),n.default.set("G35_EVENTTYPE",JSON.stringify(0))},t.setLock2=function(){n.default.set("G35_Active","10"),n.default.set("G35_leaveTime",String(10))},t.isSameDay=function(t,e){var o=new Date(t),i=new Date(e);return o.setHours(0,0,0,0)==i.setHours(0,0,0,0)},t.INSTANCE=void 0,t=e=i([r],t)}());o.default=s;s.get();cc._RF.pop()},{"../../../lib/core/util/StoreUtil":"StoreUtil"}],G35_MoveClass:[function(t,e,o){"use strict";cc._RF.push(e,"fe094WKZftJ6oLibTrl6dan","G35_MoveClass"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../lib/core/util/MathUtil"),n=t("../G35_GlobalView"),a=function(){function t(){this.currentPointIndex=0,this.point1=cc.v2(0,0),this.point2=cc.v2(0,0),this.direction={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.nextDirection={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.openFuzzy=!1,this.fuzzyPoint=null,this.point=null,this.crtMovePoints=[],this.farther=null,this.offsetX=null,this.offsetY=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.setNode=function(t){this.farther=t},t.prototype.initMovePoint=function(){var t=n.G35_globalView.offset;this.offsetX=t.x,this.offsetY=t.y,this.currentPointIndex=0,this.point1=cc.v2(0,0),this.point2=cc.v2(0,0),this.direction={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.nextDirection={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.openFuzzy=!1,this.fuzzyPoint=null,this.point=null,this.crtMovePoints=[]},t.prototype.isCorner=function(){var t=this.crtMovePoints.length,e=cc.v2(this.farther.convertToWorldSpaceAR(cc.v2(0,0)).x,this.farther.convertToWorldSpaceAR(cc.v2(0,0)).y),o=this.point2;i.default.distance(e,o)<40&&t-this.currentPointIndex>1?this.openFuzzy=!0:(this.openFuzzy=!1,this.fuzzyPoint=null,this.point=null)},t.prototype.judgeDrawMove=function(t,e,o){return this.direction.isX>=this.direction.isY?t=this.priorityX(t,e,o,10):this.direction.isY>this.direction.isX?t=this.priorityY(t,e,o,10):void 0},t.prototype.priorityX=function(t,e,o,i){var n=!1;return this.openFuzzy&&Math.abs(o)>Math.abs(e)&&this.nextDirection.isX<this.nextDirection.isY&&(this.nextDirection.isIncreasingY&&o>0||!this.nextDirection.isIncreasingY&&o<0)&&(this.direction.isIncreasingX?t.x=t.x+i:t.x=t.x-i,n=!0),n||(this.direction.isIncreasingX&&e>0||!this.direction.isIncreasingX&&e<0)&&(t.x=t.x+e),this.point2.x>this.point1.x?(t.x>=this.point2.x?(t=this.point2,this.completePtoP()):t.x<=this.point1.x?t=this.point1:t.y=this.getDrawY(t.x),t):this.point2.x<this.point1.x?(t.x<=this.point2.x?(t=this.point2,this.completePtoP()):t.x>=this.point1.x?t=this.point1:t.y=this.getDrawY(t.x),t):void 0},t.prototype.priorityY=function(t,e,o,i){var n=!1;return this.openFuzzy&&Math.abs(e)>Math.abs(o)&&this.nextDirection.isX>this.nextDirection.isY&&(this.nextDirection.isIncreasingX&&e>0||!this.nextDirection.isIncreasingX&&e<0)&&(this.direction.isIncreasingY?t.y=t.y+i:t.y=t.y-i,n=!0),n||(this.direction.isIncreasingY&&o>0?t.y=t.y+o:!this.direction.isIncreasingY&&o<0&&(t.y=t.y+o)),this.point2.y>this.point1.y?(t.y>=this.point2.y?(t=this.point2,this.completePtoP()):t.y<=this.point1.y?t=this.point1:t.x=this.getDrawX(t.y),t):this.point2.y<this.point1.y?(t.y<=this.point2.y?(t=this.point2,this.completePtoP()):t.y>=this.point1.y?t=this.point1:t.x=this.getDrawX(t.y),t):void 0},t.prototype.getPoint12=function(){this.point1=this.getNodeSpacePoint(this.crtMovePoints[this.currentPointIndex]),this.point2=this.getNodeSpacePoint(this.crtMovePoints[this.currentPointIndex+1]),this.direction={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.nextDirection={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.openFuzzy=!1;var t=this.point2.x-this.point1.x,e=this.point2.y-this.point1.y;0!=t&&(this.direction.isX=1,this.direction.isIncreasingX=t>0),0!=e&&(this.direction.isY=1,this.direction.isIncreasingY=e>0),Math.abs(t)>=Math.abs(e)?this.direction.isX=2:this.direction.isY=2;var o=this.crtMovePoints.length;if(!(this.currentPointIndex+2>=o)){var i=this.crtMovePoints[this.currentPointIndex+2];if(i){var n=i.x-this.point2.x,a=i.y-this.point2.y;0!=n&&(this.nextDirection.isX=1),0!=a&&(this.nextDirection.isY=1),Math.abs(n)>=Math.abs(a)?(this.nextDirection.isX=2,this.nextDirection.isIncreasingX=n>0):(this.nextDirection.isY=2,this.nextDirection.isIncreasingY=a>0)}}},t.prototype.completePtoP=function(){this.currentPointIndex=this.currentPointIndex+1,this.currentPointIndex==this.crtMovePoints.length-2?(console.log("\u6210\u529f\u5230\u8fbe\u7ec8\u70b9\uff01\uff01\uff01"),cc.find("Canvas").emit("cutComplete"),this.direction={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.nextDirection={isX:0,isIncreasingX:!1,isY:0,isIncreasingY:!1},this.openFuzzy=!1,this.currentPointIndex=0,this.getPoint12()):this.getPoint12()},t.prototype.setWordBtn=function(){this.farther.position=this.point1},t.prototype.getDrawX=function(t){return(t-this.point1.y)*(this.point2.x-this.point1.x)/(this.point2.y-this.point1.y)+this.point1.x},t.prototype.getDrawY=function(t){return(t-this.point1.x)*(this.point2.y-this.point1.y)/(this.point2.x-this.point1.x)+this.point1.y},t.prototype.getNodeSpacePoint=function(t){cc.find("Canvas").convertToNodeSpaceAR(t);return t},t.INSTANCE=void 0,t}();o.default=a,o.G35_moveClass=a.get(),cc._RF.pop()},{"../../../lib/core/util/MathUtil":"MathUtil","../G35_GlobalView":"G35_GlobalView"}],G35_PondclearFish:[function(t,e,o){"use strict";cc._RF.push(e,"5a7e62T1l1B+bA0jxvgnLA9","G35_PondclearFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("./G35_Pondclear"),s=t("./G35_PondclearRes"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/core/util/MathUtil"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._types=null,e._update=1,e.personDragon=null,e.moveAction=null,e}return i(e,t),e.prototype.initSelf=function(){this.node.position=cc.v2(l.default.random(245,815),l.default.random(300-2*this.offset.y,588)),this.node.y-=this.node.parent.height,this.node.x-=this.node.parent.width/2,this.personDragon.playAnimation(this._types+"jy_yd",-1)},e.prototype.FishMove=function(){this.bezierSceneMove(this.node)},e.prototype.bezierSceneMove=function(t){var e=this;this.updateFishData(t);var o=this.midPoint(t.myPos,t.nextPos),i=this.midPoint(t.nextPos,t.endPos),n=t.nextPos.sub(this.midPoint(o,i)),a=n.add(o),r=n.add(i);a=t.nextPos.sub(a).mul(-.4).add(a),r=t.nextPos.sub(r).mul(-.4).add(r);for(var s=0,l=this.bezier3func(0,[t.myPos,t.lastContrlP,a,t.nextPos]),u=0;u<=100;u++){var d=this.bezier3func(u/100,[t.myPos,t.lastContrlP,a,t.nextPos]);s+=l.sub(d).mag(),l=d}var p=Math.floor(s/t.speed*60),h=p;this.moveAction=cc.tween(this.node).repeatForever(cc.tween().delay(.025).call(function(){var o=e.bezier3func(h/p,[t.myPos,t.lastContrlP,a,t.nextPos]),i=c.G35_utils.quadAngle(o,t.position);180!=i&&"crab"!=e._types&&(t.angle=-i-180),t.position=o,(h-=e._update)<0&&(e.moveAction.stop(),t.lastContrlP=r,e.bezierSceneMove(t))})).start()},e.prototype.midPoint=function(t,e){return cc.v2((t.x+e.x)/2,(t.y+e.y)/2)},e.prototype.updateFishData=function(t){t.myPos?(t.myPos=t.nextPos,t.nextPos=t.endPos,t.endPos=cc.v2(l.default.random(245,815)-this.node.parent.width/2,l.default.random(300-2*this.offset.y,588)-this.node.parent.height)):(t.myPos=cc.v2(t.x,t.y),t.nextPos=cc.v2(l.default.random(245,815)-this.node.parent.width/2,l.default.random(300-2*this.offset.y,588)-this.node.parent.height),t.endPos=cc.v2(l.default.random(245,815)-this.node.parent.width/2,l.default.random(300-2*this.offset.y,588)-this.node.parent.height),t.lastContrlP=t.myPos.add(cc.v2(100,0))),t.speed=l.default.random(50,70)},e.prototype.bezier3func=function(t,e){var o=e[0].mul(t*t*t),i=e[1].mul(3*t*t*(1-t)),n=e[2].mul(3*t*(1-t)*(1-t)),a=e[3].mul((1-t)*(1-t)*(1-t));return o.add(i).add(n.add(a))},e.prototype.movementHandler=function(){"jl_huizhang"==this.personDragon.animationName&&this.personDragon.playAnimation("jl_huizhang",-1)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(s.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay),this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.start=function(){this.initSelf(),this.FishMove()},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Pondclear":"G35_Pondclear","./G35_PondclearRes":"G35_PondclearRes"}],G35_PondclearLeaf:[function(t,e,o){"use strict";cc._RF.push(e,"4826ewStT1JeLlCAOvzS+rp","G35_PondclearLeaf");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondclearRes"),r=t("./G35_Pondclear"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../../../lib/core/util/MathUtil"),d=t("./G35_PondclearFish"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e._lock=!1,e}var o;return i(e,t),o=e,e.prototype.loadDisplay=function(){switch(this.id){case 1:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("1-1"),this.node.zIndex=150,this.node.anchorY=0,this.node.scale=.7,cc.tween(this.node).repeatForever(cc.tween().to(2,{angle:5}).to(2,{angle:-5})).start();break;case 2:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("8-1"),this.node.zIndex=100,this.node.scale=.9,this.breathing(this.node,.9,.9,1);break;case 3:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.zIndex=100,this.node.scale=1.1,this.breathing(this.node,1.1,1.1,1);break;case 4:case 5:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.opacity=0;break;case 6:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.zIndex=150,this.node.scale=.9,this.breathing(this.node,.9,.9,1);break;case 7:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("8-1"),this.node.zIndex=100,this.node.scale=.9,this.breathing(this.node,.9,.9,1);break;case 8:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.zIndex=100,this.node.scale=.5,this.node.opacity=0;break;case 9:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("9-1"),this.node.zIndex=50,this.node.scale=.9,this.breathing(this.node,.9,.9,1);break;case 10:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("6-1"),this.node.zIndex=50,this.node.scale=.7,cc.tween(this.node).repeatForever(cc.tween().to(2,{angle:-10}).to(2,{angle:10})).start();break;case 11:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.zIndex=50,this.node.scale=.8,this.breathing(this.node,.8,.8,1);break;case 12:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("6-1"),this.node.zIndex=50,this.node.scaleY=.7,this.node.scaleX=-.7,cc.tween(this.node).repeatForever(cc.tween().to(2,{angle:-10}).to(2,{angle:10})).start();break;case 13:this.node.getComponent(cc.Sprite).spriteFrame=this.res.flowerAlt.getSpriteFrame("7-1"),this.node.zIndex=50,this.node.scale=.9,this.breathing(this.node,.9,.9,1)}},e.prototype.loadWater=function(t){var e=this,o=c.G35_utils.creatNode(this.res.newNode,this.res.waterAlt.getSpriteFrame("1"),this.mainScript.parentNode,this.mainScript._leafTab[t-1].position,1,this.mainScript._leafTab[t-1].zIndex-1);o.y=this.mainScript._leafTab[t-1].y-this.mainScript._leafTab[t-1].height/2+50,cc.tween(o).call(function(){l.G35_commonAct.filenames(o,l.G35_commonAct.getSpriteFrameArrForName(e.res.waterAlt,"",2,10),.075)}).delay(.75).removeSelf().start()},e.prototype.breathing=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=1),void 0===i&&(i=0);var n=u.default.random(10,12),a=u.default.random(0,12),r=u.default.random(0,12);cc.tween(t).repeatForever(cc.tween().parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o-.1,angle:i-2}),cc.tween().then(cc.moveBy(n/5,cc.v2(a/2,r/2)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o,angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(-a/2,-r/2)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o-.1,angle:i+2}),cc.tween().then(cc.moveBy(n/5,cc.v2(a/2,r/2)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o,angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(-a/2,-r/2))))).start()},e.prototype.touchHide=function(){1==this.id||3==this.id||4==this.id?this.touchHide1():6==this.id||10==this.id?this.touchHide2():8==this.id||9==this.id?this.touchHide3():2==this.id||12==this.id||11==this.id?this.touchHide4():5!=this.id&&7!=this.id&&13!=this.id||this.touchHide5(),p.audioManager.playEffect(this.res.a22802002),this._lock=!0},e.prototype.touchHide1=function(){var t=this;this.mainScript._leafTab[0].getComponent(o)._lock=!0,this.mainScript._leafTab[2].getComponent(o)._lock=!0,this.mainScript._leafTab[3].getComponent(o)._lock=!0,this.loadWater(3),cc.tween(this.mainScript._leafTab[0]).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.5),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[0],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"1-",2,5),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript.openGuide(),t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[0]=null}).start(),cc.tween(this.mainScript._leafTab[2]).delay(.25).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[2],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"7-",2,9),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript._leafTab[2]=null}).start(),this.mainScript._leafTab[3]=null},e.prototype.touchHide2=function(){var t=this;this.mainScript._leafTab[5].getComponent(o)._lock=!0,this.mainScript._leafTab[9].getComponent(o)._lock=!0,this.loadWater(6),cc.tween(this.mainScript._leafTab[9]).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.5),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[9],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"6-",2,5),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript.openGuide(),t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[9]=null}).start(),cc.tween(this.mainScript._leafTab[5]).delay(.25).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[5],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"7-",2,9),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript._leafTab[5]=null}).start()},e.prototype.touchHide3=function(){var t=this;this.mainScript._leafTab[7].getComponent(o)._lock=!0,this.mainScript._leafTab[8].getComponent(o)._lock=!0,this.loadWater(9),this.mainScript._leafTab[7]=null,cc.tween(this.mainScript._leafTab[8]).delay(.25).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[8],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"9-",2,5),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript.openGuide(),t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[8]=null}).start()},e.prototype.touchHide4=function(){var t=this;this.mainScript._leafTab[1].getComponent(o)._lock=!0,this.mainScript._leafTab[11].getComponent(o)._lock=!0,this.mainScript._leafTab[10].getComponent(o)._lock=!0,this.mainScript._leafTab[14]=null,cc.tween(this.mainScript._leafTab[1]).delay(.25).call(function(){t.loadWater(2)}).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[1],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"8-",2,13),.05)})).to(.01,{opacity:0}).call(function(){t.mainScript.openGuide(),t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[1]=null}).start(),cc.tween(this.mainScript._leafTab[11]).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.7),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[11],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"6-",2,5),.075)})).to(.01,{opacity:0}).call(function(){t.mainScript._leafTab[11]=null}).start(),cc.tween(this.mainScript._leafTab[10]).delay(.25).call(function(){t.loadWater(11)}).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[10],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"7-",2,9),.05)})).to(.01,{opacity:0}).call(function(){t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[10]=null}).start()},e.prototype.touchHide5=function(){var t=this;this.mainScript._leafTab[4].getComponent(o)._lock=!0,this.mainScript._leafTab[6].getComponent(o)._lock=!0,this.mainScript._leafTab[12].getComponent(o)._lock=!0,this.mainScript._leafTab[13]=null,this.mainScript._leafTab[4]=null,cc.tween(this.mainScript._leafTab[6]).delay(.25).call(function(){t.loadWater(7)}).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[6],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"8-",2,13),.05)})).to(.01,{opacity:0}).call(function(){t.mainScript.openGuide(),t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[6]=null}).start(),cc.tween(this.mainScript._leafTab[12]).delay(.25).call(function(){t.loadWater(13)}).parallel(cc.scaleBy(.225,1.2),cc.scaleBy(.15,1,1.3),cc.callFunc(function(){l.G35_commonAct.filenames(t.mainScript._leafTab[12],l.G35_commonAct.getSpriteFrameArrForName(t.res.flowerAlt,"7-",2,9),.75)})).to(.01,{opacity:0}).call(function(){t.mainScript._count+=1,t.mainScript.isOver(),t.mainScript._leafTab[12]=null}).start()},e.prototype.areaDection=function(){var t=this;this.mainScript._fishTab.forEach(function(e){var o=cc.v2(t.node.convertToWorldSpaceAR(cc.v2(0,0)).x,t.node.convertToWorldSpaceAR(cc.v2(0,0)).y),i=cc.v2(e.convertToWorldSpaceAR(cc.v2(0,0)).x,e.convertToWorldSpaceAR(cc.v2(0,0)).y);o.sub(i).mag()<=150&&(e.getComponent(d.default)._update=3,t.scheduleOnce(function(){e.getComponent(d.default)._update=1},2))})},e.prototype.touchStart=function(t){if(this.mainScript.canTouch&&!this._lock&&!this.touchThrigger){this.touchThrigger=!0;c.G35_utils.creatParticle(this.res.click,this._canvas,t.getLocation(),9999);this.mainScript.closeGuide(),this.touchHide(),this.areaDection()}},e.prototype.touchEnd=function(t){this.mainScript.canTouch&&(this._lock||this.touchThrigger&&(this.touchThrigger=!1))},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.loadDisplay()},e=o=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Pondclear":"G35_Pondclear","./G35_PondclearFish":"G35_PondclearFish","./G35_PondclearRes":"G35_PondclearRes"}],G35_PondclearRes:[function(t,e,o){"use strict";cc._RF.push(e,"39e2d2IzX1LFakR6UDm9mEk","G35_PondclearRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.fish=null,e.qingliwc=null,e.click=null,e.bgAlt=null,e.flowerAlt=null,e.waterAlt=null,e.guideAlt=[],e.water1Alt=null,e.water2Alt=null,e.bmg02=null,e.a22802001=null,e.a22802003=null,e.a22802002=null,e.a228015=null,e.a228012=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u9c7c"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"qingliwc"})],e.prototype,"qingliwc",void 0),n([s({type:cc.Prefab,tooltip:"click"})],e.prototype,"click",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bg"})],e.prototype,"bgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"flower"})],e.prototype,"flowerAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u5f15\u5bfc"})],e.prototype,"guideAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water1"})],e.prototype,"water1Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water2"})],e.prototype,"water2Alt",void 0),n([s({type:cc.AudioClip,tooltip:"bmg02"})],e.prototype,"bmg02",void 0),n([s({type:cc.AudioClip,tooltip:"22802001"})],e.prototype,"a22802001",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22802002"})],e.prototype,"a22802002",void 0),n([s({type:cc.AudioClip,tooltip:"228015"})],e.prototype,"a228015",void 0),n([s({type:cc.AudioClip,tooltip:"228012"})],e.prototype,"a228012",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Pondclear:[function(t,e,o){"use strict";cc._RF.push(e,"126bcRQUp1IOIKq2kQjtdCl","G35_Pondclear");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_PondclearRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("./G35_PondclearLeaf"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../../lib/core/util/ArrayUtil"),d=t("../../../../lib/core/util/MathUtil"),p=t("./G35_PondclearFish"),h=t("../../../GameUtils/Tools/G35_CommonAct"),f=t("../../../../lib/business/Manager/AudioManager"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.leafPos=[],e.fishPos=[cc.v2(214.1,482.6),cc.v2(220.7,454.5),cc.v2(259.6,468.4),cc.v2(297.1,449.4),cc.v2(279.6,490.8),cc.v2(316.4,473.6)],e._leafTab=[],e._count=0,e._fishName=["jl","kqy","qdf"],e._fishTab=[],e.canTouch=!1,e._qiqi=null,e._sky=null,e._flowerBg1=null,e._flowerBg2=null,e._water=null,e.parentNode=null,e._ripple=null,e._guide1=null,e._guide2=null,e.personDragon=null,e}return i(e,t),e.prototype.loadBg=function(){var t=cc.instantiate(this.res.newNode);t.getComponent(cc.Sprite).spriteFrame=this.res.bgAlt.getSpriteFrame("sky"),t.scale=1.25,t.anchorY=1,t.parent=this.parentNode,t.zIndex=20,t.y=cc.winSize.height/2;var e=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("bank"),t,cc.v2(0,150-t.height),1,200);e.anchorY=1;var o=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("water1"),t,cc.v2(0,60-t.height),1,100);o.anchorY=1;var i=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("flower1"),t,cc.v2(-t.width/2,211-t.height),1,100);i.anchorX=0;var n=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("flower2"),t,cc.v2(t.width/2,175-t.height),1,100);n.anchorX=1;var a=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("left"),this.parentNode,cc.v2(-60,-350),0,5e3);a.anchorX=0,a.on(cc.Node.EventType.TOUCH_START,function(){cc.tween(a).by(.25,{position:cc.v2(-200,-200)}).start()});var r=new cc.Node;r.parent=this.parentNode,r.zIndex=5e3;var s=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("right"),r,cc.v2(cc.winSize.width+100,-350),0,2);s.anchorX=1,s.on(cc.Node.EventType.TOUCH_START,function(){cc.tween(r).by(.25,{position:cc.v2(200,-200)}).start()});var c=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("right1"),r,cc.v2(64.7,90.1),1,1);c.setAnchorPoint(cc.v2(1,0)),c.setPosition(r.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(64.7-s.width,90.1-s.height/2))));var u=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("right1"),r,cc.v2(94,125.1),1,1);u.setAnchorPoint(cc.v2(1,0)),u.setPosition(r.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(94-s.width,125.1-s.height/2))));var d=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("right1"),r,cc.v2(143.4,110.7),1,1);d.setAnchorPoint(cc.v2(1,0)),d.setPosition(r.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(143.4-s.width,110.7-s.height/2)))),this.loadRoAct(c),this.loadRoAct(u),this.loadRoAct(d),this._sky=t,this._water=o,this._flowerBg1=a,this._flowerBg2=s,l.G35_utils.setImg(c),l.G35_utils.setImg(u),l.G35_utils.setImg(d),l.G35_utils.setImg(e),l.G35_utils.setImg(i),l.G35_utils.setImg(n),this.waterRipple()},e.prototype.loadRoAct=function(t){cc.tween(t).repeatForever(cc.tween().to(3,{angle:5}).to(3,{angle:-5})).start()},e.prototype.waterRipple=function(){var t=this;this._ripple=l.G35_utils.creatNode(this.res.newNode,this.res.water1Alt.getSpriteFrame("water1"),this._water,cc.v2(0,0),1,999),this._ripple.scaleX=1.25,this._ripple.y=-this._water.height/2+100,l.G35_utils.setImg(this._ripple);var e=this.res.water1Alt.getSpriteFrames().concat(this.res.water2Alt.getSpriteFrames());cc.tween(this._ripple).repeatForever(cc.tween().call(function(){h.G35_commonAct.filenames(t._ripple,e,.3)}).delay(2.1)).start()},e.prototype.createLeaf=function(){for(var t=0;t<13;t++){var e=cc.instantiate(this.res.newNode);e.name="Leaf",e.parent=this.parentNode,e.zIndex=500,e.position=l.G35_utils.convertToSpacePos(this.leafPos[t],this.node),e.y-=400,e.addComponent(c.default).id=t+1,e.anchorY=0,this._leafTab.push(e)}this._leafTab[3].opacity=0},e.prototype.createQiqiBone=function(){this._qiqi=this.parentNode.getChildByName("qiqi"),this._qiqi.zIndex=500,this._qiqi.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,200+2*this.offset.y),this.node)},e.prototype.createFish=function(){for(var t=this,e=[],o=0;o<3;o++){var i=[];i=u.default.deepCopy(this._fishName),i=u.default.upsetArray(i),e.push.apply(e,i)}e.forEach(function(e){var o=d.default.random(500,600),i=0;"qdf"==e?i=.3:"jl"==e?i=.25:"kqy"==e&&(i=.4);var n=cc.instantiate(t.res.fish);n.scale=i,n.parent=t._water,n.zIndex=o,n.getComponent(p.default)._types=e,t._fishTab.push(n)})},e.prototype.breathing=function(t,e){if(void 0===e&&(e=0),t){var o=d.default.random(10,12);cc.tween(t).repeatForever(cc.tween().to(o/5,{scaleX:1,scaleY:.9,angle:e-5}).to(o/5,{scaleX:1,scaleY:1,angle:e}).to(o/5,{scaleX:1,scaleY:.9,angle:e+5}).to(o/5,{scaleX:1,scaleY:1,angle:e})).start()}},e.prototype.isOver=function(){if(this._count>=7){f.audioManager.playEffect(this.res.a22802003),this.closeGuide();var t=cc.instantiate(this.res.qingliwc);t.parent=this.node,t.zIndex=9999,cc.tween(this.parentNode).delay(1.5).parallel(cc.tween().to(1,{scale:1.625}),cc.tween().by(1,{y:200})).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Pondput")}).start()}},e.prototype.openFirstGuide=function(){var t=this,e=this._leafTab[2].convertToWorldSpaceAR(cc.v2(0,0));this._guide1=cc.tween(this.node).delay(4).call(function(){var o=l.G35_utils.creatNode(t.res.newNode,t.res.guideAlt[0],t.node,cc.v2(e.x,e.y),0,9999);l.G35_utils.setImg(o),o.scaleX*=-1,cc.tween(o).repeatForever(cc.tween().call(function(){h.G35_commonAct.filenames(o,t.res.guideAlt,.2)}).delay(1.1)).start(),t._guide2=o}).start()},e.prototype.openGuide=function(){var t=this;this._guide1||(this._guide1=cc.tween(this.node).delay(4).call(function(){t.guideAction()}).start())},e.prototype.guideAction=function(){var t=this,e=this.getGuideNode().convertToWorldSpaceAR(cc.v2(0,0)),o=l.G35_utils.creatNode(this.res.newNode,this.res.guideAlt[0],this.node,cc.v2(e.x,e.y),0,9999);o.scaleX*=-1,l.G35_utils.setImg(o),cc.tween(o).repeatForever(cc.tween().call(function(){h.G35_commonAct.filenames(o,t.res.guideAlt,.2)}).delay(1.1)).start(),this._guide2=o},e.prototype.getGuideNode=function(){for(var t=null,e=0;e<this._leafTab.length&&null==(t=this._leafTab[e]);e++);return t},e.prototype.closeGuide=function(){this._guide1&&(this._guide1.stop(),this._guide1=null),this._guide2&&(this._guide2.destroy(),this._guide2=null)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.parentNode=this.node.getChildByName("parentNode"),this.leafPos=[cc.v2(470+e.x,200+e.y),cc.v2(850+e.x,220+e.y),cc.v2(475+e.x,150+e.y),cc.v2(580+e.x,205+e.y),cc.v2(125+e.x,200+e.y),cc.v2(225+e.x,10+e.y),cc.v2(200+e.x,280+e.y),cc.v2(730+e.x,85+e.y),cc.v2(700+e.x,25+e.y),cc.v2(205+e.x,95+e.y),cc.v2(710+e.x,310+e.y),cc.v2(875+e.x,325+e.y),cc.v2(40+e.x,180+e.y)],this.loadBg(),this.createLeaf(),this.createQiqiBone(),this.createFish()},e.prototype.start=function(){var t=this;this.personDragon=this._qiqi.getComponent(dragonBones.ArmatureDisplay),f.audioManager.playMusic(this.res.bmg02),this.personDragon.playAnimation("qq_ctqqsh",0),f.audioManager.playEffect(this.res.a228012),this.scheduleOnce(function(){t.personDragon.playAnimation("qq_ctqqhx",-1),cc.tween(t._sky).then(cc.moveBy(1,cc.v2(0,400))).start(),cc.tween(t._qiqi).by(1,{y:400}).start(),cc.tween(t._flowerBg1).by(1,{y:400}).call(function(){t.breathing(t._flowerBg1,1)}).start(),cc.tween(t._flowerBg2.parent).by(1,{y:400}).call(function(){f.audioManager.playLine(t.res.a228015),t.breathing(t._flowerBg2,1),t.openFirstGuide(),t._leafTab.forEach(function(e){t.canTouch=!0})}).start(),t._leafTab.forEach(function(t){cc.tween(t).by(1,{y:400}).start()}),f.audioManager.playEffect(t.res.a22802001)},4)},e=n([_],e)}(a.default));o.default=y,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_PondclearFish":"G35_PondclearFish","./G35_PondclearLeaf":"G35_PondclearLeaf","./G35_PondclearRes":"G35_PondclearRes"}],G35_PondfeedRes:[function(t,e,o){"use strict";cc._RF.push(e,"0b804jxZi1Hzo0PZnoPNcX9","G35_PondfeedRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.dianyumi=null,e.erliaoni=null,e.jiaobanwc=null,e.daoerliao=null,e.daoerliao2=null,e.playLight=null,e.bowlAlt=null,e.bowlfeedAlt=null,e.boxAlt=null,e.boxfeedAlt=null,e.cornAlt=null,e.scoopAlt=null,e.spoonAlt=null,e.guideAlt=[],e.boxSpriteFrame=null,e.a22804010=null,e.a22804002=null,e.a22804003=null,e.a22804001=null,e.a22802003=null,e.a22804005=null,e.a22804006=null,e.a22804004=null,e.a22804007=null,e.a22804008=null,e.a228079=null,e.a228078=null,e.a228077=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"dianyumi"})],e.prototype,"dianyumi",void 0),n([s({type:cc.Prefab,tooltip:"erliaoni"})],e.prototype,"erliaoni",void 0),n([s({type:cc.Prefab,tooltip:"jiaobanwc"})],e.prototype,"jiaobanwc",void 0),n([s({type:cc.Prefab,tooltip:"daoerliao"})],e.prototype,"daoerliao",void 0),n([s({type:cc.Prefab,tooltip:"daoerliao2"})],e.prototype,"daoerliao2",void 0),n([s({type:cc.Prefab,tooltip:"playLight"})],e.prototype,"playLight",void 0),n([s({type:cc.SpriteAtlas,tooltip:"\u7897"})],e.prototype,"bowlAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"\u9975\u6599"})],e.prototype,"bowlfeedAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"\u7bb1\u5b50"})],e.prototype,"boxAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"boxfeed"})],e.prototype,"boxfeedAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"corn"})],e.prototype,"cornAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"scoop"})],e.prototype,"scoopAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"spoon"})],e.prototype,"spoonAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u5f15\u5bfc"})],e.prototype,"guideAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"box"})],e.prototype,"boxSpriteFrame",void 0),n([s({type:cc.AudioClip,tooltip:"22804010"})],e.prototype,"a22804010",void 0),n([s({type:cc.AudioClip,tooltip:"22804002"})],e.prototype,"a22804002",void 0),n([s({type:cc.AudioClip,tooltip:"22804003"})],e.prototype,"a22804003",void 0),n([s({type:cc.AudioClip,tooltip:"22804001"})],e.prototype,"a22804001",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22804005"})],e.prototype,"a22804005",void 0),n([s({type:cc.AudioClip,tooltip:"22804006"})],e.prototype,"a22804006",void 0),n([s({type:cc.AudioClip,tooltip:"22804004"})],e.prototype,"a22804004",void 0),n([s({type:cc.AudioClip,tooltip:"22804007"})],e.prototype,"a22804007",void 0),n([s({type:cc.AudioClip,tooltip:"22804008"})],e.prototype,"a22804008",void 0),n([s({type:cc.AudioClip,tooltip:"228079"})],e.prototype,"a228079",void 0),n([s({type:cc.AudioClip,tooltip:"228078"})],e.prototype,"a228078",void 0),n([s({type:cc.AudioClip,tooltip:"228077"})],e.prototype,"a228077",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_PondfeedSpoon:[function(t,e,o){"use strict";cc._RF.push(e,"41295dSYoVLaZJtfw8JYN0b","G35_PondfeedSpoon");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_Pondfeed"),r=t("./G35_PondfeedRes"),s=t("../../../GameUtils/Tools/G35_CommonAct"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/business/Manager/AudioManager"),u=t("../../../../lib/core/util/MathUtil"),d=t("../../Common/G35_playLight"),p=t("../../../GameUtils/G35_GlobalView"),h=t("../../../GameUtils/G35_GlobalParams"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._playLock=!1,e._feedLock=!1,e._stirLock=!1,e._count=0,e._flag=1,e.a1=null,e.b1=null,e._poc1=null,e._poc2=null,e._exmove=null,e._move=null,e._beganPos=null,e._offset=null,e.a2=null,e._exMoveNum=0,e._centerPo=null,e._moveSound=null,e._oneInLock=null,e.canTouch=!1,e}return i(e,t),e.prototype.getTouchRange=function(){this.a1=140,this.b1=55,this._centerPo=cc.v2(cc.winSize.width/2,300);var t=this.a1,e=this.b1,o=this._centerPo,i=Math.sqrt(t*t-e*e);this._poc1=cc.v2(o.x-i,o.y),this._poc2=cc.v2(o.x+i,o.y),this.a2=2*t,this._exMoveNum=0},e.prototype.spoonMovePlay=function(){var t=this;this._playLock||(this._playLock=!0,s.G35_commonAct.filenames(this.node,s.G35_commonAct.getSpriteFrameArrForNameArr(this.res.spoonAlt,["5","6"])),this.scheduleOnce(function(){t._playLock=!1},.2))},e.prototype.mathDistancePlay=function(){var t=this,e=this.node.convertToWorldSpaceAR(cc.v2(0,0)).sub(this._beganPos).mag();if(Math.abs(e)>50){if(this._beganPos=this.node.convertToWorldSpaceAR(cc.v2(0,0)),this.setFeedZ(),this._feedLock)return;this._feedLock=!0,s.G35_commonAct.filenames(this.mainScript._bowlFeed,s.G35_commonAct.getSpriteFrameArrForNameArr(this.res.bowlfeedAlt,["2","3","4"])),this.scheduleOnce(function(){t._count+=1,t.isStirOver(),t._feedLock=!1},.3)}},e.prototype.setFeedZ=function(){this._oneInLock||(this._oneInLock=!0,this.mainScript._bowlFeed.zIndex=4888,this.mainScript._otherGarinTab.forEach(function(t){t&&(t.destroy(),t=null)}))},e.prototype.isStirOver=function(){var t=this;this._count>=10&&(this._stirLock=!0,this.mainScript._bowlFeed.getComponent(cc.Sprite).spriteFrame=this.res.bowlfeedAlt.getSpriteFrame("5"),c.G35_utils.creatParticle(this.res.jiaobanwc,this.node,cc.v2(cc.winSize.width/2,220),9999),l.audioManager.playEffect(this.res.a22802003),this.canTouch=!1,this.touchThrigger=!1,this.scheduleOnce(function(){t.bowlMoveRight()}))},e.prototype.bowlMoveRight=function(){var t=this;cc.tween(this.node).by(.5,{x:200}).start(),cc.tween(this.mainScript._bowl1).by(.5,{x:200}).start(),cc.tween(this.mainScript._bowl2).by(.5,{x:200}).start(),cc.tween(this.mainScript._bowlFeed).by(.5,{x:200}).start(),cc.tween(this.mainScript._feedBox).delay(.5).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(217.6+this.offset.x,177),this.mainScript._feedBox.parent)}).call(function(){t.spoonScoopUp()}).start()},e.prototype.spoonScoopUp=function(){var t=this,e=s.G35_commonAct.getSpriteFrameArrForName(this.res.spoonAlt,"",1,4);cc.tween(this.node).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(680+this.offset.x,325),this.node.parent)}).call(function(){s.G35_commonAct.filenames(t.node,e.reverse(),.025)}).delay(.1).by(.15,{y:75}).to(.15,{angle:-30}).call(function(){t.node.getComponent(cc.Sprite).spriteFrame=t.res.scoopAlt.getSpriteFrame("10"),t.node.angle=0,t.node.zIndex=6e3,t.scoopUp(680+t.offset.x,300),l.audioManager.playEffect(t.res.a22804005)}).start()},e.prototype.scoopUp=function(t,e){var o=this;cc.tween(this.node).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(t,e),this.node.parent)}).call(function(){l.audioManager.playEffect(o.res.a22804006)}).parallel(cc.tween().to(.2,{angle:60}),cc.tween().by(.2,{position:cc.v2(20,100)})).parallel(cc.tween().to(.2,{angle:0}),cc.tween().by(.2,{position:cc.v2(-20,-100)})).call(function(){switch(o.node.getComponent(cc.Sprite).spriteFrame=o.res.scoopAlt.getSpriteFrame("3"),o._flag){case 1:o.mainScript._bowlFeed.getComponent(cc.Sprite).spriteFrame=o.res.bowlfeedAlt.getSpriteFrame("6"),l.audioManager.playEffect(o.res.a228078);break;case 2:o.mainScript._bowlFeed.getComponent(cc.Sprite).spriteFrame=o.res.bowlfeedAlt.getSpriteFrame("7");break;case 3:o.mainScript._bowlFeed.getComponent(cc.Sprite).spriteFrame=o.res.bowlfeedAlt.getSpriteFrame("8");break;case 4:o.mainScript._bowlFeed.getComponent(cc.Sprite).spriteFrame=o.res.bowlfeedAlt.getSpriteFrame("9")}}).parallel(cc.tween().to(.2,{angle:0}),cc.tween().by(.2,{position:cc.v2(-20,50)})).call(function(){o.canTouch=!0}).start()},e.prototype.touchStart=function(t){this.mainScript.canTouch&&this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this._stirLock||this.stirTouchBegan(t.getLocation())))},e.prototype.touchMove=function(t){this.mainScript.canTouch&&this.canTouch&&this.touchThrigger&&(this._stirLock?this.scoopTouchMoved(t.getLocation()):this.stirTouchMoved(t.getLocation()))},e.prototype.touchEnd=function(t){this.mainScript.canTouch&&this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1)},e.prototype.stirTouchBegan=function(t){this._beganPos=t,this._exmove=t,this._move=t;var e=this.node.parent.convertToWorldSpaceAR(this.node.position);this._offset=cc.v2(t.x-e.x,t.y-e.y)},e.prototype.stirTouchMoved=function(t){if(u.default.distance(cc.v2(t.x-this._offset.x,t.y-this._offset.y),this._poc1)+u.default.distance(cc.v2(t.x-this._offset.x,t.y-this._offset.y),this._poc2)<this.a2)this.node.setPosition(c.G35_utils.convertToSpacePos(cc.v2(t.x-this._offset.x,t.y-this._offset.y),this.node.parent));else{var e=t.x-this._centerPo.x-this._offset.x,o=t.y-this._centerPo.y-this._offset.y,i=this.a1,n=this.b1,a=o/e,r=Math.sqrt(i*i*n*n/(n*n+i*i*a*a)),s=a*r;e<0?this.node.setPosition(this.node.parent.convertToNodeSpaceAR(cc.v2(-r,-s).add(this._centerPo))):this.node.setPosition(this.node.parent.convertToNodeSpaceAR(cc.v2(r,s).add(this._centerPo)))}this.spoonMovePlay(),this.mathDistancePlay(),this.playMoveSound()},e.prototype.playMoveSound=function(){var t=this;this._moveSound||(this._moveSound=l.audioManager.playEffect(this.res.a22804004),this.scheduleOnce(function(){t._moveSound=null},1))},e.prototype.scoopTouchMoved=function(t){var e=this;this.node.position=c.G35_utils.convertToSpacePos(t,this.node.parent),c.G35_utils.detectCollision({node1:this.node,node2:this.mainScript._feedBox})&&(this.canTouch=!1,cc.tween(this.node).to(.25,{position:c.G35_utils.convertToSpacePos(cc.v2(300+this.offset.x,300),this.node.parent)}).call(function(){s.G35_commonAct.filenames(e.node,s.G35_commonAct.getSpriteFrameArrForName(e.res.scoopAlt,"",3,8),.05)}).delay(.4).call(function(){e.falled()}).start(),cc.tween(this.node).delay(.25).call(function(){l.audioManager.playEffect(e.res.a22804007);var t=cc.instantiate(e.res.daoerliao);t.parent=e.node,t.zIndex=1e3,t.setPosition(cc.v2(60,0+15*e._flag)),c.G35_utils.adjustPos(t,e.node),e.mainScript._boxFeed.opacity=255,cc.tween(e.mainScript._boxFeed).by(.45,{y:10}).start()}).start())},e.prototype.falled=function(){var t=this;return l.audioManager.playEffect(this.res.a22804008),c.G35_utils.creatParticle(this.res.daoerliao2,this._canvas,cc.v2(215+this.offset.x,160),9999),1==this._flag?(this._flag=2,void cc.tween(this.node).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(680+this.offset.x,300),this.node.parent)}).call(function(){t.scoopUp(680+t.offset.x,300)}).start()):2==this._flag?(this._flag=3,this.mainScript._boxFeed.getComponent(cc.Sprite).spriteFrame=this.res.boxAlt.getSpriteFrame("feed-2"),void cc.tween(this.node).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(730+this.offset.x,300),this.node.parent)}).call(function(){t.scoopUp(730+t.offset.x,300)}).start()):3==this._flag?(this._flag=4,this.mainScript._boxFeed.getComponent(cc.Sprite).spriteFrame=this.res.boxAlt.getSpriteFrame("feed-3"),void cc.tween(this.node).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(780+this.offset.x,300),this.node.parent)}).call(function(){t.scoopUp(780+t.offset.x,300)}).start()):4==this._flag?(this._flag=5,this.mainScript._boxFeed.getComponent(cc.Sprite).spriteFrame=this.res.boxAlt.getSpriteFrame("feed-4"),void this.spoonAndBowlOut()):void 0},e.prototype.spoonAndBowlOut=function(){var t=this;cc.tween(this.node).delay(.5).by(.5,{x:{value:1e3,easing:"backIn"}}).start(),cc.tween(this.mainScript._bowl1).delay(.75).by(.5,{x:1e3}).call(function(){cc.tween(t.mainScript._feedBox).parallel(cc.tween().to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(478.7+t.offset.x,280+t.offset.y),t.mainScript._feedBox.parent)}),cc.tween().to(.5,{scale:.78})).call(function(){l.audioManager.playLine(t.res.a228079),cc.instantiate(t.res.playLight).getComponent(d.default).playLight(t._canvas,60,2.1)}).delay(.1).call(function(){t.mainScript._feedBox.opacity=0;c.G35_utils.creatNode(t.res.newNode,t.res.boxSpriteFrame,t._canvas,cc.v2(478.7+t.offset.x,290.6+t.offset.y),0,100)}).delay(2.5).call(function(){h.G35_GlobalParams.gameVar.fromSelect=!1,h.G35_GlobalParams.gameVar.gameId=1,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Ready"),console.log("\u8df3\u8f6c\u573a\u666f")}).start()}).start(),this.scheduleOnce(function(){cc.tween(t.mainScript._bowl2).by(.5,{x:1e3}).start(),cc.tween(t.mainScript._bowlFeed).by(.5,{x:1e3}).start()},.75)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.mainScript=cc.find("Canvas").getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=p.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.getTouchRange()},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_playLight":"G35_playLight","./G35_Pondfeed":"G35_Pondfeed","./G35_PondfeedRes":"G35_PondfeedRes"}],G35_Pondfeed:[function(t,e,o){"use strict";cc._RF.push(e,"9c17b1FZPBJp6oSHu1e2HBq","G35_Pondfeed");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondfeedRes"),r=t("./G35_PondfeedSpoon"),s=t("../../../../lib/business/base/BBScene"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../../../lib/core/util/MathUtil"),d=t("../../../../lib/business/Manager/AudioManager"),p=t("../../../GameUtils/G35_GlobalView"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.cornGrainPos1=[cc.v2(26.3,127.7),cc.v2(45.3,133.3),cc.v2(63.4,139.8),cc.v2(84.6,139.1),cc.v2(106.7,139.1),cc.v2(129.3,139),cc.v2(154.6,138.5),cc.v2(180.4,137.3),cc.v2(211.5,134.1),cc.v2(241,131.1),cc.v2(271.8,127.5),cc.v2(298.8,122.2),cc.v2(328.8,116.4)],e.cornGrainPos2=[cc.v2(14.9,108.8),cc.v2(44.3,111.8),cc.v2(70.3,112.7),cc.v2(97.6,110.5),cc.v2(124.8,112.3),cc.v2(150,111),cc.v2(177.5,109.3),cc.v2(204,108.3),cc.v2(230,110),cc.v2(255,110),cc.v2(280,110),cc.v2(305,110),cc.v2(328.3,107.6),cc.v2(348.6,103.9)],e.cornGrainPos3=[cc.v2(6.4,77.5),cc.v2(30.6,77),cc.v2(55.5,77),cc.v2(80.4,76.6),cc.v2(105.2,77.7),cc.v2(129.5,78.1),cc.v2(155.8,77.7),cc.v2(184,78.3),cc.v2(211.5,77.9),cc.v2(236.5,76.9),cc.v2(263.5,77.8),cc.v2(293.7,78.5),cc.v2(319.1,78),cc.v2(347.5,79.7)],e.cornGrainPos4=[cc.v2(13.8,46.8),cc.v2(39.4,45.3),cc.v2(67,42.8),cc.v2(92.1,43.4),cc.v2(115.8,43.1),cc.v2(139.1,43.1),cc.v2(164.6,43),cc.v2(192.4,44.3),cc.v2(220.1,46),cc.v2(249.1,47.4),cc.v2(278.7,49.6),cc.v2(304.3,54.2),cc.v2(327.5,55.6),cc.v2(352.7,60.6)],e.cornGrainPos5=[cc.v2(23.2,25),cc.v2(49.6,21),cc.v2(68.8,16.6),cc.v2(90,14.5),cc.v2(116.8,14.1),cc.v2(141.8,14.3),cc.v2(168.4,15.3),cc.v2(196.5,15.4),cc.v2(224,19.3),cc.v2(251.2,23.9),cc.v2(278.2,28.9),cc.v2(305.5,35.7),cc.v2(333,44.7)],e._cornGrainTab=[],e._bowlWithNodeUp=[],e._otherGarinTab=[],e._moveGrainLock=!1,e._cornRockLock=!1,e._zz=2e3,e._cornCob=null,e._bowl1=null,e._bowl2=null,e._bowlFeed=null,e._spoon=null,e._feedBox=null,e._boxFeed=null,e._finger=null,e.canTouch=!1,e.touchThrigger=!1,e.isFinish=!1,e._GarinOverLock=!1,e._guideCount=null,e}return i(e,t),e.prototype.loadBowl=function(){this._bowl1=c.G35_utils.creatNode(this.res.newNode,this.res.bowlAlt.getSpriteFrame("bowl1"),this.node,cc.v2(cc.winSize.width/2,35),0,5e3),this._bowl1.scale=1.026,this._bowl2=c.G35_utils.creatNode(this.res.newNode,this.res.bowlAlt.getSpriteFrame("bowl2"),this.node,cc.v2(cc.winSize.width/2+0,158),0,100),this._bowl2.scale=1.026,this._bowlWithNodeUp.push(this._bowl1),this._bowlWithNodeUp.push(this._bowl2)},e.prototype.loadFeed=function(){this._bowlFeed=c.G35_utils.creatNode(this.res.newNode,this.res.bowlfeedAlt.getSpriteFrame("1"),this.node,cc.v2(cc.winSize.width/2,120),0,150),this._bowlFeed.scale=1/.969,this._bowlWithNodeUp.push(this._bowlFeed)},e.prototype.loadCornCob=function(){this._cornCob=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame("corn"),this.node,cc.v2(cc.winSize.width/2+15,cc.winSize.height+200),0,150)},e.prototype.loadCornGrain=function(){for(var t=1;t<=13;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame(""+t),this._cornCob,this.cornGrainPos1[t-1],1,10);c.G35_utils.adjustPos(e,this._cornCob),this._cornGrainTab.push(e)}for(t=14;t<=27;t++){var o=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame(""+t),this._cornCob,this.cornGrainPos2[t-14],1,20);c.G35_utils.adjustPos(o,this._cornCob),this._cornGrainTab.push(o)}for(t=28;t<=41;t++){var i=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame(""+t),this._cornCob,this.cornGrainPos3[t-28],1,30);c.G35_utils.adjustPos(i,this._cornCob),this._cornGrainTab.push(i)}for(t=42;t<=55;t++){var n=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame(""+t),this._cornCob,this.cornGrainPos4[t-42],1,20);c.G35_utils.adjustPos(n,this._cornCob),this._cornGrainTab.push(n)}for(t=56;t<=68;t++){var a=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame(""+t),this._cornCob,this.cornGrainPos5[t-56],1,10);c.G35_utils.adjustPos(a,this._cornCob),this._cornGrainTab.push(a)}},e.prototype.loadSpoon=function(){this._spoon=c.G35_utils.creatNode(this.res.newNode,this.res.spoonAlt.getSpriteFrame("1"),this.node,cc.v2(cc.winSize.width+200,400),0,4999),this._spoon.addComponent(r.default)},e.prototype.loadFeedBox=function(){var t=c.G35_utils.creatNode(this.res.newNode,this.res.boxAlt.getSpriteFrame("2"),this.node,cc.v2(-300,177),0,4e3),e=c.G35_utils.creatNode(this.res.newNode,this.res.boxAlt.getSpriteFrame("1"),t,cc.v2(179.7,20.8),1,100),o=c.G35_utils.creatNode(this.res.newNode,this.res.boxAlt.getSpriteFrame("3"),t,cc.v2(172,252),1,200);this._feedBox=t,c.G35_utils.adjustPos(e,t),c.G35_utils.adjustPos(o,t),this.loadBoxFeed()},e.prototype.loadBoxFeed=function(){this._boxFeed=c.G35_utils.creatNode(this.res.newNode,this.res.boxAlt.getSpriteFrame("feed-1"),this._feedBox,cc.v2(178.3,33.2),1),c.G35_utils.adjustPos(this._boxFeed,this._feedBox),this._boxFeed.opacity=0},e.prototype.loadGuideCount=function(){var t=this;this._guideCount||(this._guideCount=cc.tween(this.node).delay(3).call(function(){t.guideAction()}).start())},e.prototype.guideAction=function(){var t=this;if(!(this._cornGrainTab.length<=10)){var e=cc.v2(cc.winSize.width/2-90,330),o=cc.v2(cc.winSize.width/2+180,330),i=c.G35_utils.creatNode(this.res.newNode,this.res.guideAlt[0],this.node,e,0,9999);this._finger=i,cc.tween(i).repeatForever(cc.tween().call(function(){l.G35_commonAct.filenames(i,t.res.guideAlt)}).delay(.2).to(1,{position:c.G35_utils.convertToSpacePos(o,this.node)}).to(0,{position:c.G35_utils.convertToSpacePos(e,this.node)})).start()}},e.prototype.removeGuide=function(){this._guideCount&&(this.node.stopAllActions(),this._guideCount=null),this._finger&&(this._finger.destroy(),this._finger=null)},e.prototype.cornRock=function(){var t=this;!this._cornRockLock&&this._cornCob&&(this._cornRockLock=!0,cc.tween(this._cornCob).to(.075,{angle:7.5}).to(.075,{angle:-7.5}).to(.075,{angle:7.5}).to(.075,{angle:0}).call(function(){t._cornRockLock=!1}).start())},e.prototype.isTouchCornGrain=function(t){for(var e=0;e<this._cornGrainTab.length;e++)if(this._cornGrainTab[e]){var o=this._cornGrainTab[e].convertToWorldSpaceAR(cc.v2(0,0));if(t.sub(o).mag()<40){this.cornRock(),c.G35_utils.resetParent(this._cornGrainTab[e],this.node,175),this.fallDownAction(this._cornGrainTab[e]),this._cornGrainTab[e]=null;break}}},e.prototype.loadGarinMask=function(t,e){t.mask1=c.G35_utils.creatNode(this.res.newNode,this.res.cornAlt.getSpriteFrame("mask"),this.node,cc.v2(e.x,e.y-10),1,t.zIndex+1)},e.prototype.fallDownAction=function(t){var e=this,o=u.default.random(cc.winSize.width/2-150,cc.winSize.width/2+150),i=u.default.random(50,150),n=u.default.random(-45,45),a=u.default.random(0,1);t.getComponent(cc.Sprite).spriteFrame=this.res.cornAlt.getSpriteFrame("change"),t.scale=1.3;var r=this._zz-i;r%2==1&&(r+=1),t.zIndex=r;var s=cc.instantiate(this.res.dianyumi);s.parent=t,s.zIndex=1e3,cc.tween(t).parallel(cc.jumpTo(.5,c.G35_utils.convertToSpacePos(cc.v2(o,i),t.parent),150,1).easing(cc.easeIn(1.1)),cc.tween().to(.1,{angle:-n})).call(function(){var o=cc.instantiate(e.res.erliaoni);o.parent=t,o.scale=.65,o.zIndex=t.zIndex,0==a&&t.convertToWorldSpaceAR(cc.v2(0,0)).x<580+e.offset.x?(t.zIndex=4990,e._bowlWithNodeUp.push(t),e._otherGarinTab.push(t),e._bowlWithNodeUp.push(t.mask1),e.isGarinOver()):(d.audioManager.playEffect(e.res.a22804002),e.loadGarinMask(t,t.position),cc.tween(t).parallel(cc.tween().by(.5,{y:-20}),cc.tween().to(.5,{scale:0})).call(function(){cc.tween(t.mask1).to(.1,{opacity:0}).start(),e.isGarinOver()}).removeSelf().start())}).start()},e.prototype.isGarinOver=function(){var t=this,e=0;this._cornGrainTab.forEach(function(t){t&&(e+=1)}),e<=10&&(this._GarinOverLock||(this._GarinOverLock=!0,this._moveGrainLock=!0,this.isFinish=!0,this.removeGuide(),this._cornGrainTab.forEach(function(e){e&&(t.cornRock(),c.G35_utils.resetParent(e,t.node,175),t.fallDownAction(e))}),cc.tween(this.node).delay(1.5).call(function(){t.cornCobOut()}).delay(.5).call(function(){t.bowlUp()}).delay(.5).call(function(){t.spoonIn()}).start()))},e.prototype.bowlUp=function(){this._bowlWithNodeUp.forEach(function(t){t&&cc.tween(t).by(.5,{y:100}).start()})},e.prototype.cornCobOut=function(){cc.tween(this._cornCob).then(cc.moveTo(.5,c.G35_utils.convertToSpacePos(cc.v2(-700,this._cornCob.y),this._cornCob.parent)).easing(cc.easeBackIn())).removeSelf().start()},e.prototype.spoonIn=function(){var t=this;cc.tween(this._spoon).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(650+this.offset.x,400),this._spoon.parent)}).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(650+this.offset.x,325),this._spoon.parent)}).call(function(){l.G35_commonAct.filenames(t._spoon,l.G35_commonAct.getSpriteFrameArrForNameArr(t.res.spoonAlt,["2","3","4"]),.05)}).delay(.05*3).call(function(){t._spoon.getComponent(r.default).canTouch=!0}).start(),cc.tween(this.node).delay(.6).call(function(){d.audioManager.playEffect(t.res.a22804003)}).start()},e.prototype.touchStart=function(t){var e=this;this.canTouch&&(this._moveGrainLock||this.touchThrigger||this.isFinish||(this.touchThrigger=!0,this._moveGrainLock=!0,this.removeGuide(),d.audioManager.playEffect(this.res.a22804001),this.isTouchCornGrain(t.getLocation()),this.isTouchCornGrain(t.getLocation()),this.isTouchCornGrain(t.getLocation()),this.isTouchCornGrain(t.getLocation()),cc.tween(this.node).delay(.3).call(function(){e._moveGrainLock=!1}).start()))},e.prototype.touchMove=function(t){var e=this;if(this.canTouch&&!this._moveGrainLock&&this.touchThrigger&&!this.isFinish){this._moveGrainLock=!0,d.audioManager.playEffect(this.res.a22804001),this.isTouchCornGrain(t.getLocation()),this.isTouchCornGrain(t.getLocation());var o=0;this._cornGrainTab.forEach(function(t){t&&(o+=1)}),o<=10&&(this._moveGrainLock=!0,this.isFinish=!0),cc.tween(this.node).delay(.1).call(function(){e._moveGrainLock=!1}).start()}},e.prototype.touchEnd=function(){this.canTouch&&this.touchThrigger&&(this.isFinish||(this.touchThrigger=!1,console.log("\u89e6\u6478\u7ed3\u675f"),this.loadGuideCount()))},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=p.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.loadBowl(),this.loadFeed(),this.loadCornCob(),this.loadCornGrain(),this.loadSpoon(),this.loadFeedBox(),this.loadGuideCount()},e.prototype.start=function(){var t=this;d.audioManager.playEffect(this.res.a22804010),cc.tween(this._cornCob).to(.5,{position:{value:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+15,350),this._cornCob.parent),easing:"backOut"}}).call(function(){d.audioManager.playLine(t.res.a228077),t.canTouch=!0}).start(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([f],e)}(s.default));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_PondfeedRes":"G35_PondfeedRes","./G35_PondfeedSpoon":"G35_PondfeedSpoon"}],G35_PondputFeed:[function(t,e,o){"use strict";cc._RF.push(e,"6883e+uWwBFoq8prfxiZN9N","G35_PondputFeed");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("./G35_PondputRes"),s=t("./G35_Pondput"),c=t("../../../../lib/core/util/MathUtil"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=t("../../../../lib/business/Manager/AudioManager"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e.feedPos=[cc.v2(-30,27),cc.v2(12.5,39),cc.v2(50,19),cc.v2(49,-14.5),cc.v2(15,-35.5),cc.v2(-32.5,-13.5),cc.v2(6,0),cc.v2(21,-1.5),cc.v2(22.5,27.5),cc.v2(48,-15.5)],e.canTouch=!1,e}var o;return i(e,t),o=e,e.prototype.feedFall=function(){var t=this;this.canTouch=!1;var e=200+this.offset.x,o=100+this.offset.y,i=cc.v2(cc.winSize.width/2+c.default.random(-e,e),cc.winSize.height/2+c.default.random(-o,o));cc.tween(this.node).then(cc.spawn(cc.scaleTo(.5,.5),cc.jumpTo(.5,l.G35_utils.convertToSpacePos(i,this.node.parent),250,1).easing(cc.easeSineOut()))).call(function(){t.addSpray(i),t.node.zIndex=10,t.node.opacity=0,t.createFeed(t.node.convertToWorldSpaceAR(cc.v2(0,0)))}).start()},e.prototype.createFeed=function(t){for(var e,o=0;o<15;o++){e=o+1>10?o+1-10:o+1;var i=l.G35_utils.creatNode(this.res.newNode,this.res.feedAlt.getSpriteFrame("feed-"+e),this._canvas,cc.v2(this.feedPos[e-1].x+t.x,this.feedPos[e-1].y+t.y),0,500-e);i.scale=.5,i.color=cc.color(179,233,255),i.id=o+1,this.mainScript._feedTab.push(i),this.mainScript._feedSpareTab.push(i),1==this.mainScript._feedCount?this.mainScript._feedTab1.push(i):2==this.mainScript._feedCount?this.mainScript._feedTab2.push(i):3==this.mainScript._feedCount&&this.mainScript._feedTab3.push(i)}this.feedInWater()},e.prototype.judgeFeed=function(){return 1==this.mainScript._feedCount?this.mainScript._feedTab1:2==this.mainScript._feedCount?this.mainScript._feedTab2:3==this.mainScript._feedCount?this.mainScript._feedTab3:void 0},e.prototype.feedInWater=function(){var t=this,e=this.judgeFeed();this.mainScript._speed=2,this.mainScript._speedTag=3,e.forEach(function(e,o){var i=c.default.randomBoolean()?c.default.random(-50,-100):c.default.random(50,100),n=c.default.random(-100,100),a=c.default.random(2,4);cc.tween(e).then(cc.spawn(cc.scaleTo(2,a/10),cc.moveBy(2,cc.v2(i,n)).easing(cc.easeOut(3)))).start(),t.breathing(e,a/10,a/10,1)}),this.scheduleOnce(function(){t.mainScript._feedCount+=1,t.handIn()},1.5),d.audioManager.playEffect(this.res.a22802006)},e.prototype.breathing=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=1),void 0===i&&(i=0);var n=c.default.random(10,12),a=c.default.random(0,12),r=c.default.random(0,12);cc.tween(t).repeatForever(cc.tween().parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o-.1,angle:i-2}),cc.tween().then(cc.moveBy(n/5,cc.v2(4*a,4*r)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o,angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(4*-a,4*-r)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o-.1,angle:i+2}),cc.tween().then(cc.moveBy(n/5,cc.v2(4*a,4*r)))).parallel(cc.tween().to(n/5,{scaleX:e,scaleY:o,angle:i}),cc.tween().then(cc.moveBy(n/5,cc.v2(4*-a,4*-r))))).start()},e.prototype.handOut=function(){var t=this;cc.tween(this.mainScript._hand).to(.5,{position:l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+300,-300),this._canvas)}).call(function(){t.mainScript._feedCount>2&&t.mainScript._hand&&(t.mainScript._hand.destroy(),t.mainScript._hand=null)}).start()},e.prototype.handIn=function(){var t=this;this.mainScript._feedCount>3||(this.mainScript._allFeedTab[this.mainScript._feedCount-1].active=!0,this.mainScript._allFeedTab[this.mainScript._feedCount-1].getComponent(o).canTouch=!0,cc.tween(this.mainScript._hand).then(cc.moveTo(.5,l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+100,this.offset.y/2-100),this._canvas)).easing(cc.easeIn(2))).call(function(){t.mainScript.openHandGuide(),t.mainScript._winFishTab.forEach(function(t){cc.tween(t).by(.25,{scale:.2}).start()})}).start(),d.audioManager.playEffect(this.res.a22802004))},e.prototype.addSpray=function(t){var e=this;d.audioManager.playEffect(this.res.a22802005);var o=l.G35_utils.creatNode(this.res.newNode,this.res.waterAlt.getSpriteFrame("feedwater-1"),this._canvas,cc.v2(t.x+25,t.y-25),0,1e3);u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(this.res.waterAlt,"feedwater-",2,6),.075),this.scheduleOnce(function(){o.destroy()},.075*6);var i=l.G35_utils.creatNode(this.res.newNode,this.res.netAlt.getSpriteFrame("spray-1"),this._canvas,cc.v2(t.x,t.y),0,999);l.G35_utils.creatParticle(this.res.yushisankai,this._canvas,t,999),cc.tween(i).delay(.3).call(function(){u.G35_commonAct.filenames(i,u.G35_commonAct.getSpriteFrameArrForName(e.res.netAlt,"spray-",2,6),.05)}).delay(.05*6).removeSelf().start()},e.prototype.touchStart=function(t){this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.mainScript.closeHandGuide(),this.mainScript.feedChangeNode(this.id),this.handOut(),this.node.scale=1.2))},e.prototype.touchMove=function(t){this.canTouch&&this.touchThrigger&&(this.node.position=l.G35_utils.convertToSpacePos(t.getLocation(),this.node.parent))},e.prototype.touchEnd=function(t){this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.feedFall())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.mainScript=cc.find("Canvas").getComponent(s.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=o=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Pondput":"G35_Pondput","./G35_PondputRes":"G35_PondputRes"}],G35_PondputFish:[function(t,e,o){"use strict";cc._RF.push(e,"860bfgIWWNFqppQa5ZsVdBl","G35_PondputFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/core/util/MathUtil"),u=t("./G35_PondputNet"),d=t("../../../../lib/core/util/ArrayUtil"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._types=null,e._isInViewFishNum=1,e._speed1=1,e._size=null,e.can=null,e._name=[],e._isInView=!1,e.out=!1,e.personDragon=null,e.moveAction=null,e._feedAct=null,e._feedOver=null,e._choose=null,e.actionNode=null,e}var o;return i(e,t),o=e,e.prototype.initSelf=function(){if(this.personDragon.playAnimation(this._types+"_yd",-1),this._name=["jl","jy","kqy","qdf","qzy","xlx","px"],"qdf"==this._types||"jl"==this._types||"kqy"==this._types){if(this.mainScript._initCount>4)return this.node.position=c.G35_utils.convertToSpacePos(cc.v2(l.default.randomBoolean()?-170:170+cc.winSize.width,l.default.random(100,cc.winSize.height-80)),this.node.parent),void(this._isInView=!1);this.mainScript._winFishTab.push(this.node),this.personDragon.playAnimation(this._types+"jy_yd",-1),this.node.position=c.G35_utils.convertToSpacePos(cc.v2(l.default.random(60,cc.winSize.width-60),l.default.random(100,cc.winSize.height-80)),this.node.parent),this.node.scale=.35,this._isInView=!0,this.mainScript._initCount+=1,this.openCollisionDetection()}else this.node.position=c.G35_utils.convertToSpacePos(cc.v2(l.default.randomBoolean()?-170:170+cc.winSize.width,l.default.random(100,cc.winSize.height-80)),this.node.parent),this._isInView=!1},e.prototype.bezierSceneMove=function(t,e){var o=this;if(t&&t.isValid){this.out?this.updateFishOutData(t):this.updateFishData(t);var i=this.midPoint(t.myPos,t.nextPos),n=this.midPoint(t.nextPos,t.endPos),a=t.nextPos.sub(this.midPoint(i,n)),r=a.add(i),s=a.add(n);r=t.nextPos.sub(r).mul(-.4).add(r),s=t.nextPos.sub(s).mul(-.4).add(s);for(var l=0,d=this.bezier3func(0,[t.myPos,t.lastContrlP,r,t.nextPos]),p=0;p<=100;p++){var h=this.bezier3func(p/100,[t.myPos,t.lastContrlP,r,t.nextPos]);l+=d.sub(h).mag(),d=h}var f=Math.floor(l/t.speed*60),g=f;this.actionNode=new cc.Node,this.actionNode.parent=this._canvas,this.moveAction=cc.tween(this.actionNode).repeatForever(cc.tween().delay(.025).call(function(){var e=o.bezier3func(g/f,[t.myPos,t.lastContrlP,r,t.nextPos]),i=c.G35_utils.quadAngle(e,t.position);if(270!=i&&"px"!=o._types&&(t.angle=-i-180),t.position=e,(g-=o.mainScript._speedTag*o.mainScript._speed2*o._speed1)<0){o.moveAction.stop(),o.moveAction=null,t.lastContrlP=s;var n=o.node.convertToWorldSpaceAR(cc.v2(0,0));if(n.x<-150||n.x>cc.winSize.width+150){if(o.mainScript._net.getComponent(u.default)._saveNumber>=10)return;return o.actionNode.stopAllActions(),o._isInView=!1,o.out=!1,o.mainScript._newTable.push(o.node),void o.addFish()}o.actionNode.stopAllActions(),o.actionNode.destroy(),o.actionNode=null,o.bezierSceneMove(t,1)}})).start()}},e.prototype.midPoint=function(t,e){return cc.v2((t.x+e.x)/2,(t.y+e.y)/2)},e.prototype.updateFishData=function(t){if(this.mainScript._feedTab.length>0){var e=d.default.getRandomItem(this.mainScript._feedTab);return t.speed=l.default.random(50,70)*this.mainScript._speed,t.myPos=t.nextPos,t.nextPos=cc.v2(e.x,e.y),void(t.endPos=cc.v2(e.x,e.y))}t.myPos?(t.myPos=t.nextPos,t.nextPos=t.endPos,t.endPos=cc.v2(l.default.random(80,cc.winSize.width-80)-this.node.parent.width/2,l.default.random(100,cc.winSize.height-70-this.offset.y)-this.node.parent.height/2)):(t.myPos=cc.v2(t.x,t.y),t.nextPos=cc.v2(l.default.random(80,cc.winSize.width-80)-this.node.parent.width/2,l.default.random(100,cc.winSize.height-70-this.offset.y)-this.node.parent.height/2),t.endPos=cc.v2(l.default.random(80,cc.winSize.width-80)-this.node.parent.width/2,l.default.random(100,cc.winSize.height-70-this.offset.y)-this.node.parent.height/2),t.lastContrlP=t.myPos.add(cc.v2(100,0)),"px"!=this._types&&(t.angle=-(c.G35_utils.quadAngle(t.nextPos,t.myPos)-180))),this.mainScript._speedTag=1,t.speed=l.default.random(50,70)},e.prototype.updateFishOutData=function(t){t.parent&&(t.myPos?(t.myPos=t.nextPos,t.nextPos=t.endPos,t.endPos=cc.v2((l.default.randomBoolean()?-150:cc.winSize.width+150)-t.parent.width/2,l.default.random(100,cc.winSize.height-80)-t.parent.height/2)):(t.myPos=cc.v2(t.x,t.y),t.nextPos=cc.v2((l.default.randomBoolean()?-150:cc.winSize.width+150)-this.node.parent.width/2,l.default.random(100,cc.winSize.height-80)-this.node.parent.height/2),t.endPos=cc.v2((l.default.randomBoolean()?-150:cc.winSize.width+150)-this.node.parent.width/2,l.default.random(100,cc.winSize.height-80)-this.node.parent.height/2),t.lastContrlP=t.myPos.add(cc.v2(100,0)),"px"!=this._types&&(t.angle=-(c.G35_utils.quadAngle(t.nextPos,t.myPos)-180))),this.mainScript._net.getComponent(u.default)._saveNumber>=10?t.speed=200:(this.mainScript._speedTag=1,t.speed=l.default.random(50,70)))},e.prototype.bezier3func=function(t,e){var o=e[0].mul(t*t*t),i=e[1].mul(3*t*t*(1-t)),n=e[2].mul(3*t*(1-t)*(1-t)),a=e[3].mul((1-t)*(1-t)*(1-t));return o.add(i).add(n.add(a))},e.prototype.FishMove=function(){console.log("\u9c7c\u5f00\u59cb\u79fb\u52a8"),this._isInView&&this.bezierSceneMove(this.node,2)},e.prototype.fishOut=function(){this.bezierSceneMove(this.node,3)},e.prototype.directionAdjustment=function(t){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0));t.x>e.x?this.node.scaleX=-1:t.x<e.x&&(this.node.scaleX=1)},e.prototype.openCollisionDetection=function(){var t=this;this._feedAct=cc.tween(this.node).repeatForever(cc.tween().delay(.5).call(function(){t.mainScript._feedSpareTab.forEach(function(e){c.G35_utils.isTouchInsideAndVisible(t.node,e.convertToWorldSpaceAR(cc.v2(0,0)))&&(e.opacity=0,d.default.removeObj(t.mainScript._feedTab,e),t.mainScript._feedCount>3&&0==t.mainScript._feedTab.length&&(t._feedOver||(t._feedOver=!0,t.floatUp())))})})).start()},e.prototype.closeCollisionDetection=function(){this._feedAct&&(this._feedAct.stop(),this._feedAct=null)},e.prototype.floatUp=function(){var t=this;this.closeCollisionDetection(),cc.tween(this.node).to(1,{scale:this._size}).call(function(){t.personDragon.playAnimation(t._types+"_yd",-1),t.FishingToComplete(),p.audioManager.playEffect(t.res.a22802007),cc.instantiate(t.res.yufuqi).parent=t.node}).start()},e.prototype.FishingToComplete=function(){this.mainScript._newTable[this._isInViewFishNum-1]&&!this.mainScript._firstIn&&(console.log("\u9493\u9c7c\u5b8c\u6210\u8fdb\u6765"),this.mainScript._firstIn=!0,this.mainScript._winFishTab.push(this.mainScript._newTable[this._isInViewFishNum-1]),this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o)._isInView=!0,this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o).FishMove(),d.default.contain(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1])&&d.default.removeObj(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1]),this.mainScript.inSaveFish())},e.prototype.addFish=function(){this.mainScript._newTable[this._isInViewFishNum-1]&&(this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o)._isInView=!0,this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o).FishMove(),this.mainScript._winFishTab.push(this.mainScript._newTable[this._isInViewFishNum-1]),d.default.contain(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1])&&d.default.removeObj(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1]),this.mainScript.updateFish())},e.prototype.savedAddFish=function(){this.mainScript._newTable[this._isInViewFishNum-1]&&(console.log("\u8865\u9c7c"),this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o)._isInView=!0,this.mainScript._newTable[this._isInViewFishNum-1].getComponent(o).FishMove(),this.mainScript._winFishTab.push(this.mainScript._newTable[this._isInViewFishNum-1]),d.default.contain(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1])&&d.default.removeObj(this.mainScript._newTable,this.mainScript._newTable[this._isInViewFishNum-1]))},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay)},e.prototype.start=function(){this.initSelf(),this.FishMove()},e=o=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Pondput":"G35_Pondput","./G35_PondputNet":"G35_PondputNet","./G35_PondputRes":"G35_PondputRes"}],G35_PondputFrogWin:[function(t,e,o){"use strict";cc._RF.push(e,"31aa2XwBIJDmJJnbT911KOz","G35_PondputFrogWin");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=t("./G35_PondputNet"),p=t("./G35_PondputImage"),h=t("../../../../lib/core/util/ArrayUtil"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.personDragon=null,e.id=null,e._overCount=0,e._newBoneTab=[],e._oldBoneTab=[],e.signPos=[cc.v2(56.6,87.6),cc.v2(251,121),cc.v2(39.9,-15.7),cc.v2(273.4,-5.1)],e}return i(e,t),e.prototype.stand=function(){this.personDragon.playAnimation("pmqw_daiji",-1)},e.prototype.breath=function(){this.personDragon.playAnimation("pmqw_huxi",2)},e.prototype.fearRight=function(){this.personDragon.playAnimation("pmqw_yhp",-1),c.audioManager.playEffect(this.res.a22802020)},e.prototype.fearLeft=function(){this.personDragon.playAnimation("pmqw_zhp",-1),c.audioManager.playEffect(this.res.a22802021)},e.prototype.struggle=function(){this.personDragon.playAnimation("pmqw_xk",-1),c.audioManager.playEffect(this.res.a22802022)},e.prototype.fall=function(){var t=this;this.personDragon.playAnimation("pmqw_lx",-1),cc.tween(this.mainScript._mask).to(.75,{opacity:0}).call(function(){c.audioManager.playEffect(t.res.a22802003);var e=cc.instantiate(t.res.wancheng);e.parent=t._canvas,e.zIndex=9999,cc.audioEngine.stopAllEffects(),c.audioManager.playLine(t.res.a228082)}).start(),cc.tween(this.node).then(cc.jumpBy(1,cc.v2(0,-cc.winSize.height),0,1)).call(function(){t.keyAndUiUp(),t.mainScript.dyCreateFrog(t.id)}).to(.01,{opacity:0}).start(),this.scheduleOnce(function(){c.audioManager.playEffect(t.res.a22802005);var e=l.G35_utils.creatNode(t.res.newNode,t.res.waterAlt.getSpriteFrame("fishwater-1"),t._canvas,cc.v2(cc.winSize.width/2-40,75),0,9999);e.scale=1.5,u.G35_commonAct.filenames(e,u.G35_commonAct.getSpriteFrameArrForName(t.res.waterAlt,"fishwater-",2,5)),t.scheduleOnce(function(){e.destroy()},.5)},.75)},e.prototype.loadBeganArea=function(){for(var t=this,e=function(e){var i=l.G35_utils.creatNode(o.res.newNode,o.res.forgAlt.getSpriteFrame("1"),o.node,o.signPos[e],1);i.id=e+1,i.x-=150,i.y-=150,cc.tween(i).repeatForever(cc.tween().call(function(){u.G35_commonAct.filenames(i,u.G35_commonAct.getSpriteFrameArrForName(t.res.forgAlt,"",2,4),.2)}).delay(.8)).start(),o.nodeTouch(i)},o=this,i=0;i<4;i++)e(i)},e.prototype.nodeTouch=function(t){var e=this;t.on(cc.Node.EventType.TOUCH_START,function(o){l.G35_utils.creatParticle(e.res.click,e._canvas,t.convertToWorldSpaceAR(cc.v2(0,0)),9999),e.changeHand(t.id),c.audioManager.playEffect(e.res.a22802019),t.destroy()})},e.prototype.changeHand=function(t){var e=this;if(1==t){this.fearLeft(),this.personDragon.armature().getSlot("pmqw_zsyy").displayIndex=-1,this._oldBoneTab.push("pmqw_zsyy"),this.personDragon.armature().getSlot("pmqw_zxb").displayIndex=-1,this._oldBoneTab.push("pmqw_zxb"),this.personDragon.armature().getSlot("pmqw_zsb").displayIndex=-1,this._oldBoneTab.push("pmqw_zsb");var o=cc.instantiate(this.res.newNode);o.getComponent(cc.Sprite).spriteFrame=this.res.forgAlt.getSpriteFrame("left1-1"),o.parent=this.node.parent,o.zIndex=this.node.zIndex-1,cc.tween(o).repeatForever(cc.tween().call(function(){o.position=cc.v2(e.node.x-150+73.2,e.node.y-150+71)}).delay(.025)).start(),this._newBoneTab.push(o),u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(this.res.forgAlt,"left1-",2,3)),this.scheduleOnce(function(){e._overCount+=1,e.frogDown()},.3)}else if(2==t){this.fearRight(),this.personDragon.armature().getSlot("pmqw_ysyy").displayIndex=-1,this._oldBoneTab.push("pmqw_ysyy"),this.personDragon.armature().getSlot("pmqw_yxb").displayIndex=-1,this._oldBoneTab.push("pmqw_yxb"),this.personDragon.armature().getSlot("pmqw_ysb").displayIndex=-1,this._oldBoneTab.push("pmqw_ysb");var i=cc.instantiate(this.res.newNode);i.getComponent(cc.Sprite).spriteFrame=this.res.forgAlt.getSpriteFrame("right1-1"),i.parent=this.node.parent,i.zIndex=this.node.zIndex-1,cc.tween(i).repeatForever(cc.tween().call(function(){i.position=cc.v2(e.node.x-150+236.7,e.node.y-150+93.2)}).delay(.025)).start(),this._newBoneTab.push(i),u.G35_commonAct.filenames(i,u.G35_commonAct.getSpriteFrameArrForName(this.res.forgAlt,"right1-",2,3)),this.scheduleOnce(function(){e._overCount+=1,e.frogDown()},.3)}else if(3==t){this.fearLeft(),this.personDragon.armature().getSlot("pmqw_zdt").displayIndex=-1,this._oldBoneTab.push("pmqw_zdt"),this.personDragon.armature().getSlot("pmqw_zxt").displayIndex=-1,this._oldBoneTab.push("pmqw_zxt"),this.personDragon.armature().getSlot("pmqw_zj").displayIndex=-1,this._oldBoneTab.push("pmqw_zj"),this.personDragon.armature().getSlot("pmqw_zzjyy").displayIndex=-1,this._oldBoneTab.push("pmqw_zzjyy");var n=cc.instantiate(this.res.newNode);n.getComponent(cc.Sprite).spriteFrame=this.res.forgAlt.getSpriteFrame("left2-1"),n.parent=this.node.parent,n.zIndex=this.node.zIndex-1,cc.tween(n).repeatForever(cc.tween().call(function(){n.position=cc.v2(e.node.x-150+71.3,e.node.y-150-35)}).delay(.025)).start(),this._newBoneTab.push(n),u.G35_commonAct.filenames(n,u.G35_commonAct.getSpriteFrameArrForName(this.res.forgAlt,"left2-",2,2)),this.scheduleOnce(function(){e._overCount+=1,e.frogDown()},.2)}else if(4==t){this.fearRight(),this.personDragon.armature().getSlot("pmqw_ydt").displayIndex=-1,this._oldBoneTab.push("pmqw_ydt"),this.personDragon.armature().getSlot("pmqw_yxt").displayIndex=-1,this._oldBoneTab.push("pmqw_yxt"),this.personDragon.armature().getSlot("pmqw_yj").displayIndex=-1,this._oldBoneTab.push("pmqw_yj"),this.personDragon.armature().getSlot("pmqw_yjyy").displayIndex=-1,this._oldBoneTab.push("pmqw_yjyy");var a=cc.instantiate(this.res.newNode);a.getComponent(cc.Sprite).spriteFrame=this.res.forgAlt.getSpriteFrame("right2-1"),a.parent=this.node.parent,a.zIndex=this.node.zIndex-1,cc.tween(a).repeatForever(cc.tween().call(function(){a.position=cc.v2(e.node.x-150+242.2,e.node.y-150-28.9)}).delay(.025)).start(),this._newBoneTab.push(a),u.G35_commonAct.filenames(a,u.G35_commonAct.getSpriteFrameArrForName(this.res.forgAlt,"right2-",2,2)),this.scheduleOnce(function(){e._overCount+=1,e.frogDown()},.2)}},e.prototype.frogDown=function(){var t=this;4==this._overCount&&(this._oldBoneTab.forEach(function(e){t.personDragon.armature().getSlot(e).displayIndex=0}),this._newBoneTab.forEach(function(t){t.opacity=0,t.stopAllActions()}),this.struggle())},e.prototype.keyAndUiUp=function(){var t=this;this.mainScript._net.position=l.G35_utils.convertToSpacePos(cc.v2(880,-250),this.mainScript._net.parent),this.mainScript._net.scale=1,this.mainScript._net.opacity=255,this.mainScript._net.getComponent(d.default).canTouch=!0,c.audioManager.playEffect(this.res.a22802030),cc.tween(this.mainScript._key).by(.5,{y:150}).start(),cc.tween(this.mainScript._key1).by(.5,{y:150}).start(),cc.tween(this.mainScript._bar).by(.5,{y:100}).start(),cc.tween(this.mainScript._net).to(.5,{position:l.G35_utils.convertToSpacePos(cc.v2(880,50),this.mainScript._net.parent)}).call(function(){t.mainScript._image.getComponent(p.default).enter(),t.mainScript._isCanTouch=!0,t.mainScript.openNetGuide(),h.default.removeObj(t.mainScript._winForg,t.node),t.node.stopAllActions(),t.node.destroy()}).start(),this.node.opacity=0},e.prototype.movementHandler=function(){"pmqw_ts"==this.personDragon.animationName&&this.breath(),"pmqw_huxi"==this.personDragon.animationName&&this.stand(),"pmqw_xk"==this.personDragon.animationName&&this.fall()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay),this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.start=function(){this.loadBeganArea()},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Pondput":"G35_Pondput","./G35_PondputImage":"G35_PondputImage","./G35_PondputNet":"G35_PondputNet","./G35_PondputRes":"G35_PondputRes"}],G35_PondputFrog:[function(t,e,o){"use strict";cc._RF.push(e,"37838sPcVdCorr9DGFwz+FL","G35_PondputFrog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_PondputImage"),u=t("../../../../lib/business/Manager/AudioManager"),d=t("../../../../lib/core/util/ArrayUtil"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.personDragon=null,e.id=null,e._lock=!1,e.evtType=1,e}return i(e,t),e.prototype.swim=function(){this.personDragon.playAnimation("qw_yd",-1),this.evtType=1},e.prototype.breath=function(){this.personDragon.playAnimation("qw_huxi",2),this.evtType=2},e.prototype.dead=function(){this.personDragon.playAnimation("qw_jz",-1),this.evtType=1},e.prototype.jumpUp=function(){this.keyAndUiDown(),this.personDragon.playAnimation("qw_tiaoqi",-1),this.evtType=1},e.prototype.swimOut=function(){var t=this;this._lock||(this._lock=!0,1==this.id?cc.tween(this.node).repeatForever(cc.tween().by(1,{position:cc.v2(50,15)}).call(function(){t.node.x>cc.winSize.width/2+100&&(t.mainScript.dyCreateFrog(1),t.node.stopAllActions(),d.default.removeObj(t.mainScript._allGrass,t.node),t.node.active=!1,t.node.destroy())})).start():2==this.id&&cc.tween(this.node).delay(3).call(function(){cc.tween(t.node).repeatForever(cc.tween().by(1,{position:cc.v2(-50,-15)}).call(function(){t.node.x<-cc.winSize.width/2-100&&(t.mainScript.dyCreateFrog(2),t.node.stopAllActions(),d.default.removeObj(t.mainScript._allGrass,t.node),t.node.active=!1,t.node.destroy())})).start()}).start())},e.prototype.nodeChange=function(){this.node.stopAllActions(),c.G35_utils.resetParent(this.node,this.mainScript._net,1),this.node.position=cc.v2(115,250),this.node.scale/=this.mainScript._net.scale,c.G35_utils.adjustPos(this.node,this.mainScript._net)},e.prototype.keyAndUiDown=function(){this.mainScript._image.getComponent(l.default).quit(),cc.tween(this.mainScript._key).by(.25,{y:-150}).start(),cc.tween(this.mainScript._key1).by(.25,{y:-150}).start(),cc.tween(this.mainScript._bar).by(.25,{y:-100}).start()},e.prototype.movementHandler=function(){1==this.evtType?("qw_yd"==this.personDragon.animationName&&this.breath(),"qw_tiaoqi"==this.personDragon.animationName&&(cc.tween(this.mainScript._mask).to(.01,{opacity:255}).to(.25,{opacity:180}).start(),this.mainScript._winForg[0].active=!0,this.mainScript._winForg[0].opacity=255,this.mainScript._net.opacity=0,u.audioManager.playEffect(this.res.a22802018),console.log("\u8282\u70b9\u6467\u6bc13"),this.node.opacity=0,d.default.removeObj(this.mainScript._allGrass,this.node),this.node.destroy())):2==this.evtType&&"qw_huxi"==this.personDragon.animationName&&this.swim()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay),this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.start=function(){},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Pondput":"G35_Pondput","./G35_PondputImage":"G35_PondputImage","./G35_PondputRes":"G35_PondputRes"}],G35_PondputGrass:[function(t,e,o){"use strict";cc._RF.push(e,"0d538lmuglGb6xmwllxFbIm","G35_PondputGrass");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("./G35_Pondput"),c=t("../../../../lib/core/util/ArrayUtil"),l=t("../../../../lib/core/util/MathUtil"),u=t("../../../GameUtils/G35_Utils"),d=t("../../../GameUtils/Tools/G35_CommonAct"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.grassPos=[cc.v2(50,10),cc.v2(0,52.5),cc.v2(28,100),cc.v2(67,90),cc.v2(100,45.5)],e.id=null,e._grassTab=[],e._zTab=[],e._rect=null,e.canTouch=!1,e.water=null,e}return i(e,t),e.prototype.loadDisplay=function(){this.node.setContentSize(100,100),this.node.getComponent(cc.Sprite).spriteFrame=null,this._rect=new cc.Node,this._rect.parent=this.node,this._rect.zIndex=50,this._rect.setContentSize(100,100);c.default.upsetArray(this.grassPos),l.default.random(3,5);for(var t=0;t<5;t++){var e=l.default.random(0,360),o=l.default.random(1,5);this._zTab.push(o);var i=u.G35_utils.creatNode(this.res.newNode,this.res.grassAlt.getSpriteFrame("grass-"+(t+1)),this._rect,this.grassPos[t],1,o);i.angle=-e,u.G35_utils.adjustPos(i,this._rect),i.id=this.id,this.breathing(i,null,null,e,15),this.nodeTouch(i),this._grassTab.push(i)}},e.prototype.nodeTouch=function(t){var e=this,o=!1;t.on(cc.Node.EventType.TOUCH_START,function(e){console.log("\u70b9\u51fb\u8fdb\u6765"),t.canTouch1&&(o||(o=!0,t._startPos1||(t._startPos1=t.convertToWorldSpaceAR(cc.v2(0,0)),t.z1=t.zIndex),t.scale=2.08,t.position=u.G35_utils.convertToSpacePos(e.getLocation(),t.parent),t.y+=60,t.zIndex=9999))}),t.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.canTouch1&&o&&(t.position=u.G35_utils.convertToSpacePos(e.getLocation(),t.parent),t.y+=60,t.zIndex=9999)}),t.on(cc.Node.EventType.TOUCH_END,function(i){if(o)if(o=!1,t.canTouch1=!1,u.G35_utils.detectCollision({node1:t,node2:e.mainScript._trash2})){l.default.random(-45,10);cc.tween(t).parallel(cc.tween().delay(.25).call(function(){t.zIndex=1449}),cc.tween().then(cc.jumpTo(.5,u.G35_utils.convertToSpacePos(cc.v2(150+e.offset.x,50),t.parent),200,1)),cc.tween().to(.5,{scale:1.4})).call(function(){p.audioManager.playEffect(e.res.a22802016);var o=cc.instantiate(e.res.rengshuye);o.parent=e.mainScript._trash2,o.zIndex=9999,o.y=-e.mainScript._trash2.height/2,u.G35_utils.resetParent(t,e.mainScript._trash2),cc.tween(e.mainScript._trash1).to(.1,{scaleX:1.1,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).start(),cc.tween(e.mainScript._trash2).to(.1,{scaleX:1.1,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).call(function(){e.mainScript._grassCount+=1,e.mainScript.trashDown(t.id)}).start()}).start()}else t.zIndex=t.z1,cc.tween(t).to(.5,{position:u.G35_utils.convertToSpacePos(t._startPos1,t.parent),scale:1.6}).call(function(){t.canTouch1=!0}).start()}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(i){if(o)if(o=!1,t.canTouch1=!1,u.G35_utils.detectCollision({node1:t,node2:e.mainScript._trash2})){l.default.random(-45,10);cc.tween(t).parallel(cc.tween().delay(.25).call(function(){t.zIndex=1430}),cc.tween().then(cc.jumpTo(.5,u.G35_utils.convertToSpacePos(cc.v2(150+e.offset.x,50),t.parent),200,1)),cc.tween().to(.5,{scale:1.4})).call(function(){p.audioManager.playEffect(e.res.a22802016);var o=cc.instantiate(e.res.rengshuye);o.parent=e.mainScript._trash2,o.zIndex=9999,o.y=-e.mainScript._trash2.height/2,u.G35_utils.resetParent(t,e.mainScript._trash2),cc.tween(e.mainScript._trash1).to(.1,{scaleX:1.1,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).start(),cc.tween(e.mainScript._trash2).to(.1,{scaleX:1.1,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).call(function(){e.mainScript._grassCount+=1,e.mainScript.trashDown(t.id)}).start()}).start()}else t.zIndex=t.z1,cc.tween(t).to(.5,{position:u.G35_utils.convertToSpacePos(t._startPos1,t.parent),scale:1.6}).call(function(){t.canTouch1=!0}).start()})},e.prototype.grassMove=function(){var t=this;if(1==this.id){var e=20;cc.tween(this.node).repeatForever(cc.tween().then(cc.jumpBy(2,cc.v2(75,-15),e,1)).call(function(){e*=-1,t.node.x>=cc.winSize.width+100&&(t.node.destroy(),t.mainScript.dyCreateGrass(1))})).start()}else if(2==this.id){var o=20;cc.tween(this.node).delay(2.5).call(function(){cc.tween(t.node).repeatForever(cc.tween().then(cc.jumpBy(2,cc.v2(-75,15),o,1)).call(function(){o*=-1,t.node.x<=-cc.winSize.width-100&&(t.node.destroy(),t.mainScript.dyCreateGrass(2))})).start()}).start()}this.water=u.G35_utils.creatNode(this.res.newNode,this.res.grassAlt.getSpriteFrame("water-water-1"),this.node,cc.v2(0,0),1),cc.tween(this.node).repeatForever(cc.tween().call(function(){d.G35_commonAct.filenames(t.water,d.G35_commonAct.getSpriteFrameArrForName(t.res.grassAlt,"water-water-",2,22))}).delay(2.2)).start()},e.prototype.nodeChange1=function(){u.G35_utils.resetParent(this._rect,this.mainScript._net,1),this._rect.position=cc.v2(122.6,249.7),u.G35_utils.adjustPos(this._rect,this.mainScript._net),console.log("\u8f6c\u5316\u8282\u70b9\u8fdb\u6765")},e.prototype.nodeChange2=function(){var t=this;this.trashUp();var e=1;this._grassTab.forEach(function(o){u.G35_utils.resetParent(o,t._canvas,t._zTab[e-1]+2e3),o.stopAllActions(),o.scale=1.6,e+=1,t.scheduleOnce(function(){o.canTouch1=!0},.5)}),c.default.removeObj(this.mainScript._allGrass,this.node)},e.prototype.trashUp=function(){cc.tween(this.mainScript._trash1).by(.5,{y:200}).start(),cc.tween(this.mainScript._trash2).by(.5,{y:200}).start()},e.prototype.breathing=function(t,e,o,i,n){void 0===i&&(i=0),null==e&&(e=1),null==o&&(o=1);var a=l.default.random(10,12);l.default.random(0,12),l.default.random(0,12);cc.tween(t).repeatForever(cc.tween().to(a/5,{scaleX:e,scaleY:o-.2,angle:i-n}).to(a/5,{scaleX:e,scaleY:o,angle:i}).to(a/5,{scaleX:e,scaleY:o-.2,angle:i+n}).to(a/5,{scaleX:e,scaleY:o,angle:i})).start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(s.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=r.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay()},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Pondput":"G35_Pondput","./G35_PondputRes":"G35_PondputRes"}],G35_PondputImage:[function(t,e,o){"use strict";cc._RF.push(e,"868e4MgiPJKkqHEzRt4x/7v","G35_PondputImage");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/business/Manager/AudioManager"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._fish=null,e}return i(e,t),e.prototype.loadDisplay=function(){this._fish=c.G35_utils.creatNode(this.res.newNode,this.res.imageAlt.getSpriteFrame("qzy"),this.node,cc.v2(-this.node.width/2,this.node.height/2),1),this._fish.opacity=0},e.prototype.swithImg=function(t){var e=this;this.scheduleOnce(function(){e._fish.getComponent(cc.Sprite).spriteFrame=t,e.enter()},.6)},e.prototype.enter=function(){var t=this;l.audioManager.playEffect(this.res.a22803003),cc.tween(this.node).parallel(cc.tween().then(cc.scaleTo(.5,-1,1).easing(cc.easeBackOut())).call(function(){}),cc.tween().to(.3,{opacity:255})).call(function(){t.floatAction()}).start(),cc.tween(this._fish).to(.3,{opacity:255}).start()},e.prototype.quit=function(){var t=this;this.node.stopAllActions(),cc.tween(this.node).parallel(cc.tween().then(cc.scaleTo(.5,0).easing(cc.easeBackIn())),cc.tween().call(function(){return[cc.tween(t.node).delay(.2).to(.3,{opacity:0}).start()]})).start()},e.prototype.floatAction=function(){cc.tween(this.node).repeatForever(cc.tween().delay(.3).then(cc.moveBy(.7,cc.v2(0,5))).delay(.3).then(cc.moveBy(.7,cc.v2(0,-5)))).start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay()},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Pondput":"G35_Pondput","./G35_PondputRes":"G35_PondputRes"}],G35_PondputNet:[function(t,e,o){"use strict";cc._RF.push(e,"b1147pzMeVBK4cF8D4TrKGp","G35_PondputNet");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("./G35_PondputFish"),d=t("../../../../lib/core/util/ArrayUtil"),p=t("../../../../lib/core/util/MathUtil"),h=t("./G35_PondputImage"),f=t("./G35_PondputProgress"),g=t("./G35_PondputGrass"),_=t("./G35_PondputFrog"),y=t("../../../../lib/business/Manager/AudioManager"),m=cc._decorator,v=m.ccclass,b=(m.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._saveNumber=0,e._collisionSprite=null,e._isDownWater=null,e._changeZorder=null,e._backAct=null,e.canTouch=null,e._autoUP=null,e}return i(e,t),e.prototype.addCollision=function(){this._collisionSprite=c.G35_utils.creatNode(this.res.newNode,this.res.netAlt.getSpriteFrame("area"),this.node,cc.v2(87.5,230),1),c.G35_utils.adjustPos(this._collisionSprite,this.node),this._collisionSprite.scale=.1,this._collisionSprite.opacity=0},e.prototype.downWater=function(){var t=this;this.mainScript._isCanTouch=!1,this.node.zIndex=400,this.node.stopAllActions(),this._isDownWater=!0,this.addSpray(),cc.tween(this.node).call(function(){l.G35_commonAct.filenames(t.node,l.G35_commonAct.getSpriteFrameArrForName(t.res.netAlt,"",2,4),.15)}).delay(.6).call(function(){t._isDownWater=!1,t.mainScript._isInEnded?t.outWater():t.inWater()}).start(),this._changeZorder=cc.tween(this.node).repeatForever(cc.tween().delay(1/30).call(function(){var e=t.getTopFish();e&&(t.node.zIndex=e.zIndex-1)})).start(),y.audioManager.playEffect(this.res.a22802008)},e.prototype.inWater=function(){this.mainScript._isCanTouch=!0},e.prototype.outWater=function(){this._changeZorder&&(this._changeZorder.stop(),this._changeZorder=null),this.node.stopAllActions(),this.node.zIndex=1499,l.G35_commonAct.filenames(this.node,l.G35_commonAct.getSpriteFrameArrForName(this.res.netAlt,"",6,2),.15),this.mainScript._isCanTouch=!0,this.detectCollision()},e.prototype.goBack=function(){this.mainScript._isCanTouch=!0,this.node.scale=1,0!=this.mainScript._isInEnded&&(this.mainScript.openNetGuide(),this._backAct=cc.tween(this.node).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(880+this.offset.x,50),this.node.parent)}).start())},e.prototype.addSpray=function(){var t=this,e=c.G35_utils.creatNode(this.res.newNode,this.res.netAlt.getSpriteFrame("spray-1"),this.node,cc.v2(120,230),1);c.G35_utils.adjustPos(e,this.node),cc.tween(e).delay(.3).call(function(){l.G35_commonAct.filenames(e,l.G35_commonAct.getSpriteFrameArrForName(t.res.netAlt,"spray-",2,6),.05)}).delay(.05*6).removeSelf().start()},e.prototype.getTopFish=function(){var t=this,e=null;return this._saveNumber>2&&this.mainScript._allGrass.forEach(function(o,i){if(o.isValid){var n=cc.v2(o.convertToWorldSpaceAR(cc.v2(0,0)).x,o.convertToWorldSpaceAR(cc.v2(0,0)).y),a=cc.v2(t._collisionSprite.convertToWorldSpaceAR(cc.v2(0,0)).x,t._collisionSprite.convertToWorldSpaceAR(cc.v2(0,0)).y);o.isValid&&(o.x>-cc.winSize.width/2||o.x<cc.winSize.width/2)&&n.sub(a).mag()<150&&(!e||o.zIndex>=e.zIndex)&&("grass"==o.name?e=o:t._saveNumber>=7&&(e=o))}}),e||(this.mainScript._winFishTab.forEach(function(o,i){var n=cc.v2(o.convertToWorldSpaceAR(cc.v2(0,0)).x,o.convertToWorldSpaceAR(cc.v2(0,0)).y),a=cc.v2(t._collisionSprite.convertToWorldSpaceAR(cc.v2(0,0)).x,t._collisionSprite.convertToWorldSpaceAR(cc.v2(0,0)).y);o&&(o.x>-cc.winSize.width/2||o.x<cc.winSize.width/2)&&n.sub(a).mag()<150&&(!e||o.zIndex>=e.zIndex)&&(e=o)}),e)},e.prototype.detectCollision=function(){var t=this,e=this.getTopFish();e?this.salvage(e):(this.mainScript._isCanTouch=!0,this.scheduleOnce(function(){t.goBack()},.5),y.audioManager.playEffect(this.res.a22802010))},e.prototype.salvage=function(t){var e=t.zIndex,o=t.scale;"grass"==t.name?this.inGrass(t):"frog"==t.name?this.inFrog(t):t.getComponent(u.default)._types==this.mainScript._chooseName&&this.mainScript._chooseName?(t.zIndex=this.node.zIndex+1,t.angle=0,t.stopAllActions(),t.getComponent(u.default).actionNode&&t.getComponent(u.default).actionNode.isValid&&(t.getComponent(u.default).actionNode.stopAllActions(),t.getComponent(u.default).actionNode.destroy(),t.getComponent(u.default).actionNode=null),this.mainScript._isCanTouch=!1,this.mainScript._isInEnded=!1,t.getComponent(u.default).out?this.mainScript.updateFish():d.default.removeObj(this.mainScript._winFishTab,t),d.default.removeObj(this.mainScript._newTable,t),this.mainScript._chooseFish.getComponent(u.default)._choose=null,t.getComponent(u.default)._isInView=!1,this._saveNumber+=1,this.addFish(t),this.netAct(),this.fishAct(t),y.audioManager.playEffect(this.res.a22802011)):this.fishEscape(t,e,o)},e.prototype.addFish=function(t){t.getComponent(u.default).savedAddFish(),3==this._saveNumber?t.getComponent(u.default).savedAddFish():7==this._saveNumber&&(t.getComponent(u.default).savedAddFish(),t.getComponent(u.default).savedAddFish())},e.prototype.netAct=function(){var t=this;this.mainScript._net.zIndex=2001,cc.tween(this.mainScript._net).parallel(cc.tween().delay(.5),cc.tween().by(.25,{scale:.25})).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(215+this.offset.x,175),this.mainScript._net.parent)}).call(function(){l.G35_commonAct.filenames(t.mainScript._net,l.G35_commonAct.getSpriteFrameArrForName(t.res.netAlt,"",2,2))}).to(.2,{angle:45}).delay(.3).call(function(){l.G35_commonAct.filenames(t.mainScript._net,l.G35_commonAct.getSpriteFrameArrForName(t.res.netAlt,"",1,2).reverse(),.2)}).to(.2,{angle:0}).delay(.2).call(function(){t._saveNumber<10&&(t.mainScript._isInEnded=!0,t.goBack())}).start()},e.prototype.fishAct=function(t){var e=this;t.zIndex=2001,this.playEffect22802012(t.getComponent(u.default)._types),t.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.getComponent(u.default)._types+"cm_zz",-1),t.position=c.G35_utils.convertToSpacePos(this.mainScript._net.convertToWorldSpaceAR(cc.v2(0,50)),t.parent),cc.tween(t).parallel(cc.tween().delay(.5),cc.tween().by(.25,{scale:.25})).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(210+this.offset.x,220),t.parent)}).parallel(cc.tween().then(cc.jumpTo(.5,c.G35_utils.convertToSpacePos(cc.v2(125+this.offset.x,55),t.parent),25,1)),cc.tween().to(.5,{scale:.5}),cc.tween().delay(.35).call(function(){t.zIndex=1950})).call(function(){e.mainScript._image.getComponent(h.default).quit(),e.waterAndParticle(),e.mainScript._bar.getComponent(f.default).progressLight(e._saveNumber),e.removeFishFromTab(t),e._saveNumber>=10?e.gameOver():(e.mainScript.chooseFish(),3==e._saveNumber?(e.mainScript._speed2=2,e.mainScript._allGrass.forEach(function(t){t.isValid&&"grass"==t.name&&t.getComponent(g.default).grassMove()})):7==e._saveNumber&&(e.mainScript._speed2=3,e.mainScript._allGrass.forEach(function(t){t.isValid&&"frog"==t.name&&t.getComponent(_.default).swimOut()})))}).removeSelf().start()},e.prototype.playEffect22802012=function(t){if("px"==t)y.audioManager.playEffect(this.res.a22802023);else if("xlx"==t)y.audioManager.playEffect(this.res.a22802024);else{var e=p.default.random(1,3);1==e?y.audioManager.playEffect(this.res.a22802012[0]):2==e?y.audioManager.playEffect(this.res.a22802012[1]):y.audioManager.playEffect(this.res.a22802012[2])}},e.prototype.fishEscape=function(t,e,o){var i=this;0!=t.getComponent(u.default).can&&(this.mainScript._wrongFishCount+=1,t.getComponent(u.default).can=!1,t.zIndex=this.node.zIndex+1,t.angle=0,this.playEffect22802025(t.getComponent(u.default)._types),t.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.getComponent(u.default)._types+"cm_zz",-1),cc.tween(this.node).by(.25,{scale:.25}).start(),cc.tween(t).to(.25,{scale:1}).call(function(){i._saveNumber<3?t.getComponent(u.default)._speed1=6:i._saveNumber>=3&&i._saveNumber<7?t.getComponent(u.default)._speed1=3:i._saveNumber>=7&&(t.getComponent(u.default)._speed1=2.5),t.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.getComponent(u.default)._types+"_ksyd",-1)}).delay(.5).parallel(cc.tween().to(.15,{scale:o}).call(function(){t.getComponent(u.default).can=!0}),cc.tween().call(function(){cc.tween(i.node).to(.15,{scale:1}).call(function(){i.mainScript._isCanTouch=!0,i.goBack()}).start(),t.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.getComponent(u.default)._types+"_yd",-1),t.zIndex=e,y.audioManager.playEffect(i.res.a22802028);var o=c.G35_utils.creatNode(i.res.newNode,i.res.waterAlt.getSpriteFrame("feedwater-1"),t,cc.v2(0,-20),1,i.node.zIndex-1);o.scale=.8,cc.tween(o).call(function(){l.G35_commonAct.filenames(o,l.G35_commonAct.getSpriteFrameArrForName(i.res.waterAlt,"feedwater-",2,6),.075)}).delay(.075*6).removeSelf().start(),t.getComponent(u.default)._speed1=1})).start())},e.prototype.playEffect22802025=function(t){"px"==t?y.audioManager.playEffect(this.res.a22802027):"xlx"==t?y.audioManager.playEffect(this.res.a22802026):y.audioManager.playEffect(this.res.a22802025)},e.prototype.waterAndParticle=function(){var t=this;y.audioManager.playEffect(this.res.a22802013);var e=c.G35_utils.creatNode(this.res.newNode,this.res.waterAlt.getSpriteFrame("fishwater-1"),this.mainScript._key,cc.v2(-35,-this.mainScript._key.height/2+220),1,9999);cc.tween(e).call(function(){l.G35_commonAct.filenames(e,l.G35_commonAct.getSpriteFrameArrForName(t.res.waterAlt,"fishwater-",2,5))}).delay(.5).removeSelf().start();var o=cc.instantiate(this.res.shuitongxingxing);o.parent=this.mainScript._key,o.zIndex=9999,o.y=-this.mainScript._key.height/2+70},e.prototype.inGrass=function(t){var e=this;t.stopAllActions(),this.mainScript.closeNetGuide(),this.mainScript._grassCount1+=1,t.zIndex=this.node.zIndex+1,t.angle=0,this.mainScript._isCanTouch=!1,this.mainScript.keyDown(),t.getComponent(g.default).water.opacity=0,t.getComponent(g.default).nodeChange1(),cc.tween(this.node).to(1,{scale:1.6,position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+40,cc.winSize.height/2-90),this.node.parent)}).call(function(){e.mainScript._mask.zIndex=1400,cc.tween(e.mainScript._mask).to(.25,{opacity:180}).start(),t.getComponent(g.default).nodeChange2(),y.audioManager.playEffect(e.res.a228081)}).start(),y.audioManager.playEffect(this.res.a22802015)},e.prototype.inFrog=function(t){this.mainScript.closeNetGuide(),this.mainScript._forgCount+=1,t.zIndex=this.node.zIndex+1,t.angle=0,this.mainScript._isCanTouch=!1,t.getComponent(_.default).nodeChange(),t.getComponent(_.default).dead(),cc.tween(this.node).to(1,{scale:1.6,position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+40,cc.winSize.height/2-90),this.node.parent)}).call(function(){t.getComponent(_.default).jumpUp()}).start(),y.audioManager.playLine(this.res.a228083),y.audioManager.playEffect(this.res.a22802017)},e.prototype.gameOver=function(){this.mainScript._isCanTouch=!1,this.mainScript.closeNetGuide(),this.mainScript._fishTab.forEach(function(t,e){if(t){t.stopAllActions(),t.getComponent(u.default).actionNode&&t.getComponent(u.default).actionNode.isValid&&(t.getComponent(u.default).actionNode.stopAllActions(),t.getComponent(u.default).actionNode.destroy(),t.getComponent(u.default).actionNode=null),t.getComponent(u.default).out=!0;var o=t.convertToWorldSpaceAR(cc.v2(0,0)).y;t.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.getComponent(u.default)._types+"_yd",-1),t.angle>=360?t.angle-=360*Math.floor(t.angle/360):t.angle<=-360&&(t.angle-=360*Math.ceil(t.angle/360)),t.convertToWorldSpaceAR(cc.v2(0,0)).x<=cc.winSize.width/2?cc.tween(t).parallel(cc.tween().to(.5,{angle:-360}),cc.tween().to(1,{position:c.G35_utils.convertToSpacePos(cc.v2(-200,o),t.parent)})).removeSelf().start():"px"==t.getComponent(u.default)._types?cc.tween(t).parallel(cc.tween().to(.5,{angle:-360}),cc.tween().to(1,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+200,o),t.parent)})).removeSelf().start():cc.tween(t).parallel(cc.tween().to(.5,{angle:-180}),cc.tween().to(1,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+200,o),t.parent)})).removeSelf().start()}}),this.mainScript._allGrass.forEach(function(t){if(t.isValid){t.stopAllActions();var e=t.convertToWorldSpaceAR(cc.v2(0,0)).y;t.convertToWorldSpaceAR(cc.v2(0,0)).x<=cc.winSize.width/2?cc.tween(t).parallel(cc.tween().to(.5,{angle:-90}),cc.tween().to(1,{position:c.G35_utils.convertToSpacePos(cc.v2(-200,e),t.parent)})).start():cc.tween(t).parallel(cc.tween().to(.5,{angle:90}),cc.tween().to(1,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+200,e),t.parent)})).start()}}),this.mainScript.finishKeyDown(),this.node.opacity=0},e.prototype.removeFishFromTab=function(t){d.default.removeObj(this.mainScript._fishTab,t)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.addCollision()},e=n([v],e)}(cc.Component));o.default=b,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Pondput":"G35_Pondput","./G35_PondputFish":"G35_PondputFish","./G35_PondputFrog":"G35_PondputFrog","./G35_PondputGrass":"G35_PondputGrass","./G35_PondputImage":"G35_PondputImage","./G35_PondputProgress":"G35_PondputProgress","./G35_PondputRes":"G35_PondputRes"}],G35_PondputProgress:[function(t,e,o){"use strict";cc._RF.push(e,"21af8LQo55BsJmRokInBBK1","G35_PondputProgress");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_PondputRes"),r=t("./G35_Pondput"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._progressTab=[],e}return i(e,t),e.prototype.loadDisplay=function(){for(var t=0;t<10;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.ui2Img,this.node,cc.v2(29.5+50.2*t,33.6),1);e.y-=this.node.height/2,e.opacity=0,this._progressTab.push(e)}},e.prototype.progressLight=function(t){var e=this;cc.tween(this._progressTab[t-1]).to(.3,{opacity:255,scale:1.2}).to(.1,{scale:1}).call(function(){var o=cc.instantiate(e.res.jindudian);o.parent=e.node,o.position=e._progressTab[t-1].position,o.zIndex=9999,e.node.getChildByName("mask").width+=50}).removeSelf().start()},e.prototype.quit=function(){},e.prototype.enter=function(){},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay()},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Pondput":"G35_Pondput","./G35_PondputRes":"G35_PondputRes"}],G35_PondputRes:[function(t,e,o){"use strict";cc._RF.push(e,"bc5b0eDFLlLE6sdoeXXUXqN","G35_PondputRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.qw=null,e.pmqw=null,e.progress=null,e.cmqiqi=null,e.fish=null,e.shuihua1=null,e.wancheng=null,e.yushisankai=null,e.yufuqi=null,e.click=null,e.rengshuye=null,e.shuitongxingxing=null,e.jindudian=null,e.Excitation=null,e.feedAlt=null,e.forgAlt=null,e.grassAlt=null,e.imageAlt=null,e.kegAlt=null,e.netAlt=null,e.waterAlt=null,e.handImg=null,e.commonAlt=null,e.ui2Img=null,e.water1Alt=null,e.water2Alt=null,e.a22802004=null,e.a22802031=null,e.a22802030=null,e.a22802003=null,e.a22802029=null,e.a22802009=null,e.a22802006=null,e.a22802005=null,e.a22802007=null,e.a22802018=null,e.a22802020=null,e.a22802021=null,e.a22802022=null,e.a22802019=null,e.a22802016=null,e.a22803003=null,e.a22802008=null,e.a22802010=null,e.a22802011=null,e.a22802012=[],e.a22802025=null,e.a22802028=null,e.a22802013=null,e.a22802015=null,e.a22802017=null,e.a22802023=null,e.a22802024=null,e.a22802027=null,e.a22802026=null,e.a228082=null,e.a228081=null,e.a228083=null,e.a228120=null,e.a228119=null,e.a228080=null,e.a228014=null,e.a228013=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"qw"})],e.prototype,"qw",void 0),n([s({type:cc.Prefab,tooltip:"pmqw"})],e.prototype,"pmqw",void 0),n([s({type:cc.Prefab,tooltip:"progress"})],e.prototype,"progress",void 0),n([s({type:cc.Prefab,tooltip:"cmqiqi"})],e.prototype,"cmqiqi",void 0),n([s({type:cc.Prefab,tooltip:"fish"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"shuihua1"})],e.prototype,"shuihua1",void 0),n([s({type:cc.Prefab,tooltip:"wancheng"})],e.prototype,"wancheng",void 0),n([s({type:cc.Prefab,tooltip:"yushisankai"})],e.prototype,"yushisankai",void 0),n([s({type:cc.Prefab,tooltip:"yufuqi"})],e.prototype,"yufuqi",void 0),n([s({type:cc.Prefab,tooltip:"click"})],e.prototype,"click",void 0),n([s({type:cc.Prefab,tooltip:"rengshuye"})],e.prototype,"rengshuye",void 0),n([s({type:cc.Prefab,tooltip:"shuitongxingxing"})],e.prototype,"shuitongxingxing",void 0),n([s({type:cc.Prefab,tooltip:"jindudian"})],e.prototype,"jindudian",void 0),n([s({type:cc.Prefab,tooltip:"Excitation"})],e.prototype,"Excitation",void 0),n([s({type:cc.SpriteAtlas,tooltip:"feed"})],e.prototype,"feedAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"frog"})],e.prototype,"forgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"grass"})],e.prototype,"grassAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"image"})],e.prototype,"imageAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"keg"})],e.prototype,"kegAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"net"})],e.prototype,"netAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"hand"})],e.prototype,"handImg",void 0),n([s({type:cc.SpriteAtlas,tooltip:"common"})],e.prototype,"commonAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"ui2"})],e.prototype,"ui2Img",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water1"})],e.prototype,"water1Alt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water2"})],e.prototype,"water2Alt",void 0),n([s({type:cc.AudioClip,tooltip:"22802004"})],e.prototype,"a22802004",void 0),n([s({type:cc.AudioClip,tooltip:"22802031"})],e.prototype,"a22802031",void 0),n([s({type:cc.AudioClip,tooltip:"22802030"})],e.prototype,"a22802030",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22802029"})],e.prototype,"a22802029",void 0),n([s({type:cc.AudioClip,tooltip:"22802009"})],e.prototype,"a22802009",void 0),n([s({type:cc.AudioClip,tooltip:"22802006"})],e.prototype,"a22802006",void 0),n([s({type:cc.AudioClip,tooltip:"22802005"})],e.prototype,"a22802005",void 0),n([s({type:cc.AudioClip,tooltip:"22802007"})],e.prototype,"a22802007",void 0),n([s({type:cc.AudioClip,tooltip:"22802018"})],e.prototype,"a22802018",void 0),n([s({type:cc.AudioClip,tooltip:"22802020"})],e.prototype,"a22802020",void 0),n([s({type:cc.AudioClip,tooltip:"22802021"})],e.prototype,"a22802021",void 0),n([s({type:cc.AudioClip,tooltip:"22802022"})],e.prototype,"a22802022",void 0),n([s({type:cc.AudioClip,tooltip:"22802019"})],e.prototype,"a22802019",void 0),n([s({type:cc.AudioClip,tooltip:"22802016"})],e.prototype,"a22802016",void 0),n([s({type:cc.AudioClip,tooltip:"22803003"})],e.prototype,"a22803003",void 0),n([s({type:cc.AudioClip,tooltip:"22802008"})],e.prototype,"a22802008",void 0),n([s({type:cc.AudioClip,tooltip:"22802010"})],e.prototype,"a22802010",void 0),n([s({type:cc.AudioClip,tooltip:"22802011"})],e.prototype,"a22802011",void 0),n([s({type:cc.AudioClip,tooltip:"22802012"})],e.prototype,"a22802012",void 0),n([s({type:cc.AudioClip,tooltip:"22802025"})],e.prototype,"a22802025",void 0),n([s({type:cc.AudioClip,tooltip:"22802028"})],e.prototype,"a22802028",void 0),n([s({type:cc.AudioClip,tooltip:"22802013"})],e.prototype,"a22802013",void 0),n([s({type:cc.AudioClip,tooltip:"22802015"})],e.prototype,"a22802015",void 0),n([s({type:cc.AudioClip,tooltip:"22802017"})],e.prototype,"a22802017",void 0),n([s({type:cc.AudioClip,tooltip:"22802023"})],e.prototype,"a22802023",void 0),n([s({type:cc.AudioClip,tooltip:"22802024"})],e.prototype,"a22802024",void 0),n([s({type:cc.AudioClip,tooltip:"22802027"})],e.prototype,"a22802027",void 0),n([s({type:cc.AudioClip,tooltip:"22802026"})],e.prototype,"a22802026",void 0),n([s({type:cc.AudioClip,tooltip:"228082"})],e.prototype,"a228082",void 0),n([s({type:cc.AudioClip,tooltip:"228081"})],e.prototype,"a228081",void 0),n([s({type:cc.AudioClip,tooltip:"228083"})],e.prototype,"a228083",void 0),n([s({type:cc.AudioClip,tooltip:"228120"})],e.prototype,"a228120",void 0),n([s({type:cc.AudioClip,tooltip:"228119"})],e.prototype,"a228119",void 0),n([s({type:cc.AudioClip,tooltip:"228080"})],e.prototype,"a228080",void 0),n([s({type:cc.AudioClip,tooltip:"228014"})],e.prototype,"a228014",void 0),n([s({type:cc.AudioClip,tooltip:"228013"})],e.prototype,"a228013",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Pondput:[function(t,e,o){"use strict";cc._RF.push(e,"0b840KKLq5OH5jPdgf56I7M","G35_Pondput");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_PondputRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../../lib/core/util/ArrayUtil"),u=t("./G35_PondputFeed"),d=t("./G35_PondputNet"),p=t("../../../../lib/core/util/MathUtil"),h=t("./G35_PondputFrog"),f=t("./G35_PondputFrogWin"),g=t("./G35_PondputGrass"),_=t("./G35_PondputImage"),y=t("./G35_PondputProgress"),m=t("./G35_PondputFish"),v=t("../../../../lib/business/Manager/AudioManager"),b=t("../../Common/G35_Excitation"),S=t("../../../GameUtils/Tools/G35_CommonAct"),w=cc._decorator,A=w.ccclass,C=(w.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.grassPos=[],e.frogPos=[],e.frogRotate=[75,-105],e._allFeedTab=[],e._feedTab=[],e._feedSpareTab=[],e._feedTab1=[],e._feedTab2=[],e._feedTab3=[],e._feedCount=1,e._fishTab=[],e._speed=.1,e._speedTag=1,e._isCanTouch=!1,e._fishName=["jl","jy","kqy","qdf","qzy","xlx","px"],e._allGrass=[],e._frogTab=[],e._initCount=0,e._winFishTab=[],e._winForg=[],e._grassCount=0,e._speed2=1,e._wrongFishCount=0,e._forgCount=0,e._grassCount1=0,e._imageFish="fish",e._hand=null,e._net=null,e._key=null,e._key1=null,e._trash1=null,e._trash2=null,e._bar=null,e._image=null,e._mask=null,e._qiqi=null,e._chooseFish=null,e._TouchNode=null,e._particle=null,e._ripple=null,e._chooseName=null,e._handAct=null,e._netAct=null,e._imgeAct=null,e._guideSound=null,e._netMoveSound=null,e._isInEnded=null,e._firstIn=null,e._newTable=[],e}return i(e,t),e.prototype.loadBg=function(){cc.tween(this.node.getChildByName("bg")).repeatForever(cc.tween().to(1,{scale:1.28}).to(1,{scale:1.25})).start()},e.prototype.waterRipple=function(){var t=this;this.node.getChildByName("waterMask").zIndex=999,this._ripple=c.G35_utils.creatNode(this.res.newNode,this.res.water1Alt.getSpriteFrame("water1"),this.node,cc.v2(0,0),1,1e3),this._ripple.scaleX=1.25,c.G35_utils.setImg(this._ripple);var e=this.res.water1Alt.getSpriteFrames().concat(this.res.water2Alt.getSpriteFrames());cc.tween(this._ripple).repeatForever(cc.tween().call(function(){S.G35_commonAct.filenames(t._ripple,e,.3)}).delay(2.1)).start()},e.prototype.loadHand=function(){this._hand=c.G35_utils.creatNode(this.res.newNode,this.res.handImg,this.node,cc.v2(cc.winSize.width+300,-300),0,2e3),this._hand.setAnchorPoint(cc.v2(1,0)),this.loadFeed()},e.prototype.loadFeed=function(){for(var t=0;t<3;t++){var e=c.G35_utils.creatNode(this.res.newNode,this.res.feedAlt.getSpriteFrame("1"),this._hand,cc.v2(87,190),1);e.x-=this._hand.width,e.active=!1,e.addComponent(u.default).id=t+1,this._allFeedTab.push(e)}this._allFeedTab[0].active=!0},e.prototype.createNet=function(){this._net=c.G35_utils.creatNode(this.res.newNode,this.res.netAlt.getSpriteFrame("1"),this.node,cc.v2(880+this.offset.x,-250),0,1500),this._net.addComponent(d.default)},e.prototype.loadKeg=function(){this._key1=c.G35_utils.creatNode(this.res.newNode,this.res.kegAlt.getSpriteFrame("1"),this.node,cc.v2(133+this.offset.x,-125),0,2e3),this._key=c.G35_utils.creatNode(this.res.newNode,this.res.kegAlt.getSpriteFrame("2"),this.node,cc.v2(133+this.offset.x,-125),0,1501)},e.prototype.createFrog=function(){for(var t=0;t<2;t++){var e=p.default.random(610,650),o=cc.instantiate(this.res.qw);o.parent=this.node,o.zIndex=e,o.position=c.G35_utils.convertToSpacePos(this.frogPos[t],this.node),o.angle=-this.frogRotate[t],o.getComponent(h.default).id=t+1,o.name="frog",this._allGrass.push(o)}},e.prototype.dyCreateFrog=function(t){var e=p.default.random(610,650),o=cc.instantiate(this.res.qw);o.parent=this.node,o.zIndex=e,o.position=c.G35_utils.convertToSpacePos(this.frogPos[t-1],this.node),o.angle=-this.frogRotate[t-1],o.getComponent(h.default).id=t,o.name="frog",this._allGrass.push(o),this.dyCreateWinFrog(t),o.getComponent(h.default).swimOut()},e.prototype.createWinFrog=function(){for(var t=0;t<2;t++){var e=cc.instantiate(this.res.pmqw);e.parent=this.node,e.zIndex=5e3,e.getComponent(f.default).id=t+1,this._winForg.push(e),e.opacity=0,e.active=!1}},e.prototype.dyCreateWinFrog=function(t){var e=cc.instantiate(this.res.pmqw);e.parent=this.node,e.zIndex=5e3,e.getComponent(f.default).id=t,this._winForg.push(e),e.opacity=0,e.active=!1},e.prototype.createGrass=function(){for(var t=0;t<2;t++){var e=cc.instantiate(this.res.newNode);e.parent=this.node,e.zIndex=1200,e.position=c.G35_utils.convertToSpacePos(this.grassPos[t],this.node),e.addComponent(g.default).id=t+1,e.name="grass",this._allGrass.push(e)}},e.prototype.dyCreateGrass=function(t){var e=cc.instantiate(this.res.newNode);e.parent=this.node,e.zIndex=1200,e.position=c.G35_utils.convertToSpacePos(this.grassPos[t-1],this.node),e.addComponent(g.default).id=t,e.name="grass",this._allGrass.push(e),e.getComponent(g.default).grassMove()},e.prototype.loadTrash=function(){this._trash1=c.G35_utils.creatNode(this.res.newNode,this.res.grassAlt.getSpriteFrame("keg-1"),this.node,cc.v2(130+this.offset.x,-200),0,1450),this._trash2=c.G35_utils.creatNode(this.res.newNode,this.res.grassAlt.getSpriteFrame("keg-2"),this.node,cc.v2(130+this.offset.x,-100),0,1449),this._trash2.name="_trash2"},e.prototype.loadProgress=function(){var t=cc.instantiate(this.res.progress);t.parent=this.node,t.zIndex=6e3,t.anchorX=0,t.getChildByName("mask").x+=t.width/2,t.position=c.G35_utils.convertToSpacePos(cc.v2(260+this.offset.x,32.5),this.node),this._bar=t},e.prototype.createImage=function(){this._image=c.G35_utils.creatNode(this.res.newNode,this.res.commonAlt.getSpriteFrame("image"),this.node,cc.v2(134+this.offset.x,221.5),0,5e3),this._image.setAnchorPoint(cc.v2(1,0)),this._image.scale=0,this._image.scaleX*=-1,this._image.addComponent(_.default),this._image.x-=this._image.width},e.prototype.loadBlackMask=function(){this._mask=c.G35_utils.creatNode(this.res.newNode,this.res.commonAlt.getSpriteFrame("mask2"),this.node,cc.v2(cc.winSize.width/2,0),0,4999),this._mask.opacity=0,this._mask.scale=2.5},e.prototype.loadQiqi=function(){this._qiqi=cc.instantiate(this.res.cmqiqi),this._qiqi.parent=this.node,this._qiqi.zIndex=9999,this._qiqi.position=c.G35_utils.convertToSpacePos(cc.v2(170+this.offset.x,-140),this.node),this._qiqi.scale=1.5,this._qiqi.scaleX*=-1,this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature().getSlot("cmqq_p_byd").displayIndex=-1,this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature().getSlot("cmqq_p_bzd").displayIndex=-1,this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature().getSlot("cmqq_p_bbt").displayIndex=-1,this.qiqiEnter()},e.prototype.qiqiEnter=function(){var t=this;cc.tween(this._mask).to(.01,{opacity:255}).to(.25,{opacity:180}).start(),cc.tween(this._qiqi).by(.5,{y:230}).call(function(){t._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("cmqq_gjlsh",0),t.chooseFish(),v.audioManager.playLine(t.res.a228014),t.scheduleOnce(function(){cc.tween(t._mask).to(.25,{opacity:0}).start(),cc.tween(t._qiqi).by(.25,{y:-230}).call(function(){cc.tween(t._key).by(.5,{y:150}).call(function(){t._bar.getComponent(y.default).enter()}).start(),cc.tween(t._key1).by(.5,{y:150}).start(),cc.tween(t._image).by(.5,{y:-110}).start(),cc.tween(t._net).to(.5,{position:c.G35_utils.convertToSpacePos(cc.v2(880+t.offset.x,50),t.node)}).call(function(){t.openNetGuide(),t._isCanTouch=!0}).start(),t.updateFish()}).removeSelf().start()},v.audioManager.getDurationByMap("228014"))}).start()},e.prototype.feedChangeNode=function(t){c.G35_utils.resetParent(this._allFeedTab[t-1],this.node,2500),this._allFeedTab[t-1].getComponent(u.default).canTouch=!0},e.prototype.createFish=function(){for(var t=this,e=[],o=0;o<3;o++){var i=[];i=l.default.deepCopy(this._fishName),i=l.default.upsetArray(i),e.push.apply(e,i)}e.forEach(function(e,o){var i=p.default.random(500,600),n=1;"qdf"==e||"qzy"==e?n=.9:"jl"==e||"jy"==e?n=.8:"px"==e?n=.7:"xlx"==e&&(n=1.2);var a=cc.instantiate(t.res.fish);a.scale=n,a.parent=t.node,a.zIndex=i,a.getComponent(m.default)._types=e,a.getComponent(m.default)._size=n,a.getComponent(m.default).can=!0,a.id=o,t._fishTab.push(a)})},e.prototype.chooseFish=function(){if(0!=this._winFishTab.length){var t=l.default.getRandomItem(this._winFishTab);t&&(t.convertToWorldSpaceAR(cc.v2(0,0)).x>0&&t.convertToWorldSpaceAR(cc.v2(0,0)).x<cc.winSize.width?(t.getComponent(m.default)._choose=!0,this._image.getComponent(_.default).swithImg(this.res.imageAlt.getSpriteFrame(t.getComponent(m.default)._types)),"px"==t.getComponent(m.default)._types?this._imageFish="px":"xlx"==t.getComponent(m.default)._types?this._imageFish="xlx":this._imageFish="fish",this._chooseName=t.getComponent(m.default)._types,this._chooseFish=t):this.chooseFish())}},e.prototype.updateFish=function(){var t=this;cc.tween(this.node).delay(2).call(function(){if(0!=t._winFishTab.length){var e=l.default.getRandomItem(t._winFishTab);e.getComponent(m.default)._choose?t.updateFish():(e.getComponent(m.default).out=!0,l.default.removeObj(t._winFishTab,e))}})},e.prototype.inSaveFish=function(){this.addTouchNode(),this.loadKeg(),this.createFrog(),this.createWinFrog(),this.createGrass(),this.loadTrash(),this.loadProgress(),this.createImage(),this.loadBlackMask(),this.loadQiqi()},e.prototype.keyDown=function(){this._image.getComponent(_.default).quit(),cc.tween(this._key).by(.5,{y:-200}).start(),cc.tween(this._key1).by(.5,{y:-200}).start(),cc.tween(this._bar).by(.5,{y:-100}).start()},e.prototype.finishKeyDown=function(){var t=this;this.closeNetGuide(),this._image.getComponent(_.default).quit(),this._bar.getComponent(y.default).quit(),cc.tween(this.node).delay(.5).call(function(){t.nextScene(),c.G35_utils.resetParent(t._key1,t._key),cc.tween(t._key).to(.4,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2-80),t._key.parent),scale:1.1}).call(function(){var e=["jl","jy","kqy","qdf","qzy"];e=l.default.upsetArray(e);var o=[-1,1],i=cc.instantiate(t.res.shuihua1);i.parent=t._key,i.position=cc.v2(-20,40),i.scale=1.5;for(var n=function(i){var n=cc.instantiate(t.res.fish);n.removeComponent(m.default),n.parent=t._key,n.angle=-90,n.position=cc.v2(p.default.random(-30,30),-t._key.height/2+85),n.scale=.7,n.getComponent(dragonBones.ArmatureDisplay).playAnimation(e[i]+"_yd",-1),v.audioManager.playEffect(t.res.a22802031),cc.tween(n).repeatForever(cc.tween().delay(.3*i).then(cc.spawn(cc.jumpBy(.7,cc.v2(0,0),p.default.random(120,200),1),cc.rotateBy(.7,180*o[p.default.random(0,1)]))).call(function(){n.angle=-90,n.x=p.default.random(-30,30)}).delay(.3)).start()},a=0;a<3;a++)n(a)}).start()}).start()},e.prototype.keyUp=function(){var t=this;v.audioManager.playEffect(this.res.a22802030),cc.tween(this._key).by(.5,{y:200}).start(),cc.tween(this._key1).by(.5,{y:200}).call(function(){t._image.getComponent(_.default).enter(),t.openNetGuide()}).start(),cc.tween(this._bar).by(.5,{y:100}).start()},e.prototype.trashDown=function(t){var e=this;if(this._grassCount>=5){v.audioManager.playEffect(this.res.a22802003);var o=cc.instantiate(this.res.wancheng);o.parent=this.node,o.zIndex=9999,this._grassCount=0,cc.tween(this._mask).to(.25,{opacity:0}).start(),cc.tween(this._trash1).by(.5,{y:-200}).start(),cc.tween(this._trash2).by(.5,{y:-200}).call(function(){e.keyUp(),e._net.getComponent(d.default).goBack(),cc.audioEngine.stopAll(),v.audioManager.playLine(e.res.a228082)}).start(),this.dyCreateGrass(t)}},e.prototype.openHandGuide=function(){var t=this;this._handAct=cc.tween(this._hand).repeatForever(cc.tween().delay(3).call(function(){v.audioManager.playEffect(t.res.a22802029)}).to(.15,{angle:-10}).to(.3,{angle:10}).to(.15,{angle:0})).start()},e.prototype.closeHandGuide=function(){this._handAct&&(this._handAct.stop(),this._handAct=null,this._hand.angle=0)},e.prototype.openNetGuide=function(){var t=this;if(!this._netAct){var e=3;"fish"==this._imageFish?e=1.8:"px"==this._imageFish?e=2:"xlx"==this._imageFish&&(e=1.8),this._netAct=cc.tween(this._net).delay(3).call(function(){"fish"==t._imageFish?t._guideSound=v.audioManager.playLine(t.res.a228080):"px"==t._imageFish?t._guideSound=v.audioManager.playLine(t.res.a228119):"xlx"==t._imageFish&&(t._guideSound=v.audioManager.playLine(t.res.a228120))}).to(.15,{scale:1.1}).to(.15,{scale:1}).to(.15,{scale:1.1}).to(.15,{scale:1}).delay(e).start(),this._imgeAct||(this._imgeAct=cc.tween(this._image).repeatForever(cc.tween().delay(5).to(.15,{scaleX:-1.1,scaleY:1.1}).to(.15,{scaleX:-1,scaleY:1}).to(.15,{scaleX:-1.1,scaleY:1.1}).to(.15,{scaleX:-1,scaleY:1})).start())}},e.prototype.closeNetGuide=function(){this._guideSound&&v.audioManager.stopAudio(this._guideSound),this._netAct&&(this._netAct.stop(),this._netAct=null),this._imgeAct&&(this._imgeAct.stop(),this._imgeAct=null,this._image.scaleX=-1,this._image.scaleY=1)},e.prototype.nextScene=function(){console.log("\u8df3\u8f6c\u573a\u666f");var t=cc.instantiate(this.res.Excitation);t.parent=this.node,t.zIndex=8e3,t.getComponent(b.default).init({id:1})},e.prototype.addTouchNode=function(){var t=this;this._TouchNode=new cc.Node("touchNode"),this._TouchNode.parent=this.node,this._TouchNode.zIndex=1201,this._TouchNode.setContentSize(cc.winSize.width,540*this.Y_FACTOR);var e=!1;this._TouchNode.on(cc.Node.EventType.TOUCH_START,function(o){if(t._isCanTouch){if(e)return;e=!0,t.closeNetGuide(),t._net.getComponent(d.default)._backAct&&(t._net.getComponent(d.default)._backAct.stop(),t._net.getComponent(d.default)._backAct=null),t._isInEnded=!1,o.getLocation().y<=540?t._net.position=c.G35_utils.convertToSpacePos(o.getLocation(),t._net.parent):t._net.position=c.G35_utils.convertToSpacePos(cc.v2(o.getLocation().x,540),t._net.parent),t._net.getComponent(d.default).downWater()}}),this._TouchNode.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(t._isCanTouch&&!t._net.getComponent(d.default)._autoUP){if(!e)return;t.playMoveSound(),o.getLocation().y<=540?t._net.position=c.G35_utils.convertToSpacePos(o.getLocation(),t._net.parent):t._net.position=c.G35_utils.convertToSpacePos(cc.v2(o.getLocation().x,540),t._net.parent)}}),this._TouchNode.on(cc.Node.EventType.TOUCH_END,function(o){e&&(e=!1,t._isCanTouch=!1,t._isInEnded=!0,t._net.getComponent(d.default)._isDownWater||t._net.getComponent(d.default)._autoUP?t._net.getComponent(d.default)._autoUP&&(t._net.getComponent(d.default)._autoUP=!1):(t._net.getComponent(d.default).outWater(),t._particle&&(t._particle.destroy(),t._particle=null)))}),this._TouchNode.on(cc.Node.EventType.TOUCH_CANCEL,function(o){e&&(e=!1,t._isCanTouch=!1,t._isInEnded=!0,t._net.getComponent(d.default)._isDownWater||t._net.getComponent(d.default)._autoUP?t._net.getComponent(d.default)._autoUP&&(t._net.getComponent(d.default)._autoUP=!1):(t._net.getComponent(d.default).outWater(),t._particle&&(t._particle.destroy(),t._particle=null)))})},e.prototype.playMoveSound=function(){var t=this;this._netMoveSound||(this._netMoveSound=v.audioManager.playEffect(this.res.a22802009),this.scheduleOnce(function(){t._netMoveSound=null},2.4))},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.grassPos=[cc.v2(-175,cc.winSize.height/3*2),cc.v2(cc.winSize.width+175,cc.winSize.height/3)],this.frogPos=[cc.v2(-100,cc.winSize.height/3),cc.v2(cc.winSize.width+100,cc.winSize.height/3*2)],this.loadBg(),this.waterRipple(),this.createFish(),this.loadHand(),this.createNet()},e.prototype.start=function(){var t=this;v.audioManager.playLine(this.res.a228013),v.audioManager.playEffect(this.res.a22802004),cc.tween(this._hand).then(cc.moveTo(.5,c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+100,this.offset.y/2-100),this._hand.parent)).easing(cc.easeIn(2))).call(function(){t.openHandGuide(),t._allFeedTab[0].getComponent(u.default).canTouch=!0}).start(),this.scheduleOnce(function(){t._newTable=c.G35_utils.notInside(t._winFishTab,t._fishTab)},1)},e=n([A],e)}(a.default));o.default=C,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Excitation":"G35_Excitation","./G35_PondputFeed":"G35_PondputFeed","./G35_PondputFish":"G35_PondputFish","./G35_PondputFrog":"G35_PondputFrog","./G35_PondputFrogWin":"G35_PondputFrogWin","./G35_PondputGrass":"G35_PondputGrass","./G35_PondputImage":"G35_PondputImage","./G35_PondputNet":"G35_PondputNet","./G35_PondputProgress":"G35_PondputProgress","./G35_PondputRes":"G35_PondputRes"}],G35_ProgressBar:[function(t,e,o){"use strict";cc._RF.push(e,"b2fd3V7iPxEPKN40hnKpT9J","G35_ProgressBar");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_Utils"),r=t("../../../lib/business/Manager/AudioManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._circles=[],e._bar=null,e._line=null,e.newNode=null,e.a22801020=null,e.circlesFrame=null,e.jindutiao=null,e}return i(e,t),e.prototype.onLoad=function(){this.loadDisplay()},e.prototype.loadDisplay=function(){this.node.setContentSize(500,70),this._bar=cc.find("bar",this.node)},e.prototype.loadCircle=function(){for(var t=0;t<10;t++){var e=a.G35_utils.creatNode(this.newNode,this.circlesFrame,this._bar,cc.v2(51*t-230,1),1,50);e.setScale(0),a.G35_utils.setImg(e),this._circles.push(e)}},e.prototype.loadLine=function(){this._line=cc.find("bar/line",this.node),this._line.zIndex=10},e.prototype.enter=function(){var t=this;this.schedule(function(){t._bar.getComponent(cc.ProgressBar).progress-=.03},.01,33),cc.tween(this.node).delay(.3).call(function(){t.loadLine(),t.loadCircle()}).start()},e.prototype.quit=function(){this._bar.destroy();var t=cc.find("bar2",this.node);t.opacity=255,t.zIndex=100,t.getComponent(cc.ProgressBar).progress=1,this.schedule(function(){t.getComponent(cc.ProgressBar).progress+=.03},.01,33)},e.prototype.circleLight=function(t){r.audioManager.playEffect(this.a22801020);var e=this._circles[t];this._line.getComponent(cc.ProgressBar).progress=1/9*t,cc.tween(e).to(.2,{scale:1.4}).to(.1,{scale:1}).start();var o=cc.instantiate(this.jindutiao);o.parent=this.node,o.setPosition(cc.v2(e.position))},n([l({type:cc.Prefab,tooltip:"22804009"})],e.prototype,"newNode",void 0),n([l({type:cc.AudioClip,tooltip:"22801020"})],e.prototype,"a22801020",void 0),n([l({type:cc.SpriteFrame,tooltip:"circlesFrame"})],e.prototype,"circlesFrame",void 0),n([l({type:cc.Prefab,tooltip:"jindutiao"})],e.prototype,"jindutiao",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../GameUtils/G35_Utils":"G35_Utils"}],G35_ReadyProp:[function(t,e,o){"use strict";cc._RF.push(e,"d0f274S23RJ5a+6KnPxdBTd","G35_ReadyProp");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_ReadyRes"),r=t("./G35_Ready"),s=t("../../GameUtils/G35_GlobalView"),c=t("../../GameUtils/G35_Utils"),l=t("../../../lib/core/util/ArrayUtil"),u=t("./G35_ReadyQiqi"),d=t("../../GameUtils/Tools/G35_CommonAct"),p=t("../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e._pos=null,e._angle=null,e.canTouch=!0,e._size1=null,e._starP=null,e._touchP=null,e}return i(e,t),e.prototype.init=function(t){this.id=t.id,this._pos=t.pos,this._angle=t.angle,this.init1()},e.prototype.init1=function(){this._size1=1,9==this.id&&(this._size1=1.5),this.node.scale=this._size1,6==this.id&&(this._size1=.75)},e.prototype.isRight=function(){this.canTouch=!1;c.G35_utils.getVec2Pos(this.mainScript._bag._center);this.id==this.mainScript._collectId?(this.playPropVoice(),l.default.removeObj(this.mainScript._selectIds,this.id),this.canTouch=!1,this.id==this.mainScript._eventId?(this.enterEvent(),this.mainScript.selectNextProp()):this.putInBag()):this.goBack()},e.prototype.putInBag=function(){var t=this,e=c.G35_utils.getVec2Pos(this.mainScript._bag._center),o=.6*this._size1;cc.tween(this.node).parallel(cc.tween().then(cc.jumpTo(.4,c.G35_utils.convertToSpacePos(e,this.node.parent),100,1)),cc.tween().to(.4,{scale:o})).call(function(){t.node.stopAllActions(),c.G35_utils.resetParent(t.node,t.mainScript._bag,98),p.audioManager.playEffect(t.res.a22803004),cc.tween(t.node).parallel(cc.tween().to(.2,{angle:-t._angle}),cc.tween().by(.2,{y:-110})).call(function(){t.mainScript.bagShake();var e=cc.instantiate(t.res.zhuangbao);e.parent=t.mainScript._bag,e.position=cc.v2(t.node.x,t.node.y+10),e.zIndex=t.node.zIndex-1,t.mainScript.selectNextProp(),t.id==t.mainScript._eventId&&t.mainScript.bag2Qiqi()}).start()}).start()},e.prototype.goBack=function(){var t=this;p.audioManager.playEffect(this.res.a22803005),this.mainScript._wrongSound||(this.mainScript._qiqi.getComponent(u.default).play_say(),this.mainScript._wrongSound=p.audioManager.playLine(this.res.a228072),this.scheduleOnce(function(){t.mainScript._qiqi.getComponent(u.default).play_breath(),t.mainScript._wrongSound=null},p.audioManager.getDurationByMap("228072")));var e=this._size1;6==this.id&&(e=1),cc.tween(this.node).to(.05,{angle:-15}).to(.1,{angle:15}).to(.05,{angle:0}).parallel(cc.tween().then(cc.jumpTo(.3,c.G35_utils.convertToSpacePos(this._pos,this.node.parent),100,1)),cc.tween().to(.3,{scale:e})).call(function(){t.node.zIndex=5,t.canTouch=!0}).start()},e.prototype.enterEvent=function(){var t=this;this.mainScript._qiqi.getComponent(u.default).stopGuide(),cc.tween(this.node).to(.4,{scale:2*this._size1,position:cc.v2(0,0)}).call(function(){if(1==t.id){t.node.opacity=0;var e=c.G35_utils.creatNode(t.res.newNode,t.res.boxAlt.getSpriteFrame("1"),t._canvas,cc.v2(478.7+t.offset.x,290.6+t.offset.y),0,99);d.G35_commonAct.filenames(e,d.G35_commonAct.getSpriteFrameArrForName(t.res.boxAlt,"",1,3),.15)}}).start();var e=[1.2,1,1.3,.9][this.mainScript._gameId-1];cc.tween(this.mainScript._mask).to(.001,{opacity:255}).to(.5,{opacity:180}).delay(e-.5).call(function(){t.mainScript._qiqi.getComponent(u.default).explanationProp()}).start()},e.prototype.playPropVoice=function(){p.audioManager.stopAudio(this.mainScript._sound),this.mainScript._sound=p.audioManager.playLine(this.res.soundVoiceFn[this.id-1])},e.prototype.touchStart=function(t){this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,p.audioManager.playEffect(this.res.a17901001),this._starP=c.G35_utils.getVec2Pos(this.node),this._touchP=t.getLocation(),this.node.zIndex=300,this.node.scaleX=this._size1+.2,this.mainScript._qiqi.getComponent(u.default).stopGuide()))},e.prototype.touchMove=function(t){if(this.canTouch&&this.touchThrigger){var e=this._starP.add(t.getLocation().sub(this._touchP));this.node.position=c.G35_utils.convertToSpacePos(e,this.node.parent)}},e.prototype.touchEnd=function(t){this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.mainScript._qiqi.getComponent(u.default).openGuideVoice(),this.isRight())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/core/util/ArrayUtil":"ArrayUtil","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Ready":"G35_Ready","./G35_ReadyQiqi":"G35_ReadyQiqi","./G35_ReadyRes":"G35_ReadyRes"}],G35_ReadyQiqi:[function(t,e,o){"use strict";cc._RF.push(e,"4545bXLfOtJ+rUdpqXHAKy7","G35_ReadyQiqi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_ReadyRes"),r=t("./G35_Ready"),s=t("../../GameUtils/G35_GlobalView"),c=t("../../../lib/business/Manager/AudioManager"),l=t("../../GameUtils/G35_GlobalParams"),u=t("../../../../BBGameWeb/Script/Common/BBLoader"),d=t("../../../lib/core/util/PlatformUtil"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.qiqiDragon=null,e._guideAc=null,e._guideVoice=null,e}return i(e,t),e.prototype.play_say=function(){this.qiqiDragon.playAnimation("cmqq_gjlsh",0)},e.prototype.play_breath=function(){this.qiqiDragon.playAnimation("cmqq_gjlshhx",-1)},e.prototype.play_walk=function(){c.audioManager.playEffect(this.res.a22803001),this.qiqiDragon.playAnimation("cmqq_gjlzou",-1)},e.prototype.play_happy=function(){this.qiqiDragon.playAnimation("cmqq_bbkx",-1)},e.prototype.enter=function(){var t=this;if(this.node.scaleX=-1.3,this.mainScript._fromSelect){this.play_walk();var e=c.audioManager.getDurationByMap("228001",0);cc.tween(this.node).to(1,{position:cc.v2(-cc.winSize.width/2+120+this.offset.x,this.node.y)}).call(function(){c.audioManager.stopLine(),t.scheduleOnce(function(){c.audioManager.playLine(t.res.a228001)}),t.play_say()}).delay(e).call(function(){t.play_breath(),t.mainScript.bagEnter()}).delay(1).call(function(){t.openGuideVoice()}).start()}else this.play_breath(),this.node.position=cc.v2(-cc.winSize.width/2+120+this.offset.x,this.node.y),this.mainScript.bagEnter(),this.node.zIndex=70;this.bagHideOrShow()},e.prototype.bagHideOrShow=function(t){void 0===t&&(t=null),t?(this.qiqiDragon.armature().getSlot("cmqq_p_byd").displayIndex=0,this.qiqiDragon.armature().getSlot("cmqq_p_bzd").displayIndex=0,this.qiqiDragon.armature().getSlot("cmqq_p_bbt").displayIndex=0):(this.qiqiDragon.armature().getSlot("cmqq_p_byd").displayIndex=-1,this.qiqiDragon.armature().getSlot("cmqq_p_bzd").displayIndex=-1,this.qiqiDragon.armature().getSlot("cmqq_p_bbt").displayIndex=-1)},e.prototype.quit=function(){var t=this,e=c.audioManager.getDurationByMap("228006");c.audioManager.stopLine(),this.scheduleOnce(function(){c.audioManager.playLine(t.res.a228006)}),this.play_happy(),cc.tween(this.node).delay(1.23).call(function(){t.play_say()}).delay(e-1.23).call(function(){t.play_walk()}).to(.8,{position:cc.v2(-cc.winSize.width/2-100,this.node.y)}).call(function(){l.G35_GlobalParams.gameVar.sceneName=["G35_Pondclear","G35_Seasurfacestart","G35_Seabedstart","G35_Icehole"][t.mainScript._gameId-1],d.default.isBBMGSimulatePlatform()?u.default.getInstance().loadScene("G35_Loading",t):(cc.director.loadScene("G35_Loading"),console.log("\u8df3\u8f6c\u573a\u666f"))}).start()},e.prototype.explanationProp=function(){var t=this;this.play_say();var e=this.mainScript._gameId,o=c.audioManager.getDurationByMap(["228002","228004","228003","228005"][e-1]);c.audioManager.playEffect(this.res.soundVoiceFn2[e-1]),cc.tween(this.node).delay(o).call(function(){t.play_breath();var o=["G35_Pondfeed","G35_Seasurfaceready","G35_Seabedready","G35_Icepackage"];if(o[e-1]){if(console.log("\u8df3\u8f6c\u573a\u666f"+o[e-1]),l.G35_GlobalParams.gameVar.sceneName=o[e-1],d.default.isBBMGSimulatePlatform())return void u.default.getInstance().loadScene("G35_Loading",t);cc.director.loadScene("G35_Loading")}}).start()},e.prototype.openGuideVoice=function(){var t=this;if(!this._guideAc){var e=c.audioManager.getDurationByMap("228071");this._guideAc=cc.tween(this.node).repeatForever(cc.tween().delay(5).call(function(){t.play_say(),t._guideVoice=c.audioManager.playLine(t.res.a228071)}).delay(e).call(function(){t.play_breath()})).start()}},e.prototype.stopGuide=function(){this._guideAc&&(this._guideVoice&&(c.audioManager.stopAudio(this._guideVoice),this._guideVoice=null),this.play_breath(),this._guideAc.stop(),this._guideAc=null)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.qiqiDragon=this.node.getComponent(dragonBones.ArmatureDisplay)},e.prototype.start=function(){},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_GlobalView":"G35_GlobalView","./G35_Ready":"G35_Ready","./G35_ReadyRes":"G35_ReadyRes"}],G35_ReadyRes:[function(t,e,o){"use strict";cc._RF.push(e,"87dedniuyNIco2Z0oXqwNiW","G35_ReadyRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.image=null,e.wancheng=null,e.zhuangbao=null,e.bagAlt=null,e.boxAlt=null,e.propAlt=null,e.uiAlt=null,e.comAlt=null,e.imageImg=null,e.a228BGM03=null,e.a22803007=null,e.a22803002=null,e.a22802003=null,e.a22803008=null,e.a22803004=null,e.a22803005=null,e.a22803006=null,e.soundVoiceFn=[],e.a17901001=null,e.a22803001=null,e.soundVoiceFn2=[],e.a228071=null,e.a228006=null,e.a228001=null,e.a228072=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u6d6e\u60f3\u6846"})],e.prototype,"image",void 0),n([s({type:cc.Prefab,tooltip:"wancheng"})],e.prototype,"wancheng",void 0),n([s({type:cc.Prefab,tooltip:"zhuangbao"})],e.prototype,"zhuangbao",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bag"})],e.prototype,"bagAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"box"})],e.prototype,"boxAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"prop"})],e.prototype,"propAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"ui"})],e.prototype,"uiAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"com"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"image"})],e.prototype,"imageImg",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM03"})],e.prototype,"a228BGM03",void 0),n([s({type:cc.AudioClip,tooltip:"22803007"})],e.prototype,"a22803007",void 0),n([s({type:cc.AudioClip,tooltip:"22803002"})],e.prototype,"a22803002",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22803008"})],e.prototype,"a22803008",void 0),n([s({type:cc.AudioClip,tooltip:"22803004"})],e.prototype,"a22803004",void 0),n([s({type:cc.AudioClip,tooltip:"22803005"})],e.prototype,"a22803005",void 0),n([s({type:cc.AudioClip,tooltip:"22803006"})],e.prototype,"a22803006",void 0),n([s({type:cc.AudioClip,tooltip:"soundVoiceFn"})],e.prototype,"soundVoiceFn",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"22803001"})],e.prototype,"a22803001",void 0),n([s({type:cc.AudioClip,tooltip:"soundVoiceFn2"})],e.prototype,"soundVoiceFn2",void 0),n([s({type:cc.AudioClip,tooltip:"228071"})],e.prototype,"a228071",void 0),n([s({type:cc.AudioClip,tooltip:"228006"})],e.prototype,"a228006",void 0),n([s({type:cc.AudioClip,tooltip:"228001"})],e.prototype,"a228001",void 0),n([s({type:cc.AudioClip,tooltip:"228072"})],e.prototype,"a228072",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Ready:[function(t,e,o){"use strict";cc._RF.push(e,"7d609XkFBdHNJctJ+zBhjSO","G35_Ready");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/base/BBScene"),r=t("./G35_ReadyRes"),s=t("../../GameUtils/G35_GlobalView"),c=t("../../GameUtils/G35_GlobalParams"),l=t("../../GameUtils/G35_Utils"),u=t("./G35_ReadyProp"),d=t("../../../lib/core/util/MathUtil"),p=t("../Common/G35_ImageFrame"),h=t("./G35_ReadyQiqi"),f=t("../../GameUtils/Tools/G35_CommonAct"),g=t("../../../lib/business/Manager/AudioManager"),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._propIds=[],e._selectIds=[],e._eventId=null,e._props=[],e._propNum=0,e._gameId=0,e._fromSelect=null,e._collectId=null,e._mask=null,e._bag=null,e._eventProp=null,e._imageFrame=null,e._qiqi=null,e._box=null,e._wrongSound=null,e._sound=null,e.eventItem=[],e}return i(e,t),e.prototype.initData1=function(){1==this._gameId||4==this._gameId?this._propIds=[1,2,3,6,7,8,10]:this._propIds=[2,3,4,5,6,7,9];this._selectIds=[[3,8,1],[4,9,2],[7,4,5],[10,1,6]][this._gameId-1];this._eventId=[1,2,5,6][this._gameId-1]},e.prototype.loadBg=function(){l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("board"),this.node,cc.v2(cc.winSize.width/2,305+this.offset.y),0,2);for(var t=[cc.v2(115.4+this.offset.x,354.2+this.offset.y),cc.v2(373.5+this.offset.x,411.1+this.offset.y),cc.v2(82.3+this.offset.x,245.7+this.offset.y),cc.v2(228.9+this.offset.x,276.8+this.offset.y)],e=0;e<4;e++)l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("nail"),this.node,t[e],0,30);var o=[cc.v2(542.8+this.offset.x,414.7+this.offset.y),cc.v2(837.4+this.offset.x,242.1+this.offset.y)];for(e=0;e<2;e++)l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("nail2"),this.node,o[e],0,30);if(1==this._gameId||4==this._gameId){var i=[cc.v2(629+this.offset.x,284.2+this.offset.y),cc.v2(668+this.offset.x,284.2+this.offset.y)];for(e=0;e<2;e++)l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("nail2"),this.node,i[e],0,30);var n=[cc.v2(336.6+this.offset.x,283+this.offset.y),cc.v2(417+this.offset.x,283+this.offset.y)];for(e=0;e<2;e++)l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("nail"),this.node,n[e],0,30);l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("shelves2"),this.node,cc.v2(827.2+this.offset.x,290+this.offset.y),0,30)}else{var a=[cc.v2(629.9+this.offset.x,199.3+this.offset.y),cc.v2(743.5+this.offset.x,215.3+this.offset.y)];for(e=0;e<2;e++)l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("nail"),this.node,a[e],0,30);l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("shelves"),this.node,cc.v2(398.3+this.offset.x,189.8+this.offset.y),0,30),l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("shelves2"),this.node,cc.v2(805.8+this.offset.x,331.7+this.offset.y),0,30)}},e.prototype.loadMask=function(){this._mask=this.node.getChildByName("mask"),this._mask.zIndex=80,this._fromSelect?this._mask.opacity=0:(this.loadEventProp(),this._mask.opacity=180)},e.prototype.loadQiqi=function(){var t=this;this._qiqi=this.node.getChildByName("qiqi"),this._qiqi.zIndex=99,this._qiqi.position=l.G35_utils.convertToSpacePos(cc.v2(-100,70+this.offset.y/2),this.node),this._qiqi.scale=1.3,this.scheduleOnce(function(){t._qiqi.getComponent(h.default).enter()})},e.prototype.loadProp=function(){var t=this,e=[cc.v2(822.3+this.offset.x,352+this.offset.y),cc.v2(544.1+this.offset.x,328.6+this.offset.y),cc.v2(835.3+this.offset.x,163.5+this.offset.y),cc.v2(674.6+this.offset.x,237+this.offset.y),cc.v2(400+this.offset.x,286+this.offset.y),cc.v2(226.2+this.offset.x,377.1+this.offset.y),cc.v2(179.1+this.offset.x,272.4+this.offset.y),cc.v2(652.7+this.offset.x,177.1+this.offset.y),cc.v2(805+this.offset.x,391.9+this.offset.y),cc.v2(381+this.offset.x,270+this.offset.y)],o=[0,0,0,-30,0,0,-30,50,0,0];this._propIds.forEach(function(i){var n=l.G35_utils.creatNode(t.res.newNode,t.res.propAlt.getSpriteFrame(""+i),t.node,e[i-1],0,5);n.addComponent(u.default).init({id:i,pos:e[i-1],angle:o[i-1]}),t._fromSelect||i!=t._selectIds[0]&&i!=t._selectIds[1]||!t._bag||!t._bag._front||(n.stopAllActions(),l.G35_utils.resetParent(n,t._bag,90),n.x=0,n.y=90-t._bag.height/2,n.angle=-o[i-1],n.scale=.6,t.eventItem.push(n)),i==t._eventId&&(t._eventProp=n),t._props.push(n)})},e.prototype.loadBag=function(){var t=l.G35_utils.creatNode(this.res.newNode,this.res.bagAlt.getSpriteFrame("1"),this.node,cc.v2(455+this.offset.x,-100),0,60),e=l.G35_utils.creatNode(this.res.newNode,this.res.bagAlt.getSpriteFrame("front"),t,cc.v2(106.3,70.2),1,100);l.G35_utils.adjustPos(e,t),e.opacity=0;var o=new cc.Node("center");o.parent=t,o.y=200-t.height/2,t._center=o,t._front=e,this._bag=t},e.prototype.loadImageFrame=function(){var t=this._selectIds[d.default.random(0,1)];this._collectId=t;var e=cc.instantiate(this.res.image);e.parent=this.node,e.position=l.G35_utils.convertToSpacePos(cc.v2(190+this.offset.x,110+this.offset.y),this.node),e.setAnchorPoint(cc.v2(0,0)),e.scale=0,e.opacity=0,e.zIndex=100,e.getComponent(p.default).init({layer:this.node,totalNum:3,thingNum:0}),e.getComponent(p.default).loadThing(this.node,this.res.uiAlt.getSpriteFrame(""+t),e,1),e.getComponent(p.default).enter(1),this._imageFrame=e,this._props.forEach(function(t){t.getComponent(u.default).canTouch=!0})},e.prototype.loadEventProp=function(){this._eventProp.scale=2,this._eventProp.zIndex=300,this._eventProp.position=cc.v2(0,0),this.eventItem.push(this._eventProp),1==this._eventId?(this._eventProp.opacity=0,this._box=l.G35_utils.creatNode(this.res.newNode,this.res.boxAlt.getSpriteFrame("4"),this.node,cc.v2(478.7+this.offset.x,290.6+this.offset.y),0,99)):(this._eventProp.getComponent(cc.Sprite).spriteFrame=this.res.propAlt.getSpriteFrame(this._eventId+"_1"),6==this._eventId&&(this._eventProp.scale=1))},e.prototype.propShowOver=function(){var t=this;1==this._eventId&&(g.audioManager.playEffect(this.res.a22803007),cc.tween(this._box).call(function(){f.G35_commonAct.filenames(t._box,f.G35_commonAct.getSpriteFrameArrForName(t.res.boxAlt,"",4,3),.2)}).delay(.6).call(function(){t._eventProp.opacity=255}).removeSelf().start()),cc.tween(this._mask).to(.5,{opacity:0}).call(function(){t._eventProp.getComponent(u.default).putInBag()}).start()},e.prototype.bagEnter=function(){var t=this;this._fromSelect?(g.audioManager.playEffect(this.res.a22803002),cc.tween(this._bag).to(.4,{position:l.G35_utils.convertToSpacePos(cc.v2(455+this.offset.x,80),this.node)}).call(function(){f.G35_commonAct.filenames(t._bag,f.G35_commonAct.getSpriteFrameArrForName(t.res.bagAlt,"",1,5),.06)}).delay(.3).call(function(){t._bag._front.opacity=255,t.loadImageFrame()}).start()):(this._bag._front.opacity=255,this._bag.getComponent(cc.Sprite).spriteFrame=this.res.bagAlt.getSpriteFrame("6"),this._bag.position=l.G35_utils.convertToSpacePos(cc.v2(455+this.offset.x,80),this.node))},e.prototype.selectNextProp=function(){this._fromSelect&&(this._propNum+=1,this._propNum<3?(this._collectId=this._selectIds[0],this._imageFrame.getComponent(p.default).swithImg(this.res.uiAlt.getSpriteFrame(""+this._collectId),1)):this._imageFrame.getComponent(p.default).quit())},e.prototype.bagShake=function(){cc.tween(this._bag).to(.1,{scaleX:1.2,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).start()},e.prototype.bag2Qiqi=function(){var t=this;this._bag.zIndex=150,cc.tween(this._bag).delay(.5).call(function(){f.G35_commonAct.filenames(t._bag,f.G35_commonAct.getSpriteFrameArrForName(t.res.bagAlt,"",1,6).reverse())}).delay(.5).call(function(){g.audioManager.playEffect(t.res.a22802003);var e=cc.instantiate(t.res.wancheng);e.parent=t.node,e.zIndex=200,t._qiqi.scaleX=1.3,g.audioManager.playEffect(t.res.a22803008)}).parallel(cc.tween().then(cc.jumpTo(.5,l.G35_utils.convertToSpacePos(cc.v2(185+this.offset.x,41+this.offset.y/2),this.node),100,1)),cc.tween().to(.5,{scale:.5})).call(function(){t._qiqi.getComponent(h.default).bagHideOrShow(!0),t._qiqi.getComponent(h.default).quit()}).removeSelf().start(),cc.tween(this.node).delay(.5).delay(.1*.4).call(function(){t.eventItem.forEach(function(t){t.opacity=0})}).start()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._gameId=c.G35_GlobalParams.gameVar.gameId,this._fromSelect=c.G35_GlobalParams.gameVar.fromSelect,c.G35_GlobalParams.gameVar.fromSelect=!1,this.initData1(),this.loadBg(),this.loadBag(),this.loadQiqi(),this.loadProp(),this.loadMask()},e.prototype.start=function(){this._fromSelect?g.audioManager.playMusic(this.res.a228BGM03):this.propShowOver()},e=n([y],e)}(a.default));o.default=m,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBScene":"BBScene","../../../lib/core/util/MathUtil":"MathUtil","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../Common/G35_ImageFrame":"G35_ImageFrame","./G35_ReadyProp":"G35_ReadyProp","./G35_ReadyQiqi":"G35_ReadyQiqi","./G35_ReadyRes":"G35_ReadyRes"}],G35_Release:[function(t,e,o){"use strict";cc._RF.push(e,"75cdalB8jJDVoaODM7FnVR4","G35_Release");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BGM01=null,e.BGM02=null,e.BGM03=null,e.BGM04=null,e.BGM05=null,e.BGM06=null,e.BGM07=null,e.BGM08=null,e.BGM09=null,e.a17901001=null,e.a228001=null,e.a228006=null,e.back_btn=null,e.loadingPre=null,e.suefaceAlt=null,e}return i(e,t),e.prototype.onLoad=function(){cc.loader.setAutoReleaseRecursively(this.BGM01,!1),cc.loader.setAutoReleaseRecursively(this.BGM02,!1),cc.loader.setAutoReleaseRecursively(this.BGM03,!1),cc.loader.setAutoReleaseRecursively(this.BGM04,!1),cc.loader.setAutoReleaseRecursively(this.BGM05,!1),cc.loader.setAutoReleaseRecursively(this.BGM06,!1),cc.loader.setAutoReleaseRecursively(this.BGM07,!1),cc.loader.setAutoReleaseRecursively(this.BGM08,!1),cc.loader.setAutoReleaseRecursively(this.BGM09,!1),cc.loader.setAutoReleaseRecursively(this.a17901001,!1),cc.loader.setAutoReleaseRecursively(this.a228001,!1),cc.loader.setAutoReleaseRecursively(this.a228006,!1),cc.loader.setAutoReleaseRecursively(this.back_btn,!1)},e.prototype.start=function(){},n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM01",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM02",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM03",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM04",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM05",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM06",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM07",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM08",void 0),n([s({tooltip:"\u80cc\u666f\u97f3\u4e50",type:cc.AudioClip})],e.prototype,"BGM09",void 0),n([s({tooltip:"\u901a\u7528\u70b9\u51fb",type:cc.AudioClip})],e.prototype,"a17901001",void 0),n([s({tooltip:"\u5947\u5947\u8bed\u97f3",type:cc.AudioClip})],e.prototype,"a228001",void 0),n([s({tooltip:"\u5947\u5947\u8bed\u97f3",type:cc.AudioClip})],e.prototype,"a228006",void 0),n([s({tooltip:"\u8fd4\u56de\u6309\u94ae",type:cc.Prefab})],e.prototype,"back_btn",void 0),n([s({tooltip:"\u52a0\u8f7d\u573a\u666f",type:cc.Prefab})],e.prototype,"loadingPre",void 0),n([s({tooltip:"\u6d6a\u82b1",type:cc.SpriteAtlas})],e.prototype,"suefaceAlt",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Scrollvoew:[function(t,e,o){"use strict";cc._RF.push(e,"45bee/GW4BIIL2njxuNfb6/","G35_Scrollvoew");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_GlobalView"),r=t("../../GameUtils/G35_Utils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clipImg=null,e.gridImg=null,e.itemsSpace=107,e.pos=null,e.items=[],e.item=null,e.num=0,e.itemsNum=0,e.maxHeight=333,e.autoMoveDirection=cc.v2(0,1),e.isScroll=!0,e.maxperpage=3,e.itemSize=1,e.id=null,e.time=.5,e.itemName="_",e.mainLayer=null,e.sceneName=null,e.size=cc.size(129,666),e.clip=null,e.isEnter=!1,e.beganPos=null,e.pTouch=null,e.isCanScroll=!1,e.autoScrollAct=null,e.cannotMove=!1,e.bgSpriteFrame=null,e.bg=null,e.die=!1,e.delayTimeScroll=null,e.clipOffset=0,e.typeInfos=null,e.coinNumInfo=null,e.coinPre=null,e.starPre=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.active=!0},e.prototype.init=function(t){var e=a.G35_globalView.offset;this.clipImg=t.clipImg,this.gridImg=void 0!==t.gridImg?t.gridImg:null,this.itemsSpace=t.itemsSpace||107,this.pos=t.pos||cc.v2(410+e.x/2,25),this.items=t.items,this.item=t.item,this.num=t.num,this.isScroll=0!=t.isScroll,this.maxperpage=this.itemsSpace>170?2:this.itemsSpace>120?3:4,this.itemSize=t.itemSize||1,this.id=t.id,this.itemName=t.itemName||"_",this.bgSpriteFrame=t.bgImg,this.size=t.size||new cc.Size(137,369),this.maxHeight=t.maxHeight||this.size.height/2,this.clipOffset=t.clipOffset||10,this.mainLayer=t.mainLayer,this.typeInfos=t.typeInfos,this.coinNumInfo=t.coinNumInfo||null,this.coinPre=t.coinPre||null,this.starPre=t.starPre||null,this.loadDisplay(),this.loadItem()},e.prototype.loadDisplay=function(){var t=a.G35_globalView.viewSize,e=new cc.Node,o=e.addComponent(cc.Sprite);o.sizeMode=cc.Sprite.SizeMode.RAW,o.trim=!1,this.bgSpriteFrame&&(o.spriteFrame=this.bgSpriteFrame),this.node.addChild(e),this.bg=e;var i=new cc.Node;i.setContentSize(this.size),i.addComponent(cc.Mask),this.clip=i,this.node.addChild(i),this.node.setPosition(cc.v2(t.width/2+200,r.G35_utils.convertToSpacePos(this.pos,this.node.parent).y)),this.node.setContentSize(new cc.Size(this.bg.width,this.bg.height)),this.clip.setPosition(cc.v2(this.clip.x,-(this.node.height-this.clip.height)/2+this.clipOffset))},e.prototype.loadItem=function(){if(this.items)this.itemsNum=this.items.length;else if(this.item){this.items=[];for(var t=1;t<=this.num;t++){var e=(this.num-t-(this.num-this.maxperpage))*this.itemsSpace-4-this.size.height/2+this.itemsSpace/2,o=new cc.Node,i=o.addComponent(cc.Sprite);i.sizeMode=cc.Sprite.SizeMode.RAW,i.trim=!1,o.setPosition(cc.v2(o.x,e)),o.name="grid",this.clip.addChild(o),this.gridImg&&(i.spriteFrame=this.gridImg);var n=new cc.Node;n.name="item","_"!=this.itemName&&(n.name=this.itemName),o.addChild(n),this.typeInfos?(n.addComponent(this.item).typeInfos=this.typeInfos[t-1],n.getComponent(this.item).init({size:this.itemSize,bar:this.node,id:t,mainLayer:this.mainLayer,coinNumInfo:this.coinNumInfo,coinPre:this.coinPre,starPre:this.starPre})):n.addComponent(this.item).init({size:this.itemSize,bar:this.node,id:t,mainLayer:this.mainLayer,coinNumInfo:this.coinNumInfo,coinPre:this.coinPre,starPre:this.starPre}),this.items.push(o)}this.itemsNum=this.num}},e.prototype.enter=function(){var t=this;this.isEnter||(this.isEnter=!0,this.die=!1,this.node.opacity=255,this.items.forEach(function(e,o){var i=(t.num-(o+1)-(t.num-t.maxperpage))*t.itemsSpace-4-t.size.height/2+t.itemsSpace/2;e.setPosition(cc.v2(e.x,i))}),this.node.runAction(cc.sequence(cc.moveTo(this.time,r.G35_utils.convertToSpacePos(this.pos,this.node.parent)),cc.callFunc(function(){t.startAutoScroll(),t.registerTouch()}))))},e.prototype.quit=function(t){var e=this;if(this.isEnter){this.die=!0;var o=a.G35_globalView.viewSize;this.isEnter=!1,t=t||cc.v2(o.width/2+this.node.width,this.node.y),this.node.runAction(cc.sequence(cc.moveTo(this.time,t),cc.callFunc(function(){e.node.opacity=0})))}},e.prototype.startAutoScroll=function(t){var e=this;this.autoScrollAct&&this.stopAutoScroll(),t=t||this.autoMoveDirection,this.autoScrollAct=cc.repeatForever(cc.sequence(cc.callFunc(function(){e.scroll(t)}),cc.delayTime(1/30))),this.node.runAction(this.autoScrollAct)},e.prototype.stopAutoScroll=function(){this.autoScrollAct&&(this.node.stopAction(this.autoScrollAct),this.autoScrollAct=null),this.delayTimeScroll&&(this.node.stopAction(this.delayTimeScroll),this.delayTimeScroll=null)},e.prototype.delayTimeStartScroll=function(){var t=this;this.delayTimeScroll=cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.startAutoScroll()})),this.node.runAction(this.delayTimeScroll)},e.prototype.scroll=function(t){var e=this;if(!(this.itemsNum<=4&&this.itemsSpace<122)){if(this.itemsNum<=3){var o=this.items;o.length;o.forEach(function(t,o){t.setPosition(cc.v2(t.x,(3-o)*e.itemsSpace-4-e.size.height/2-e.itemsSpace/2))})}this.items.forEach(function(o,i){o.y=o.y+t.y,o.y>e.size.height/2+e.itemsSpace/2&&(o.y=o.y-e.itemsSpace*e.itemsNum),o.y<-e.size.height/2-e.itemsSpace/2&&(o.y=o.y+e.itemsSpace*e.itemsNum),o.nowPos=o.position})}},e.prototype.registerTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStarted,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnded,this)},e.prototype.onTouchStarted=function(t){this.die||(this.stopAutoScroll(),this.beganPos=t.getLocation(),this.pTouch=t.getLocation())},e.prototype.onTouchMoved=function(t){if(!this.die){if(!this.isScroll||this.cannotMove)return!1;var e=t.getLocation(),o=e.sub(this.pTouch);this.pTouch=e,this.touchMove(o,e)}},e.prototype.onTouchEnded=function(t){if(!this.die){if(!this.isScroll)return!1;this.isCanScroll=!1,this.delayTimeStartScroll()}},e.prototype.touchMove=function(t,e){var o=this.node.parent.convertToWorldSpaceAR(this.node.position);!this.isCanScroll&&Math.abs(e.x-o.x)<this.node.width/2?this.scroll(t):this.isCanScroll=!0},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils"}],G35_SeabedRes:[function(t,e,o){"use strict";cc._RF.push(e,"61362PYzQtMnqJAECZ5oDSO","G35_SeabedRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.handGuide=null,e.playLight=null,e.mask=null,e.fish=null,e.crab=null,e.jellyfish=null,e.box=null,e.imgMaskNode=null,e.thing=null,e.zhaodao=null,e.thingfish=null,e.poingImg=null,e.bgAlt=null,e.fishAlt=null,e.plantAlt=null,e.fishplantAlt=null,e.hidgrassAlt=null,e.comAlt=null,e.thingAlt=null,e.stoneAlt=null,e.fishstoneAlt=null,e.guideAlt=[],e.a22801039=null,e.a228017=null,e.a228009=null,e.a22801003=null,e.a22801004=null,e.a22801006=null,e.a22801009=null,e.a22801010=null,e.a22801041=null,e.thingAudio=[],e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"handGuide"})],e.prototype,"handGuide",void 0),n([s({type:cc.Prefab,tooltip:"playLight"})],e.prototype,"playLight",void 0),n([s({type:cc.Prefab,tooltip:"mask"})],e.prototype,"mask",void 0),n([s({type:cc.Prefab,tooltip:"\u9c7c"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"\u5bc4\u5c45\u87f9"})],e.prototype,"crab",void 0),n([s({type:cc.Prefab,tooltip:"\u6c34\u6bcd"})],e.prototype,"jellyfish",void 0),n([s({type:cc.Prefab,tooltip:"\u5b9d\u7bb1"})],e.prototype,"box",void 0),n([s({type:cc.Prefab,tooltip:"\u56fe\u50cf\u906e\u7f69"})],e.prototype,"imgMaskNode",void 0),n([s({type:cc.Prefab,tooltip:"thing"})],e.prototype,"thing",void 0),n([s({type:cc.Prefab,tooltip:"zhaodao"})],e.prototype,"zhaodao",void 0),n([s({type:cc.Prefab,tooltip:"thingfish"})],e.prototype,"thingfish",void 0),n([s({type:cc.SpriteFrame,tooltip:"point"})],e.prototype,"poingImg",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bg"})],e.prototype,"bgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fish"})],e.prototype,"fishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"plant"})],e.prototype,"plantAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fishplantAlt"})],e.prototype,"fishplantAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"hidgrass"})],e.prototype,"hidgrassAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"comAlt"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"thing"})],e.prototype,"thingAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"stone"})],e.prototype,"stoneAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fishstoneAlt"})],e.prototype,"fishstoneAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u5f15\u5bfc"})],e.prototype,"guideAlt",void 0),n([s({type:cc.AudioClip,tooltip:"22801039"})],e.prototype,"a22801039",void 0),n([s({type:cc.AudioClip,tooltip:"228017"})],e.prototype,"a228017",void 0),n([s({type:cc.AudioClip,tooltip:"228009"})],e.prototype,"a228009",void 0),n([s({type:cc.AudioClip,tooltip:"22801003"})],e.prototype,"a22801003",void 0),n([s({type:cc.AudioClip,tooltip:"22801004"})],e.prototype,"a22801004",void 0),n([s({type:cc.AudioClip,tooltip:"22801006"})],e.prototype,"a22801006",void 0),n([s({type:cc.AudioClip,tooltip:"22801009"})],e.prototype,"a22801009",void 0),n([s({type:cc.AudioClip,tooltip:"22801010"})],e.prototype,"a22801010",void 0),n([s({type:cc.AudioClip,tooltip:"22801041"})],e.prototype,"a22801041",void 0),n([s({type:cc.AudioClip,tooltip:"thingAudio"})],e.prototype,"thingAudio",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeabedStartQiqi:[function(t,e,o){"use strict";cc._RF.push(e,"630edEehu9EAZJNvsUj/oEU","G35_SeabedStartQiqi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/Manager/AudioManager"),r=t("./G35_SeabedstartRes"),s=t("../../Common/G35_ImageFrame"),c=t("../../../GameUtils/G35_GlobalView"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._layer=null,e.res=null,e.personDragon=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay);var t=c.G35_globalView.offset;this.offset=t,this.offy=1.1,this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.say=function(){var t=this;this.personDragon.playAnimation("hdqq_sh",-1),a.audioManager.playLine(this.res.a228007),this._layer&&this._layer.loadImageFrame(),cc.tween(this.node).delay(a.audioManager.getDurationByMap("228007",0)-.5).call(function(){t._layer._imageFrame&&t._layer._imageFrame.getComponent(s.default).quit()}).delay(.5).call(function(){t.jump2Sea()}).start()},e.prototype.jump2Sea=function(){var t=this;this.node.stopAllActions(),this.personDragon.playAnimation("hdqq_tiao1",-1),a.audioManager.playEffect(this.res.a22801001),cc.tween(this.node).parallel(cc.tween().then(cc.jumpTo(1,cc.v2(210+this.offset.x-cc.winSize.width/2,60+this.offset.y-cc.winSize.height/2),200,1).easing(cc.easeSineIn())),cc.tween().to(1,{scaleX:-.9,scaleY:.9},{easing:"sineIn"})).call(function(){var e=cc.instantiate(t.res.qiqitiaoshui);e.parent=t._layer.node,e.zIndex=52,e.setPosition(cc.v2(210+t.offset.x-cc.winSize.width/2,110+t.offset.y-cc.winSize.height/2)),t.personDragon.playAnimation("hdqq_tiao3",-1)}).by(.4,{y:50}).start(),cc.tween(this.node).delay(.5).call(function(){t.node.zIndex=50}).start(),this._layer.boatDown()},e.prototype.movementHandler=function(){"hdqq_tiao1"==this.personDragon.animationName?this.personDragon.playAnimation("hdqq_tiao2",-1):"hdqq_tiao3"==this.personDragon.animationName?this.personDragon.playAnimation("hdqq_nyouzb",-1):"hdqq_nyouzb"==this.personDragon.animationName&&(this.personDragon.playAnimation("hdqq_zyzyoux",-1),this._layer.finish())},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../Common/G35_ImageFrame":"G35_ImageFrame","./G35_SeabedstartRes":"G35_SeabedstartRes"}],G35_SeabedfindFish:[function(t,e,o){"use strict";cc._RF.push(e,"01c80BzQYxJDY6Uk1qNCIJm","G35_SeabedfindFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../../lib/core/util/ArrayUtil"),s=t("./G35_SeabedfindThing"),c=t("../../../../lib/business/Manager/AudioManager"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name=null,e._layer=null,e._hidingPlace=null,e._dir=-1,e.personDragon=null,e}return i(e,t),e.prototype.play_prepareHide=function(){console.log("\u9884\u5907"),this.personDragon.playAnimation(this._name+"_dc1",0)},e.prototype.play_rushIntoGrass=function(){console.log("\u51b2\u8fdb\u8349\u4e1b"),this.personDragon.playAnimation(this._name+"_dc2",1)},e.prototype.play_standby=function(){console.log("\u5f85\u673a"),this.personDragon.playAnimation(this._name+"_dc3",1)},e.prototype.play_swim=function(){console.log("\u666e\u901a\u6e38"),this.personDragon.playAnimation(this._name+"_you",0)},e.prototype.play_fastSwim=function(){console.log("\u5feb\u901f\u6e38"),this.personDragon.playAnimation(this._name+"_ksyou",0)},e.prototype.readyHide=function(){var t=this;if(this.selectHidingPlace(),this._hidingPlace)if(this.node.stopAllActions(),this.play_swim(),6!=this._hidingPlace.getComponent(s.default)._id){var e=this._hidingPlace.convertToWorldSpaceAR(cc.v2(0,0));this.fishTurnAround(e);var o=cc.v2(this.node.convertToWorldSpaceAR(cc.v2(0,0)).x,this.node.convertToWorldSpaceAR(cc.v2(0,0)).y),i=cc.v2(e.x+(this._hidingPlace.width/2+[0,30,10,0,-40,0][this._hidingPlace.getComponent(s.default)._id])*this._dir,e.y);o.sub(i).mag();cc.tween(this.node).call(function(){t.hideInThing()}).start()}else this.hideInFish(null)},e.prototype.selectHidingPlace=function(){var t=r.default.getRandomItem(this._layer._things);this._hidingPlace=t},e.prototype.hideInThing=function(){this.node.stopAllActions(),a.G35_utils.resetParent(this.node,this._hidingPlace,30);var t=this._hidingPlace.getComponent(s.default)._centerP;this.fishTurnAround(t),cc.tween(this.node).to(.4,{x:t.x,y:t.y}).start()},e.prototype.hideInFish=function(t){var e=this,o=a.G35_utils.convertPosition(this._hidingPlace,this._layer.node),i=cc.v2(o.x+190,o.y+90),n=a.G35_utils.getDistace(this.node,this._hidingPlace)/600;cc.tween(this.node).parallel(cc.tween().to(n,{x:i.x,y:i.y}),cc.tween().to(n,{scale:.8})).call(function(){e.node.scaleX=1,t&&e.play_standby()}).start()},e.prototype.found=function(){var t=this;c.audioManager.playEffect(this._layer.res.a22801039),cc.tween(this.node).by(.4,{x:180*this._dir}).call(function(){a.G35_utils.resetParent(t.node,t._layer.node,20);var e=t._layer._hole.position;t.fishTurnAround(e),cc.tween(t.node).to(.3,{x:e.x,y:e.y}).call(function(){t.play_standby()}).start()}).start()},e.prototype.fishTurnAround=function(t){this._dir;t.x<this.node.x?(this.node.scaleX=1,this._dir=-1):(this.node.scaleX=-1,this._dir=1)},e.prototype.adjustRotate=function(t){var e=this.node.x-t.x,o=this.node.y-t.y,i=Math.abs(o)/Math.abs(e),n=0;return o>0&&e>=0?n=180*-Math.atan(i)/Math.PI:o>0&&e<=0?n=180*Math.atan(i)/Math.PI-180:o<=0&&e<0?n=180-180*Math.atan(i)/Math.PI:o<=0&&e>0&&(n=180*Math.atan(i)/Math.PI),1==this._dir&&(n+=180),n},e.prototype.movementHandler=function(){this.personDragon.animationName==this._name+"_dc3"&&(3==this._layer._findNum&&1==this._layer._currentIndex?(this.play_swim(),this._layer.switchesScreen()):this._hidingPlace&&6!=this._hidingPlace.getComponent(s.default)._id&&this.readyHide())},e.prototype.onLoad=function(){this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay)},e.prototype.start=function(){this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedfindThing":"G35_SeabedfindThing"}],G35_SeabedfindThing:[function(t,e,o){"use strict";cc._RF.push(e,"4692fCa33VKv5SHeRFhPteb","G35_SeabedfindThing");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../../lib/core/util/ArrayUtil"),c=t("../../../GameUtils/Tools/G35_CommonAct"),l=t("../../../../lib/business/Manager/AudioManager"),u=t("./G35_SeabedRes"),d=t("./G35_SeabedfindFish"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._id=null,e._layer=null,e._things=[],e._centerP=null,e}var o;return i(e,t),o=e,e.prototype.loadDisplay=function(){switch(this.node.setContentSize(200,200),this._id){case 1:this.addConch();break;case 2:this.addGrass();break;case 3:this.addBox();break;case 4:this.addJellyfish();break;case 5:this.addCrad();break;case 6:this.addFish()}this.darken()},e.prototype.addConch=function(){r.G35_utils.creatNode(this.res.newNode,this.res.plantAlt.getSpriteFrame("6"),this.node,cc.v2(66,101),1,50);var t=r.G35_utils.creatNode(this.res.newNode,this.res.thingAlt.getSpriteFrame("conch-1"),this.node,cc.v2(this.node.width/2,this.node.height/2),1,50);this._centerP=cc.v2(this.node.width/2+10,this.node.height/2-20),this._things.push(t)},e.prototype.addGrass=function(){for(var t=[cc.v2(.5,0),cc.v2(.5,0),cc.v2(.6,0),cc.v2(.2,.1)],e=[cc.v2(137.7,50.1),cc.v2(47,50),cc.v2(100.3,43),cc.v2(145.3,46)],o=[[3,-3],[-3,3]],i=[55,55,60,55],n=0;n<4;n++){var a=r.G35_utils.creatNode(this.res.newNode,this.res.hidgrassAlt.getSpriteFrame("4-"+(n+1)),this.node,e[n],1,i[n]);a.setAnchorPoint(t[n]),n>1&&(a._changeValue=.05,a._startAngle=o[n-2][1],a._endAngle=o[n-2][2],this._layer.plantAction(a,1),this._things.push(a))}this._centerP=cc.v2(this.node.width/2+30,this.node.height/2)},e.prototype.addBox=function(){var t=cc.instantiate(this.res.box);t._name="bx",t.parent=this.node,t.zIndex=55,t.getComponent(dragonBones.ArmatureDisplay).playAnimation("bx_daiji",-1),t.getComponent(dragonBones.ArmatureDisplay).timeScale=.2,t.setPosition(this.node.width/2,this.node.height/2-5),this._things.push(t);for(var e=[cc.v2(36.1,65),cc.v2(33.2,61),cc.v2(170,71),cc.v2(184,80)],o=0;o<4;o++)r.G35_utils.creatNode(this.res.newNode,this.res.plantAlt.getSpriteFrame("box-"+(o+1)),this.node,e[o],1,50);this._centerP=cc.v2(this.node.width/2+15,this.node.height/2+5)},e.prototype.addJellyfish=function(){var t=cc.instantiate(this.res.jellyfish);t.parent=this.node,t._name="smu",t.getComponent(dragonBones.ArmatureDisplay).playAnimation("smu_daiji",-1),t.getComponent(dragonBones.ArmatureDisplay).timeScale=.2,this._things.push(t),t.setPosition(cc.v2(this.node.width/2,this.node.height/2)),t.zIndex=55;r.G35_utils.creatNode(this.res.newNode,this.res.plantAlt.getSpriteFrame("14"),this.node,cc.v2(53.9,120),1,50),r.G35_utils.creatNode(this.res.newNode,this.res.plantAlt.getSpriteFrame("15"),this.node,cc.v2(123.4,120),1,50);this._centerP=cc.v2(this.node.width/2+20,this.node.height/2+30)},e.prototype.addCrad=function(){var t=cc.instantiate(this.res.crab);t._name="stjjx",t.getComponent(dragonBones.ArmatureDisplay).playAnimation("stjjx_daiji",-1),t.getComponent(dragonBones.ArmatureDisplay).timeScale=.2,t.parent=this.node,t.zIndex=50,t.setPosition(cc.v2(80,this.node.height/2+40)),this._things.push(t),this._centerP=cc.v2(this.node.width/2+50,this.node.height/2-30)},e.prototype.addFish=function(){for(var t=["xcy","jdy","ywy"],e=[cc.v2(131.6,36.6),cc.v2(73,105),cc.v2(175.3,150)],o=0;o<3;o++){var i=cc.instantiate(this.res.fish);i.parent=this.node,i.zIndex=50,i.setPosition(e[o]),i._name=t[o],i.getComponent(dragonBones.ArmatureDisplay).playAnimation(t[o]+"_you",-1),this._things.push(i)}var n=[cc.v2(25,72.6),cc.v2(119,100)];for(o=0;o<2;o++)r.G35_utils.creatNode(this.res.newNode,this.res.thingAlt.getSpriteFrame("grass-"+(o+1)),this.node,n[o],1,5-o);this._centerP=cc.v2(120,100)},e.prototype.darken=function(){var t=this;this._things.forEach(function(e,o){e.color=cc.color(100,100,100),e._name&&t.setGray(e,!0)})},e.prototype.brighten=function(){var t=this;this._things.forEach(function(e,o){var i=0;cc.tween(e).repeat(5,cc.tween().call(function(){i+=1,e.color=cc.color(80+175*i/5,80+175*i/5,80+175*i/5)}).delay(.06)).start(),e._name&&t.setGray(e,!0)})},e.prototype.setGray=function(t,e){var o=t.getComponent(dragonBones.ArmatureDisplay);if(o){var i=o._materials[0];i._props.gray=e?1:0,o.setMaterial(0,i)}},e.prototype.found=function(){var t=this;if(this.brighten(),s.default.removeObj(this._layer._things,this.node),1==this._id)cc.tween(this._things[0]).call(function(){c.G35_commonAct.filenames(t._things[0],c.G35_commonAct.getSpriteFrameArrForName(t.res.thingAlt,"conch-",1,22))}).delay(2.2).call(function(){t.showCompleted()}).start(),l.audioManager.playEffect(this.res.a22801009);else if(2==this._id){var e=cc.instantiate(this.res.thingfish);e.parent=this.node,e.zIndex=58,e.setPosition(cc.v2(150,100)),e.getComponent(dragonBones.ArmatureDisplay).playAnimation("chuany_chu1",.8),cc.tween(e).delay(2).call(function(){t.showCompleted(),e.getComponent(dragonBones.ArmatureDisplay).playAnimation("chuany_chu2",-1)}).delay(1).removeSelf().start(),l.audioManager.playEffect(this.res.a22801006),this._things.forEach(function(t,e){var o=6;2==e&&(o=-6),cc.tween(t).delay(.3).to(.2,{angle:o}).to(.2,{angle:-o}).to(.2,{angle:o}).to(.2,{angle:-o}).start()})}else this._id<6?(this._things[0].getComponent(dragonBones.ArmatureDisplay).playAnimation(this._things[0]._name+"_zhaodao",-1),this.personDragon=this._things[0].getComponent(dragonBones.ArmatureDisplay),this._things[0].getComponent(dragonBones.ArmatureDisplay).timeScale=.5,this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.thingMovementHandler,this),l.audioManager.playEffect(this.res.thingAudio[this._id-3])):6==this._id&&(l.audioManager.playEffect(this.res.a22801010),this._things[0].getComponent(dragonBones.ArmatureDisplay).playAnimation(this._things[0]._name+"_ksyou",-1),this._things[1].getComponent(dragonBones.ArmatureDisplay).playAnimation(this._things[1]._name+"_dc3",-1),this._things[2].getComponent(dragonBones.ArmatureDisplay).playAnimation(this._things[2]._name+"_dc3",-1),this._layer._fish.getComponent(d.default)._hidingPlace==this._id?this._layer._fish.getComponent(d.default).play_swim():(r.G35_utils.resetParent(this._layer._fish,this._layer.node,20),this._layer._fish.getComponent(d.default)._hidingPlace=this.node,this._layer._fish.getComponent(d.default).play_swim(),this._layer._fish.getComponent(d.default).hideInFish(!0)),this._layer.nextScene())},e.prototype.thingMovementHandler=function(){var t=this;this.personDragon.animationName==this._things[0]._name+"_zhaodao"&&(this.showCompleted(),this._things[0].getComponent(dragonBones.ArmatureDisplay).playAnimation(this._things[0]._name+"_daiji",-1),this._things[0].getComponent(dragonBones.ArmatureDisplay).timeScale=.2,4==this._id&&(this._things[0].getComponent(dragonBones.ArmatureDisplay).playAnimation("smu_zhaodao1",1),this.scheduleOnce(function(){t._things[0].getComponent(dragonBones.ArmatureDisplay).playAnimation("smu_daiji",-1),t._things[0].getComponent(dragonBones.ArmatureDisplay).timeScale=.2},.5)))},e.prototype.showCompleted=function(){this._layer._findNum++,this._layer._fish.getComponent(d.default)._hidingPlace&&this._layer._fish.getComponent(d.default)._hidingPlace.getComponent(o)._id==this._id&&this._layer._fish.getComponent(d.default).found(),3!=this._layer._findNum&&(this._layer._canTouch=!0)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(u.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay),this.loadDisplay()},e.prototype.start=function(){},e=o=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_SeabedRes":"G35_SeabedRes","./G35_SeabedfindFish":"G35_SeabedfindFish"}],G35_Seabedfind:[function(t,e,o){"use strict";cc._RF.push(e,"b9eecBBBfhLXoysgHELn9W1","G35_Seabedfind");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../GameUtils/G35_Utils"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("./G35_SeabedRes"),u=t("./G35_SeabedfindFish"),d=t("./G35_SeabedfindThing"),p=t("../../Common/G35_HandGuide"),h=t("../../../../lib/core/util/PlatformUtil"),f=t("../../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._plant=[],e._grasses=[],e._currentLevel=1,e._currentFishNum=0,e._hideFishGrass=[],e._fishNum=1,e._totalFishNum=10,e._wrongFishCount=0,e._touchCount=0,e._canTouch=!0,e._canHide=!1,e._moveToPostion=null,e.canTouch=!1,e.mainScript=null,e._bgNode=null,e._canvas=null,e._guideAct=null,e.handGuide=null,e._hole=null,e._model=null,e._fish=null,e._mask=null,e._firstEnter=!1,e._moveAction=null,e._nodes=[],e.BG_SCALE=1.25,e._space=1280,e._things=[],e._exceptTab=[],e._currentIndex=1,e._findNum=0,e._moveSpeedMin=15,e._moveSpeedMax=24,e._ratio=.25,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.init(),this.loadBg(),this.loadMask(),this.loadFish(),h.default.isBBMGSimulatePlatform()&&f.default.getInstance().isBannerAdExist()&&f.default.getInstance().hideBannerAd()},e.prototype.loadBg=function(){var t=0,e=this._currentIndex,o=s.G35_utils.creatNode(this.res.newNode,null,this._bgNode,cc.v2(0,0),1,5-this._currentIndex);o.zIndex=5-this._currentIndex,o.setContentSize(10,10),this._nodes[e-1]=o,2==e&&(t=this._space);for(var i=[cc.v2(t,-cc.winSize.height/2),cc.v2(t,-cc.winSize.height/2),cc.v2(t,280*this.offy-cc.winSize.height/2)],n=0;n<3;n++){var a=s.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("land"+(n+1)+"_"+e),this._nodes[e-1],cc.v2(i[n]),1,100-25*(n+1));a.setContentSize(1.25*a.width,1.25*a.height),a.anchorY=0}var r=s.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("water"+e),this._nodes[e-1],cc.v2(t,430*this.offy-cc.winSize.height/2),1);r.setContentSize(1.25*r.width,1.25*r.height),r.anchorY=0;var c=[cc.v2(266,485*this.offy),cc.v2(cc.winSize.width-315+t,550*this.offy)],l=s.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame("thing"+e),this._nodes[e-1],cc.v2(c[e]),1);l.zIndex=2,1==e&&(l.scale=1.05),this.loadSeaDecorate(),this.loadThing()},e.prototype.loadSeaDecorate=function(){var t=this,e=0,o=this._currentIndex;2==o&&(e=this._space);var i=[];this.seaStoneArr()[o-1].forEach(function(i,n){var a=s.G35_utils.creatNode(t.res.newNode,i.img,t._nodes[o-1],cc.v2(i.pos.x+e-cc.winSize.width/2,i.pos.y-cc.winSize.height/2),1);a.zIndex=i.zor,i.scaleX&&(a.scaleX=i.scaleX)}),this.seaPlantArr()[o-1].forEach(function(n,a){var r=n.siz?n.siz:1,c=s.G35_utils.creatNode(t.res.newNode,n.img,t._nodes[o-1],cc.v2(n.pos.x+e-cc.winSize.width/2,n.pos.y-cc.winSize.height/2),1,n.zor);c.setAnchorPoint(n.anc),c.scale=r,n.isFilpX&&(c.scaleX=-1),n.act&&(n.changeValue&&(c._changeValue=n._changeValue),n.startAngle&&n.endAngle&&(c._startAngle=n.startAngle,c._endAngle=n.endAngle),n.dir&&(c._dir=n.dir),c._act=n.act,i.push(c))}),i.forEach(function(e,o){cc.tween(e).delay(.2*o).call(function(){t.plantAction(e,e._act)}).start()})},e.prototype.loadThing=function(){var t=[cc.v2(500,120),cc.v2(280,300*this.offy),cc.v2(700,260*this.offy),cc.v2(450+this._space,130),cc.v2(150+this._space,280*this.offy),cc.v2(640+this._space,300*this.offy)],e=this._currentIndex;if(1==e)for(var o=1;o<=3;o++){var i=s.G35_utils.numberExcept(1,5,this._exceptTab);this._exceptTab.push(i),(n=cc.instantiate(this.res.thing)).getComponent(d.default)._id=i,n.getComponent(d.default)._layer=this,n.parent=this._nodes[e-1],n.zIndex=80,n.setPosition(s.G35_utils.convertToSpacePos(t[o-1],n.parent)),this._things.push(n)}else{this._things=[];for(o=4;o<=6;o++){var n;i=s.G35_utils.numberExcept(1,6,this._exceptTab);this._exceptTab.push(i),(n=cc.instantiate(this.res.thing)).getComponent(d.default)._id=i,n.getComponent(d.default)._layer=this,n.parent=this._nodes[e-1],n.zIndex=80,n.setPosition(s.G35_utils.convertToSpacePos(t[o-1],n.parent)),this._things.push(n)}}},e.prototype.loadMask=function(){this._mask=this.node.getChildByName("mask").getChildByName("blackMask"),cc.tween(this._mask).to(.3,{opacity:180}).start(),this.loadHole()},e.prototype.loadHole=function(){var t=this;this._model=this.node.getChildByName("mask"),this._model.active=!0,this._model.zIndex=50;var e=this.node.getChildByName("point");e.zIndex=100,this._hole=e,cc.tween(this._hole).to(.3,{scaleX:1}).call(function(){c.audioManager.playLine(t.res.a228017)}).delay(c.audioManager.getDurationByMap("228017")).call(function(){t._canTouch=!0,t.moveAction(),t.openGuide()}).start(),cc.tween(this._model).to(.3,{scale:1}).start()},e.prototype.loadFish=function(){var t=cc.instantiate(this.res.fish);t.parent=this.node,t.zIndex=20,t.getComponent(dragonBones.ArmatureDisplay).playAnimation("ld_you",0),t.getComponent(u.default)._name="ld",t.getComponent(u.default)._layer=this,this._fish=t},e.prototype.plantAction=function(t,e){switch(e){case 1:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,t.scaleX-.03,t.scaleY+.03),cc.rotateTo(1,t._startAngle)),cc.spawn(cc.scaleTo(1,t.scaleX,t.scaleY),cc.rotateTo(1,t._endAngle))))).start();break;case 2:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX-t._changeValue,t.scaleY+t._changeValue),cc.scaleTo(1,t.scaleX,t.scaleY)))).start();break;case 3:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX+t._changeValue,t.scaleY-t._changeValue),cc.scaleTo(1,t.scaleX,t.scaleY),cc.scaleTo(1,t.scaleX+t._changeValue,t.scaleY-t._changeValue),cc.scaleTo(1,t.scaleX,t.scaleY),cc.scaleTo(.5,t.node.scaleX+.1,t.scaleY-.1).easing(cc.easeExponentialInOut()),cc.scaleTo(.1,t.scaleX,t.scaleY)))).start();break;case 4:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,t.scaleX-t._changeValue,t.scaleY+t._changeValue),cc.moveBy(1,cc.v2(8*t._decorator,0))),cc.spawn(cc.scaleTo(1,t.scaleX,t.scaleY),cc.moveBy(1,cc.v2(8*-t._decorator,0)))))).start()}},e.prototype.detectCollision=function(){var t=this;this._things.forEach(function(e,o){var i=e.convertToWorldSpaceAR(e.getComponent(d.default)._centerP);!e._isFind&&i.sub(t._hole.convertToWorldSpaceAR(cc.v2(0,0))).mag()<100&&(t._moveToPostion=null,e._isFind=!0,t._canTouch=!1,t.findThing(e,i))})},e.prototype.switchesScreen=function(){var t=this;if(2!=this._currentIndex){var e=this._hole.position.sub(cc.v2(cc.winSize.width/2,cc.winSize.height/2)).mag()/400;this.stopMove(),this._currentIndex=this._currentIndex+1,this.loadBg(),cc.tween(this._hole).to(e,{x:0,y:0}).call(function(){cc.tween(t._bgNode).by(2,{x:-t._space},{easing:"sineOut"}).call(function(){t._fish.getComponent(u.default).play_swim(),t._nodes[0].destroy(),t._canTouch=!0,t._moveToPostion=null,t.moveAction()}).start()}).start(),cc.tween(this._model).to(e,{x:0,y:0}).start(),this.fishSwitchesScreen(e)}},e.prototype.fishSwitchesScreen=function(t){var e=this;this._fish.stopAllActions(),this._fish.getComponent(u.default).fishTurnAround(cc.v2(cc.winSize.width/2,cc.winSize.height/2)),c.audioManager.playEffect(this.res.a22801041),cc.tween(this._fish).to(t,{x:0,y:0}).call(function(){e._fish.getComponent(u.default).play_fastSwim(),e._fish.getComponent(u.default).fishTurnAround(cc.v2(cc.winSize.width,cc.winSize.height/2))}).delay(2.5).call(function(){e._fish.getComponent(u.default).readyHide()}).start()},e.prototype.findThing=function(t,e){var o=this;this._canTouch=!1,e=this.node.convertToNodeSpaceAR(e);var i=this._hole.scale;6==t._id&&(i+=.2),cc.tween(this._hole).parallel(cc.tween().to(.2,{scale:i+.2}).to(.2,{scale:i-.1}).to(.2,{scale:i+.06}),cc.tween().to(.2,{x:e.x,y:e.y})).call(function(){c.audioManager.playEffect(o.res.a22801004);var e=cc.instantiate(o.res.zhaodao);e.parent=o._hole,e.setPosition(cc.v2(0,0)),t.getComponent(d.default).found()}).start(),cc.tween(this._model).parallel(cc.tween().to(.2,{scale:i+.2}).to(.2,{scale:i-.1}).to(.2,{scale:i+.06}),cc.tween().to(.2,{x:e.x,y:e.y})).start()},e.prototype.nextScene=function(){var t=this;this.stopGuide(),c.audioManager.playLine(this.res.a228009),cc.tween(this._mask).to(.3,{opacity:255}).start();this._hole.position;cc.tween(this._hole).delay(3).parallel(cc.tween().to(.3,{scale:0}),cc.tween().call(function(){cc.tween(t._model).to(.3,{scale:0}).start()})).delay(.1).call(function(){c.audioManager.playEffect(t.res.a22801003),cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seabedfishing"),h.default.isBBMGSimulatePlatform()&&f.default.getInstance().isBannerAdExist()&&f.default.getInstance().showBannerAd()}).start()},e.prototype.openGuide=function(){var t=this;this._guideAct||(this._firstEnter?(this._firstEnter=!1,this._guideAct=cc.tween(this.node).delay(.5).call(function(){t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(p.default).handGuide(t._hole,cc.v2(0,0))}).start()):this._guideAct=cc.tween(this.node).delay(5).call(function(){t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(p.default).handGuide(t._hole,cc.v2(0,0))}).start())},e.prototype.stopGuide=function(){this._guideAct&&(this._guideAct.stop(),this._guideAct=null,this.handGuide&&this.handGuide.isValid&&this.handGuide.getComponent(p.default).removeHand())},e.prototype.moveAction=function(){var t=this;this._moveAction||(this._moveAction=cc.tween(this.node).repeatForever(cc.tween().call(function(){t.move2Finger()}).delay(1/30)).start())},e.prototype.stopMove=function(){this._moveAction&&(this.node.stopAllActions(),this._moveAction=null)},e.prototype.move2Finger=function(){if(this._moveToPostion){var t=this._hole.convertToWorldSpaceAR(cc.v2(0,0)),e=this._moveToPostion.x-t.x,o=this._moveToPostion.y-t.y,i=Math.sqrt(e*e+o*o);if(!(i<this._moveSpeedMin)){var n=this._ratio,a=i*n;a<this._moveSpeedMin?n=this._moveSpeedMin/i:a>this._moveSpeedMax&&(n=this._moveSpeedMax/i);var r=t.x+e*n,c=t.y+o*n;this._hole.position=s.G35_utils.convertToSpacePos(cc.v2(r,c),this._hole.parent),this._model.position=s.G35_utils.convertToSpacePos(cc.v2(r,c),this._model.parent),i<100&&this.detectCollision()}}},e.prototype.touchStart=function(t){if(this._canTouch)return!this._canHide&&this._fish&&(this._canHide=!0,this._fish.getComponent(u.default).readyHide()),this._moveToPostion=t.getLocation(),this.stopGuide(),!0},e.prototype.touchMove=function(t){var e=t.getLocation();if(this._canTouch){var o=this._hole.height/4;e.x>cc.winSize.width-o&&(e.x=cc.winSize.width-o),e.x<o&&(e.x=o),e.y<o&&(e.y=o),e.y>cc.winSize.height-2*o&&(e.y=cc.winSize.height-2*o),this._moveToPostion=e}},e.prototype.touchEnd=function(t){this._moveToPostion=null,this._canTouch&&this.openGuide()},e.prototype.seaStoneArr=function(){return[[{zor:100,img:this.res.stoneAlt.getSpriteFrame("1"),pos:cc.v2(90+this.offset.x,37)},{zor:60,img:this.res.stoneAlt.getSpriteFrame("5"),pos:cc.v2(-92+this.offset.x,350*this.offy)},{zor:100,img:this.res.stoneAlt.getSpriteFrame("6"),pos:cc.v2(950,50)}],[{zor:100,img:this.res.stoneAlt.getSpriteFrame("3"),pos:cc.v2(114+this.offset.x,26)},{zor:51,img:this.res.stoneAlt.getSpriteFrame("4"),pos:cc.v2(100+this.offset.x,420*this.offy)},{zor:100,img:this.res.fishstoneAlt.getSpriteFrame("2"),pos:cc.v2(cc.winSize.width+this.offset.x,58),scaleX:-1}]]},e.prototype.seaPlantArr=function(){return[[{pos:cc.v2(50,-15),zor:100,img:this.res.plantAlt.getSpriteFrame("1"),anc:cc.v2(.5,0),act:1,startAngle:-3,endAngle:0},{pos:cc.v2(30,60),zor:98,img:this.res.plantAlt.getSpriteFrame("2"),anc:cc.v2(.5,0),act:2,changeValue:.02},{pos:cc.v2(1040,-60),zor:98,img:this.res.plantAlt.getSpriteFrame("3"),anc:cc.v2(.5,0)},{pos:cc.v2(610,443*this.offy),zor:40,img:this.res.plantAlt.getSpriteFrame("4"),anc:cc.v2(.5,0),act:1,startAngle:3,endAngle:-3},{pos:cc.v2(20+this.offset.x,398*this.offy),zor:65,img:this.res.plantAlt.getSpriteFrame("8"),anc:cc.v2(.1,.1),act:1,startAngle:3,endAngle:-3},{pos:cc.v2(15+this.offset.x,400*this.offy),zor:55,img:this.res.plantAlt.getSpriteFrame("9"),anc:cc.v2(.3,.1),act:1,startAngle:-3,endAngle:3},{pos:cc.v2(825,-43),zor:100,img:this.res.hidgrassAlt.getSpriteFrame("2-1"),anc:cc.v2(.5,0),siz:.8},{pos:cc.v2(1e3,66),zor:99,img:this.res.fishplantAlt.getSpriteFrame("1"),anc:cc.v2(.2,0),siz:.8,isFilpX:!0,act:1,startAngle:-3,endAngle:0}],[{pos:cc.v2(cc.winSize.width-120,90),zor:99,img:this.res.plantAlt.getSpriteFrame("1"),anc:cc.v2(.5,0),siz:.6,act:1,startAngle:-3,endAngle:0},{pos:cc.v2(217+this.offset.x,-14),zor:100,img:this.res.plantAlt.getSpriteFrame("10"),anc:cc.v2(.8,0),act:1,startAngle:-3,endAngle:3},{pos:cc.v2(217+this.offset.x,-14),zor:100,img:this.res.plantAlt.getSpriteFrame("11"),anc:cc.v2(.4,0),act:1,startAngle:3,endAngle:-3},{pos:cc.v2(cc.winSize.width-28,175),zor:97,img:this.res.fishplantAlt.getSpriteFrame("1"),anc:cc.v2(.8,0),siz:1.3,act:1,startAngle:-3,endAngle:0},{pos:cc.v2(cc.winSize.width+8,-14),zor:110,img:this.res.plantAlt.getSpriteFrame("19"),anc:cc.v2(1,0),siz:.9,isFilpX:!0,act:1,startAngle:-2,endAngle:2},{pos:cc.v2(cc.winSize.width-135,45),zor:98,img:this.res.fishplantAlt.getSpriteFrame("2"),anc:cc.v2(.5,0),siz:.9},{pos:cc.v2(cc.winSize.width-66,80),zor:98,img:this.res.fishplantAlt.getSpriteFrame("3"),anc:cc.v2(.3,0),siz:.9}],[{pos:cc.v2(1013,410),zor:51,img:this.res.stoneAlt.getSpriteFrame("7"),anc:cc.v2(.5,.5)},{pos:cc.v2(1160,298),zor:53,img:this.res.fishstoneAlt.getSpriteFrame("5"),anc:cc.v2(.5,.5)},{pos:cc.v2(1002,511),zor:51,img:this.res.plantAlt.getSpriteFrame("18"),anc:cc.v2(.5,0),siz:1.1,act:1,dir:1,changeValue:.03},{pos:cc.v2(1002,511),zor:52,img:this.res.plantAlt.getSpriteFrame("17"),anc:cc.v2(.5,0),siz:1.1,act:1,dir:-1,changeValue:.03},{pos:cc.v2(1110,291),zor:52,img:this.res.plantAlt.getSpriteFrame("13"),anc:cc.v2(.7,0),act:1,startAngle:-3,endAngle:3},{pos:cc.v2(1171,287),zor:52,img:this.res.plantAlt.getSpriteFrame("1"),anc:cc.v2(.5,0),siz:.7}]]},e.prototype.init=function(){var t=this;this.res=cc.find("Canvas").getComponent(l.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this.offy=1+this.BG_SCALE-1.15,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this._bgNode=s.G35_utils.creatNode(this.res.newNode,null,this.node,cc.v2(0,0),1),this._bgNode.setContentSize(10,10),this.seaPlantArr()[2].forEach(function(e,o){var i=e.siz?e.siz:1,n=s.G35_utils.creatNode(t.res.newNode,e.img,t._bgNode,cc.v2(e.pos.x+t.offset.x-cc.winSize.width/2,e.pos.y-cc.winSize.height/2),1,e.zor);n.scale=i,n.setAnchorPoint(e.anc),e.isFilpX&&(n.scaleX=-1),e.act&&(e.changeValue&&(n._changeValue=e._changeValue),e.startAngle&&e.endAngle&&(n._startAngle=e.startAngle,n._endAngle=e.endAngle),e.dir&&(n._dir=e.dir),n._act=e.act,t.plantAction(n,e.act))})},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([_],e)}(a.default));o.default=y,cc._RF.pop()},{"../../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_HandGuide":"G35_HandGuide","./G35_SeabedRes":"G35_SeabedRes","./G35_SeabedfindFish":"G35_SeabedfindFish","./G35_SeabedfindThing":"G35_SeabedfindThing"}],G35_SeabedfishingFish:[function(t,e,o){"use strict";cc._RF.push(e,"3c6deJ9le1IGrMJx7zbHruu","G35_SeabedfishingFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("../../../../lib/core/util/ArrayUtil"),l=t("./G35_SeabedfishingRes"),u=t("../../../../lib/core/util/MathUtil"),d=t("./G35_SeabedfishingGrass"),p=t("./G35_SeabedfishingSucker"),h=t("../../Common/G35_ProgressBar"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._index=null,e._layer=null,e._name=null,e._pos=null,e._dir=-1,e._cnt=0,e._grassId=0,e._canHide=!0,e._canCaught=!0,e._canFastMove=!1,e._fastMove=!1,e._size=null,e._speed=null,e._top=null,e.evtType=1,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(l.default),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay);var t=r.G35_globalView.offset;this.offset=t,this.offy=1.1,this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this),this.init()},e.prototype.init=function(){this._size=1.1,1==this._index&&(this._size=1),this.node.setScale(this._size);this._speed=[8,10,9,6,6][this._index]/10;var t=[cc.v2(-30,0),cc.v2(-60,0),cc.v2(-30,0),cc.v2(-45,0),cc.v2(-35,0)],e=cc.find("point",this.node);e.setPosition(t[this._index]),e.opacity=0,this._top=e},e.prototype.play_prepareHide=function(){s.audioManager.playEffect(this.res.a22801033),this.personDragon.playAnimation(this._name+"_dc1",-1),this.evtType=1},e.prototype.play_rushIntoGrass=function(){this.personDragon.playAnimation(this._name+"_dc2",-1),this.evtType=1},e.prototype.play_standby=function(){this.personDragon.playAnimation(this._name+"_dc3",1),this.evtType=1},e.prototype.play_swim=function(){this.personDragon.playAnimation(this._name+"_you",0),this.evtType=2},e.prototype.play_caught=function(){this.personDragon.playAnimation(this._name+"_lz",-1),this.evtType=1},e.prototype.play_struggle=function(){var t=u.default.random(1,3);s.audioManager.playEffect(this.res.a22801032[t-1]),this.personDragon.playAnimation(this._name+"_zz",-1),this.evtType=1},e.prototype.play_fastSwim=function(){this.personDragon.playAnimation(this._name+"_ksyou",-1),this.evtType=1},e.prototype.randomMove=function(){var t=this,e=u.default.random(210+this.offset.x/2,cc.winSize.width-50),o=u.default.random(150+cc.winSize.height/2,cc.winSize.height/2-105-this.offset.y/2),i=a.G35_utils.convertToSpacePos(cc.v2(e,o),this.node.parent),n=this.node.position.sub(i).mag()*this._layer._fishSpeed*this._speed;this.fishTurnAround(i),this._layer._currentLevel>1&&this._index+1==this._layer._fishId&&!this._canFastMove&&(this._fastMove=!0,this._canFastMove=!0,this.play_fastSwim(),cc.tween(this._layer.node).delay(2).call(function(){t._fastMove=!1}).delay(3).call(function(){t._canFastMove=!1}).start()),this._fastMove?n*=.1+this._layer._currentLevel/5:this.play_swim(),cc.tween(this.node).to(n,{position:i}).call(function(){t.randomMove()}).start()},e.prototype.readyHide=function(){var t=this;if(this._canHide){var e=this.selectGrass();if(e){this._canHide=!1,this.node.stopAllActions(),this.play_prepareHide();var o=this._layer._grasses[e-1],i=o.getPosition();this.fishTurnAround(i);var n=[10,30,10,10,10],a=-1!=this._dir?o.width:0,r=cc.v2(o.x+n[this._index]*this._dir+a,o.y+80),s=this.adjustRotate(cc.v2(o.x+n[this._index]*this._dir,o.y+80)),c=u.default.distance(this.node.position,r)/250;c<1.5&&(c=1.5),cc.tween(this.node).then(cc.sequence(cc.spawn(cc.moveTo(c,r).easing(cc.easeBackIn()),cc.rotateTo(c/3,s)),cc.callFunc(function(){t._grassId=e,t.hideInGrass()}))).start()}}},e.prototype.selectGrass=function(){var t=a.G35_utils.numberExcept(1,5,this._layer._hideFishGrass);return this._layer._hideFishGrass.push(t),t},e.prototype.hideInGrass=function(){var t=this;if(0!=this._grassId){var e=this._layer._grasses[this._grassId-1],o=cc.v2(e.x,e.y+80);this.fishTurnAround(o),this.node.zIndex=e.zIndex-5;var i=e.getComponent(d.default)._rightP;-1==this._dir&&(i=e.getComponent(d.default)._leftP);(i=e.convertToWorldSpaceAR(i)).x=i.x+this._dir*[0,0,0,-10,-30][this._index],this._canCaught=!1,e.getComponent(d.default).fishIn(),cc.tween(this.node).then(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(o.x+e.width/2-10,o.y)),cc.rotateTo(.2,0)),cc.callFunc(function(){t.play_swim()}),cc.delayTime(.3),cc.moveTo(.7,i),cc.callFunc(function(){t._canCaught=!0,t.play_standby()}))).start()}},e.prototype.swimOutGrass=function(){var t=this;0!=this._grassId&&(c.default.removeObj(this._layer._hideFishGrass,this._grassId-1),this.play_swim(),this._grassId=0,cc.tween(this.node).by(.8,{x:90*this._dir,y:30}).call(function(){t.randomMove(),t.node.zIndex=79,t._canHide=!0}).start())},e.prototype.fishTurnAround=function(t){a.G35_utils.convertPosition(this.node,this._layer.node);var e=this._dir;t.x<this.node.x?(this.node.scaleX=1,this._dir=-1):(this.node.scaleX=-1,this._dir=1),e!=this._dir&&(this.node.zIndex=80)},e.prototype.adjustRotate=function(t){var e=a.G35_utils.quadAngle1(this.node.position,t);return 1==this._dir&&(e+=180),e},e.prototype.hit=function(){var t=this;this._canHide=!1,this.node.zIndex=85,this.play_struggle(),s.audioManager.playEffect(this.res.a22801016);var e=this._size+.2;this.node.setScale(e),this._dir=-1,this.node.angle=this._layer._sucker.angle;var o=this._layer._sucker._center.convertToWorldSpaceAR(cc.v2(0,0)).sub(this._top.convertToWorldSpaceAR(cc.v2(0,0)).sub(this.node.position));this.node.setPosition(o),cc.tween(this.node).to(.2,{scaleX:e-.2,scaleY:e+.2}).to(.1,{scaleX:e+.2,scaleY:e-.2}).to(.1,{scale:e}).start(),cc.tween(this._layer.node).delay(.5).call(function(){t._index==t._layer._fishId?t.caught():t.runAway(),t._layer._sucker.getComponent(p.default).goBack()}).start()},e.prototype.caught=function(){c.default.removeObj(this._layer._fish,this.node),this.play_caught();var t=cc.instantiate(this.res.jizhong);t.parent=this.node,t.setPosition(this.node.width/2,this.node.height/2),this._layer._sucker.getComponent(p.default)._fish=this.node,this._layer._touchFish=1},e.prototype.runAway=function(){var t=this;this.play_fastSwim(),this.node.angle=0,this.node.zIndex=80,this.node.setScale(this._size),this._layer._touchFish=2;var e=20;this.node.y>cc.winSize.height/2+100&&(e=-e),this.node.y>cc.winSize.width/2+100&&(e=-e),cc.tween(this.node).by(.4,{position:cc.v2(150*this._dir,e)}).call(function(){t._canHide=!0,t.play_swim(),t.randomMove()}).start()},e.prototype.jump2Net=function(t){var e=this;a.G35_utils.resetParent(this.node,this._layer._net,200),s.audioManager.playEffect(this.res.a22801030);this._layer._net._center.position;var o=[cc.v2(0,19),cc.v2(-15,17),cc.v2(25,19),cc.v2(0,37),cc.v2(20,35),cc.v2(25,37),cc.v2(0,55),cc.v2(15,53),cc.v2(25,55),cc.v2(15,70)];cc.tween(this.node).then(cc.sequence(cc.scaleTo(.4,.3),cc.callFunc(function(){e.node.zIndex=5,e._layer._bar.getComponent(h.default).circleLight(t),e.play_swim()}),cc.moveTo(.2,o[t]),cc.callFunc(function(){t+1==e._layer._totalFishNum&&e._layer.finish()}))).start()},e.prototype.movementHandler=function(){1==this.evtType?this.personDragon.animationName==this._name+"_dc1"?this.play_rushIntoGrass():this.personDragon.animationName==this._name+"_dc3"&&(this._cnt++,2==this._cnt?(this._cnt=0,this.swimOutGrass()):this.play_standby()):2==this.evtType&&this.personDragon.animationName==this._name+"_dc3"&&(this._cnt++,2==this._cnt&&(this._cnt=0,this.swimOutGrass()))},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_ProgressBar":"G35_ProgressBar","./G35_SeabedfishingGrass":"G35_SeabedfishingGrass","./G35_SeabedfishingRes":"G35_SeabedfishingRes","./G35_SeabedfishingSucker":"G35_SeabedfishingSucker"}],G35_SeabedfishingGrass:[function(t,e,o){"use strict";cc._RF.push(e,"ab109e+8pRCSYev+PlkbMmA","G35_SeabedfishingGrass");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedfishingRes"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/business/Manager/AudioManager"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._index=null,e._plant=[],e._dir=null,e._layer=null,e._leftP=null,e._rightP=null,e._particle1=null,e._particle2=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default);var t=s.G35_globalView.offset;this.offset=t,this.offy=1.1,this.loadDisplay()},e.prototype.loadDisplay=function(){var t=this;this.node.setContentSize(300,100),this._layer.hidePlantData[this._index-1].forEach(function(e,o){var i=r.G35_utils.creatNode(t.res.newNode,t.res.hideGrass.getSpriteFrame(t._index+"-"+(o+1)),t.node,cc.v2(e.pos),1,e.zor);i.setAnchorPoint(e.anc),e.act&&(e.changeValue&&(i._changeValue=e.changeValue),e.dir&&(i._dir=e.dir),e.startAngle&&e.endAngle&&(i._startAngle=e.startAngle,i._endAngle=e.endAngle),t.plantAction(i,e.act)),t._plant.push(i)});var e=[cc.v2(78,140),cc.v2(60,95),cc.v2(22,62),cc.v2(50,90),cc.v2(40,57)];this._leftP=r.G35_utils.convertToSpacePos(cc.v2(e[this._index-1].x,e[this._index-1].y),this.node);var o=[cc.v2(245,67),cc.v2(260,90),cc.v2(225,115),cc.v2(240,65),cc.v2(40,57)];this._rightP=r.G35_utils.convertToSpacePos(cc.v2(o[this._index-1].x,o[this._index-1].y),this.node)},e.prototype.plantAction=function(t,e){var o=t.scale;switch(e){case 1:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,o-.03,o+.03),cc.rotateTo(1,t._startAngle)),cc.spawn(cc.scaleTo(1,o),cc.rotateTo(1,t._endAngle))))).start();break;case 2:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,o-t._changeValue,o+t._changeValue),cc.scaleTo(1,o)))).start();break;case 3:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,o+t._changeValue,o-t._changeValue),cc.scaleTo(1,o),cc.scaleTo(1,o+t._changeValue,o-t._changeValue),cc.scaleTo(1,o),cc.scaleTo(1,o+.1,o-.1).easing(cc.easeExponentialInOut()),cc.scaleTo(1,o)))).start();break;case 4:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,o-t._changeValue,o+t._changeValue),cc.moveBy(1,cc.v2(8*t._decorator,0))),cc.spawn(cc.scaleTo(1,o),cc.moveBy(1,cc.v2(8*-t._decorator,0)))))).start()}},e.prototype.fishIn=function(){if(this._particle1)this._particle1.getComponent(cc.ParticleSystem).resetSystem(),this._particle2.getComponent(cc.ParticleSystem).resetSystem();else{var t=cc.instantiate(this.res.chentu);t.parent=this.node,t.zIndex=50,t.setPosition(cc.v2(this.node.width/2,10)),this._particle1=t;var e=cc.instantiate(this.res.shuicaomaopao);e.parent=this.node,e.zIndex=50,e.setPosition(cc.v2(this.node.width/2,10)),this._particle2=e}if(c.audioManager.playEffect(this.res.a22801013),5!=this._index){this._plant.forEach(function(t,e){cc.tween(t).delay(.05*e).parallel(cc.tween().to(.1,{angle:-5}),cc.tween().to(.1,{scaleX:.95,scaleY:1.1})).to(.1,{angle:5}).parallel(cc.tween().to(.1,{angle:0}),cc.tween().to(.1,{scale:1})).start()})}},e.prototype.start=function(){},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedfishingRes":"G35_SeabedfishingRes"}],G35_SeabedfishingQiqi:[function(t,e,o){"use strict";cc._RF.push(e,"bc820lQH5lEAZN5U+R4TcqI","G35_SeabedfishingQiqi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedfishingRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("../../../../lib/core/util/MathUtil"),l=t("../../Common/G35_ImageFrame"),u=t("../../../GameUtils/G35_Utils"),d=t("../../Common/G35_Focu"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._pos=null,e._wrongCnt=0,e._gun=null,e._gunInitA=0,e._gunP=null,e._sucker=null,e._bubbleParticle=null,e._guideAct=null,e._guideVoice=!1,e.evtType=1,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay);var t=r.G35_globalView.offset;this.offset=t,this.offy=1.1,this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this),this.loadGun()},e.prototype.loadGun=function(){this._gun=u.G35_utils.creatNode(this.res.newNode,this.res.gunFrame,this.node,cc.v2(10,-47),1),this._gun.opacity=0,this._gun.setAnchorPoint(cc.v2(.25,.3)),this._gun.opacity=0,this._gunInitA=3,this._gun.setAnchorPoint(cc.v2(.25,.3)),this._gunP=this._gun.getPosition(),this._sucker=u.G35_utils.creatNode(this.res.newNode,this.res.suckerFrame,this._gun,cc.v2(65,33),1),this._sucker.parent=this._gun,this._sucker.setAnchorPoint(cc.v2(.3,.35));var t=cc.instantiate(this.res.qiqiyoudongpaopao);t.parent=this.node.parent,t.position=cc.v2(20,40),this._bubbleParticle=t},e.prototype.play_swim=function(){this.personDragon.playAnimation("hdqq_you_0",1),this.evtType=1},e.prototype.play_stop=function(){this.personDragon.playAnimation("hdqq_tx",1),this.evtType=1},e.prototype.play_sitDown=function(){s.audioManager.playEffect(this.res.a22801012),this.personDragon.playAnimation("hdqq_zx",1),this.evtType=1},e.prototype.play_breath=function(){this.evtType=1,this.personDragon.playAnimation("hdqq_zxhx",-1)},e.prototype.play_hello=function(){this.evtType=1,s.audioManager.playEffect(this.res.a22801034),this.personDragon.armature().getBone("hdqq_yq").offset.rotation=0,this.personDragon.armature().getBone("hdqq_yqxp").offset.rotation=0,this.personDragon.playAnimation("hdqq_dj",-1)},e.prototype.play_breath2=function(){this.evtType=2,this.node.angle=0,this.personDragon.playAnimation("hdqq_mzhx",-1)},e.prototype.play_breath3=function(){this.evtType=1,this.personDragon.playAnimation("hdqq_jiliyou",-1)},e.prototype.play_launch=function(){var t=-this._gun.angle-this.node.angle;this._layer.loadSucker(t),this._layer._canDetect=!0,this._layer._touchFish=!1,cc.tween(this.node).parallel(cc.tween().by(.05,{angle:15}),cc.tween().by(.05,{x:-5,y:-2})).parallel(cc.tween().by(.1,{angle:-15}),cc.tween().by(.1,{x:5,y:2})).start()},e.prototype.play_right=function(){this.personDragon.playAnimation("hdqq_kx",-1);var t=c.default.random(1,3);s.audioManager.playEffect(this.res.a22801018[t-1]),this.evtType=2},e.prototype.play_wrong=function(){this._layer._wrongFishCount++,this.personDragon.playAnimation("hdqq_yt",-1),s.audioManager.playEffect(this.res.a22801019),this.evtType=1},e.prototype.play_say=function(){this.personDragon.playAnimation("hdqq_zsh",-1),this.evtType=2},e.prototype.play_excitation=function(){s.audioManager.playEffect(this.res.a22801021),s.audioManager.stopMusic(),this.personDragon.playAnimation("hdqq_jili",-1),this.evtType=1},e.prototype.enter=function(){var t=this,e=cc.winSize.height/270;cc.tween(this.node).parallel(cc.tween().to(e,{x:this._pos.x,y:this._pos.y}),cc.tween().to(e,{scale:1})).call(function(){t.play_stop()}).start()},e.prototype.adjustRotate=function(t){var e=this.node.x-t.x,o=this.node.y-t.y,i=Math.abs(o)/Math.abs(e),n=0;o>0&&e>=0?n=180*-Math.atan(i)/Math.PI:o>0&&e<=0?n=180*Math.atan(i)/Math.PI-180:o<=0&&e<0?n=180-180*Math.atan(i)/Math.PI:o<=0&&e>0&&(n=180*Math.atan(i)/Math.PI),n-=155,this.node.angle=-n,n+=this.node.angle,this._gun.angle=-n+this._gunInitA,this.personDragon.armature().getBone("hdqq_yq").offset.angle=this._gun.angle,this.personDragon.armature().getBone("hdqq_yqxp").offset.angle=this._gun.angle},e.prototype.suckerHideOrShow=function(t){this.personDragon.armature().getBone("hdqq_yqxp").offset.scaleX=t?1:0},e.prototype.suckerGoBack=function(){var t=this;this.suckerHideOrShow(!0);var e=0;1==this._layer._touchFish?(this._wrongCnt=0,this.play_right(),this._layer._fishNum++,this._layer.nextFishEnter(),this._layer.selectNextFish()):2==this._layer._touchFish&&(this.play_wrong(),e=.96),1!=this._layer._touchFish&&(this._wrongCnt++,this._wrongCnt>=3&&cc.tween(this.node).delay(e).call(function(){t.playGuideVoice()}).start()),cc.tween(this.node).parallel(cc.tween().call(function(){t.node.angle=0}),cc.tween().to(.1,{scaleX:.95,scaleY:1.05}),cc.tween().by(.1,{x:-5,y:-2})).parallel(cc.tween().to(.1,{scale:1}),cc.tween().by(.1,{x:5,y:2})).call(function(){t._layer._fishNum<=t._layer._totalFishNum&&(t._layer._canTouch=!0)}).start()},e.prototype.movementHandler=function(){if(1==this.evtType)switch(this.personDragon.animationName){case"hdqq_tx":this.play_sitDown(),this._bubbleParticle.destroy(),this._bubbleParticle=null;break;case"hdqq_zx":this.play_breath(),this._layer.loadNet(),this._layer.loadImageFrame(),this.say();break;case"hdqq_yt":this.play_breath();break;case"hdqq_jili":s.audioManager.stopMusic(),this.play_breath3(),this._layer.nextScene();break;case"hdqq_dj":this.play_breath()}else 2==this.evtType&&"hdqq_kx"==this.personDragon.animationName&&this.play_breath()},e.prototype.say=function(){var t=this;s.audioManager.playLine(this.res.a228010),this.play_say(),cc.tween(this.node).delay(s.audioManager.getDurationByMap("228010")).call(function(){t._layer.focusMask.getComponent(d.default).removefocus(t._layer.node),t.play_breath(),t._layer._canTouch=!0,t.openGuide()}).start()},e.prototype.openGuide=function(){var t=this;this._guideVoice||(s.audioManager.playLine(this.res.a228104),this._guideAct=cc.tween(this.node).repeatForever(cc.tween().delay(s.audioManager.getDurationByMap("228104")).call(function(){t.play_hello()}).delay(.9).call(function(){t.playGuideVoice()}).delay(2)).start())},e.prototype.playGuideVoice=function(){this._guideVoice||(this._layer._imageFrame.getComponent(l.default).scaleGuide(),s.audioManager.playLine(this.res.a228104))},e.prototype.closeGuide=function(){this._guideAct&&(this.node.stopAllActions(),this._guideAct=null)},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_Focu":"G35_Focu","../../Common/G35_ImageFrame":"G35_ImageFrame","./G35_SeabedfishingRes":"G35_SeabedfishingRes"}],G35_SeabedfishingRes:[function(t,e,o){"use strict";cc._RF.push(e,"9ec8cuhmMVJNrJBSoE1uKoG","G35_SeabedfishingRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.light=null,e.fish=null,e.sucker=null,e.ImageFrame=null,e.grass=null,e.jinpaopao=null,e.zhuangbao=null,e.bar=null,e.yuanpaopao=null,e.chentu=null,e.shuicaomaopao=null,e.jizhong=null,e.focusMask=null,e.qiqiyoudongpaopao=null,e.hideGrass=null,e.seaWaterAlt=null,e.fishAlt=null,e.landBgAlt=null,e.stoneAlt=null,e.plantAlt=null,e.farFishAlt=null,e.gunFrame=null,e.suckerFrame=null,e.a228104=null,e.a228010=null,e.a22801012=null,e.a22801013=null,e.a22801014=null,e.a22801016=null,e.a22801030=null,e.a22801033=null,e.a22801034=null,e.a22801032=[],e.a22801018=[],e.a22801019=null,e.a22801021=null,e.a22801011=null,e}return i(e,t),n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u5149"})],e.prototype,"light",void 0),n([s({type:cc.Prefab,tooltip:"fish"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"sucker"})],e.prototype,"sucker",void 0),n([s({type:cc.Prefab,tooltip:"ImageFrame"})],e.prototype,"ImageFrame",void 0),n([s({type:cc.Prefab,tooltip:"grass"})],e.prototype,"grass",void 0),n([s({type:cc.Prefab,tooltip:"jinpaopao"})],e.prototype,"jinpaopao",void 0),n([s({type:cc.Prefab,tooltip:"zhuangbao"})],e.prototype,"zhuangbao",void 0),n([s({type:cc.Prefab,tooltip:"bar"})],e.prototype,"bar",void 0),n([s({type:cc.Prefab,tooltip:"yuanpaopao"})],e.prototype,"yuanpaopao",void 0),n([s({type:cc.Prefab,tooltip:"chentu"})],e.prototype,"chentu",void 0),n([s({type:cc.Prefab,tooltip:"shuicaomaopao"})],e.prototype,"shuicaomaopao",void 0),n([s({type:cc.Prefab,tooltip:"jizhong"})],e.prototype,"jizhong",void 0),n([s({type:cc.Prefab,tooltip:"focusMask"})],e.prototype,"focusMask",void 0),n([s({type:cc.Prefab,tooltip:"qiqiyoudongpaopao"})],e.prototype,"qiqiyoudongpaopao",void 0),n([s({type:cc.SpriteAtlas,tooltip:"hideGrass"})],e.prototype,"hideGrass",void 0),n([s({type:cc.SpriteAtlas,tooltip:"seaWaterAlt"})],e.prototype,"seaWaterAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fishAlt"})],e.prototype,"fishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"landBgAlt"})],e.prototype,"landBgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"stoneAlt"})],e.prototype,"stoneAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"plantAlt"})],e.prototype,"plantAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"farFishAlt"})],e.prototype,"farFishAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"gunFrame"})],e.prototype,"gunFrame",void 0),n([s({type:cc.SpriteFrame,tooltip:"gunFrame"})],e.prototype,"suckerFrame",void 0),n([s({type:cc.AudioClip,tooltip:"228104"})],e.prototype,"a228104",void 0),n([s({type:cc.AudioClip,tooltip:"228010"})],e.prototype,"a228010",void 0),n([s({type:cc.AudioClip,tooltip:"22801012"})],e.prototype,"a22801012",void 0),n([s({type:cc.AudioClip,tooltip:"22801013"})],e.prototype,"a22801013",void 0),n([s({type:cc.AudioClip,tooltip:"22801014"})],e.prototype,"a22801014",void 0),n([s({type:cc.AudioClip,tooltip:"22801016"})],e.prototype,"a22801016",void 0),n([s({type:cc.AudioClip,tooltip:"22801030"})],e.prototype,"a22801030",void 0),n([s({type:cc.AudioClip,tooltip:"22801033"})],e.prototype,"a22801033",void 0),n([s({type:cc.AudioClip,tooltip:"22801034"})],e.prototype,"a22801034",void 0),n([s({type:cc.AudioClip,tooltip:"22801032"})],e.prototype,"a22801032",void 0),n([s({type:cc.AudioClip,tooltip:"22801018"})],e.prototype,"a22801018",void 0),n([s({type:cc.AudioClip,tooltip:"22801019"})],e.prototype,"a22801019",void 0),n([s({type:cc.AudioClip,tooltip:"22801021"})],e.prototype,"a22801021",void 0),n([s({type:cc.AudioClip,tooltip:"22801011"})],e.prototype,"a22801011",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeabedfishingSucker:[function(t,e,o){"use strict";cc._RF.push(e,"4d64c+bMUVOvLYMenn7onw7","G35_SeabedfishingSucker");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../GameUtils/G35_GlobalView"),s=t("./G35_SeabedfishingRes"),c=t("./G35_SeabedfishingQiqi"),l=t("./G35_SeabedfishingFish"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._fish=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(s.default);var t=r.G35_globalView.offset;this.offset=t,this.offy=1.1},e.prototype.gunLaunch=function(){var t=this;this._layer._canTouch=!1;var e=this.node.position.sub(this._layer._touchP).mag();this._layer._qiqi.getComponent(c.default).suckerHideOrShow(!1),this.node.opacity=255;var o=e/3e3;o<.2&&(o=.2),cc.tween(this.node).then(cc.sequence(cc.spawn(cc.moveTo(o,this._layer._touchP).easing(cc.easeIn(.1)),cc.scaleTo(o,1.2).easing(cc.easeIn(.1))),cc.callFunc(function(){t.goBack(),t._layer._canDetect=!0,t.detectFish()}))).start()},e.prototype.goBack=function(){var t=this;this.node.stopAllActions();var e=this._layer._qiqi.getComponent(c.default)._gun.convertToWorldSpaceAR(this._layer._qiqi.getComponent(c.default)._sucker.position),o=this.node.position.sub(cc.v2(e.x,e.y)).mag()/3e3;if(o<.2&&(o=.2),this._fish){var i=this._layer._fishNum,n=e.sub(this._fish.getComponent(l.default)._top.convertToWorldSpaceAR(cc.v2(0,0)).sub(this._fish.position));cc.tween(this._fish).then(cc.sequence(cc.spawn(cc.moveTo(o,n).easing(cc.easeIn(.2)),cc.scaleTo(o,this._fish.scale).easing(cc.easeIn(.2))),cc.callFunc(function(){t._fish.getComponent(l.default).jump2Net(i),t._fish=null}))).start()}cc.tween(this.node).then(cc.sequence(cc.spawn(cc.moveTo(o,a.G35_utils.convertToSpacePos(e,cc.find("Canvas"))).easing(cc.easeIn(.2)),cc.scaleTo(o,1).easing(cc.easeIn(.2))),cc.callFunc(function(){t.node.opacity=0,t._layer._qiqi.getComponent(c.default).suckerGoBack(),t._layer.clearLine()}))).start()},e.prototype.detectFish=function(){var t=this;if(this._layer._canDetect)try{this._layer._fish.forEach(function(e,o){if(e.getComponent(l.default)._canCaught&&a.G35_utils.getDistace(e,t.node)<50)throw e.stopAllActions(),t.node.stopAllActions(),t._layer._canDetect=!1,e.getComponent(l.default).hit(),new Error("EndIterative")})}catch(t){if("EndIterative"!==t.message)throw t}},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedfishingFish":"G35_SeabedfishingFish","./G35_SeabedfishingQiqi":"G35_SeabedfishingQiqi","./G35_SeabedfishingRes":"G35_SeabedfishingRes"}],G35_Seabedfishing:[function(t,e,o){"use strict";cc._RF.push(e,"80fcfLwZ6VJnYqJzE3v25Ca","G35_Seabedfishing");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("../../../../lib/core/util/ArrayUtil"),l=t("./G35_SeabedfishingRes"),u=t("./G35_SeabedfishingGrass"),d=t("./G35_SeabedfishingQiqi"),p=t("../../../../lib/core/util/MathUtil"),h=t("./G35_SeabedfishingFish"),f=t("../../Common/G35_ImageFrame"),g=t("./G35_SeabedfishingSucker"),_=t("../../Common/G35_ProgressBar"),y=t("../../Common/G35_FarFish"),m=t("../../../../lib/business/base/BBScene"),v=t("../../../GameUtils/Tools/G35_CommonAct"),b=t("../../Common/G35_Light"),S=t("../../Common/G35_Focu"),w=t("../../../../lib/core/util/PlatformUtil"),A=t("../../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),C=cc._decorator,G=C.ccclass,T=(C.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._canTouch=!1,e._plant=[],e._grasses=[],e._fish=[],e._currentLevel=0,e._currentFishNum=0,e._hideFishGrass=[],e._totalFishNum=10,e._fishNum=0,e._wrongFishCount=0,e._touchCount=0,e._fishSpeed=0,e._bar=null,e._qiqi=null,e._aimPoint=null,e._net=null,e._imageFrame=null,e._fishId=0,e._sucker=null,e._drawNode=null,e._drawUpdate=null,e._fishHideAct=null,e._touchP=null,e._color=cc.color(92/255,39/255,44/255,255),e.FISH_NUM=[],e.FISH_SPEED=[],e.FISH_TOTAL_NUM=[],e.hidePlantData=[],e.seaDecorate=[],e._fishAddTab=[],e._isTouchFish=!1,e._touchFish=null,e.focusMask=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.initDate(),this.res=this.node.getComponent(l.default);var e=r.G35_globalView.offset;this.offset=e,this.offy=1.1,this.loadBg(),this.loadGrass(),this.loadQiqi(),this.loadFish(),this.loadFarFish(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this._qiqi.getComponent(d.default).enter(),w.default.isBBMGSimulatePlatform()&&A.default.getInstance().isBannerAdExist()&&A.default.getInstance().hideBannerAd()},e.prototype.initDate=function(){this.FISH_NUM=[5,7,8],this.FISH_SPEED=[.03,.022,.017],this.FISH_TOTAL_NUM=[3,4,3],this.hidePlantData=[[{pos:cc.v2(174.6,5),zor:1,anc:cc.v2(.5,0)},{pos:cc.v2(95.5,.8),zor:2,anc:cc.v2(.5,0),act:1,startAngle:-3,endAngle:3},{pos:cc.v2(82.9,7.6),zor:3,anc:cc.v2(1,0),act:1,startAngle:-5,endAngle:5},{pos:cc.v2(150.6,-5),zor:4,anc:cc.v2(.5,0)}],[{pos:cc.v2(156.3,-4.4),zor:1,anc:cc.v2(.5,0),act:2,changeValue:.02},{pos:cc.v2(102.2,-1.2),zor:2,anc:cc.v2(.5,0)}],[{pos:cc.v2(130.3,-21.7),zor:1,anc:cc.v2(.5,0)},{pos:cc.v2(210,-5.4),zor:2,anc:cc.v2(.5,0),act:3,changeValue:.05}],[{pos:cc.v2(162.7,-24.7),zor:1,anc:cc.v2(.5,0),act:1,startAngle:3,endAngle:-3},{pos:cc.v2(95.2,-18.7),zor:2,anc:cc.v2(.5,0),act:1,startAngle:-3,endAngle:3},{pos:cc.v2(146.5,-27.3),zor:3,anc:cc.v2(.6,0)},{pos:cc.v2(196.1,-18.6),zor:4,anc:cc.v2(.2,.1)}],[{pos:cc.v2(138,5.5),zor:1,anc:cc.v2(.5,0)},{pos:cc.v2(144,215),zor:2,anc:cc.v2(.5,0),act:4,dir:1,changeValue:.03},{pos:cc.v2(144,215),zor:3,anc:cc.v2(.5,0),act:4,dir:-1,changeValue:.03}]]},e.prototype.seaDecorateArr=function(){return this.seaDecorate=[{pos:cc.v2(cc.winSize.width-28,92.7),zor:90,anc:cc.v2(.8,0),dir:1},{pos:cc.v2(this.offset.x/2-65.8,65.2),zor:90,anc:cc.v2(.5,0),dir:-1},{pos:cc.v2(54.2+this.offset.x/2,44),zor:90,anc:cc.v2(.3,0),dir:-1},{pos:cc.v2(140+this.offset.x/2,85),zor:90,anc:cc.v2(.4,0),dir:-1},{pos:cc.v2(934+this.offset.x,273+this.offy),zor:44,anc:cc.v2(.7,0),dir:1},{pos:cc.v2(984+this.offset.x,282+this.offy),zor:44,anc:cc.v2(.7,0),dir:1},{pos:cc.v2(1063+this.offset.x,278+this.offy),zor:30,anc:cc.v2(.5,0),dir:1}],this.seaDecorate},e.prototype.loadBg=function(){for(var t=this,e=[cc.v2(0,-cc.winSize.height/2),cc.v2(0,16-cc.winSize.height/2),cc.v2(0,-cc.winSize.height/2),cc.v2(0,198-cc.winSize.height/2)],o=0;o<4;o++){var i=a.G35_utils.creatNode(this.res.newNode,this.res.landBgAlt.getSpriteFrame("land"+(o+1)),this.node,cc.v2(e[o]),1,100-25*(o+1));i.anchorY=0,a.G35_utils.setImg(i),i.setContentSize(1.25*i.width,1.25*i.height)}var n=a.G35_utils.creatNode(this.res.newNode,this.res.landBgAlt.getSpriteFrame("water"),this.node,cc.v2(cc.winSize.width/2,567-cc.winSize.height/2),1);n.setScale(1.25),a.G35_utils.setImg(n);var r=a.G35_utils.creatNode(this.res.newNode,this.res.landBgAlt.getSpriteFrame("water2"),this.node,cc.v2(0,cc.winSize.height/2),1,499);r.setAnchorPoint(cc.v2(.5,0)),n.setScale(2.5),cc.tween(r).repeatForever(cc.tween().call(function(){v.G35_commonAct.filenames(r,t.res.seaWaterAlt.getSpriteFrames(),.2)}).delay(.2*7)).start();var s=a.G35_utils.creatNode(this.res.light,null,this.node,cc.v2(0,cc.winSize.height/2),1,50);s.setAnchorPoint(.5,1),s.getComponent(b.default).loadDisplay(),this.loadSeaDecorate()},e.prototype.loadSeaDecorate=function(){var t=this,e=a.G35_utils.creatNode(this.res.newNode,this.res.landBgAlt.getSpriteFrame("star"),this.node,cc.v2(846.5+this.offset.x-cc.winSize.width/2,260+2*this.offy-cc.winSize.height/2),1,51);a.G35_utils.setImg(e);var o=[100,100,6,5,45];[cc.v2(cc.winSize.width/2-99,55-cc.winSize.height/2),cc.v2(13+this.offset.x/2-cc.winSize.width/2,68.5-cc.winSize.height/2),cc.v2(-31+this.offset.x-cc.winSize.width/2,473.8+3*this.offy-cc.winSize.height/2),cc.v2(128.9+this.offset.x-cc.winSize.width/2,567.4+3*this.offy-cc.winSize.height/2),cc.v2(905+this.offset.x-cc.winSize.width/2,316+2*this.offy-cc.winSize.height/2)].forEach(function(e,i){a.G35_utils.creatNode(t.res.newNode,t.res.stoneAlt.getSpriteFrame(""+(i+1)),t.node,e,1,o[i])});var i=cc.instantiate(this.res.jinpaopao);i.zIndex=90,i.parent=this.node,i.setPosition(cc.winSize.width/2,10);var n=cc.instantiate(this.res.yuanpaopao);n.zIndex=30,n.parent=this.node,n.setPosition(cc.winSize.width/2,400)},e.prototype.loadGrass=function(){for(var t=this,e=[cc.v2(230+this.offset.x,120+this.offy),cc.v2(600+this.offset.x,120+this.offy),cc.v2(70+this.offset.x,290+2*this.offy),cc.v2(410+this.offset.x,290+2*this.offy),cc.v2(790+this.offset.x,290+2*this.offy)],o=1;o<=5;o++){var i=60;o>2&&(i=40);var n=cc.instantiate(this.res.grass);n.getComponent(u.default)._index=o,n.getComponent(u.default)._layer=this,n.parent=this.node,n.zIndex=i,n.setPosition(a.G35_utils.convertToSpacePos(e[o-1],this.node)),this._grasses.push(n)}this.seaDecorateArr().forEach(function(e,o){var i=a.G35_utils.creatNode(t.res.newNode,t.res.plantAlt.getSpriteFrame(""+(o+1)),t.node,cc.v2(e.pos.x-cc.winSize.width/2,e.pos.y-cc.winSize.height/2),1,e.zor);i.setAnchorPoint(e.anc),i._dir=e._dir,i.zIndex=e.zor,t._plant.push(i)}),this.plantAction()},e.prototype.loadBar=function(){var t=cc.instantiate(this.res.bar);t.parent=this.node,t.zIndex=550,t.setPosition(556+this.offset.x/2-cc.winSize.width/2,42-cc.winSize.height/2),t.getComponent(_.default).enter(),this._bar=t},e.prototype.loadQiqi=function(){var t=cc.find("node/qiqi",this.node);t.parent=this.node,t.zIndex=200,t.getComponent(d.default)._layer=this,t.getComponent(dragonBones.ArmatureDisplay).playAnimation("hdqq_you_1",-1),t.getComponent(d.default)._pos=cc.v2(130+this.offset.x/2-cc.winSize.width/2,160-cc.winSize.height/2),t.setPosition(-cc.winSize.width/2,cc.winSize.height/2),t.setScale(.9),this._qiqi=t;var e=cc.find("point",this.node);e.zIndex=1e3,e.setScale(1.3),e.opacity=0,this._aimPoint=e},e.prototype.loadNet=function(){var t=this,e=cc.find("net",this.node);e.zIndex=600,e.setPosition(cc.v2(262+this.offset.x/2-cc.winSize.width/2,-cc.winSize.height/2));var o=cc.find("front",e);o.zIndex=100,o.setPosition(cc.v2(0,51.7));var i=cc.find("center",e);i.zIndex=200,i.setPosition(cc.v2(e.width/2,117)),i.active=!1,this._net=e,this._net._center=i,cc.tween(this._net).to(.3,{x:this._net.x,y:5-cc.winSize.height/2}).call(function(){t.loadBar()}).start()},e.prototype.loadFish=function(){var t=this;this._fishSpeed=this.FISH_SPEED[this._currentLevel];for(var e=[],o=0;o<this.FISH_NUM[this._currentLevel];o++){var i=o;o>4&&(i=p.default.random(0,4)),e.push(i)}e=c.default.upsetArray(e),(e=c.default.upsetArray(e)).forEach(function(e,o){var i=p.default.random(100-cc.winSize.width/2,cc.winSize.width-100),n=p.default.random(150,cc.winSize.height/2-100);t.addFish(o,cc.v2(i,n))}),this._fish[0].getComponent(h.default).readyHide(),this._fish[1].getComponent(h.default).readyHide(),cc.tween(this.node).delay(5).call(function(){t.fishHide()}).start()},e.prototype.addFish=function(t,e){var o=cc.instantiate(this.res.fish);o.getComponent(h.default)._layer=this,o.getComponent(h.default)._index=t,o.getComponent(h.default)._name=["xcy","ld","jdy","ywy","phy"][t],o.parent=this.node,o.zIndex=80,o.setPosition(e),o.getComponent(h.default).randomMove(),this._fish.push(o)},e.prototype.loadImageFrame=function(){this._fishId=p.default.random(0,4);var t=cc.instantiate(this.res.ImageFrame);t.getComponent(f.default)._layer=this,t.parent=this.node,t.zIndex=500,t.setPosition(60+this.offset.x/2-cc.winSize.width/2,210-cc.winSize.height/2),t.setAnchorPoint(cc.v2(0,0)),t.setScale(0),t.opacity=0,t.getComponent(f.default).loadThing(this.res.newNode,this.res.fishAlt.getSpriteFrame(""+(this._fishId+1)),t,1),t.getComponent(f.default).enter(1),t.getComponent(f.default)._totalNum=10,this._imageFrame=t,cc.find("thing",t).setPosition(cc.v2(t.width/2,t.height/2)),this.focusMask=cc.instantiate(this.res.focusMask),this.focusMask.getComponent(S.default).focusOn(t,this.node,.7,70,58.5),this.focusMask.setPosition(a.G35_utils.convertToSpacePos(cc.v2(t.width,2.5*t.height),t)),this.focusMask.getComponent(S.default).focusBreath(this.node)},e.prototype.loadSucker=function(t){var e=a.G35_utils.convertPosition(this._qiqi.getComponent(d.default)._sucker,this.node);if(this._sucker)this._sucker.position=cc.v2(e),this._sucker.angle=-t;else{var o=cc.instantiate(this.res.sucker);o.getComponent(g.default)._layer=this,o.parent=this.node,o.zIndex=220,o.setPosition(e),o.angle=-t,o.setScale(1.3),o.setAnchorPoint(cc.v2(.3,.35)),this._sucker=o;var i=cc.find("point",o);i.setPosition(cc.v2(o.width-5,o.height/2)),i.opacity=0,this._sucker._center=i}this._sucker.getComponent(g.default).gunLaunch(),this.drawLine()},e.prototype.drawLine=function(){this._drawNode||(this._drawNode=new cc.Node,this._drawNode.addComponent(cc.Graphics),this._drawNode.parent=this.node,this._drawNode.zIndex=210,this.openDrawUpdate())},e.prototype.updatePoints=function(){if(this._drawNode){this._drawNode.getComponent(cc.Graphics).clear();var t=this._drawNode.getComponent(cc.Graphics);t.lineWidth=3,t.strokeColor=this._color;var e=a.G35_utils.convertPosition(this._qiqi.getComponent(d.default)._sucker,this.node),o=this._sucker.position;t.moveTo(e.x,e.y),t.lineTo(o.x,o.y),t.stroke()}},e.prototype.openDrawUpdate=function(){var t=this;this._drawUpdate||(this._drawUpdate=cc.tween(this.node).repeatForever(cc.tween().call(function(){t.updatePoints()}).delay(1/60)).start())},e.prototype.closeDrawUpdate=function(){this._drawUpdate&&(this.node.stopAllActions(),this._drawNode=null)},e.prototype.clearLine=function(){this._drawNode&&(this._drawNode.destroy(),this._drawNode=null)},e.prototype.plantAction=function(){this._plant.forEach(function(t,e){cc.tween(t).delay(.2*e).call(function(){cc.tween(t).then(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(1,.97,1.03),cc.rotateTo(1,3*t.dir)),cc.spawn(cc.scaleTo(1,1),cc.rotateTo(1,0))))).start()}).start()})},e.prototype.netShake=function(){cc.tween(this._net).to(.1,{scaleX:1.2,scaleY:.9}).to(.1,{scaleX:.9,scaleY:1.1}).to(.1,{scale:1}).start(),this._net._particle?this._net._particle.getComponent(cc.ParticleSystem).resetSystem():(this._net._particle=cc.instantiate(this.res.zhuangbao),this._net._particle.parent=this._net,this._net._particle.setPosition(cc.v2(this._net.width/2,50)))},e.prototype.fishHide=function(){var t=this;if(!(this._fish.length<2)){var e=p.default.random(7,10);this._fishHideAct=cc.tween(this.node).delay(e).call(function(){var e=c.default.getRandomItem(t._fish);e.getComponent(h.default).readyHide();var o=p.default.random(0,4);t._currentLevel>2&&o>2&&t._fish.forEach(function(o,i){o.getComponent(h.default)._index==t._fishId&&e.getComponent(h.default).readyHide()}),t.fishHide()}).start()}},e.prototype.selectNextFish=function(){var t=c.default.getRandomItem(this._fish);this._fishId=t.getComponent(h.default)._index,this._imageFrame.getComponent(f.default).swithImg(this.res.fishAlt.getSpriteFrame(""+(this._fishId+1)),1),this._touchCount=0},e.prototype.nextFishEnter=function(){this._currentFishNum++,this._fishNum<this._totalFishNum&&this._currentFishNum==this.FISH_TOTAL_NUM[this._currentLevel]&&(this._currentFishNum=0,this._currentLevel++,this._fishSpeed=this.FISH_SPEED[this._currentLevel]);var t=this.FISH_NUM[this._currentLevel]-this._fish.length;if(!(t<1))for(var e=0;e<t;e++){this._fishAddTab.length<1&&(this._fishAddTab=[0,1,2,3,4]);var o=c.default.getRandomItem(this._fishAddTab);c.default.removeObj(this._fishAddTab,o);var i=p.default.random(200,-100-this.offset.y),n=p.default.random(0,1),a=[-cc.winSize.width/2,cc.winSize.width];this.addFish(o,cc.v2(a[n],i))}},e.prototype.fishClear=function(){var t=this;this._fish.forEach(function(e,o){e.stopAllActions(),t._fishHideAct&&(t.node.stopAllActions(),t._fishHideAct=null);var i=cc.winSize.width+100;-1==e.getComponent(h.default)._dir&&(i*=-1),cc.tween(e).to(2,{position:cc.v2(i,e.y)}).removeSelf().start()})},e.prototype.finish=function(){var t=this;this.closeDrawUpdate(),this.fishClear(),this._qiqi.getComponent(d.default).closeGuide();var e=this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature();e.getBone("hdqq_yq").offset.rotation=0,e.getBone("hdqq_yqxp").offset.rotation=0;var o=cc.v2(this._qiqi.x-12,this._qiqi.y-60);this._bar.getComponent(_.default).quit(),cc.tween(this._net).then(cc.sequence(cc.delayTime(.3),cc.spawn(cc.jumpTo(.6,o,90,1),cc.scaleTo(.6,0)))).start(),cc.tween(this._net).then(cc.sequence(cc.delayTime(.6),cc.fadeOut(.3),cc.callFunc(function(){t._qiqi.getComponent(d.default).play_excitation()}),cc.removeSelf())).start()},e.prototype.nextScene=function(){w.default.isBBMGSimulatePlatform()&&A.default.getInstance().isBannerAdExist()&&A.default.getInstance().showBannerAd(),cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seabedreturn")},e.prototype.touchStart=function(t){if(this._canTouch){var e=cc.v2(t.getLocation().x-cc.winSize.width/2,t.getLocation().y-cc.winSize.height/2);this._qiqi.getComponent(d.default).closeGuide(),e.x<220+this.offset.x/2-cc.winSize.width/2||e.y<120-cc.winSize.height/2||(s.audioManager.playEffect(this.res.a22801014),this._qiqi.getComponent(d.default).play_breath2(),this._touchP=e,this._qiqi.getComponent(d.default).adjustRotate(e),this._aimPoint.opacity=255,this._aimPoint.setPosition(cc.v2(e)),cc.tween(this._aimPoint).then(cc.fadeOut(.5)).start(),this._qiqi.getComponent(d.default).play_launch())}},e.prototype.touchEnd=function(){this._qiqi.getComponent(d.default).openGuide(),this._touchCount++},e.prototype.loadFarFish=function(){if(!(cc.winSize.height<600)){var t=cc.instantiate(this.res.newNode);t.parent=this.node,t.zIndex=2,t.setAnchorPoint(cc.v2(.5,.5));var e=cc.v2(-100,540),o=cc.v2(cc.winSize.width+100,cc.winSize.height-100),i=t.addComponent(y.default);i.CommonFishAlt=this.res.farFishAlt,i.init({minp:e,maxP:o,totalNum:10,color:cc.color(66,156,187)})}},e=n([G],e)}(m.default));o.default=T,cc._RF.pop()},{"../../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_FarFish":"G35_FarFish","../../Common/G35_Focu":"G35_Focu","../../Common/G35_ImageFrame":"G35_ImageFrame","../../Common/G35_Light":"G35_Light","../../Common/G35_ProgressBar":"G35_ProgressBar","./G35_SeabedfishingFish":"G35_SeabedfishingFish","./G35_SeabedfishingGrass":"G35_SeabedfishingGrass","./G35_SeabedfishingQiqi":"G35_SeabedfishingQiqi","./G35_SeabedfishingRes":"G35_SeabedfishingRes","./G35_SeabedfishingSucker":"G35_SeabedfishingSucker"}],G35_SeabedreadyBottle:[function(t,e,o){"use strict";cc._RF.push(e,"365e0jUbstJUqny1RwQ2LE5","G35_SeabedreadyBottle");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedreadyRes"),r=t("./G35_SeabedreadyMachine"),s=t("../../../../lib/business/Manager/AudioManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._successNum=1,e._valve=null,e._bar=null,e._layer=null,e._guideAct=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.loadBar(),this.loadValve()},e.prototype.loadBar=function(){cc.find("bar",this.node).setPosition(cc.v2(0,-45));var t=cc.find("bar/bar2",this.node);t.getComponent(cc.Sprite).fillRange=0;var e=cc.find("bar/line",this.node);e.setPosition(cc.v2(0,0)),e.zIndex=10,this._bar=t},e.prototype.loadValve=function(){var t=cc.find("valve",this.node);t.setAnchorPoint(cc.v2(0,.5)),this._valve=t},e.prototype.openGuide=function(){var t=this;this._guideAct||(this._guideAct=cc.tween(this._valve).repeatForever(cc.tween().delay(.5).call(function(){s.audioManager.playEffect(t.res.a22805002)}).to(.1,{scale:1.2}).to(.1,{scale:1}).to(.1,{scale:1.2}).to(.1,{scale:1})).start())},e.prototype.stopGuide=function(){this._guideAct&&(this._valve.stopAllActions(),this._valve.setScale(1),this._guideAct=null)},e.prototype.barUp=function(){var t=this;4==this._successNum&&this._layer._machine.getComponent(r.default).stopMove();var e=25*this._successNum/100;this.schedule(function(){t._bar.getComponent(cc.Sprite).fillRange<e&&(t._bar.getComponent(cc.Sprite).fillRange+=.025)},.02,10),s.audioManager.playEffect(this.res.a22805010),cc.tween(this.node).delay(.3).call(function(){var o=cc.instantiate(t.res.daqijindu);o.parent=t._bar,o.y=t._bar.height*t._successNum/4-30,t._successNum++,1==e&&cc.tween(t.node).delay(.7).call(function(){s.audioManager.playEffect(t.res.a22805011),cc.find("daqiwc",t._bar).active=!0,cc.find("daqiwc",t._bar).y=t._bar.height/2,t._layer.finish()}).start()}).start()},e.prototype.start=function(){},e=n([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","./G35_SeabedreadyMachine":"G35_SeabedreadyMachine","./G35_SeabedreadyRes":"G35_SeabedreadyRes"}],G35_SeabedreadyMachine:[function(t,e,o){"use strict";cc._RF.push(e,"e6f3fDYOclGy6ujd0cBE0Jq","G35_SeabedreadyMachine");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("./G35_SeabedreadyRes"),l=t("./G35_SeabedreadyTube"),u=t("./G35_SeabedreadyBottle"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._pos=null,e._rod=null,e._pointer=null,e._finish=!1,e._layer=null,e._rodGuide=null,e._arrowGuide=null,e._arrow=null,e._sound=null,e.num=0,e}return i(e,t),e.prototype.loadRod=function(){var t=cc.find("rod",this.node);t.parent=this.node.parent,this._rod=t,this._rod._max=400,this._rod._min=277,this._rod._canTouch=!0,this.rodTouch()},e.prototype.loadPointer=function(){cc.v2(343,169);var t=cc.find("pointer",this.node);t.setPosition(cc.v2(120,70)),t.setAnchorPoint(.5,.2),t.angle=87,this._pointer=t},e.prototype.rodTouch=function(){var t=this;this._rod._canTouch=!0;var e=0,o=function(o){var i=o.getLocation();t._rod._canTouch=!1,t._rod.setScale(1),t.recover(),i.y<=t._rod._min&&t._rod._canAdd&&(t._rod._canAdd=!1,e=0,t._layer._tube.getComponent(l.default).gasUp(),t.num++),t.stopArrowGuide(),t.rodGuide()};this._rod.on(cc.Node.EventType.TOUCH_START,function(o){var i=o.getLocation();t._rod._canTouch&&(t.stopRodGuide(),t._rod.setScale(1.05),t._rod._startY=i.y,t._rod._canAdd=!0,++e>=3&&t.arrowGuide(),t._sound||(t._sound=s.audioManager.playEffect(t.res.a22805008),t.scheduleOnce(function(){t._sound&&(t._sound=null)},.5)))},this),this._rod.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(t._rod._canTouch){var i=o.getLocation();i.y<t._rod._min&&(i.y=t._rod._min),i.y>t._rod._max&&(i.y=t._rod._max),t._pointer.angle=-(177/(t._rod._max-t._rod._min)*(400-i.y)-87),t._rod.y=i.y,i.y>=t._rod._max-50&&(t._rod._canAdd=!0),i.y==t._rod._min&&t._rod._canAdd&&(t._rod._canAdd=!1,e=0,t._layer._tube.getComponent(l.default).gasUp())}},this),this._rod.on(cc.Node.EventType.TOUCH_END,o,this),this._rod.on(cc.Node.EventType.TOUCH_CANCEL,o,this)},e.prototype.recover=function(){var t=this,e=this._rod._starty-this._rod.y;!this._finish&&e>30&&(s.audioManager.playEffect(this.res.a22805007),s.audioManager.playEffect(this.res.a22805009)),cc.tween(this._rod).to(.5,{x:-5,y:400}).call(function(){t._layer._bottle.getComponent(u.default)._successNum<=4&&(t._rod._canTouch=!0)}).start(),cc.tween(this._pointer).to(.5,{angle:87}).start()},e.prototype.enter=function(){var t=this;s.audioManager.playEffect(this.res.a22805006),cc.tween(this.node.parent).to(.5,{position:this._pos},{easing:"sineOut"}).call(function(){s.audioManager.playLine(t.res.a228074),cc.tween(t._rod).to(.5,{position:cc.v2(-5,400)}).call(function(){t.rodGuide()}).start()}).start()},e.prototype.quit=function(){cc.tween(this.node.parent).to(.5,{position:cc.v2(cc.winSize.width+400,this._pos.y)},{easing:"sineIn"}).start()},e.prototype.stopMove=function(){this._finish=!0,this._rod._canTouch=!1,this.stopRodGuide(),this.recover()},e.prototype.arrowGuide=function(){if(!this._arrowGuide){if(this._arrow)this._arrow.setPosition(cc.v2(0,280)),this._arrow.opacity=255;else{var t=r.G35_utils.creatNode(this.res.newNode,this.res.arrowFrame,this.node,cc.v2(0,280),1,99);t.angle=-90,t.setScale(.6),this._arrow=t}this._arrowGuide=cc.tween(this._arrow).by(.2,{y:-15}).by(.1,{y:15}).by(.2,{y:-15}).by(.1,{y:15}).delay(1).start()}},e.prototype.stopArrowGuide=function(){this._arrowGuide&&(this._arrow.stopAllActions(),this._arrowGuide=null,this._arrow.opacity=0)},e.prototype.rodGuide=function(){this._rodGuide||(this._rodGuide=cc.tween(this._rod).repeatForever(cc.tween().delay(1).by(.2,{y:-15}).by(.2,{y:15}).by(.2,{y:-15}).by(.2,{y:15})).start())},e.prototype.stopRodGuide=function(){this._rodGuide&&(this._rod.stopAllActions(),this._rodGuide=null)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(c.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this.loadRod(),this.loadPointer()},e.prototype.start=function(){},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreadyBottle":"G35_SeabedreadyBottle","./G35_SeabedreadyRes":"G35_SeabedreadyRes","./G35_SeabedreadyTube":"G35_SeabedreadyTube"}],G35_SeabedreadyPopup:[function(t,e,o){"use strict";cc._RF.push(e,"cbec5xRyelBTaGc6l+IvUAx","G35_SeabedreadyPopup");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("./G35_SeabedreadyRes"),l=t("./G35_SeabedreadyTube"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._bgNode=null,e._bg=null,e._screw=null,e._guideAct=null,e._hand=null,e._sound=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(c.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this._bgNode=r.G35_utils.creatNode(this.res.newNode,null,this.node,cc.v2(0,0)),this.loadPart()},e.prototype.loadPart=function(){var t=cc.find("content",this.node),e=(r.G35_utils.creatNode(this.res.newNode,this.res.popupAlt.getSpriteFrame("bottle"),t,cc.v2(211-t.width/2-20,168-t.height/2-30),1,5),r.G35_utils.creatNode(this.res.newNode,this.res.popupAlt.getSpriteFrame("tube"),t,cc.v2(605-t.width/2-20,100-t.height/2-30),1),r.G35_utils.creatNode(this.res.newNode,this.res.screwAlt.getSpriteFrame("1"),t,cc.v2(490-t.width/2-20,214-t.height/2-30),1));this._screw=e},e.prototype.loadTouchNode=function(){var t=this,e=cc.find("content",this.node),o=new cc.Node;o.setContentSize(300,400),o.parent=e,o.zIndex=50,o.setPosition(cc.v2(511-e.width/2-20,222-e.height/2-20)),o.setAnchorPoint(cc.v2(.5,.5)),o._canTouch=!0,o.on(cc.Node.EventType.TOUCH_START,function(e){e.getLocation().x;var i=e.getLocation().y;o._canTouch&&(o._startY=i,t.stopGuide())}),o.on(cc.Node.EventType.TOUCH_MOVE,function(e){e.getLocation().x;var i=e.getLocation().y;if(o._canTouch&&!(i<=o._startY)){if(!o._screwAct&&t._screw){o._screwAct=!0;var n=[t.res.screwAlt.getSpriteFrame("1"),t.res.screwAlt.getSpriteFrame("2")];cc.tween(t._screw).then(cc.spawn(cc.callFunc(function(){u.G35_commonAct.filenames(t._screw,n,.15)}),cc.delayTime(.3),cc.moveBy(.15,cc.v2(-5,0)))).call(function(){o._screwAct=!1,t._screw.x<85&&(o._canTouch=!1,t._screw.x=80,t.finish())}).start()}o._startY=i,t._sound||(t._sound=s.audioManager.playEffect(t.res.a22805005),t.scheduleOnce(function(){t._sound&&(t._sound=null)},.5))}}),o.on(cc.Node.EventType.TOUCH_END,function(e){t.handGuide()}),o.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t.handGuide()})},e.prototype.handGuide=function(){var t=this;this._guideAct||(this._guideAct=cc.tween(this.node).delay(2).call(function(){var e=r.G35_utils.creatNode(t.res.newNode,t.res.guideAlt[0],t.node,cc.v2(t._screw.x-90,-40),1);e.zIndex=99,e.setAnchorPoint(cc.v2(0,1)),e._startPoint=e.position,t._hand=e,cc.tween(t._hand).then(cc.repeatForever(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){u.G35_commonAct.filenames(t._hand,t.res.guideAlt,.1)}),cc.delayTime(.3),cc.moveBy(.6,cc.v2(0,150)),cc.reverseTime(cc.callFunc(function(){u.G35_commonAct.filenames(t._hand,t.res.guideAlt,.1)})),cc.delayTime(.3),cc.fadeOut(.5),cc.delayTime(.5),cc.callFunc(function(){e.setPosition(cc.v2(e._startPoint))})))).start()}).start())},e.prototype.stopGuide=function(){this._guideAct&&(this.node.stopAllActions(),this._guideAct=null,this._hand&&(this._hand.destroy(),this._hand=null))},e.prototype.finish=function(){var t=this;s.audioManager.playEffect(this.res.a22805011);var e=cc.instantiate(this.res.pinjie);e.parent=cc.find("content",this.node),e.zIndex=99,this.stopGuide(),cc.tween(this.node).delay(.8).call(function(){t.quit()}).start()},e.prototype.enter=function(){var t=this;s.audioManager.playEffect(this.res.a22805004),cc.tween(this._layer._mask).then(cc.fadeTo(.3,150)).start(),this.node.opacity=255,this.handGuide(),cc.tween(this.node).then(cc.sequence(cc.delayTime(.1),cc.spawn(cc.moveTo(.2,cc.v2(480+this.offset.x-cc.winSize.width/2,260+this.offset.y-cc.winSize.height/2)),cc.scaleTo(.2,1.1)),cc.scaleTo(.1,1),cc.callFunc(function(){t.loadTouchNode()}))).start()},e.prototype.quit=function(){var t=this;cc.tween(this._layer._mask).then(cc.sequence(cc.fadeTo(.2,0),cc.removeSelf())).start(),this._layer._tube.getComponent(l.default)._head.x=-65,cc.tween(this.node).then(cc.sequence(cc.spawn(cc.moveTo(.2,cc.v2(300+this.offset.x,400)),cc.scaleTo(.2,0),cc.fadeOut(.2)),cc.delayTime(.2),cc.callFunc(function(){t._layer.loadMachine()}),cc.removeSelf())).start()},e.prototype.start=function(){},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_SeabedreadyRes":"G35_SeabedreadyRes","./G35_SeabedreadyTube":"G35_SeabedreadyTube"}],G35_SeabedreadyRes:[function(t,e,o){"use strict";cc._RF.push(e,"36cfatBG2FMlrsq+5j+/8Xr","G35_SeabedreadyRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.playLight=null,e.daqijindu=null,e.machine=null,e.bottle=null,e.popup=null,e.tube=null,e.pinjie=null,e.machineAlt=null,e.popupAlt=null,e.screwAlt=null,e.barAlt=null,e.arrowFrame=null,e.guideAlt=[],e.bmg02=null,e.a228073=null,e.a228074=null,e.a228075=null,e.a22805001=null,e.a22805002=null,e.a22805010=null,e.a22805003=null,e.a22805004=null,e.a22805005=null,e.a22805006=null,e.a22805011=null,e.a22801006=null,e.a22801009=null,e.a22801010=null,e.a22801041=null,e.a22805007=null,e.a22805008=null,e.a22805009=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"playLight"})],e.prototype,"playLight",void 0),n([s({type:cc.Prefab,tooltip:"daqijindu"})],e.prototype,"daqijindu",void 0),n([s({type:cc.Prefab,tooltip:"machine"})],e.prototype,"machine",void 0),n([s({type:cc.Prefab,tooltip:"bottle"})],e.prototype,"bottle",void 0),n([s({type:cc.Prefab,tooltip:"popup"})],e.prototype,"popup",void 0),n([s({type:cc.Prefab,tooltip:"tube"})],e.prototype,"tube",void 0),n([s({type:cc.Prefab,tooltip:"pinjie"})],e.prototype,"pinjie",void 0),n([s({type:cc.SpriteAtlas,tooltip:"machineAlt"})],e.prototype,"machineAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"popupAlt"})],e.prototype,"popupAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"screwAlt"})],e.prototype,"screwAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"barAlt"})],e.prototype,"barAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"arrowFrame"})],e.prototype,"arrowFrame",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u5f15\u5bfc"})],e.prototype,"guideAlt",void 0),n([s({type:cc.AudioClip,tooltip:"bmg02"})],e.prototype,"bmg02",void 0),n([s({type:cc.AudioClip,tooltip:"228073"})],e.prototype,"a228073",void 0),n([s({type:cc.AudioClip,tooltip:"228074"})],e.prototype,"a228074",void 0),n([s({type:cc.AudioClip,tooltip:"228075"})],e.prototype,"a228075",void 0),n([s({type:cc.AudioClip,tooltip:"22805001"})],e.prototype,"a22805001",void 0),n([s({type:cc.AudioClip,tooltip:"22805002"})],e.prototype,"a22805002",void 0),n([s({type:cc.AudioClip,tooltip:"a22805010"})],e.prototype,"a22805010",void 0),n([s({type:cc.AudioClip,tooltip:"22805003"})],e.prototype,"a22805003",void 0),n([s({type:cc.AudioClip,tooltip:"22805004"})],e.prototype,"a22805004",void 0),n([s({type:cc.AudioClip,tooltip:"22805005"})],e.prototype,"a22805005",void 0),n([s({type:cc.AudioClip,tooltip:"22805006"})],e.prototype,"a22805006",void 0),n([s({type:cc.AudioClip,tooltip:"22805011"})],e.prototype,"a22805011",void 0),n([s({type:cc.AudioClip,tooltip:"22801006"})],e.prototype,"a22801006",void 0),n([s({type:cc.AudioClip,tooltip:"22801009"})],e.prototype,"a22801009",void 0),n([s({type:cc.AudioClip,tooltip:"22801010"})],e.prototype,"a22801010",void 0),n([s({type:cc.AudioClip,tooltip:"22801041"})],e.prototype,"a22801041",void 0),n([s({type:cc.AudioClip,tooltip:"22805007"})],e.prototype,"a22805007",void 0),n([s({type:cc.AudioClip,tooltip:"22805008"})],e.prototype,"a22805008",void 0),n([s({type:cc.AudioClip,tooltip:"22805009"})],e.prototype,"a22805009",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeabedreadyTube:[function(t,e,o){"use strict";cc._RF.push(e,"53fd2un/qFM6b5wXASjFKc5","G35_SeabedreadyTube");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("./G35_SeabedreadyRes"),l=t("./G35_SeabedreadyBottle"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._guideAct=null,e._pos=null,e._canUp=!0,e._head=null,e._gas=null,e._layer=null,e._starP=null,e._touchP=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(c.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this.loadHead()},e.prototype.loadHead=function(){this._head=cc.find("head",this.node),this._gas=cc.find("gas",this.node),this._gas.setPosition(cc.v2(50,10-cc.winSize.height/2)),this._gas._startP=cc.v2(50,10-cc.winSize.height/2),this._gas._entP=cc.v2(50,350-cc.winSize.height/2)},e.prototype.enter=function(){var t=this;s.audioManager.playEffect(this.res.a22805001),cc.tween(this.node).then(cc.sequence(cc.moveTo(.7,cc.v2(this._pos)).easing(cc.easeBackOut()),cc.callFunc(function(){s.audioManager.playLine(t.res.a228073),t._canTouch=!0,t.openGuide()}))).start()},e.prototype.install=function(){var t=this,e=r.G35_utils.convertToSpacePos(cc.v2(410+this.offset.x,183),this.node.parent);if(this.node.position.sub(e).mag()<100)return s.audioManager.playEffect(this.res.a22805003),this._canTouch=!1,this.stopGuide(),void cc.tween(this.node).to(.15,{x:e.x+50,y:e.y-2}).call(function(){t.node.zIndex=1}).to(.05,{x:e.x,y:e.y-2}).call(function(){var e=cc.instantiate(t.res.pinjie);e.parent=t._layer.node,e.zIndex=99,e.setPosition(r.G35_utils.convertToSpacePos(t._head.convertToWorldSpaceAR(cc.v2(0,0)),t.node.parent)),cc.tween(t._head).to(.1,{scale:1.2}).to(.1,{scale:1}).delay(.5).call(function(){t._layer.loadPopup()}).start()}).start();this.goBack()},e.prototype.openGuide=function(){var t=this;this._guideAct||(this._guideAct=cc.tween(this.node).repeatForever(cc.tween().delay(3).call(function(){s.audioManager.playEffect(t.res.a22805002)}).to(.1,{scale:1.1}).to(.1,{scale:1}).to(.1,{scale:1.1}).to(.1,{scale:1})).start())},e.prototype.stopGuide=function(){this._guideAct&&(this.node.stopAllActions(),this._guideAct=null)},e.prototype.gasUp=function(){var t=this;this._canUp&&(this._canUp=!1,cc.tween(this._gas).to(.3,{position:this._gas._entP}).then(cc.sequence(cc.jumpTo(.2,cc.v2(-20,200),20,1),cc.spawn(cc.callFunc(function(){t._layer._bottle.getComponent(l.default).barUp()}),cc.scaleTo(.3,.5)),cc.callFunc(function(){t._gas.setPosition(cc.v2(t._gas._startP)),t._gas.setScale(1),t._canUp=!0}))).start(),cc.tween(this._layer._machine).to(.1,{scaleX:1.1,scaleY:.95}).to(.1,{scaleX:.95,scaleY:1}).to(.1,{scale:1}).start())},e.prototype.goBack=function(){var t=this;this._canTouch=!1,cc.tween(this.node).to(.3,{position:this._pos}).call(function(){t._canTouch=!0}).start()},e.prototype.touchStart=function(t){this._canTouch&&(this._starP=this.node.position,this._touchP=t.getLocation(),this._layer._bottle.getComponent(l.default).openGuide(),this.stopGuide(),this.node.setScale(1.1))},e.prototype.touchMove=function(t){if(this._canTouch){var e=t.getLocation().sub(this._starP),o=this._starP.add(e);o.y>190&&(o.y=190),o.x<80&&(o.x=80),o.x>cc.winSize.width-70&&(o.x=cc.winSize.width-70),this.node.setPosition(r.G35_utils.convertToSpacePos(o,this.node.parent))}},e.prototype.touchEnd=function(t){this._canTouch&&(this.node.setScale(1),this.openGuide(),this._layer._bottle.getComponent(l.default).stopGuide(),this.install())},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreadyBottle":"G35_SeabedreadyBottle","./G35_SeabedreadyRes":"G35_SeabedreadyRes"}],G35_Seabedready:[function(t,e,o){"use strict";cc._RF.push(e,"c0178DbhLJND6vTC191AKhw","G35_Seabedready");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../GameUtils/G35_Utils"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("./G35_SeabedreadyRes"),u=t("./G35_SeabedreadyMachine"),d=t("./G35_SeabedreadyPopup"),p=t("./G35_SeabedreadyTube"),h=t("./G35_SeabedreadyBottle"),f=t("../../Common/G35_playLight"),g=t("../../../GameUtils/G35_GlobalParams"),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._finish=!1,e._mask=null,e._bottle=null,e._machine=null,e._popup=null,e._tube=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=cc.find("Canvas").getComponent(l.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this.loadBg(),this.loadBottle(),this.loadTube()},e.prototype.loadBg=function(){this._mask=cc.find("mask",this.node),this._mask.setContentSize(cc.winSize.width,cc.winSize.height),this._mask._canTouch=!1,this._mask.zIndex=50},e.prototype.loadBottle=function(){var t=cc.instantiate(this.res.bottle);t.parent=this.node,t.setPosition(cc.v2(200+this.offset.x-cc.winSize.width/2,137-cc.winSize.height/2)),t.zIndex=5,t.getComponent(h.default)._layer=this,this._bottle=t},e.prototype.loadMachine=function(){var t=new cc.Node;t.parent=this.node;var e=cc.instantiate(this.res.machine);t.setPosition(cc.v2(cc.winSize.width+220,41)),e.setPosition(0,0),e.zIndex=5,e.parent=t,e.setAnchorPoint(cc.v2(.5,.3)),this._machine=e,this._machine.getComponent(u.default)._pos=cc.v2(714+this.offset.x-cc.winSize.width/2,41-cc.winSize.height/2),this._machine.getComponent(u.default)._layer=this,this._machine.getComponent(u.default).enter()},e.prototype.loadPopup=function(){var t=cc.instantiate(this.res.popup);t.setPosition(cc.v2(480+this.offset.x-cc.winSize.width/2,260+this.offy-cc.winSize.height/2)),t.zIndex=100,t.parent=this.node,this._popup=t;var e=this._popup.getComponent(d.default);e._layer=this,e.enter()},e.prototype.loadTube=function(){var t=cc.instantiate(this.res.tube);t.setPosition(cc.v2(670+this.offset.x-cc.winSize.width/2,-230-cc.winSize.height/2)),t.zIndex=10,t.parent=this.node;var e=t.getComponent(p.default);e._pos=cc.v2(670-cc.winSize.width/2+this.offset.x,80-cc.winSize.height/2),e._layer=this,e.enter(),this._tube=t},e.prototype.finish=function(){var t=this;c.audioManager.playLine(this.res.a228075),this._finish=!0,s.G35_utils.resetParent(this._tube,this._machine),this._tube.getComponent(p.default)._head.x=-65,this._bottle.zIndex=70,cc.tween(this._bottle).delay(.3).call(function(){t._machine.getComponent(u.default).quit()}).delay(.5).parallel(cc.tween().to(.4,{position:cc.v2(0,0)}),cc.tween().to(.4,{scale:.6})).call(function(){cc.instantiate(t.res.playLight).getComponent(f.default).playLight(t.node,60,2)}).delay(2).call(function(){g.G35_GlobalParams.gameVar.gameId=3,g.G35_GlobalParams.gameVar.fromSelect=!1,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Ready")}).start()},e.prototype.start=function(){},e=n([y],e)}(a.default));o.default=m,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_playLight":"G35_playLight","./G35_SeabedreadyBottle":"G35_SeabedreadyBottle","./G35_SeabedreadyMachine":"G35_SeabedreadyMachine","./G35_SeabedreadyPopup":"G35_SeabedreadyPopup","./G35_SeabedreadyRes":"G35_SeabedreadyRes","./G35_SeabedreadyTube":"G35_SeabedreadyTube"}],G35_SeabedreturnBaseMap:[function(t,e,o){"use strict";cc._RF.push(e,"67416RL2v1DXpU0nRqK4Tod","G35_SeabedreturnBaseMap");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("./G35_SeabedreturnRes"),s=t("../../../GameUtils/G35_Utils"),c=t("../../../../lib/core/util/MathUtil"),l=t("./G35_SeabedreturnGameContainer"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.gameScript=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._canTouch=!0,e._index=null,e._dir=null,e._eTpye=null,e._plant=[],e._pillars=[],e._start=[[9,10],[10,11],[8,9]],e.seaDecorate=[],e.isTrigger=!1,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.gameScript=cc.find("Canvas/GameContainer").getComponent(l.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width/2)},e.prototype.seaDecorateDate=function(){return[{pos:cc.v2(cc.winSize.width/2-143,77),anc:cc.v2(.6,0),zOrder:8,isPlant:!0,actType:1},{pos:cc.v2(cc.winSize.width/2-240,92),anc:cc.v2(.5,0),zOrder:8,isPlant:!0,actType:2},{pos:cc.v2(236-cc.winSize.width/2,52),anc:cc.v2(.5,0),zOrder:8,isPlant:!1},{pos:cc.v2(cc.winSize.width/2-20,-47),anc:cc.v2(.8,0),zOrder:15,isPlant:!0,actType:1},{pos:cc.v2(86.7-cc.winSize.width/2,71),anc:cc.v2(.4,.1),zOrder:8,isPlant:!0,actType:1},{pos:cc.v2(-19-cc.winSize.width/2,-11),anc:cc.v2(0,0),zOrder:15,isPlant:!0,actType:3},{pos:cc.v2(166-cc.winSize.width/2,-11),anc:cc.v2(.5,0),zOrder:10,isPlant:!1},{pos:cc.v2(cc.winSize.width/2-190,-47),anc:cc.v2(.5,0),zOrder:10,isPlant:!1},{pos:cc.v2(cc.winSize.width/2-352,51),anc:cc.v2(.5,0),zOrder:5,isPlant:!1},{pos:cc.v2(428-cc.winSize.width/2+this.offset.x,67),anc:cc.v2(.5,0),zOrder:5,isPlant:!1},{pos:cc.v2(363-cc.winSize.width/2+this.offset.x,68),anc:cc.v2(.5,0),zOrder:5,isPlant:!0,actType:2}]},e.prototype.loadDisplay=function(){var t=a.G35_globalView.offset;this.offset=t;var e=null,o=null,i=45-this.offset.x/2;i<0&&(i=0);var n=this.getPillarImage()[0],r=this.getPillarImage()[1];0==this._index?((e=s.G35_utils.creatNode(this.res.newNode,this.res.pillarAlt.getSpriteFrame(""+n),this.node,cc.v2(-cc.winSize.width/2-i,0),1,5)).setAnchorPoint(cc.v2(0,0)),(o=s.G35_utils.creatNode(this.res.newNode,this.res.pillarAlt.getSpriteFrame(""+r),this.node,cc.v2(cc.winSize.width/2+i,0),1,5)).setAnchorPoint(cc.v2(1,0)),s.G35_utils.creatNode(this.res.newNode,this.res.decorateAlt.getSpriteFrame("land"),this.node,cc.v2(0,50),1,6).setScale(1.25),s.G35_utils.creatNode(this.res.newNode,this.res.decorateAlt.getSpriteFrame("boat"),this.node,cc.v2(0,330),1).setScale(1.3),this.loadFirstDecorate()):((e=s.G35_utils.creatNode(this.res.newNode,this.res.pillarAlt.getSpriteFrame(""+n),this.node,cc.v2(-cc.winSize.width/2-i,-this._index),1,5)).setAnchorPoint(cc.v2(0,0)),(o=s.G35_utils.creatNode(this.res.newNode,this.res.pillarAlt.getSpriteFrame(""+r),this.node,cc.v2(cc.winSize.width/2+i,-this._index),1,5)).setAnchorPoint(cc.v2(1,0)),this._pillars.push(e),this._pillars.push(o),e.scaleY*=1.05,o.scaleY*=1.05,this.addPillarDecorate());this.loadEvent(),6!=this._index&&12!=this._index||this.gameScript.loadFish(this._index)},e.prototype.loadEvent=function(){},e.prototype.loadFirstDecorate=function(){var t=this;this.seaDecorate=this.seaDecorateDate(),this.seaDecorate.forEach(function(e,o){var i=s.G35_utils.creatNode(t.res.newNode,t.res.decorateAlt.getSpriteFrame(""+(o+1)),t.node,cc.v2(e.pos),1,e.zOrder);i.setAnchorPoint(e.anc),e.isPlant&&(i._actType=e.actType,t._plant.push(i))});var e=s.G35_utils.creatNode(this.res.newNode,this.res.decorateAlt.getSpriteFrame("2"),this.node,cc.v2(298,-3),1,15);e.setAnchorPoint(cc.v2(.5,0)),this._plant.push(e),this._plant.forEach(function(e,o){cc.tween(e).delay(.2*o).call(function(){t.gameScript.plantAction(e,e._actType)}).start()})},e.prototype.switchThisMapEvent=function(t){},e.prototype.addPillarDecorate=function(){if(!(this._index>this.gameScript._mapsNum-3)){var t=this._dir;t<=-1&&(t=2);var e=[[cc.v2(185,480),cc.v2(185,720),cc.v2(185,560)],[cc.v2(-210,480),cc.v2(-210,600),cc.v2(-201,560)]],o=[!0,!1],i=[cc.v2(.5,0),cc.v2(1,0)];if(1==c.default.random(1,2)){(a=s.G35_utils.creatNode(this.res.newNode,this.res.rockAlt.getSpriteFrame("7-3"),this._pillars[t-1],cc.v2(e[t-1][0]),1,5)).setAnchorPoint(i[t-1]),a.scaleX=o[t-1]?1:-1,a.angle=o[t-1]?-90:90,this.plantAction(a,2);var n=s.G35_utils.creatNode(this.res.newNode,this.res.rockAlt.getSpriteFrame("7-1"),this._pillars[t-1],cc.v2(e[t-1][1]),1,5);n.setAnchorPoint(i[t-1]),n.scaleX=o[t]?1:-1,n.angle=o[t-1]?-90:90}else{var a;(a=s.G35_utils.creatNode(this.res.newNode,this.res.decorateAlt.getSpriteFrame("9"),this._pillars[t-1],cc.v2(e[t-1][2]),1,5)).setAnchorPoint(i[t-1]),a.scaleX=o[t-1]?1:-1,a.angle=o[t-1]?-90:90,this.plantAction(a,4)}}},e.prototype.getPillarImage=function(){var t="1_2",e="1_1";return this._index>=this._start[this.gameScript._eventType][0]&&(this.gameScript._rockTab=[],t="2_2"),this._index>=this._start[this.gameScript._eventType][1]&&(this.gameScript._rockTab=[],e="2_1"),this._index==this.gameScript._mapsNum-1&&(t="2_4",e="2_3"),[t,e]},e.prototype.plantAction=function(t,e){t.scale;switch(e){case 1:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.rotateTo(1,3),cc.rotateTo(1,-3)))).start();break;case 2:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(.8,t.scaleX,t.scaleY+.05),cc.scaleTo(.8,t.scaleX,t.scaleY),cc.scaleTo(.8,t.scaleX,t.scaleY-.05),cc.scaleTo(.8,t.scaleX,t.scaleY)))).start();break;case 3:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX+.05,t.scaleY-.05),cc.scaleTo(1,t.scaleX,t.scaleY)))).start();break;case 4:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(.8,t.scaleX,t.scaleY+.05),cc.scaleTo(.8,t.scaleX,t.scaleY),cc.scaleTo(.8,t.scaleX,t.scaleY-.05),cc.scaleTo(.8,t.scaleX,t.scaleY)))).start()}},e.prototype.onStar=function(){this.isTrigger=!0},e.prototype.onStop=function(){this.isTrigger&&(this.isTrigger=!1)},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreturnGameContainer":"G35_SeabedreturnGameContainer","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedreturnBgManager:[function(t,e,o){"use strict";cc._RF.push(e,"749a4K8/3RJYZR2rTBFbR6y","G35_SeabedreturnBgManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedreturnViewback"),r=t("./G35_SeabedreturnViewfront"),s=t("./G35_Seabedreturn"),c=t("../../../GameUtils/G35_Utils"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainScript=null,e._parent=null,e._layer=null,e._view1=[],e._view2=[],e._bgData=[[1,9,10,16],[1,10,11,16],[1,8,9,16]],e}return i(e,t),e.prototype.onLoad=function(){this.mainScript=cc.find("Canvas").getComponent(s.default)},e.prototype.loadBgView=function(){for(var t=this._bgData[this._layer._eventType],e=0,o=0;o<this._layer._mapsNum;o++){o+1>t[e]&&e++;var i=626*o,n=new cc.Node("viewback"),s=n.addComponent(a.default);s._index=o,s._bgType=e,s._layer=this._layer,n.setAnchorPoint(cc.v2(.5,0)),n.parent=this._parent,n.setPosition(cc.v2(c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,i),n.parent))),n.setContentSize(cc.winSize.width,626),this._view1.push(n);var l=new cc.Node("viewback"),u=l.addComponent(r.default);u._index=o,u._bgType=e,u._layer=this._layer,l.zIndex=500,l.setAnchorPoint(cc.v2(.5,0)),l.parent=this._parent,l.setPosition(cc.v2(c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,i),l.parent))),l.setContentSize(cc.winSize.width,626),this._view2.push(l),0!=o&&1!=o||(n.getComponent(a.default).loadDisplay(),l.getComponent(r.default).loadDisplay())}},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seabedreturn":"G35_Seabedreturn","./G35_SeabedreturnViewback":"G35_SeabedreturnViewback","./G35_SeabedreturnViewfront":"G35_SeabedreturnViewfront"}],G35_SeabedreturnGameContainer:[function(t,e,o){"use strict";cc._RF.push(e,"7a07dVAkKJKGrYucOeZ/8i+","G35_SeabedreturnGameContainer");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/core/util/StoreUtil"),r=t("../../../../lib/core/util/MathUtil"),s=t("./G35_SeabedreturnMapManager"),c=t("./G35_SeabedreturnBgManager"),l=t("./G35_SeabedreturnQiqi"),u=t("../../../GameUtils/G35_GlobalView"),d=t("./G35_SeabedreturnRes"),p=t("../../../../lib/business/Manager/AudioManager"),h=t("../../../GameUtils/G35_Utils"),f=t("./G35_SeabedreturnViewback"),g=t("./G35_SeabedreturnViewfront"),_=t("../../../GameUtils/Tools/G35_CommonAct"),y=t("../../Common/G35_Excitation"),m=cc._decorator,v=m.ccclass,b=(m.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._isTouch=!1,e._finish=!1,e._canMove=!0,e._layer=null,e._mapsNum=17,e._rockTab=[1,2,3,4],e._fish=[],e._bubTab=[],e.UP_SPEED=[2.3,3.3,3.8,4.3],e.MAP_NUM=[0,2,5,11],e._currentMapIndex=0,e._currentLevel=0,e._successNum=0,e._hasFish=!1,e._qiqiFouceP=null,e._qiqiSpeed=0,e._eventType=null,e._bgManager=null,e._qiqi=null,e._mapManager=null,e._totalLength=null,e._update=null,e._enterGuide=!1,e._guideAct=null,e._hand=null,e._arrow=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=this.node.parent.getComponent(d.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=u.G35_globalView.offset;this.offset=t,this.init(),this.loadBg(),this.loadMap(),this.loadQiqi(),this.startGame()},e.prototype.init=function(){var t=JSON.parse(a.default.get("G35_EVENTTYPE","null"));JSON.parse(a.default.get("G35_EVENTTYPE","null"))?t%=2:t=r.default.random(0,2),a.default.set("G35_EVENTTYPE",JSON.stringify(t)),this._eventType=t},e.prototype.loadMap=function(){var t=new cc.Node,e=t.addComponent(s.default);e._parent=this.node,e._layer=this,t.parent=this.node,this._mapManager=t,e.loadMaps()},e.prototype.loadBg=function(){var t=new cc.Node,e=t.addComponent(c.default);e._parent=this.node,e._layer=this,t.parent=this.node,this._bgManager=t,e.loadBgView(),this._totalLength=626*(this._mapsNum-1)},e.prototype.loadQiqi=function(){var t=cc.find("Canvas/qiqi");t.parent=this.node,t.getComponent(l.default)._layer=this,t.zIndex=200,t.setPosition(0,100-cc.winSize.height/2),this._qiqi=t;var e=this.UP_SPEED[this._currentLevel];this._qiqi.getComponent(l.default).setSpeedy(e),this._qiqiSpeed=e,this._qiqiFouceP=cc.v2(cc.winSize.width/2,-100),this._currentLevel++},e.prototype.loadFish=function(t){var e=this;this._fish=[],this._hasFish=!0;for(var o=["xcy","ld","jdy","ywy","phy"],i=r.default.random(0,4),n=cc.v2(0,this._mapManager.getComponent(s.default)._maps[t].y+300),a=function(t){var a=r.default.random(190,210),s=r.default.random(n.x-150,n.x+150),l=r.default.random(n.y-100,n.y+100),u=cc.instantiate(c.res.fish);u.parent=c.node,u.zIndex=a,u.setScale(.7),u.setPosition(cc.v2(s,l)),u.getComponent(dragonBones.ArmatureDisplay).playAnimation(o[i]+"_you",-1),u._dir=-1,u._name=o[i],c._fish.push(u),cc.tween(c.node).delay(.05*t).call(function(){e.fishMove(u)}).start()},c=this,l=0;l<10;l++)a(l)},e.prototype.plantAction=function(t,e){t.scale;switch(e){case 1:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.rotateTo(1,3),cc.rotateTo(1,-3)))).start();break;case 2:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX-.05,t.scaleY+.05),cc.scaleTo(1,t.scaleX,t.scaleY)))).start();break;case 3:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX+.05,t.scaleY-.05),cc.scaleTo(1,t.scaleX,t.scaleY)))).start();break;case 4:cc.tween(t).then(cc.repeatForever(cc.sequence(cc.scaleTo(1,t.scaleX-.05,t.scaleY+.01),cc.scaleTo(1,t.scaleX,t.scaleY)))).start()}},e.prototype.fishMove=function(t){var e=this,o=cc.winSize.width/2-500;cc.tween(t).by(8,{x:o*t._dir}).call(function(){-1==t._dir?(t.dir=1,t.scaleX=-1):(t.dir=-1,t.scaleX=1),e.fishMove(t)}).start()},e.prototype.fishClear=function(){var t=this;this._hasFish=!1,p.audioManager.playEffect(this.res.a22801042),this._fish.forEach(function(e,o){var i;e.stopAllActions(),o<t._fish.length/2?(i=100-cc.winSize.width,e.scaleX=1):(i=-100+cc.winSize.width,e.scaleX=-1),e.getComponent(dragonBones.ArmatureDisplay).playAnimation(e._name+"_ksyou",-1),cc.tween(e).then(cc.sequence(cc.scaleBy(.1,1.25),cc.scaleBy(.05,.8),cc.moveTo(1.5,cc.v2(i,e.y+r.default.random(-50,50))).easing(cc.easeSineIn()),cc.removeSelf())).start()})},e.prototype.isEnd=function(){this._successNum++,this._successNum==this._mapsNum-2&&(this._layer._canTouch=!1,this._layer._fingerPosX=null,this._qiqi.getComponent(l.default).fastMove(),this.stopGuide(),this._finish=!0)},e.prototype.nextScene=function(){var t=cc.instantiate(this.res.Excitation);t.parent=this.node,t.zIndex=9998,t.getComponent(y.default).init({id:3})},e.prototype.startGame=function(){var t=this;this._qiqi.getComponent(l.default).personDragon=this._qiqi.getComponent(dragonBones.ArmatureDisplay),this._qiqi.getComponent(l.default).play_say(),p.audioManager.playLine(this.res.a228011),cc.tween(this.node).delay(p.audioManager.getDurationByMap("228011")).call(function(){t.openSC(),t._qiqi.getComponent(l.default).play_swim()}).start()},e.prototype.openSC=function(){var t=this;this._update||(this._update=function(){t.updatePosition()},this.schedule(this._update,.01))},e.prototype.closeSC=function(){this._update&&(this.unschedule(this._update),this._update=null)},e.prototype.updatePosition=function(){if(this._finish||this._qiqi.getComponent(l.default).move(),this._qiqi.y>=this._qiqiFouceP.y&&this._qiqi.y<=this._totalLength){var t=this.node.convertToWorldSpaceAR(this._qiqi.position).y-this._qiqiFouceP.y,e=this.node.y-t;this.node.y=e+cc.winSize.height/2}var o=this._qiqi.y/this._totalLength;this._layer._bar.getComponent(cc.Sprite).fillRange=o,this._layer._icon.y<310&&(this._layer._icon.y=310*o-5),this.openListenerPosition()},e.prototype.openListenerPosition=function(){this._currentMapIndex==this._mapsNum-1&&this.closeSC();var t=this._mapManager.getComponent(s.default)._maps[this._currentMapIndex],e=this._qiqi.y;if(e>=t.y+t.length&&(this._currentMapIndex++,this._currentMapIndex<this._mapsNum-1&&(this._mapManager.getComponent(s.default)._maps[this._currentMapIndex+1].getComponent("G35_Seabedreturn"+this._mapManager.getComponent(s.default)._Map).loadDisplay(),this._bgManager.getComponent(c.default)._view1[this._currentMapIndex+1].getComponent(f.default).loadDisplay(),this._bgManager.getComponent(c.default)._view2[this._currentMapIndex+1].getComponent(g.default).loadDisplay()),this._currentMapIndex>1&&(this._mapManager.getComponent(s.default)._maps[this._currentMapIndex-2].destroy(),this._bgManager.getComponent(c.default)._view1[this._currentMapIndex-2].destroy(),this._bgManager.getComponent(c.default)._view2[this._currentMapIndex-2].destroy(),this._mapManager.getComponent(s.default)._maps[this._currentMapIndex-2]=null,this._bgManager.getComponent(c.default)._view1[this._currentMapIndex-2]=null,this._bgManager.getComponent(c.default)._view2[this._currentMapIndex-2]=null)),this._mapManager.getComponent(s.default)._maps[this._currentMapIndex].getComponent("G35_Seabedreturn"+this._mapManager.getComponent(s.default)._Map).switchThisMapEvent(e),this._currentMapIndex-1>=0&&this._mapManager.getComponent(s.default)._maps[this._currentMapIndex-1].getComponent("G35_Seabedreturn"+this._mapManager.getComponent(s.default)._Map).switchThisMapEvent(e),this._currentMapIndex+1==this.MAP_NUM[this._currentLevel]){var o=this.UP_SPEED[this._currentLevel];this._qiqi.getComponent(l.default).setSpeedy(o),this._qiqiSpeed=o,this._currentLevel++}if(this._hasFish){var i=h.G35_utils.getVec2Pos(this._fish[0]);h.G35_utils.getVec2Pos(this._qiqi).y>i.y-140*this._qiqi.getComponent(l.default)._speedy/2&&this.fishClear()}},e.prototype.enterGuide=function(){var t=this._mapManager.getComponent(s.default)._maps[this._currentMapIndex];if(t){var e=t.getComponent("G35_Seabedreturn"+this._mapManager.getComponent(s.default)._Map);!this._enterGuide&&this._qiqi.y>e._startY&&(this._enterGuide=!0,this._layer._canTouch=!0)}},e.prototype.handGuide=function(t){var e=this;this._guideAct||(this._guideAct=cc.tween(this.node).delay(t).call(function(){var t=-e._mapManager.getComponent(s.default)._maps[e._currentMapIndex].getComponent("G35_Seabedreturn"+e._mapManager.getComponent(s.default)._Map)._dir,o=h.G35_utils.creatNode(e.res.newNode,e.res.comAlt.getSpriteFrame("arrow"),e.node,cc.v2(e._qiqi.x,e._qiqi.y-40),1,600);o.scaleX=t;var i=h.G35_utils.creatNode(e.res.newNode,e.res.comAlt.getSpriteFrame("hand_1"),o,cc.v2(-130,30),1);i.setAnchorPoint(cc.v2(0,1)),i._startPoint=i.position,e._hand=i,e._arrow=o,cc.tween(e._hand).then(cc.repeatForever(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){_.G35_commonAct.filenames(e._hand,e.res.guideAlt,.1)}),cc.delayTime(.3),cc.moveBy(.6,cc.v2(150,0)),cc.reverseTime(cc.callFunc(function(){_.G35_commonAct.filenames(e._hand,e.res.guideAlt,.1)})),cc.delayTime(.3),cc.fadeOut(.5),cc.delayTime(.5),cc.callFunc(function(){i.position=i._startPoint})))).start()}).start())},e.prototype.stopGuide=function(){this._guideAct&&(this.node.stopAllActions(),this._guideAct=null,this._hand&&(this._hand.destroy(),this._hand=null),this._arrow&&(this._arrow.destroy(),this._arrow=null))},e=n([v],e)}(cc.Component));o.default=b,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/StoreUtil":"StoreUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Excitation":"G35_Excitation","./G35_SeabedreturnBgManager":"G35_SeabedreturnBgManager","./G35_SeabedreturnMapManager":"G35_SeabedreturnMapManager","./G35_SeabedreturnQiqi":"G35_SeabedreturnQiqi","./G35_SeabedreturnRes":"G35_SeabedreturnRes","./G35_SeabedreturnViewback":"G35_SeabedreturnViewback","./G35_SeabedreturnViewfront":"G35_SeabedreturnViewfront"}],G35_SeabedreturnMapBubble:[function(t,e,o){"use strict";cc._RF.push(e,"d5c2dCwYGVCFoPg2UFzsKVA","G35_SeabedreturnMapBubble");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../../lib/business/Manager/AudioManager"),s=t("./G35_SeabedreturnBaseMap"),c=t("../../../../lib/core/util/NodeUtil"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.gameScript=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._bubData=[],e._nodes=[],e}return i(e,t),e.prototype.getBubbleData=function(){this._bubData=[[{id:1,pos:cc.v2(610,358)},{id:3,pos:cc.v2(310,310)},{id:3,pos:cc.v2(400,390)},{id:3,pos:cc.v2(310,470)},{id:1,pos:cc.v2(350,705)},{id:3,pos:cc.v2(655,610)},{id:3,pos:cc.v2(575,690)},{id:3,pos:cc.v2(655,770)}],[{id:1,pos:cc.v2(315,730)},{id:1,pos:cc.v2(680,230)},{id:3,pos:cc.v2(300,351)},{id:3,pos:cc.v2(382,248)},{id:3,pos:cc.v2(437,543)},{id:3,pos:cc.v2(527,435)},{id:3,pos:cc.v2(580,733)},{id:3,pos:cc.v2(676,638)}],[{id:2,pos:cc.v2(360,660)},{id:2,pos:cc.v2(610,310)},{id:3,pos:cc.v2(275,405)},{id:3,pos:cc.v2(275,310)},{id:3,pos:cc.v2(370,355)},{id:3,pos:cc.v2(370,260)},{id:3,pos:cc.v2(600,730)},{id:3,pos:cc.v2(600,625)},{id:3,pos:cc.v2(695,680)},{id:3,pos:cc.v2(695,585)}],[{id:2,pos:cc.v2(300,305)},{id:2,pos:cc.v2(480,495)},{id:2,pos:cc.v2(660,690)},{id:3,pos:cc.v2(310,616)},{id:3,pos:cc.v2(370,708)},{id:3,pos:cc.v2(590,290)},{id:3,pos:cc.v2(650,382)}]]},e.prototype.loadEvent=function(){var t=this;this.getBubbleData();var e=a.G35_utils.numberExcept(0,3,this.gameScript._bubTab);this.gameScript._bubTab.push(e);var o=[1,1,.8];this._bubData[e].forEach(function(e,i){var n=a.G35_utils.creatNode(t.res.newNode,null,t.node,cc.v2(e.pos.x-cc.winSize.width/2,e.pos.y),1,20);n.setContentSize(10,10);var r=a.G35_utils.creatNode(t.res.bubble,t.res.bubbleAlt.getSpriteFrame(""+e.id),n,cc.v2(0,0),1,5);if(r.setScale(o[e.id-1]),n._bub=r,n._id=e.id,3==e.id){var s=a.G35_utils.creatNode(t.res.newNode,t.res.bubbleAlt.getSpriteFrame("windmill"),r,cc.v2(0,0),1);r._windmill=s,t.rotateAction(r)}else cc.tween(t.node).delay(.1*i).call(function(){t.floatAction(r)}).start();t._nodes.push(n)})},e.prototype.floatAction=function(t){var e=t.scale;cc.tween(t).repeatForever(cc.tween().then(cc.sequence(cc.moveBy(2.5,cc.v2(0,70)).easing(cc.easeInOut(2)),cc.moveBy(2.5,cc.v2(0,-70)).easing(cc.easeInOut(2))))).start(),cc.tween(t).repeatForever(cc.tween().delay(2.7).to(.2,{scaleX:1.1*e,scaleY:.9*e}).to(.2,{scaleX:.9*e,scaleY:1.1*e}).to(.2,{scaleX:1.1*e,scaleY:.9*e}).to(.2,{scaleX:.9*e,scaleY:1.1*e}).to(.2,{scale:e}).delay(.5)).start()},e.prototype.rotateAction=function(t){var e=t.scale;cc.tween(t._windmill).repeatForever(cc.tween().by(1,{angle:-360})).start(),cc.tween(t).repeatForever(cc.tween().to(.2,{scaleX:1.1*e,scaleY:.9*e}).to(.2,{scaleX:.9*e,scaleY:1.1*e}).to(.2,{scaleX:1.1*e,scaleY:.9*e}).to(.2,{scaleX:.9*e,scaleY:1.1*e}).to(.2,{scale:e})).start()},e.prototype.addParticle=function(t){r.audioManager.playEffect(this.res.a22801037);for(var e=this._nodes[t],o=1;o<=6;o++){var i=this.res.particleFrames[o-1],n=cc.instantiate(this.res.qipao1);n.parent=e,n.getComponent(cc.ParticleSystem).spriteFrame=i}},e.prototype.addParticle2=function(t){r.audioManager.playEffect(this.res.a22801038);for(var e=this._nodes[t],o=1;o<=4;o++){var i=this.res.particleFrames2[o-1],n=cc.instantiate(this.res.xiaozhakai);n.parent=e,n.getComponent(cc.ParticleSystem).spriteFrame=i}},e.prototype.switchThisMapEvent=function(t){var e=this.node.y;t>e+100&&t<e+800?this.onStar():t>=e+800&&this.onStop()},e.prototype.onStar=function(){var t=this;this.isTrigger=!0,this._nodes.forEach(function(e,o){!e.trigger&&c.default.detectCollision({node1:e,node2:t.gameScript._qiqi})&&(e.trigger=!0,e.stopAllActions(),e._bub.opacity=0,e._id<3?t.addParticle(o):t.addParticle2(o))})},e.prototype.onStop=function(){this.isTrigger&&(this.isTrigger=!1,this.gameScript.isEnd())},e=n([u],e)}(s.default));o.default=d,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/NodeUtil":"NodeUtil","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreturnBaseMap":"G35_SeabedreturnBaseMap"}],G35_SeabedreturnMapHole:[function(t,e,o){"use strict";cc._RF.push(e,"5080efPV69GtY15NtChJdX4","G35_SeabedreturnMapHole");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("./G35_SeabedreturnShark"),s=t("./G35_SeabedreturnQiqi"),c=t("./G35_SeabedreturnBaseMap"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.gameScript=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._dir=null,e._startY=null,e._endY=null,e._obstacle=null,e._shark=null,e._clip=null,e._rectPoint=null,e}return i(e,t),e.prototype.loadEvent=function(){this.loadHole()},e.prototype.loadHole=function(){var t=30-this.offset.x/2;t<0&&(t=0);var e,o=[cc.v2(120-t-cc.winSize.width/2,550),cc.v2(cc.winSize.width/2-120+t,550)],i=1;-1==this._dir&&(i=0),e=this._index<this._start[this.gameScript._eventType][i]?"hole1":"hole2";var n=a.G35_utils.creatNode(this.res.hole,this.res[e],this.node,cc.v2(o[i]),1,20);this._obstacle=n,n.scaleX=this._dir,this._startY=250,this._endY=550,this.loadClipNode()},e.prototype.loadClipNode=function(){var t=cc.find("clip",this._obstacle);this._clip=t,this.loadShark()},e.prototype.loadShark=function(){var t=cc.instantiate(this.res.shark);t.parent=this._clip,t.setScale(.5),t.setPosition(cc.v2(250,0)),t.getComponent(r.default).standby(),t.getComponent(r.default)._layer=this.gameScript,t.getComponent(r.default)._dir=this._dir,this._shark=t,this._rectPoint=a.G35_utils.creatNode(this.res.newNode,this.res.pointFrame,this._shark,cc.v2(-this._shark.width/2,-this._shark.height/2),1),this._rectPoint.opacity=0},e.prototype.switchThisMapEvent=function(t){var e=this.node.y;t>e+100-2*this._index&&t<e+500?(this.isTrigger||(this.gameScript._qiqi.getComponent(s.default).play_swim5(),this.isTrigger=!0,this._shark.getComponent(r.default).personDragon=this._shark.getComponent(dragonBones.ArmatureDisplay),this._shark.getComponent(r.default).sprang()),t>e+250&&this.onStar()):t>=e+650&&this.onStop()},e.prototype.onStar=function(){if(!this._shark||this._shark.getComponent(r.default)._canDetect){var t=a.G35_utils.convertPosition(this.gameScript._qiqi.getComponent(s.default)._head,this._shark),e=this._shark.getContentSize();t.x=Math.abs(t.x),t.y*=-1,t.x>0&&t.x<e.width&&t.y>0&&t.y<e.height&&this._shark.getComponent(r.default).meetQiqi()}},e.prototype.onStop=function(){this.isTrigger&&(this.isTrigger=!1,this._shark.getComponent(r.default)._canDetect&&(this._shark.getComponent(r.default)._canDetect=!1,this._shark.getComponent(r.default).moveAway()),this.gameScript.isEnd())},e=n([u],e)}(c.default));o.default=d,cc._RF.pop()},{"../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreturnBaseMap":"G35_SeabedreturnBaseMap","./G35_SeabedreturnQiqi":"G35_SeabedreturnQiqi","./G35_SeabedreturnShark":"G35_SeabedreturnShark"}],G35_SeabedreturnMapManager:[function(t,e,o){"use strict";cc._RF.push(e,"e5e28nr5NlHKLByHV+vUrrG","G35_SeabedreturnMapManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedreturnRes"),r=t("../../../GameUtils/G35_Utils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.res=null,e._layer=null,e._maps=[],e._mapData=[],e._mapInfos=[],e._Map=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default)},e.prototype.getMapData=function(){this._mapData=[[[2,1],[2,-1],[1,-1],[3,1],[1,-1],[2,-1],[2,1],[1,1],[2,-1],[2,1],[3,1],[1,-1],[2,-1],[1,1],[2,-1],[0,0],[0,0]],[[2,-1],[1,1],[2,-1],[3,-1],[2,1],[2,-1],[2,1],[1,1],[3,-1],[2,-1],[2,1],[1,-1],[2,1],[1,1],[2,-1],[0,0],[0,0]],[[2,1],[1,-1],[2,1],[3,1],[2,-1],[1,1],[2,1],[2,-1],[2,1],[3,-1],[2,-1],[2,1],[1,1],[2,-1],[1,1],[0,0],[0,0]]]},e.prototype.initCreateMapInfos=function(){var t=[];t[1]={className:"MapHole"},t[2]={className:"MapRock"},t[3]={className:"MapBubble"},this._mapInfos=t},e.prototype.loadMaps=function(){var t,e=this;this.getMapData(),this.initCreateMapInfos(),this._mapData[this._layer._eventType].forEach(function(o,i){var n=626*i;t=0!=o[0]?e._mapInfos[o[0]].className:"BaseMap",e._Map=t;var a=new cc.Node("map"),s=a.addComponent("G35_Seabedreturn"+t);a.parent=e._parent,a.zIndex=100-2*i,s._dir=o[1],s._eRpye=o[0],s._index=i,a.setAnchorPoint(cc.v2(.5,0)),a.setPosition(r.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,n),a.parent)),a.setContentSize(cc.winSize.width,626),a.length=626,e._maps.push(a),0!=i&&1!=i||s.loadDisplay(),i==e._layer._mapsNum-1&&(a.zIndex=100)})},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedreturnMapRock:[function(t,e,o){"use strict";cc._RF.push(e,"ffea3ablVVDApMeIk22Bvgq","G35_SeabedreturnMapRock");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_Utils"),r=t("../../../../lib/core/util/ArrayUtil"),s=t("../../../../lib/core/util/MathUtil"),c=t("./G35_SeabedreturnQiqi"),l=t("./G35_SeabedreturnBaseMap"),u=t("./G35_Seabedreturn"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.gameScript=null,e.Y_FACTOR=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._canTrigger=!0,e._dir=null,e._startY=null,e._endY=null,e._obstacle=null,e.isTrigger=!1,e._success=!1,e._rect=null,e._rectPoint=null,e.rockDecorate=[],e.rockRectData=[],e.bgNode=null,e}return i(e,t),e.prototype.initrockDecorate=function(){return[[[{pos:cc.v2(80,170),anc:cc.v2(.6,0),actType:1,zOrder:3,imgIndex:1}],[{pos:cc.v2(200,302.6),anc:cc.v2(.5,0),actType:1,zOrder:2,imgIndex:1},{pos:cc.v2(323,278.9),anc:cc.v2(.5,0),actType:2,zOrder:3,imgIndex:2}],[{pos:cc.v2(177,289.9),anc:cc.v2(.5,0),actType:3,zOrder:3,imgIndex:1},{pos:cc.v2(143,292.7),anc:cc.v2(.5,0),actType:2,zOrder:6,imgIndex:2}],[{pos:cc.v2(305,148),anc:cc.v2(.5,0),actType:0,zOrder:3,imgIndex:1},{pos:cc.v2(490,195),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(300,205),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(118,181),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(245,212.6),anc:cc.v2(.5,0),actType:3,zOrder:1,imgIndex:3},{pos:cc.v2(300,157.6),anc:cc.v2(.5,0),actType:0,zOrder:0,imgIndex:4}],[{pos:cc.v2(240,290),anc:cc.v2(.6,0),actType:1,zOrder:3,imgIndex:1},{pos:cc.v2(245,280),anc:cc.v2(.4,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(390,230),anc:cc.v2(.5,0),actType:2,zOrder:1,imgIndex:3}],[{pos:cc.v2(230,252),anc:cc.v2(.6,0),actType:1,zOrder:3,imgIndex:1},{pos:cc.v2(470,170),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(390,185),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2},{pos:cc.v2(170,280),anc:cc.v2(.6,0),actType:1,zOrder:2,imgIndex:2}],[{pos:cc.v2(540,157.6),anc:cc.v2(.6,0),actType:3,zOrder:2,imgIndex:1},{pos:cc.v2(480,154.1),anc:cc.v2(.4,0),actType:2,zOrder:5,imgIndex:2},{pos:cc.v2(340,158.8),anc:cc.v2(.5,0),actType:2,zOrder:0,imgIndex:3}]],[{pos:cc.v2(134.5,48.7),width:50,ang:30},{pos:cc.v2(342,82.9),width:75,ang:9},{pos:cc.v2(332,55),width:55,ang:9},{pos:cc.v2(330,44.4),width:60,ang:15},{pos:cc.v2(341,77.9),width:80,ang:9},{pos:cc.v2(334,57.4),width:65,ang:8},{pos:cc.v2(332,46.4),width:55,ang:10}]]},e.prototype.loadEvent=function(){this.loadRock()},e.prototype.loadRock=function(){this.bgNode=a.G35_utils.creatNode(this.res.newNode,null,this.node,cc.v2(0,0),1,10),this.bgNode.setAnchorPoint(cc.v2(1,.5));var t=30-this.offset.x;t<-35&&(t=-35);var e,o=this.getRockId(),i=1;-1==this._dir&&(i=0),this._startY=[400,300,350,400,300,400,350][o-1],this._endY=[610,540,570,660,520,580,570][o-1];var n=a.G35_utils.creatNode(this.res.rock,this.res.rockAlt.getSpriteFrame(o+"-0"),this.node,cc.v2(0,0),1,20);n.setAnchorPoint(cc.v2(1,.5)),n._id=o,e=n.width<400?[cc.v2(-10-cc.winSize.width/2,580),cc.v2(cc.winSize.width/2+10,580)]:[cc.v2(-38-cc.winSize.width/2-t,580),cc.v2(cc.winSize.width/2+38+t,580)],n.setPosition(e[i]);var r=n.scale;n.scaleX=r*this._dir,this._obstacle=n,this.bgNode.scaleX=r*this._dir,this.bgNode.setPosition(e[i]),this.loadRect(),this.loadDecorate()},e.prototype.loadRect=function(){this.rockRectData=this.initrockDecorate()[1];var t=this.rockRectData[this._obstacle._id-1],e=a.G35_utils.creatNode(this.res.newNode,this.res.maskFrame,this._obstacle,cc.v2(-15,-this._obstacle.height/2),1);e.setContentSize(this._obstacle.width,t.width),e.setAnchorPoint(cc.v2(1,1)),e.angle=-t.ang,e.opacity=0,this._rect=e,this._rectPoint=a.G35_utils.creatNode(this.res.newNode,this.res.pointFrame,this._obstacle,cc.v2(10-this._obstacle.width,0),1),this._rectPoint.opacity=0},e.prototype.loadDecorate=function(){var t=this;this.rockDecorate=this.initrockDecorate()[0],this.rockDecorate[this._obstacle._id-1].forEach(function(e,o){var i=a.G35_utils.creatNode(t.res.newNode,t.res.rockAlt.getSpriteFrame(t._obstacle._id+"-"+e.imgIndex),t.bgNode,cc.v2(-e.pos.x,e.pos.y-t._obstacle.height/2),1,e.zOrder);i.setAnchorPoint(e.anc),0!=e.actType&&cc.tween(i).delay(.2*o).call(function(){t.gameScript.plantAction(i,e.actType)}).start();t._obstacle._offy=[20,0,0,30,0,0,0][t._obstacle._id-1];var n=1==t._dir?cc.winSize.width/2:0;a.G35_utils.creatParticle(t.res.paopao1,t.bgNode,cc.v2(t._obstacle.width/2+70+n,t._obstacle._offy),2)})},e.prototype.meetQiqi=function(){this.gameScript._qiqi.getComponent(c.default).bumpRock(),this.gameScript._qiqi.getComponent(c.default)._rock=this.node;var t=1==this._dir?cc.winSize.width/2:0;a.G35_utils.creatParticle(this.res.zhuangjimaopao,this.bgNode,cc.v2(this._obstacle.width/2+70+t,this._obstacle.height+this._obstacle._offy),2),cc.find("Canvas").getComponent(u.default)._isTouch||this.gameScript.handGuide(3)},e.prototype.getRockId=function(){var t=1,e=1;return-1==this._dir&&(e=0),0==this._index&&(t=s.default.random(2,4)),this.gameScript._rockTab.length<=0&&(this._index<this._start[this.gameScript._eventType][e]?this.gameScript._rockTab=[1,2,3,4]:this.gameScript._rockTab=[5,6,7]),t=r.default.getRandomItem(this.gameScript._rockTab),r.default.removeObj(this.gameScript._rockTab,t),t},e.prototype.switchThisMapEvent=function(t){var e=this.node.y;this._startY&&t>e+this._startY&&this._endY&&t<e+this._endY?this.onStar():this._endY&&t>=e+this._endY&&this.onStop()},e.prototype.onStar=function(){if(!this._success){var t=this.gameScript._qiqi.getComponent(c.default);if(this.isTrigger=!0,this.gameScript._canMove){var e=a.G35_utils.getVec2Pos(t._head).x,o=a.G35_utils.getVec2Pos(this._rectPoint).x,i=30;1==this._obstacle._id&&(i=0),this._canTrigger&&this.isInRock()?(this._canTrigger=!1,this.meetQiqi()):(t._beBump&&1==this._dir&&e<o+i||-1==this._dir&&e>o-i)&&(this._success=!0,t._rock=null,t.continueMove())}}},e.prototype.isInRock=function(){var t=this._rect.getContentSize(),e=a.G35_utils.convertPosition(this.gameScript._qiqi.getComponent(c.default)._head,this._rect);return e.x=Math.abs(e.x),e.y=Math.abs(e.y),e.x>0&&e.x<t.width&&e.y>0&&e.y<t.height},e.prototype.onStop=function(){this.isTrigger&&(this.isTrigger=!1,this._canTrigger=!1,this.gameScript.isEnd())},e=n([p],e)}(l.default));o.default=h,cc._RF.pop()},{"../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seabedreturn":"G35_Seabedreturn","./G35_SeabedreturnBaseMap":"G35_SeabedreturnBaseMap","./G35_SeabedreturnQiqi":"G35_SeabedreturnQiqi"}],G35_SeabedreturnQiqi:[function(t,e,o){"use strict";cc._RF.push(e,"ca965D3oEJMGJEKeY1SFMNG","G35_SeabedreturnQiqi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedreturnRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("./G35_Seabedreturn"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("../../../GameUtils/G35_Utils"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._size=1,e._maxSpeedX=12,e._minSpeedX=8,e._beBump=!1,e._head=null,e._rock=null,e._cnt=0,e._hasRock=!1,e._speedy=0,e._offx=null,e.mainScript=null,e._oldBoneTab=[],e._bumpEffect=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(s.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=r.G35_globalView.offset;this.offset=t,this.initData()},e.prototype.initData=function(){this._beBump=!1;var t=45-this.offset.x/2;t<0&&(t=0),this._offx=t,this.node.setContentSize(165,170),this._head=cc.find("point",this.node),this._head.setPosition(cc.v2(0,50)),this._head.opacity=0,this._cnt=0,this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.play_say=function(){this.personDragon.playAnimation("hdqq_yoush",-1)},e.prototype.play_swim=function(){this.personDragon.playAnimation("hdqq_you_1",-1)},e.prototype.play_swim2=function(){this.personDragon.armature().getSlot("hdqq_wyj").offset.scaleX=0,this.personDragon.playAnimation("hdqq_zyzyou",-1)},e.prototype.play_swim3=function(){this.personDragon.playAnimation("hdqq_zyzyouh",-1)},e.prototype.play_swim4=function(){c.audioManager.playEffect(this.res.a22801036),this.personDragon.playAnimation("hdqq_chongc",-1)},e.prototype.play_swim5=function(){this.personDragon.playAnimation("hdqq_youhp_1",-1)},e.prototype.play_bitten=function(){c.audioManager.playEffect(this.res.a22801028),this.personDragon.playAnimation("hdqq_by",-1)},e.prototype.play_bump=function(){var t=this;this._bumpEffect||(this._bumpEffect=c.audioManager.playEffect(this.res.a22801023),this.scheduleOnce(function(){t._bumpEffect=null},2)),this._hasRock=!0,this.personDragon.playAnimation("hdqq_zhuang",-1)},e.prototype.play_move=function(){c.audioManager.playEffect(this.res.a22801029);l.G35_utils.creatParticle(this.res.qiqitiaoshui,this.node,cc.v2(cc.winSize.width/2,30),52);this.personDragon.playAnimation("hdqq_csm1",-1)},e.prototype.play_move2=function(){this.personDragon.playAnimation("hdqq_csm2",-1)},e.prototype.play_move3=function(){this.personDragon.playAnimation("hdqq_csm3",-1)},e.prototype.setSpeedy=function(t){this._speedy=t||0},e.prototype.move=function(){this._beBump&&this.setSpeedy(0);var t=this.node.position,e=t.x,o=t.y+this._speedy;if(this.mainScript._fingerPosX){var i=this.mainScript._fingerPosX-e;if(this._rock&&1==this._rock._dir&&i>0||this._rock&&-1==this._rock._dir&&i<0);else{i>10?this.node.scaleX=1:i<-10&&(this.node.scaleX=-1);var n=.1,a=Math.abs(i),r=a*n;r<1?i=0:r<this._minSpeedX?n=this._minSpeedX/a:r>this._maxSpeedX&&(n=this._maxSpeedX/a),e=this.node.x+i*n}}e<290-this._offx-cc.winSize.width/2&&(e=290-this._offx-cc.winSize.width/2),e>cc.winSize.width/2-290+this._offx&&(e=cc.winSize.width/2-290+this._offx),this.node.setPosition(cc.v2(e,o))},e.prototype.fastMove=function(){var t=this;this.play_swim4(),this.node.stopAllActions(),this.setSpeedy(0),this.node.opacity=255,this.node.x<0?this.node.scaleX=1:this.node.scaleX=-1;var e=this._layer._qiqiSpeed/4,o=[1.5/e,2/e];cc.tween(this.node).to(o[1]+.38,{x:0,y:this._layer._totalLength-cc.winSize.height/2+100},{easing:"sineOut"}).call(function(){t.play_move3()}).by(.21,{y:-50}).call(function(){t.personDragon.playAnimation("hdqq_csjl",-1),t._layer.nextScene()}).start(),cc.tween(this.node).delay(o[0]).call(function(){t.play_move()}).start()},e.prototype.bumpRock=function(){var t=this;this._beBump=!0,this.screenShake(),this.mainScript._fingerPosX=null,this.mainScript._canTouch=!1,this.mainScript._bumpCount++,c.audioManager.playEffect(this.res.a22801022),cc.tween(this.node).to(.1,{scaleX:this._size+.2,scaleY:this._size-.2}).to(.1,{scaleX:this._size-.2,scaleY:this._size}).call(function(){t.play_bump()}).to(.1,{scale:this._size}).call(function(){t.mainScript._canTouch=!0}).start()},e.prototype.bittenByShark=function(){var t=this;this._beBump=!0,this.play_bitten();var e=0;c.audioManager.playEffect(this.res.a22801027),this.mainScript._bittenCount++,cc.tween(this.node).repeat(21,cc.tween().delay(.1).call(function(){e=(e+1)%2,t.node.opacity=0==e?100:255,t.personDragon.armature().getSlot("hdqq_wyj").displayIndex=0})).start()},e.prototype.continueMove=function(){var t=this;if(this._layer._currentMapIndex<this._layer._mapsNum-2&&(this.mainScript._isTouch?this.play_swim2():this.play_swim()),this._beBump){this._layer.stopGuide(),this._beBump=!1;var e=1;cc.tween(this.node).repeat(10,cc.tween().delay(.2).call(function(){var o=t._layer._qiqiSpeed;t.setSpeedy(o*e/10),e++})).start()}},e.prototype.screenShake=function(){l.G35_utils.shake(this._layer.node,.3,20)},e.prototype.movementHandler=function(){"hdqq_csm1"==this.personDragon.animationName?this.play_move2():"hdqq_csm3"==this.personDragon.animationName?this.play_swim():"hdqq_zyzyouh"==this.personDragon.animationName&&this.play_swim()},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seabedreturn":"G35_Seabedreturn","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedreturnRes:[function(t,e,o){"use strict";cc._RF.push(e,"a2288/xrqBIt7YX92O6fHEe","G35_SeabedreturnRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.fish=null,e.Excitation=null,e.rock=null,e.Cloud=null,e.hole=null,e.bubble=null,e.shayudongmaopao=null,e.xiaozhakai=null,e.qipao1=null,e.paopao1=null,e.zhuangjimaopao=null,e.qiqitiaoshui=null,e.shark=null,e.pillarAlt=null,e.seaWaterAlt=null,e.comAlt=null,e.CommonFishAlt=null,e.fishBgAlt=null,e.boat=null,e.hole1=null,e.hole2=null,e.surface1=null,e.surface2=null,e.maskFrame=null,e.decorateAlt=null,e.bgAlt=null,e.rockAlt=null,e.bubbleAlt=null,e.guideAlt=[],e.particleFrames=[],e.particleFrames2=[],e.pointFrame=null,e.a228BGM04=null,e.a22801042=null,e.a228011=null,e.a22801022=null,e.a22801023=null,e.a22801024=null,e.a22801025=null,e.a22801026=null,e.a22801027=null,e.a22801028=null,e.a22801029=null,e.a228BGM05=null,e.a22801035=null,e.a22801036=null,e.a22801037=null,e.a22801038=null,e}return i(e,t),n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"fish"})],e.prototype,"fish",void 0),n([s({type:cc.Prefab,tooltip:"Excitation"})],e.prototype,"Excitation",void 0),n([s({type:cc.Prefab,tooltip:"rock"})],e.prototype,"rock",void 0),n([s({type:cc.Prefab,tooltip:"\u4e91"})],e.prototype,"Cloud",void 0),n([s({type:cc.Prefab,tooltip:"\u6d1e\u7a74"})],e.prototype,"hole",void 0),n([s({type:cc.Prefab,tooltip:"bubble"})],e.prototype,"bubble",void 0),n([s({type:cc.Prefab,tooltip:"shayudongmaopao"})],e.prototype,"shayudongmaopao",void 0),n([s({type:cc.Prefab,tooltip:"xiaozhakai"})],e.prototype,"xiaozhakai",void 0),n([s({type:cc.Prefab,tooltip:"qipao1"})],e.prototype,"qipao1",void 0),n([s({type:cc.Prefab,tooltip:"paopao1"})],e.prototype,"paopao1",void 0),n([s({type:cc.Prefab,tooltip:"zhuangjimaopao"})],e.prototype,"zhuangjimaopao",void 0),n([s({type:cc.Prefab,tooltip:"qiqitiaoshui"})],e.prototype,"qiqitiaoshui",void 0),n([s({type:cc.Prefab,tooltip:"shark"})],e.prototype,"shark",void 0),n([s({type:cc.SpriteAtlas,tooltip:"pillarAlt"})],e.prototype,"pillarAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"seaWaterAlt"})],e.prototype,"seaWaterAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"comAlt"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"CommonFishAlt"})],e.prototype,"CommonFishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fishBgAlt"})],e.prototype,"fishBgAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"boat"})],e.prototype,"boat",void 0),n([s({type:cc.SpriteFrame,tooltip:"hole1"})],e.prototype,"hole1",void 0),n([s({type:cc.SpriteFrame,tooltip:"hole1"})],e.prototype,"hole2",void 0),n([s({type:cc.SpriteFrame,tooltip:"surface1"})],e.prototype,"surface1",void 0),n([s({type:cc.SpriteFrame,tooltip:"surface2"})],e.prototype,"surface2",void 0),n([s({type:cc.SpriteFrame,tooltip:"maskFrame"})],e.prototype,"maskFrame",void 0),n([s({type:cc.SpriteAtlas,tooltip:"decorateAlt"})],e.prototype,"decorateAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bgAlt"})],e.prototype,"bgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"rockAlt"})],e.prototype,"rockAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bubbleAlt"})],e.prototype,"bubbleAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"\u5f15\u5bfc"})],e.prototype,"guideAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"particleFrames"})],e.prototype,"particleFrames",void 0),n([s({type:cc.SpriteFrame,tooltip:"particleFrames2"})],e.prototype,"particleFrames2",void 0),n([s({type:cc.SpriteFrame,tooltip:"pointFrame"})],e.prototype,"pointFrame",void 0),n([s({type:cc.AudioClip,tooltip:"a228BGM04"})],e.prototype,"a228BGM04",void 0),n([s({type:cc.AudioClip,tooltip:"22801042"})],e.prototype,"a22801042",void 0),n([s({type:cc.AudioClip,tooltip:"228011"})],e.prototype,"a228011",void 0),n([s({type:cc.AudioClip,tooltip:"a22801022"})],e.prototype,"a22801022",void 0),n([s({type:cc.AudioClip,tooltip:"22801023"})],e.prototype,"a22801023",void 0),n([s({type:cc.AudioClip,tooltip:"22801024"})],e.prototype,"a22801024",void 0),n([s({type:cc.AudioClip,tooltip:"22801025"})],e.prototype,"a22801025",void 0),n([s({type:cc.AudioClip,tooltip:"22801026"})],e.prototype,"a22801026",void 0),n([s({type:cc.AudioClip,tooltip:"22801027"})],e.prototype,"a22801027",void 0),n([s({type:cc.AudioClip,tooltip:"a22801028"})],e.prototype,"a22801028",void 0),n([s({type:cc.AudioClip,tooltip:"a22801029"})],e.prototype,"a22801029",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM05"})],e.prototype,"a228BGM05",void 0),n([s({type:cc.AudioClip,tooltip:"22801035"})],e.prototype,"a22801035",void 0),n([s({type:cc.AudioClip,tooltip:"a22801036"})],e.prototype,"a22801036",void 0),n([s({type:cc.AudioClip,tooltip:"a22801037"})],e.prototype,"a22801037",void 0),n([s({type:cc.AudioClip,tooltip:"a22801038"})],e.prototype,"a22801038",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeabedreturnShark:[function(t,e,o){"use strict";cc._RF.push(e,"42ba8Onu99MB4LzUYgll6Cm","G35_SeabedreturnShark");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../GameUtils/G35_GlobalView"),r=t("../../../GameUtils/G35_Utils"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("./G35_SeabedreturnRes"),l=t("./G35_SeabedreturnQiqi"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._layer=null,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._dir=null,e._biteEffect=null,e._sprang=!1,e._eatAct=null,e._moveAct=null,e._eat=!1,e._canDetect=!1,e._quit=!1,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(c.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=a.G35_globalView.offset;this.offset=t,this.personDragon=this.node.getComponent(dragonBones.ArmatureDisplay),this.personDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this)},e.prototype.play_breath=function(){this.personDragon.playAnimation("shayu_huxi",-1)},e.prototype.play_bite=function(){var t=this;this._biteEffect||(this._biteEffect=s.audioManager.playLine(this.res.a22801025),this.scheduleOnce(function(){t._biteEffect=null},2)),this.personDragon.playAnimation("shayu_yao",-1)},e.prototype.play_rush=function(){s.audioManager.playEffect(this.res.a22801024),this.personDragon.playAnimation("shayu_cc",-1)},e.prototype.play_back=function(){s.audioManager.playEffect(this.res.a22801026);this.personDragon.playAnimation("shayu_yh",.8),cc.tween(this.node).delay(.875).to(.5,.7).start()},e.prototype.sprang=function(){var t=this;if(!this._sprang){this._sprang=!0;var e=this._layer.node;r.G35_utils.creatParticle(this.res.shayudongmaopao,e,cc.v2(e.width/2,e.height/2)),this.play_rush(),this._moveAct=cc.tween(this.node).parallel(cc.tween().to(.5,{x:-190,y:this.node.y},{easing:"backOut"}),cc.tween().to(.5,{scale:1},{easing:"backOut"})).start(),this._eatAct=cc.tween(this.node).delay(.5).call(function(){t._eat=!0,t.play_bite()}).start()}},e.prototype.standby=function(){this._canDetect=!0,cc.tween(this.node).parallel(cc.tween().by(.5,{x:-200}),cc.tween().to(.5,{scale:.9})).start()},e.prototype.moveAway=function(){this._quit||(this._quit=!0,this._layer._qiqi.getComponent(l.default).continueMove(),cc.tween(this.node).by(.8,{x:-cc.winSize.width},{easing:"sineIn"}).start())},e.prototype.meetQiqi=function(){this._canDetect=!1,this._moveAct&&(this.node.stopAllActions(),this.node.setScale(1),this._moveAct=null),!this._eat&&this._eatAct?(this.node.stopAction(this._eatAct),this._eatAct=null):this.play_bite(),this._layer._qiqi.getComponent(l.default).bittenByShark()},e.prototype.movementHandler=function(){var t=this;"shayu_yao"==this.personDragon.animationName&&(this.play_breath(),this._canDetect||cc.tween(this.node).delay(2).call(function(){t.moveAway()}).start())},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeabedreturnQiqi":"G35_SeabedreturnQiqi","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedreturnViewback:[function(t,e,o){"use strict";cc._RF.push(e,"dd21f+yjnhH47A2ONSEliz3","G35_SeabedreturnViewback");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/core/util/MathUtil"),r=t("../../../GameUtils/G35_GlobalView"),s=t("./G35_SeabedreturnRes"),c=t("../../../../lib/business/Manager/AudioManager"),l=t("../../../GameUtils/G35_Utils"),u=t("../../Common/G35_Cloud"),d=t("../../Common/G35_FarFish"),p=t("../../../GameUtils/Tools/G35_CommonAct"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._isTouch=!1,e._layer=null,e._index=null,e._bgType=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(s.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=r.G35_globalView.offset;this.offset=t},e.prototype.loadDisplay=function(){var t=l.G35_utils.creatNode(this.res.newNode,this.res.bgAlt.getSpriteFrame(""+(this._bgType+1)),this.node,cc.v2(0,0),1);t.setAnchorPoint(cc.v2(.5,0)),t.setScale(2.5,2.1),this._index==this._layer._mapsNum-1?(this.loacCloud(),this.loadSeaSurface(),this.loadBoat()):this._index<this._layer._mapsNum-3&&this.loadFarFish(),2==this._bgType&&c.audioManager.playMusic(this.res.a228BGM05)},e.prototype.loacCloud=function(){for(var t=[cc.v2(671,110),cc.v2(767,358),cc.v2(304,292)],e=[30,40,30],o=[-1,-1,1],i=0;i<3;i++){var n=cc.instantiate(this.res.Cloud);n.dir=o[i],n.pos=t[i],n.speed=e[i],n.id=i+1,n.parent=this.node,n.zIndex=5,n.setPosition(t[i]),n.getComponent(u.default).init(n)}},e.prototype.loadSeaSurface=function(){var t=this,e=cc.find("Canvas/surface1");e.opacity=255,e.parent=this.node,e.anchorY=0,e.zIndex=9,cc.tween(e).repeatForever(cc.tween().call(function(){p.G35_commonAct.filenames(e,t.res.seaWaterAlt.getSpriteFrames(),.2)}).delay(.2*7)).start()},e.prototype.loadBoat=function(){var t=l.G35_utils.creatNode(this.res.newNode,this.res.boat,this.node,cc.v2(670-cc.winSize.width/2+this.offset.x,-5),1,10);t.setScale(.6),t.setAnchorPoint(cc.v2(.5,0)),cc.tween(t).repeatForever(cc.tween().delay(.3).by(.7,{y:-8}).delay(.3).by(.7,{y:8})).start()},e.prototype.loadFarFish=function(){var t=[cc.color(226,161,83),cc.color(107,187,230),cc.color(66,156,187)],e=a.default.random(0,2),o=cc.instantiate(this.res.newNode);o.parent=this.node,o.zIndex=2,o.setAnchorPoint(cc.v2(.5,.5));var i=cc.v2(50,100),n=cc.v2(this.node.width-50,this.node.height-100),r=o.addComponent(d.default);r.CommonFishAlt=this.res.CommonFishAlt,r.init({minp:i,maxP:n,totalNum:a.default.random(10,20),color:t[e]})},e.prototype.dynamicLoading=function(){},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Cloud":"G35_Cloud","../../Common/G35_FarFish":"G35_FarFish","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedreturnViewfront:[function(t,e,o){"use strict";cc._RF.push(e,"5003aBBMkRJx7gTdkx4BL4x","G35_SeabedreturnViewfront");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeabedreturnRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../GameUtils/G35_Utils"),c=t("../../../GameUtils/Tools/G35_CommonAct"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._isTouch=!1,e._layer=null,e._index=null,e._bgType=null,e}return i(e,t),e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=r.G35_globalView.offset;this.offset=t},e.prototype.loadDisplay=function(){this._index<this._layer._mapsNum-1?this.loadWaterMark():this._index==this._layer._mapsNum-1&&(this.loadSurface(),this.loadLight())},e.prototype.loadSurface=function(){s.G35_utils.creatNode(this.res.newNode,this.res.maskFrame,this.node,cc.v2(0,-15),1).setAnchorPoint(cc.v2(.5,1));var t=cc.find("Canvas/surface");t.opacity=255,t.parent=this.node,t.zIndex=5,t.y=-50,t.anchorY=0,c.G35_commonAct.waterAction(t)},e.prototype.loadLight=function(){var t=s.G35_utils.creatNode(this.res.newNode,this.res.fishBgAlt.getSpriteFrame("light2"),this.node,cc.v2(900+this.offset.x-cc.winSize.width/2,cc.winSize.height+1),1,10);t.setAnchorPoint(cc.v2(.5,1));var e=s.G35_utils.creatNode(this.res.newNode,this.res.fishBgAlt.getSpriteFrame("light1"),this.node,cc.v2(404+this.offset.x-cc.winSize.width/2,cc.winSize.height+25),1,10);e.setAnchorPoint(cc.v2(.5,1)),s.G35_utils.setImg(t),s.G35_utils.setImg(e),cc.tween(t).then(cc.repeatForever(cc.sequence(cc.moveBy(10,cc.v2(-600,0)),cc.moveBy(10,cc.v2(600,0))))).start(),cc.tween(e).then(cc.repeatForever(cc.sequence(cc.moveBy(10,cc.v2(600,0)),cc.moveBy(10,cc.v2(-600,0))))).start()},e.prototype.loadWaterMark=function(){var t=new cc.Node("water");t.parent=this.node,t.setPosition(0,0),t.setScale(2.5),t.zIndex=5,t.addComponent(cc.Sprite).spriteFrame=this.res.bgAlt.getSpriteFrame("water"),c.G35_commonAct.waterAction(t),2==this._bgType?t.opacity=200:this._bgType>2&&(t.opacity=100)},e.prototype.dynamicLoading=function(){},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_Seabedreturn:[function(t,e,o){"use strict";cc._RF.push(e,"b10c3QvE+tJ97hhrNNUnzVL","G35_Seabedreturn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("./G35_SeabedreturnRes"),l=t("./G35_SeabedreturnGameContainer"),u=t("./G35_SeabedreturnQiqi"),d=t("./G35_SeabedreturnMapManager"),p=t("./G35_SeabedreturnBaseMap"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e._isTouch=!1,e._bar=null,e._icon=null,e._gameContainer=null,e._fingerPosX=null,e._moveSound=null,e._bittenCount=0,e._bumpCount=0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=cc.find("Canvas").getComponent(c.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this.loadBar(),this.loadGameContainer(),s.audioManager.playMusic(this.res.a228BGM04),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.loadBar=function(){var t=cc.find("bar",this.node);t.zIndex=50;var e=cc.find("bar/bar2",this.node);e.setPosition(cc.v2(0,-t.height/2)),this._bar=e;var o=cc.find("bar2/icon",t);o.zIndex=5,o.setPosition(0,-5),this._icon=o},e.prototype.loadGameContainer=function(){this._gameContainer=new cc.Node("GameContainer");var t=this._gameContainer.addComponent(l.default);this._gameContainer.zIndex=5,t._layer=this,this._gameContainer.parent=this.node},e.prototype.touchStart=function(t){var e=t.getLocation();if(this._canTouch){this._isTouch=!0,this._fingerPosX=e.x-cc.winSize.width/2,this._gameContainer.getComponent(l.default).stopGuide();var o=this._gameContainer.getComponent(l.default)._qiqi;o.getComponent(dragonBones.ArmatureDisplay).playAnimation("hdqq_you_1",-1),o.getComponent(u.default)._beBump||o.getComponent(u.default).play_swim2()}},e.prototype.touchMove=function(t){var e=this;if(this._canTouch){var o=t.getLocation();this._moveSound||(this._moveSound=s.audioManager.playEffect(this.res.a22801035),this.scheduleOnce(function(){e._moveSound=null},2)),this._fingerPosX=o.x-cc.winSize.width/2}},e.prototype.touchEnd=function(t){if(this._canTouch){var e=t.getLocation(),o=this._gameContainer.getComponent(l.default)._qiqi,i=this._gameContainer.getComponent(l.default)._mapManager.getComponent(d.default)._maps[this._gameContainer.getComponent(l.default)._currentMapIndex];i&&2==i.getComponent(p.default)._eTpye&&o.getComponent(u.default)._beBump?this._gameContainer.getComponent(l.default).handGuide(3):o.getComponent(u.default)._beBump||o.getComponent(u.default).play_swim3(),this._isTouch=!1,this._fingerPosX=e.x-cc.winSize.width/2}},e=n([f],e)}(a.default));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../GameUtils/G35_GlobalView":"G35_GlobalView","./G35_SeabedreturnBaseMap":"G35_SeabedreturnBaseMap","./G35_SeabedreturnGameContainer":"G35_SeabedreturnGameContainer","./G35_SeabedreturnMapManager":"G35_SeabedreturnMapManager","./G35_SeabedreturnQiqi":"G35_SeabedreturnQiqi","./G35_SeabedreturnRes":"G35_SeabedreturnRes"}],G35_SeabedstartRes:[function(t,e,o){"use strict";cc._RF.push(e,"0d404kGCwBLzqlz+BPSLJLT","G35_SeabedstartRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.ImageFrame=null,e.light=null,e.Cloud=null,e.qiqitiaoshui=null,e.FarFish=null,e.bgAlt=null,e.cloudAlt=null,e.seaWaterAlt=null,e.CommonFishAlt=null,e.lightAlt=null,e.fishingbg=null,e.boat=null,e.surface1=null,e.surface2=null,e.thingImg=null,e.mask2=null,e.bmg01=null,e.a228007=null,e.a22801031=null,e.a22801001=null,e}return i(e,t),n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u56fe\u7247"})],e.prototype,"ImageFrame",void 0),n([s({type:cc.Prefab,tooltip:"light"})],e.prototype,"light",void 0),n([s({type:cc.Prefab,tooltip:"\u4e91"})],e.prototype,"Cloud",void 0),n([s({type:cc.Prefab,tooltip:"qiqitiaoshui"})],e.prototype,"qiqitiaoshui",void 0),n([s({type:cc.Prefab,tooltip:"\u8fdc\u5904\u7684\u9c7c"})],e.prototype,"FarFish",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bg"})],e.prototype,"bgAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"\u4e91"})],e.prototype,"cloudAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"seaWaterAlt"})],e.prototype,"seaWaterAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"CommonFishAlt"})],e.prototype,"CommonFishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"lightAlt"})],e.prototype,"lightAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"fishingbg"})],e.prototype,"fishingbg",void 0),n([s({type:cc.SpriteFrame,tooltip:"boat"})],e.prototype,"boat",void 0),n([s({type:cc.SpriteFrame,tooltip:"surface2"})],e.prototype,"surface1",void 0),n([s({type:cc.SpriteFrame,tooltip:"surface2"})],e.prototype,"surface2",void 0),n([s({type:cc.SpriteFrame,tooltip:"thingImg"})],e.prototype,"thingImg",void 0),n([s({type:cc.SpriteFrame,tooltip:"mask2"})],e.prototype,"mask2",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM01"})],e.prototype,"bmg01",void 0),n([s({type:cc.AudioClip,tooltip:"228007"})],e.prototype,"a228007",void 0),n([s({type:cc.AudioClip,tooltip:"22801031"})],e.prototype,"a22801031",void 0),n([s({type:cc.AudioClip,tooltip:"22801001"})],e.prototype,"a22801001",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Seabedstart:[function(t,e,o){"use strict";cc._RF.push(e,"5ad3613DuZOu5wUKyW1zozl","G35_Seabedstart");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/Manager/AudioManager"),c=t("../../../../lib/core/util/MathUtil"),l=t("./G35_SeabedstartRes"),u=t("./G35_SeabedStartQiqi"),d=t("../../Common/G35_ImageFrame"),p=t("../../Common/G35_Cloud"),h=t("../../../GameUtils/Tools/G35_CommonAct"),f=t("../../Common/G35_FarFish"),g=t("../../Common/G35_Light"),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.personDragon=null,e.Y_FACTOR=null,e.offset=null,e.offy=0,e._deltaY=null,e._touch=!1,e._lock=!1,e._canTouch=!0,e.BG_SCALE=1.25,e._boat=null,e._qiqi=null,e._imageFrame=null,e.content=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=cc.find("Canvas").getComponent(l.default),this.content=cc.find("Canvas/content"),this.content.setPosition(cc.v2(0,0));var e=r.G35_globalView.offset;this.offset=e,this.offy=1+this.BG_SCALE-1.15,this.loadBg(),this.loadCloud(),this.loadQiqi(),this.loadFarFish(),this.loadLight()},e.prototype.start=function(){},e.prototype.loadBg=function(){cc.find("bg",this.content).setPosition(cc.v2(0,100+this.offset.y-cc.winSize.height/2)),cc.find("bg2",this.content).position=cc.v2(0,100+this.offset.y-cc.winSize.height/2),cc.find("bg3",this.content).setPosition(cc.v2(620-cc.winSize.width/2+this.offset.x,-285-this.offset.y-cc.winSize.height/2));var t=cc.find("boat",this.content);t.setPosition(cc.v2(600-cc.winSize.width/2+this.offset.x,51+this.offset.y-cc.winSize.height/2)),t.zIndex=10,this.floatAction(t),this._boat=t,this.loadWaterSurface()},e.prototype.loadFarFish=function(){for(var t=[cc.color(266,161,83),cc.color(66,156,187)],e=0;e<2;e++){var o=cc.instantiate(this.res.newNode);o.parent=this.content,o.zIndex=2,o.setAnchorPoint(cc.v2(.5,.5));var i=cc.v2(-100,-400-this.offset.y),n=cc.v2(cc.winSize.width+100,-100),a=o.addComponent(f.default);a.CommonFishAlt=this.res.CommonFishAlt,a.init({minp:i,maxP:n,totalNum:c.default.random(10,20),color:t[e]})}},e.prototype.loadWaterSurface=function(){var t=this,e=cc.find("mask",this.content);e.setPosition(0,-80+this.offset.y-cc.winSize.height/2),e.zIndex=80;var o=cc.find("surface1",this.content),i=cc.find("surface",this.content);i.y=85+this.offset.y-cc.winSize.height/2,o.y=130+this.offset.y-cc.winSize.height/2,i.zIndex=100,o.zIndex=5,h.G35_commonAct.waterAction(i),cc.tween(o).repeatForever(cc.tween().call(function(){h.G35_commonAct.filenames(o,t.res.seaWaterAlt.getSpriteFrames(),.2)}).delay(.2*7)).start()},e.prototype.loadCloud=function(){for(var t=[cc.v2(926.9+this.offset.x,244+this.offset.y),cc.v2(816+this.offset.x,556+this.offset.y),cc.v2(165.4+this.offset.x,420+this.offset.y)],e=[30,40,30],o=[-1,-1,1],i=0;i<3;i++){var n=cc.instantiate(this.res.Cloud);n.dir=o[i],n.pos=t[i],n.speed=e[i],n.id=i+1,n.parent=this.content,n.zIndex=2,n.setPosition(t[i]),n.getComponent(p.default).init(n)}},e.prototype.loadQiqi=function(){var t=cc.find("qiqi",this.content);t.zIndex=5,t.setScale(-.8,.8),t.setPosition(390+this.offset.x-cc.winSize.width/2,328+this.offset.y-cc.winSize.height/2),t.getComponent(u.default)._layer=this,t.getComponent(dragonBones.ArmatureDisplay).playAnimation("hdqq_shhx",-1),this._qiqi=t,this.floatAction(t),cc.tween(t).delay(.5).call(function(){t.getComponent(u.default).say()}).start()},e.prototype.loadLight=function(){var t=cc.instantiate(this.res.light);t.parent=this.content,t.zIndex=70,t.setPosition(cc.v2(0,90+this.offset.y)),t.setAnchorPoint(cc.v2(.5,1)),t.getComponent(g.default).loadDisplay()},e.prototype.loadImageFrame=function(){var t=cc.instantiate(this.res.ImageFrame);t.getComponent(d.default)._layer=this,t.parent=this.content,t.zIndex=500,t.setPosition(this._qiqi.x-195,this._qiqi.y+45),t.setAnchorPoint(cc.v2(1,0)),t.setScale(0),t.opacity=0,t.getComponent(d.default).loadThing(this.res.newNode,this.res.thingImg,t,-1),t.getComponent(d.default).enter(-1),this._imageFrame=t},e.prototype.floatAction=function(t){cc.tween(t).repeatForever(cc.tween().delay(.3).by(.7,{y:5}).delay(.3).by(.7,{y:-5})).start()},e.prototype.finish=function(){this._qiqi.x;var t=180+this.offset.y/2,e=t/150;s.audioManager.playEffect(this.res.a22801031),cc.tween(this._qiqi).by(e,{y:-t}).by(.6,{y:-72}).call(function(){cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seabedfind")}).start(),cc.tween(this.content).then(cc.sequence(cc.moveBy(e,cc.v2(0,t)),cc.moveBy(.6,cc.v2(0,72)))).start()},e.prototype.boatDown=function(){var t=this._boat.scale;cc.tween(this._boat).parallel(cc.tween().by(.2,{y:-20}),cc.tween().to(.2,{angle:3}),cc.tween().to(.2,{scaleX:t+.02,scaleY:t-.02})).parallel(cc.tween().by(.2,{y:15}),cc.tween().to(.2,{angle:-2}),cc.tween().to(.2,{scaleX:t-.02,scaleY:t})).parallel(cc.tween().by(.2,{y:10}),cc.tween().to(.2,{angle:-1})).to(.2,{angle:0}).start()},e=n([y],e)}(a.default));o.default=m,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Cloud":"G35_Cloud","../../Common/G35_FarFish":"G35_FarFish","../../Common/G35_ImageFrame":"G35_ImageFrame","../../Common/G35_Light":"G35_Light","./G35_SeabedStartQiqi":"G35_SeabedStartQiqi","./G35_SeabedstartRes":"G35_SeabedstartRes"}],G35_SeasurfaceLocationFish:[function(t,e,o){"use strict";cc._RF.push(e,"6880dYd4X9F/q7USpeDbE6j","G35_SeasurfaceLocationFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceLocationRes"),r=t("./G35_SeasurfaceLocation"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../Common/G35_FarFish"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../../lib/core/util/MathUtil"),d=t("../../../GameUtils/Tools/G35_CommonAct"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._label=null,e._fishType=null,e.id=null,e._space=null,e._totalNum=null,e}return i(e,t),e.prototype.loadFish=function(){var t=this;this.node.position=this._maxP,this._space=80;for(var e=this._fType,o=function(o){var n=u.default.random(-i._space,i._space),a=u.default.random(.9*-i._space,.9*i._space),r=l.G35_utils.creatNode(i.res.newNode,i.res.fishAlt.getSpriteFrame(e+"-1"),i.node,cc.v2(n,a),1);r.color=i._color,cc.tween(r).repeatForever(cc.tween().call(function(){d.G35_commonAct.filenames(r,d.G35_commonAct.getSpriteFrameArrForName(t.res.fishAlt,e+"-",1,5),.15)}).delay(.75).call(function(){d.G35_commonAct.filenames(r,d.G35_commonAct.getSpriteFrameArrForName(t.res.fishAlt,e+"-",1,5).reverse(),.15)}).delay(.75)).start(),i._fish.push(r)},i=this,n=0;n<this._totalNum;n++)o();this._cnt=2,this.randomMove()},e.prototype.loadLabel=function(){this._label=l.G35_utils.creatNode(this.res.newNode,this.res.labelAlt.getSpriteFrame(""+this.id),this.node,cc.v2(-50,-50),1,150),this._label.anchorY=0,this._label.opacity=150,this._label.scale=.8,this._label.x+=50,this._label.y+=50,cc.tween(this._label).repeatForever(cc.tween().to(1,{opacity:0}).to(1,{opacity:150})).start()},e.prototype.adjustFishPos=function(){var t=this;this._fish.forEach(function(e){var o=u.default.random(-t._space,t._space),i=u.default.random(.9*-t._space,.9*t._space);e.position=cc.v2(o,i)})},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadLabel()},e=n([h],e)}(c.default));o.default=f,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_FarFish":"G35_FarFish","./G35_SeasurfaceLocation":"G35_SeasurfaceLocation","./G35_SeasurfaceLocationRes":"G35_SeasurfaceLocationRes"}],G35_SeasurfaceLocationHole:[function(t,e,o){"use strict";cc._RF.push(e,"3cad1cObTBGzJyCNi82Vhue","G35_SeasurfaceLocationHole");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceLocationRes"),r=t("./G35_SeasurfaceLocation"),s=t("../../../GameUtils/G35_GlobalView"),c=t("./G35_SeasurfaceLocationFish"),l=t("../../../GameUtils/G35_Utils"),u=t("./G35_SeasurfaceLocationMap"),d=t("../../../../lib/core/util/MathUtil"),p=t("../../Common/G35_HandGuide"),h=t("../../../../lib/business/Manager/AudioManager"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e._firstEnter=!1,e._map=null,e._fish=null,e._startP=null,e._guideAct=null,e.handGuide=null,e}return i(e,t),e.prototype.enter=function(){var t=this;cc.tween(this.node).then(cc.scaleTo(.3,1.2).easing(cc.easeBackOut())).call(function(){t.canTouch=!0,t._firstEnter=!0,t.openGuide()}).start(),cc.tween(this.mainScript._model).to(.3,{width:218*1.2,height:218*1.2}).call(function(){}).start(),cc.tween(this.mainScript._mask).to(.3,{opacity:80}).start()},e.prototype.quit=function(){h.audioManager.playEffect(this.res.a22807006),cc.tween(this.mainScript._model).to(.3,{width:0,height:0}).start(),cc.tween(this.node).then(cc.scaleTo(.3,0).easing(cc.easeBackOut())).start(),cc.tween(this.mainScript._mask).to(.3,{opacity:200}).start()},e.prototype.findFish=function(t){var e=this;this.stopGuide(),h.audioManager.playEffect(this.res.a22807003);var o=this.node.scale,i=t.convertToWorldSpaceAR(cc.v2(0,0));h.audioManager.playLine(this.res.soundVoiceFn[t.getComponent(c.default)._fType-1]),cc.tween(this.node).to(.2,{scale:o+.2}).to(.2,{scale:o-.1}).to(.2,{scale:o}).call(function(){e.mainScript._fishTypes.push(t.getComponent(c.default)._fType),e.mainScript.labelAction(t)}).start();var n=this.mainScript._model.scale;cc.tween(this.mainScript._model).to(.2,{scale:n+.2}).to(.2,{scale:n-.1}).to(.2,{scale:n}).start();var a=this.mainScript.getMoveMapToNewPos(i);cc.tween(this._map).to(.2,{position:l.G35_utils.convertToSpacePos(a,this._map.parent)}).start()},e.prototype.detectCollision=function(){var t=this._map.getComponent(u.default)._fishNode[this.mainScript._currentNum-1];if(l.G35_utils.getDistace(t,this.node)<100)return this.canTouch=!1,this.touchThrigger=!1,t.stopAllActions(),void this.findFish(t)},e.prototype.moveToCenterRect=function(){var t=this;this.canTouch=!1;var e=this.getRectPos(),o=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=cc.v2(o.x-e.x,o.y-e.y);cc.tween(this._map).by(.3,{position:i}).call(function(){t.canTouch=!0,t.openGuide()}).start()},e.prototype.getRectPos=function(){var t,e,o,i,n=this.node.convertToWorldSpaceAR(cc.v2(0,0)),a=this._fish.convertToWorldSpaceAR(cc.v2(0,0)),r=n.x>a.x?1:-1,s=n.y>a.y?1:-1,c=cc.size(50,50);e=(t=a.x+250*r)+c.width*r,o=a.y+250*s,i=a.y+c.height*s;var l=d.default.random(t,e),u=d.default.random(o,i);return cc.v2(l,u)},e.prototype.touchStart=function(t){this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this._startP=t.getLocation(),this.stopGuide()))},e.prototype.touchMove=function(t){if(this.canTouch&&this.touchThrigger){var e=t.getLocation(),o=e.x-this._startP.x,i=e.y-this._startP.y,n=this._map.convertToWorldSpaceAR(cc.v2(0,0)).x-o,a=this._map.convertToWorldSpaceAR(cc.v2(0,0)).y-i;this._map.position=l.G35_utils.convertToSpacePos(cc.v2(n,a),this._map.parent),this.detectCollision(),this._startP=e}},e.prototype.touchEnd=function(t){this.canTouch&&(this.touchThrigger&&(this.touchThrigger=!1,l.G35_utils.getDistace(this.node,this._fish)>300?this.moveToCenterRect():this.openGuide()))},e.prototype.openGuide=function(){var t=this;this._guideAct||(this.moveAround(),this._firstEnter?(this._firstEnter=!1,this._guideAct=cc.tween(this.node).delay(.5).call(function(){t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(p.default).handGuide(t.node,cc.v2(0,0))}).start()):this._guideAct=cc.tween(this.node).delay(5).call(function(){t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(p.default).handGuide(t.node,cc.v2(0,0))}).start())},e.prototype.stopGuide=function(){this._map.getComponent(u.default)._guideAct&&(this._map.getComponent(u.default)._guideAct.stop(),this._map.getComponent(u.default)._guideAct=null),this._guideAct&&(this._guideAct.stop(),this._guideAct=null,this.handGuide&&this.handGuide.isValid&&this.handGuide.getComponent(p.default).removeHand())},e.prototype.moveAround=function(){this._map.getComponent(u.default)._guideAct||(this._map.getComponent(u.default)._guideAct=cc.tween(this._map).repeatForever(cc.tween().by(1.2,{position:cc.v2(50,50)}).by(1.2,{position:cc.v2(-50,50)}).by(1.2,{position:cc.v2(-50,-50)}).by(1.2,{position:cc.v2(50,-50)})).start())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_HandGuide":"G35_HandGuide","./G35_SeasurfaceLocation":"G35_SeasurfaceLocation","./G35_SeasurfaceLocationFish":"G35_SeasurfaceLocationFish","./G35_SeasurfaceLocationMap":"G35_SeasurfaceLocationMap","./G35_SeasurfaceLocationRes":"G35_SeasurfaceLocationRes"}],G35_SeasurfaceLocationMapTile:[function(t,e,o){"use strict";cc._RF.push(e,"0c271qyWWNNvaxwCzCOkg+T","G35_SeasurfaceLocationMapTile");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceLocationRes"),r=t("./G35_SeasurfaceLocation"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../Common/G35_Island"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e}return i(e,t),e.prototype.loadDisplay=function(){var t=this,e=this.getIslandData();e.length<1||e.forEach(function(e){var o=cc.instantiate(t.res.island);o.parent=t.node,o.zIndex=50,o.scale=1.2,o.position=e.pos,o.getComponent(c.default).id=e.id})},e.prototype.getIslandData=function(){return[[{id:7,pos:cc.v2(504,349)}],[{id:8,pos:cc.v2(262,463)},{id:6,pos:cc.v2(714,133)}],[{id:1,pos:cc.v2(278,470)},{id:2,pos:cc.v2(1e3,294)}],[{id:7,pos:cc.v2(625,469)}],[{id:6,pos:cc.v2(760,225)},{id:1,pos:cc.v2(260,390)}],[{id:2,pos:cc.v2(260,430)},{id:5,pos:cc.v2(770,143)}],[{id:4,pos:cc.v2(270,475)},{id:3,pos:cc.v2(850,160)}],[{id:6,pos:cc.v2(300,530)},{id:5,pos:cc.v2(800,348)}],[{id:3,pos:cc.v2(600,218)}],[{id:7,pos:cc.v2(670,250)},{id:5,pos:cc.v2(28,475)}],[{id:2,pos:cc.v2(630,290)},{id:6,pos:cc.v2(165,520)}],[{id:8,pos:cc.v2(300,470)}],[{id:8,pos:cc.v2(635,200)}],[{id:4,pos:cc.v2(500,190)},{id:6,pos:cc.v2(118,539)}],[{id:1,pos:cc.v2(670,225)},{id:3,pos:cc.v2(17,467)}],[{id:5,pos:cc.v2(315,455)},{id:6,pos:cc.v2(750,200)}]][this.id-1]},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadDisplay()},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../Common/G35_Island":"G35_Island","./G35_SeasurfaceLocation":"G35_SeasurfaceLocation","./G35_SeasurfaceLocationRes":"G35_SeasurfaceLocationRes"}],G35_SeasurfaceLocationMap:[function(t,e,o){"use strict";cc._RF.push(e,"5ecb8KjtQdIlJFqigO/+T6g","G35_SeasurfaceLocationMap");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceLocationRes"),r=t("./G35_SeasurfaceLocation"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/core/util/StoreUtil"),l=t("../../../../lib/core/util/MathUtil"),u=t("../../../GameUtils/G35_Utils"),d=t("./G35_SeasurfaceLocationMapTile"),p=t("./G35_SeasurfaceLocationFish"),h=t("../../../GameUtils/Tools/G35_CommonAct"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._fishNode=[],e._mapTable=[],e._mapSize=cc.size(1024,626),e._bgSize=null,e._posIds=[],e}return i(e,t),e.prototype.init=function(){var t=JSON.parse(c.default.get("G35_POSTYPE","0"));t=t?t%3+1:l.default.random(1,3);this._posIds=[[2,4,7],[1,3,6],[1,5,7]][t-1]},e.prototype.loadIsland=function(){for(var t=0;t<=15;t++){var e=t+1,o=t%4,i=Math.floor(t/4),n=cc.instantiate(this.res.newNode);n.parent=this.node,n.zIndex=100,n.getComponent(cc.Sprite).spriteFrame=null,n.setAnchorPoint(cc.v2(0,0)),n.position=cc.v2(this._mapSize.width*o,this._mapSize.height*i),n.setContentSize(1024,626),u.G35_utils.adjustPos(n,this.node),n.addComponent(d.default).id=e,this._mapTable.push(n)}},e.prototype.loadFish=function(){var t=this,e=[cc.v2(1200,780),cc.v2(1100,1250),cc.v2(1345,1710),cc.v2(2500,1740),cc.v2(2100,1400),cc.v2(2700,1070),cc.v2(2145,730)],o=[cc.v2(1500,820),cc.v2(1300,1480),cc.v2(1880,1760),cc.v2(2890,1770),cc.v2(2310,1500),cc.v2(2900,1190),cc.v2(2450,810)],i=[];this._posIds.forEach(function(n,a){var r=u.G35_utils.numberExcept(1,5,i);i.push(r);var s=cc.instantiate(t.res.newNode);s.parent=t.node,s.zIndex=100,s.opacity=0,s.addComponent(p.default).init({minp:e[n-1],maxP:o[n-1],color:cc.color(0,203,203),totalNum:l.default.random(8,12),fType:r,id:a+1}),t._fishNode.push(s)})},e.prototype.loadWater=function(){for(var t=2*this._mapSize.width,e=2*this._mapSize.height,o=function(o){var n=o%2,a=Math.floor(o/2),r=u.G35_utils.creatNode(i.res.newNode,i.res.waterAlt.getSpriteFrame("up"),i.node,cc.v2(t*n,e*a),1,50);r.setAnchorPoint(cc.v2(0,0)),r.scale=4;var s=u.G35_utils.creatNode(i.res.newNode,i.res.waterAlt.getSpriteFrame("down"),i.node,cc.v2(t*n,e*a),1,50);s.setAnchorPoint(cc.v2(0,0)),s.scale=4,u.G35_utils.setImg(r),u.G35_utils.setImg(s),i.scheduleOnce(function(){h.G35_commonAct.waterAction(s,.05)},.5)},i=this,n=0;n<=3;n++)o(n)},e.prototype.startFun=function(){this.init(),this.loadIsland(),this.loadFish(),this.loadWater()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this._bgSize=cc.size(4*this._mapSize.width,4*this._mapSize.height)},e.prototype.start=function(){},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/StoreUtil":"StoreUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_SeasurfaceLocation":"G35_SeasurfaceLocation","./G35_SeasurfaceLocationFish":"G35_SeasurfaceLocationFish","./G35_SeasurfaceLocationMapTile":"G35_SeasurfaceLocationMapTile","./G35_SeasurfaceLocationRes":"G35_SeasurfaceLocationRes"}],G35_SeasurfaceLocationRes:[function(t,e,o){"use strict";cc._RF.push(e,"dac38MnSvtIXYEI6LBMu5VH","G35_SeasurfaceLocationRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.yubiao1=null,e.yubiao2=null,e.handGuide=null,e.island=null,e.uiAlt=null,e.flagAlt=null,e.fishAlt=null,e.labelAlt=null,e.waterAlt=null,e.a22807001=null,e.a22807004=null,e.a22807005=null,e.a22807007=null,e.a22807006=null,e.a22807003=null,e.soundVoiceFn=[],e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"yubiao1"})],e.prototype,"yubiao1",void 0),n([s({type:cc.Prefab,tooltip:"yubiao2"})],e.prototype,"yubiao2",void 0),n([s({type:cc.Prefab,tooltip:"handGuide"})],e.prototype,"handGuide",void 0),n([s({type:cc.Prefab,tooltip:"island"})],e.prototype,"island",void 0),n([s({type:cc.SpriteAtlas,tooltip:"ui"})],e.prototype,"uiAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"flag"})],e.prototype,"flagAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fish"})],e.prototype,"fishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"label"})],e.prototype,"labelAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([s({type:cc.AudioClip,tooltip:"22807001"})],e.prototype,"a22807001",void 0),n([s({type:cc.AudioClip,tooltip:"22807004"})],e.prototype,"a22807004",void 0),n([s({type:cc.AudioClip,tooltip:"22807005"})],e.prototype,"a22807005",void 0),n([s({type:cc.AudioClip,tooltip:"22807007"})],e.prototype,"a22807007",void 0),n([s({type:cc.AudioClip,tooltip:"22807006"})],e.prototype,"a22807006",void 0),n([s({type:cc.AudioClip,tooltip:"22807003"})],e.prototype,"a22807003",void 0),n([s({type:cc.AudioClip,tooltip:"water"})],e.prototype,"soundVoiceFn",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeasurfaceLocation:[function(t,e,o){"use strict";cc._RF.push(e,"95a0dYne1ZOPLqMz9i5pM2z","G35_SeasurfaceLocation");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_SeasurfaceLocationRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("./G35_SeasurfaceLocationMap"),l=t("../../../GameUtils/G35_Utils"),u=t("./G35_SeasurfaceLocationHole"),d=t("../../../../lib/core/util/MathUtil"),p=t("./G35_SeasurfaceLocationFish"),h=t("../../../../lib/core/util/StoreUtil"),f=t("../../../../lib/business/Manager/AudioManager"),g=t("../../../GameUtils/G35_GlobalParams"),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._ui=[],e._currentNum=1,e._fishTypes=[],e._map=null,e._bar=null,e._mask=null,e._model=null,e._hole=null,e._clip=null,e}return i(e,t),e.prototype.playWaterSound=function(){f.audioManager.playEffectLoop(this.res.a22807001)},e.prototype.loadMap=function(){var t=new cc.Node("map");t.parent=this.node,t.zIndex=50,t.addComponent(c.default).startFun(),this._map=t;var e=this._map.getComponent(c.default)._fishNode[this._currentNum-1].convertToWorldSpaceAR(cc.v2(0,0)),o=this.getMoveMapToNewPos(e,!0);t.position=l.G35_utils.convertToSpacePos(o,this.node)},e.prototype.loadBar=function(){this._bar=l.G35_utils.creatNode(this.res.newNode,this.res.uiAlt.getSpriteFrame("bar"),this.node,cc.v2(-99,225+this.offset.y),0,200),l.G35_utils.setImg(this._bar);for(var t=0;t<3;t++){var e=l.G35_utils.creatNode(this.res.newNode,this.res.uiAlt.getSpriteFrame(t+1+"_1"),this._bar,cc.v2(0,263-100*t-this._bar.height/2),1);this._ui.push(e),l.G35_utils.setImg(e)}cc.tween(this._bar).to(.3,{x:-cc.winSize.width/2+80}).start()},e.prototype.loadMask=function(){this._mask=this.node.getChildByName("mask").getChildByName("blackMask"),this.loadHole()},e.prototype.loadHole=function(){this._model=this.node.getChildByName("mask"),this._model.active=!0,this._model.zIndex=150,this._map.getComponent(c.default)._fishNode[this._currentNum-1].opacity=255,this._hole=this.node.getChildByName("point"),this._hole.zIndex=250,this._hole.scale=0,this._hole.addComponent(u.default)._map=this._map,this._hole.getComponent(u.default)._fish=this._map.getComponent(c.default)._fishNode[this._currentNum-1],this._hole.getComponent(u.default).enter()},e.prototype.isFinish=function(){this._currentNum+=1,this._currentNum>3?this.collectFinish():(this._hole.getComponent(u.default)._fish=this._map.getComponent(c.default)._fishNode[this._currentNum-1],this._hole.getComponent(u.default)._fish.opacity=255,this.moveToNextFishPos())},e.prototype.moveToNextFishPos=function(){var t=this,e=this._map.getComponent(c.default)._fishNode[this._currentNum-1].convertToWorldSpaceAR(cc.v2(0,0)),o=this.getMoveMapToNewPos(e,!0),i=this._map.convertToWorldSpaceAR(cc.v2(0,0)),n=cc.v2(o.x,o.y).sub(cc.v2(i.x,i.y)).mag()/1500;cc.tween(this._map).to(n,{position:l.G35_utils.convertToSpacePos(o,this._map.parent)}).call(function(){t._hole.getComponent(u.default).canTouch=!0,t._hole.getComponent(u.default).openGuide()}).start()},e.prototype.getMoveMapToNewPos=function(t,e){void 0===e&&(e=null);var o=cc.v2(cc.winSize.width/2,cc.winSize.height/2),i=o.x-t.x,n=o.y-t.y,a=this._map.convertToWorldSpaceAR(cc.v2(0,0)),r=cc.v2(a.x+i,a.y+n);if(e){var s=[cc.v2(-250,-250),cc.v2(250,-250),cc.v2(-250,250),cc.v2(250,250)],c=d.default.random(1,4);r=cc.v2(r.x+s[c-1].x,r.y+s[c-1].y)}return r},e.prototype.labelAction=function(t){var e=this;t.getComponent(p.default)._label.stopAllActions();var o=l.G35_utils.creatNode(this.res.newNode,this.res.flagAlt.getSpriteFrame(""+this._fishTypes[this._currentNum-1]),t.getComponent(p.default)._label,cc.v2(t.getComponent(p.default)._label.width/2,100),1);l.G35_utils.adjustPos(o,o.parent),cc.tween(t.getComponent(p.default)._label).to(.2,{scale:1.3,opacity:255}).to(.1,{scale:1}).delay(.1).call(function(){f.audioManager.playEffect(e.res.a22807004)}).then(cc.jumpBy(.3,cc.v2(0,0),20,1)).then(cc.jumpBy(.3,cc.v2(0,0),20,1)).call(function(){f.audioManager.playEffect(e.res.a22807005);var t=l.G35_utils.creatParticle(e.res.yubiao1,e.node,o.convertToWorldSpaceAR(cc.v2(0,0)),220),i=e._ui[e._currentNum-1].convertToWorldSpaceAR(cc.v2(0,0));cc.tween(t).then(cc.jumpTo(.5,l.G35_utils.convertToSpacePos(i,e.node),70,1)).call(function(){e.feedback()}).removeSelf().start()}).start()},e.prototype.feedback=function(){var t=this,e=this._currentNum;this._ui[e-1].getComponent(cc.Sprite).spriteFrame=this.res.uiAlt.getSpriteFrame(e+"_2");var o=l.G35_utils.creatNode(this.res.newNode,this.res.flagAlt.getSpriteFrame(""+this._fishTypes[e-1]),this._ui[e-1],cc.v2(0,0),1);o.scale=0,l.G35_utils.creatParticle(this.res.yubiao2,this.node,this._ui[e-1].convertToWorldSpaceAR(cc.v2(0,0))),cc.tween(this._ui[e-1]).to(.1,{scale:1.1}).to(.1,{scale:1}).delay(.3).call(function(){t.isFinish()}).start(),cc.tween(o).then(cc.scaleTo(.3,1).easing(cc.easeBackOut())).start()},e.prototype.collectFinish=function(){var t=this;this._hole.getComponent(u.default).quit();for(var e=[150,0,-150],o=function(o){l.G35_utils.resetParent(i._ui[o],i.node,220),cc.tween(i._ui[o]).delay(.4*(o+1)).call(function(){o+1==3&&cc.tween(t._bar).delay(.1).by(.3,{x:-200-t.offset.x}).start(),0==o&&f.audioManager.playEffect(t.res.a22807007)}).parallel(cc.tween().then(cc.jumpTo(.8,l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+e[o],cc.winSize.height/2),i._ui[o].parent),50,2)),cc.tween().to(.8,{scale:1.2})).delay(.2).call(function(){2==o&&(h.default.set("G35_FISH_TYPE",JSON.stringify(t._fishTypes)),h.default.set("G35_UI_TYPE",JSON.stringify([1,2,3])),cc.tween(t._mask).to(.3,{opacity:255}).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),g.G35_GlobalParams.gameVar.isFromLocation=!0,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seasurfaceseek")}).start())}).start()},i=this,n=0;n<3;n++)o(n)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.loadMap(),this.loadBar()},e.prototype.start=function(){this.loadMask(),this.playWaterSound()},e=n([y],e)}(a.default));o.default=m,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/StoreUtil":"StoreUtil","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeasurfaceLocationFish":"G35_SeasurfaceLocationFish","./G35_SeasurfaceLocationHole":"G35_SeasurfaceLocationHole","./G35_SeasurfaceLocationMap":"G35_SeasurfaceLocationMap","./G35_SeasurfaceLocationRes":"G35_SeasurfaceLocationRes"}],G35_SeasurfaceReadyChip:[function(t,e,o){"use strict";cc._RF.push(e,"04427nghHhGBYq7l0wwrgGw","G35_SeasurfaceReadyChip");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("./G35_SeasurfaceReady"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/core/util/MathUtil"),l=t("../../../GameUtils/G35_Utils"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e.id=null,e}return i(e,t),e.prototype.fallDown=function(){var t=(cc.winSize.width-100)/2,e=c.default.random(100+(this.id+1)*t,100+this.id*t),o=cc.v2(e,-100),i=this.getTime(o,this.node,200);cc.tween(this.node).to(i,{position:l.G35_utils.convertToSpacePos(o,this.node.parent)}).removeSelf().start(),this.chipRotate()},e.prototype.chipRotate=function(){var t,e,o=c.default.random(2,3);c.default.randomBoolean()?(t=-80,e=40):(t=-100,e=50),cc.tween(this.node).repeatForever(cc.tween().then(cc.rotateBy(o,t).easing(cc.easeInOut(o))).then(cc.rotateBy(o,e).easing(cc.easeInOut(o)))).start()},e.prototype.getTime=function(t,e,o){return cc.v2(e.convertToWorldSpaceAR(cc.v2(0,0)).x,e.convertToWorldSpaceAR(cc.v2(0,0)).y).sub(t).mag()/(o=o)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){},e=n([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeasurfaceReady":"G35_SeasurfaceReady","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes"}],G35_SeasurfaceReadyItem:[function(t,e,o){"use strict";cc._RF.push(e,"2c933NfemNKbow0IhBPc95J","G35_SeasurfaceReadyItem");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("./G35_SeasurfaceReady"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfaceReadyNet"),u=t("../../../../lib/business/Manager/AudioManager"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!0,e.id=null,e._angle1=[0,-30,25],e._angle=null,e.pos=null,e}return i(e,t),e.prototype.touchStart=function(t){this.mainScript.canTouch&&this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,c.G35_utils.resetParent(this.node,this._canvas,9998),this.mainScript._net.getComponent(l.default)._line[this.id-1].opacity=255,this.node.angle=-this._angle,this.mainScript.stopUiGuide(),u.audioManager.playEffect(this.res.a17901001)))},e.prototype.touchMove=function(t){this.mainScript.canTouch&&this.canTouch&&this.touchThrigger&&(this.node.position=c.G35_utils.convertToSpacePos(t.getLocation(),this._canvas))},e.prototype.touchEnd=function(t){var e=this;if(this.mainScript.canTouch&&this.canTouch&&this.touchThrigger){this.touchThrigger=!1,this.mainScript._net.getComponent(l.default)._line[this.id-1].opacity=0;var o=this.mainScript._net.getComponent(l.default)._chips[this.id-1];if(c.G35_utils.getDistace(this.node,o)<=50){this.mainScript.canTouch=!1,this.canTouch=!1,this.mainScript._repairNum+=1;var i=o.convertToWorldSpaceAR(cc.v2(0,0));u.audioManager.playEffect(this.res.a22809004),cc.tween(this.node).to(.05,{scale:1.4,position:c.G35_utils.convertToSpacePos(cc.v2(i.x+20,i.y-20),this.node.parent)}).to(.05,{scale:1.3,position:c.G35_utils.convertToSpacePos(i,this.node.parent)}).call(function(){o.opacity=255,cc.instantiate(e.res.pinwang).parent=o}).hide().delay(.5).call(function(){3==e.mainScript._repairNum?e.mainScript.repairFinish():e.mainScript.canTouch=!0}).start()}else c.G35_utils.resetParent(this.node,this.mainScript._bar),this.node.position=this.pos}},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this._angle=this._angle1[this.id-1],this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeasurfaceReady":"G35_SeasurfaceReady","./G35_SeasurfaceReadyNet":"G35_SeasurfaceReadyNet","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes"}],G35_SeasurfaceReadyNet:[function(t,e,o){"use strict";cc._RF.push(e,"e14bauTVsRJibWzIIuctXGj","G35_SeasurfaceReadyNet");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("./G35_SeasurfaceReady"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../Common/G35_playLight"),u=t("../../../../lib/business/Manager/AudioManager"),d=t("../../../GameUtils/G35_GlobalParams"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e._chips=[],e._line=[],e._size=null,e}return i(e,t),e.prototype.loadChip=function(){for(var t=[cc.v2(174.1,271.7),cc.v2(368.5,264.2),cc.v2(255.1,132.3)],e=0;e<3;e++){var o=c.G35_utils.creatNode(this.res.newNode,this.res.repairAlt.getSpriteFrame(""+(e+1)),this.node,t[e],1);o.scale=.822,o.opacity=0,c.G35_utils.adjustPos(o,this.node),this._chips.push(o);var i=c.G35_utils.creatNode(this.res.newNode,this.res.repairAlt.getSpriteFrame("line"+(e+1)),this.node,t[e],1);i.scale=.822,i.opacity=0,c.G35_utils.adjustPos(i,this.node),this._line.push(i)}},e.prototype.moveAside=function(){var t=this;cc.tween(this.node).to(.4,{position:c.G35_utils.convertToSpacePos(cc.v2(373+this.offset.x,240+this.offset.y/2),this.node.parent)}).delay(.2).call(function(){t.mainScript.loadBar()}).start()},e.prototype.repairFinish=function(){var t=this;u.audioManager.playLine(this.res.a228086),cc.tween(this.node).to(.4,{position:cc.v2(0,0),scale:1}).call(function(){t.node.opacity=0,c.G35_utils.creatNode(t.res.newNode,t.res.propAlt.getSpriteFrame("2_1"),t._canvas,cc.v2(0,0),1,99).scale=2,cc.instantiate(t.res.playLight).getComponent(l.default).playLight(t._canvas,60,2)}).delay(2).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),d.G35_GlobalParams.gameVar.fromSelect=!1,d.G35_GlobalParams.gameVar.gameId=2,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Ready")}).start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadChip()},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_playLight":"G35_playLight","./G35_SeasurfaceReady":"G35_SeasurfaceReady","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes"}],G35_SeasurfaceReadyPopup:[function(t,e,o){"use strict";cc._RF.push(e,"37047OsKv1PcbHeXsjl8/2m","G35_SeasurfaceReadyPopup");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("./G35_SeasurfaceReady"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfaceReadyScissor"),u=t("./G35_SeasurfaceReadyNet"),d=t("../../../../lib/business/Manager/AudioManager"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e._netPos=[cc.v2(588,1.2),cc.v2(31.5,28),cc.v2(335,423)],e._chips=[],e._net=null,e._bg=null,e}return i(e,t),e.prototype.loadClippingNode=function(){this._bg=new cc.Node("popupMask"),this._bg.parent=this.node,this._bg.zIndex=2,this._bg.addComponent(cc.Mask),this._bg.getComponent(cc.Mask).inverted=!1,this._bg.getComponent(cc.Mask).type=cc.Mask.Type.IMAGE_STENCIL,this._bg.getComponent(cc.Mask).spriteFrame=this.res.frameAlt.getSpriteFrame("1"),this._bg.getComponent(cc.Mask).alphaThreshold=.1,this._bg.setContentSize(this.res.frameAlt.getSpriteFrame("1").getOriginalSize())},e.prototype.loadNet=function(){var t=this,e=(c.G35_utils.creatNode(this.res.newNode,this.res.frameAlt.getSpriteFrame("1"),this.node,cc.v2(0,0),1,1),c.G35_utils.creatNode(this.res.newNode,this.res.cutAlt.getSpriteFrame("net"),this._bg,this._netPos[this.mainScript.id-1],1,20));e.scale=1/.7,e.x-=this._bg.width/2+30,e.y-=this._bg.height/2+30,[cc.v2(285.7,497),cc.v2(706.9,482.4),cc.v2(470.5,205.4)].forEach(function(o,i){var n=c.G35_utils.creatNode(t.res.newNode,t.res.cutAlt.getSpriteFrame("1-"+(i+1)),e,o,1);c.G35_utils.adjustPos(n,e),n.scale=1.008,t._chips.push(n)}),this._net=e},e.prototype.netMove=function(){var t=this,e=c.G35_utils.numberExcept(1,3,this.mainScript._idTab);this.mainScript._idTab.push(e),this.mainScript.id=e;var o=cc.v2(this._netPos[this.mainScript.id-1].x-this._bg.width/2-30,this._netPos[this.mainScript.id-1].y-this._bg.height/2-30);cc.tween(this._net).then(cc.moveTo(1,o).easing(cc.easeInOut(1))).call(function(){t.mainScript._scissor.getComponent(l.default).enter()}).start()},e.prototype.enter=function(){var t=this;d.audioManager.playEffect(this.res.a22805004),cc.tween(this.mainScript._mask).to(.3,{opacity:150}).start(),this.node.opacity=255,cc.tween(this.node).delay(.1).to(.2,{scale:1.1,position:c.G35_utils.convertToSpacePos(cc.v2(480+this.offset.x,240+this.offset.y),this.node.parent)}).to(.1,{scale:1}).delay(.1).call(function(){d.audioManager.playEffect(t.res.a228085),t.mainScript.loadScissors()}).start()},e.prototype.quit=function(){var t=this;cc.tween(this.mainScript._mask).to(.2,{opacity:0}).start(),this.mainScript._net.getComponent(cc.Sprite).spriteFrame=this.res.netAlt.getSpriteFrame("2"),cc.tween(this.node).to(.2,{scale:0,opacity:0}).delay(.2).call(function(){t.mainScript._net.getComponent(u.default).moveAside()}).removeSelf().start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadClippingNode(),this.loadNet()},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeasurfaceReady":"G35_SeasurfaceReady","./G35_SeasurfaceReadyNet":"G35_SeasurfaceReadyNet","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes","./G35_SeasurfaceReadyScissor":"G35_SeasurfaceReadyScissor"}],G35_SeasurfaceReadyRes:[function(t,e,o){"use strict";cc._RF.push(e,"b0f4b6YXd5DCIrYKz/+4A7z","G35_SeasurfaceReadyRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.cutMask=null,e.caijianwc=null,e.pinwang=null,e.playLight=null,e.suixie=null,e.suixie2=null,e.cutAlt=null,e.frameAlt=null,e.netAlt=null,e.repairAlt=null,e.scissorsAlt=null,e.uiAlt=null,e.propAlt=null,e.particleSpriteframe=[],e.a22805002=null,e.a22809003=null,e.a22809002=null,e.a17901001=null,e.a22809004=null,e.a22805004=null,e.a22809001=null,e.a228085=null,e.a228086=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u906e\u7f69"})],e.prototype,"cutMask",void 0),n([s({type:cc.Prefab,tooltip:"caijianwc"})],e.prototype,"caijianwc",void 0),n([s({type:cc.Prefab,tooltip:"pinwang"})],e.prototype,"pinwang",void 0),n([s({type:cc.Prefab,tooltip:"playLight"})],e.prototype,"playLight",void 0),n([s({type:cc.Prefab,tooltip:"suixie"})],e.prototype,"suixie",void 0),n([s({type:cc.Prefab,tooltip:"suixie2"})],e.prototype,"suixie2",void 0),n([s({type:cc.SpriteAtlas,tooltip:"cut"})],e.prototype,"cutAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"frame"})],e.prototype,"frameAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"net"})],e.prototype,"netAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"repair"})],e.prototype,"repairAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"scissors"})],e.prototype,"scissorsAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"ui"})],e.prototype,"uiAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"prop"})],e.prototype,"propAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"particleSpriteframe"})],e.prototype,"particleSpriteframe",void 0),n([s({type:cc.AudioClip,tooltip:"22805002"})],e.prototype,"a22805002",void 0),n([s({type:cc.AudioClip,tooltip:"22809003"})],e.prototype,"a22809003",void 0),n([s({type:cc.AudioClip,tooltip:"22809002"})],e.prototype,"a22809002",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"22809004"})],e.prototype,"a22809004",void 0),n([s({type:cc.AudioClip,tooltip:"22805004"})],e.prototype,"a22805004",void 0),n([s({type:cc.AudioClip,tooltip:"22809001"})],e.prototype,"a22809001",void 0),n([s({type:cc.AudioClip,tooltip:"228085"})],e.prototype,"a228085",void 0),n([s({type:cc.AudioClip,tooltip:"228086"})],e.prototype,"a228086",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeasurfaceReadyScissor:[function(t,e,o){"use strict";cc._RF.push(e,"11338fMQLFH058AJtHd8EDc","G35_SeasurfaceReadyScissor");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("./G35_SeasurfaceReady"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_MoveClass"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=t("../../../../lib/business/Manager/AudioManager"),p=t("./G35_SeasurfaceReadyPopup"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.canTouch=!1,e._knife=null,e._particle=null,e._particle2=null,e._startP=null,e._isFinish=null,e._cutSound=null,e._guideAc=null,e}return i(e,t),e.prototype.loadKnife=function(){this._knife=c.G35_utils.creatNode(this.res.newNode,this.res.scissorsAlt.getSpriteFrame("2-1"),this.node,cc.v2(0,0),1,1),this._knife.anchorY=.47,this._knife.name="scissor2"},e.prototype.touchStart=function(t){this.mainScript.canTouch&&this.canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this.node.scale=1,this._knife.scale=1,this._startP=t.getLocation(),this.stopGuide(),this.scissorsAction(!0),l.G35_moveClass.crtMovePoints=this.mainScript._lineDots,l.G35_moveClass.getPoint12(),this.loadChipParticle(),d.audioManager.playEffect(this.res.a17901001)))},e.prototype.touchMove=function(t){if(this.mainScript.canTouch&&this.canTouch&&this.touchThrigger&&!this._isFinish){l.G35_moveClass.isCorner();var e=this.getPos(t.getLocation()),o=this._knife.parent.convertToNodeSpaceAR(e);this._knife.setPosition(o),this._particle.position=c.G35_utils.convertToSpacePos(l.G35_moveClass.point2,this._particle.parent),this._particle.position=c.G35_utils.convertToSpacePos(l.G35_moveClass.point2,this._particle2.parent);var i=this.mainScript.eraserAtPoint(e,cc.v2(this.node.convertToWorldSpaceAR(cc.v2(0,0)).x,this.node.convertToWorldSpaceAR(cc.v2(0,0)).y));i&&this.angleOfRotation(i),this.node.position=c.G35_utils.convertToSpacePos(e,this.node.parent),this.getMask()}},e.prototype.touchEnd=function(t){this.mainScript.canTouch&&this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.node.scale=.9,this._knife.scale=.9,this.scissorsAction(),this.openGuide(),this.stopParticle())},e.prototype.loadChipParticle=function(){if(this._particle)this._particle.getComponent(cc.ParticleSystem).resetSystem(),this._particle2.getComponent(cc.ParticleSystem).resetSystem();else if(this._particle=c.G35_utils.creatParticle(this.res.suixie,this._canvas,l.G35_moveClass.point1,110),this._particle2=c.G35_utils.creatParticle(this.res.suixie2,this._canvas,l.G35_moveClass.point1,110),1==this.mainScript._idTab.length);else{var t=this.mainScript._idTab.length+1;this._particle2.getComponent(cc.ParticleSystem).spriteFrame=this.res.particleSpriteframe[t-1]}},e.prototype.stopParticle=function(){this._particle&&(this._particle.getComponent(cc.ParticleSystem).stopSystem(),this._particle2.getComponent(cc.ParticleSystem).stopSystem())},e.prototype.removeParticle=function(){this._particle&&(this._particle.destroy(),this._particle=null,this._particle2.destroy(),this._particle2=null)},e.prototype.getPos=function(t){var e=t.x-this._startP.x,o=t.y-this._startP.y;this._startP=t;var i=cc.v2(this.node.convertToWorldSpaceAR(cc.v2(0,0)).x,this.node.convertToWorldSpaceAR(cc.v2(0,0)).y);return l.G35_moveClass.judgeDrawMove(i,e,o)},e.prototype.angleOfRotation=function(t){var e=this.node.convertToWorldSpaceAR(cc.v2(0,0)).x,o=this.node.convertToWorldSpaceAR(cc.v2(0,0)).y,i=(t.x,t.y,Math.floor(c.G35_utils.quadAngle1(cc.v2(e,o),cc.v2(t.x,t.y))-50));this.node.angle=-i,this._knife.angle=-i},e.prototype.scissorsAction=function(t){var e=this;void 0===t&&(t=!1),this.node.cutAct&&(this.node.cutAct.stop(),this.node.cutAct=null),this._knife.cutAct&&(this._knife.cutAct.stop(),this._knife.cutAct=null),t?(this.node.cutAct=cc.tween(this.node).repeatForever(cc.tween().call(function(){e._cutSound=d.audioManager.playEffect(e.res.a22809001),u.G35_commonAct.filenames(e.node.getChildByName("scissor1"),u.G35_commonAct.getSpriteFrameArrForName(e.res.scissorsAlt,"1-",1,3),.15)}).delay(.45)).start(),this._knife.cutAct=cc.tween(this._knife).repeatForever(cc.tween().call(function(){e._cutSound=d.audioManager.playEffect(e.res.a22809001),u.G35_commonAct.filenames(e._knife,u.G35_commonAct.getSpriteFrameArrForName(e.res.scissorsAlt,"2-",1,3),.15)}).delay(.45)).start()):(this._cutSound&&(d.audioManager.stopAudio(this._cutSound),this._cutSound=null),this.node.getChildByName("scissor1").getComponent(cc.Sprite).spriteFrame=this.res.scissorsAlt.getSpriteFrame("1-1"),this._knife.getComponent(cc.Sprite).spriteFrame=this.res.scissorsAlt.getSpriteFrame("2-1"))},e.prototype.quit=function(){var t=this;this.canTouch=!1,this.node.scale=.9,this.scissorsAction(),this.stopGuide(),this.removeParticle(),this._knife.color=cc.color(255,255,255),cc.tween(this.node).delay(1/60).call(function(){c.G35_utils.resetParent(t._knife,t.node,1),t._knife.angle=0}).parallel(cc.tween().to(.5,{angle:0}),cc.tween().then(cc.jumpTo(.5,c.G35_utils.convertToSpacePos(cc.v2(857+this.offset.x,220+this.offset.y),this.node.parent),50,1))).delay(.5).call(function(){3!=t.mainScript._idTab.length?(l.G35_moveClass.initMovePoint(),t.mainScript._popup.getComponent(p.default).netMove()):(t.mainScript._popup.getComponent(p.default).quit(),cc.tween(t.node).to(.3,{position:c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+200,t.node.convertToWorldSpaceAR(cc.v2(0,0)).y),t.node.parent)}).removeSelf().start())}).start()},e.prototype.enter=function(){var t=this;this.mainScript._lineDots=this.mainScript._lineDots1[this.mainScript.id-1];var e=this.mainScript._lineDots[0],o=cc.v2(this.node.convertToWorldSpaceAR(cc.v2(0,0)).x,this.node.convertToWorldSpaceAR(cc.v2(0,0)).y),i=e.sub(o).mag()/800,n=[-15,-20,-27];cc.tween(this.node).to(i,{angle:-n[this.mainScript.id-1],position:c.G35_utils.convertToSpacePos(e,this.node.parent)}).call(function(){t._knife.color=cc.color(178,231,211),t.mainScript.loadDottedLine(),c.G35_utils.resetParent(t._knife,t.mainScript._popup.getComponent(p.default)._bg,5),t._knife.scale=.9,t._knife.angle=-n[t.mainScript.id-1],t.openGuide(),t.canTouch=!0}).start()},e.prototype.openGuide=function(){var t=this;this._guideAc||(this._guideAc=cc.tween(this.node).repeatForever(cc.tween().delay(3).call(function(){t.scissorsAction(!0)}).delay(.9).call(function(){t.scissorsAction()})).start())},e.prototype.stopGuide=function(){this._guideAc&&(this._guideAc.stop(),this._guideAc=null)},e.prototype.getMask=function(t){if(void 0===t&&(t=null),this.mainScript.textureSprite){var e=c.G35_utils.convertPosition(this.node,this.mainScript.textureSprite),o=this.mainScript.textureSprite.getComponent(cc.Mask);this.mask(e,o)}},e.prototype.mask=function(t,e){e._graphics.strokeColor=cc.color(255,0,0),e._graphics.fillColor=cc.color(0,255,0),e._graphics.circle(t.x-20,t.y,30),e._graphics.fill(),e._graphics.stroke()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadKnife(),l.G35_moveClass.setNode(this.node),l.G35_moveClass.initMovePoint(),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../../GameUtils/Tools/G35_MoveClass":"G35_MoveClass","./G35_SeasurfaceReady":"G35_SeasurfaceReady","./G35_SeasurfaceReadyPopup":"G35_SeasurfaceReadyPopup","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes"}],G35_SeasurfaceReady:[function(t,e,o){"use strict";cc._RF.push(e,"60bd4OQia9EpoAvwsI20UYA","G35_SeasurfaceReady");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceReadyRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/base/BBScene"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfaceReadyNet"),u=t("./G35_SeasurfaceReadyPopup"),d=t("../../../../lib/core/util/MathUtil"),p=t("./G35_SeasurfaceReadyItem"),h=t("./G35_SeasurfaceReadyChip"),f=t("../../../../lib/core/util/ArrayUtil"),g=t("./G35_SeasurfaceReadyScissor"),_=t("../../../../lib/business/Manager/AudioManager"),y=cc._decorator,m=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._repairNum=0,e._chips=[],e._dropNum=[[14,7,2],[13,9,2],[13,5,2]],e._chipCnt=1,e._idTab=[],e.canTouch=!0,e._mask=null,e._net=null,e._popup=null,e._scissor=null,e.targetSprite=null,e._bar=null,e.textureSprite=null,e.id=null,e._lineDots=[],e._lineDots1=[],e._uiAc=null,e._itemGuide=null,e}return i(e,t),e.prototype.loadBg=function(){this._mask=this.node.getChildByName("mask"),this._mask.zIndex=50,this._mask.setContentSize(cc.winSize.width,cc.winSize.height)},e.prototype.loadNet=function(){this._net=c.G35_utils.creatNode(this.res.newNode,this.res.netAlt.getSpriteFrame("1"),this.node,cc.v2(cc.winSize.width/2,240+this.offset.y),0,20),this._net.scale=1/.882,this._net.addComponent(l.default)._size=1/.882,this.id=c.G35_utils.numberExcept(1,3,this._idTab),this._lineDots=this._lineDots1[this.id-1],this._idTab.push(this.id)},e.prototype.loadPopup=function(){var t=new cc.Node("popupParent");t.parent=this.node,t.zIndex=50,c.G35_utils.creatNode(this.res.newNode,this.res.frameAlt.getSpriteFrame("2"),t,cc.v2(0,0),1,3).name="popup2",this._popup=t,this._popup.addComponent(u.default).enter()},e.prototype.loadScissors=function(){var t=new cc.Node("scissor");t.parent=this.node,t.zIndex=100;var e=c.G35_utils.creatNode(this.res.newNode,this.res.scissorsAlt.getSpriteFrame("1-1"),t,cc.v2(0,0),1,2);e.name="scissor1",t.scale=.9,e.anchorY=.47,t.setContentSize(e.getContentSize()),t.position=c.G35_utils.convertToSpacePos(cc.v2(this._lineDots1[this.id-1][0].x,-180),this.node),t.addComponent(g.default).enter(),this._scissor=t,this.targetSprite=t},e.prototype.loadBar=function(){var t=this;this._bar=this.node.getChildByName("bar"),this._bar.zIndex=3e3,this._bar.scale,this._bar.active=!0,this._bar.position=c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+100,273+this.offset.y),this.node),cc.tween(this._bar).then(cc.moveTo(.4,c.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width-100-this.offset.x,237+this.offset.y),this.node)).easing(cc.easeBackOut())).call(function(){t.canTouch=!0}).start(),_.audioManager.playEffect(this.res.a22809003),this._bar.children.forEach(function(t,e){t.addComponent(p.default).pos=t.position,t.getComponent(p.default).id=e+1})},e.prototype.uiGuide=function(){var t=this,e=this._bar.childrenCount;this._uiAc||e<1||(this._uiAc=cc.tween(this._bar).repeatForever(cc.tween().delay(3).call(function(){var o=null;1==e?o=0:d.default.random(0,e-1),_.audioManager.playEffect(t.res.a22805002),t._itemGuide=cc.tween(t._bar.children[o]).to(.1,{scale:1.1}).to(.1,{scale:.9}).to(.1,{scale:1.1}).to(.1,{scale:.9}).start()}).delay(.4)).start())},e.prototype.stopUiGuide=function(){this._uiAc&&(this._itemGuide.stop(),this._itemGuide=null,this._uiAc.stop(),this._uiAc=null)},e.prototype.loadNetChip=function(){this._chips=[],this._popup.getComponent(u.default)._chips[this.id-1].opacity=0;for(var t=[[cc.v2(459.2+this.offset.x,346+this.offset.y),cc.v2(383.8+this.offset.x,165.4+this.offset.y),cc.v2(554.9+this.offset.x,203.1+this.offset.y)],[cc.v2(502+this.offset.x,316.9+this.offset.y),cc.v2(406.7+this.offset.x,236.8+this.offset.y),cc.v2(554.7+this.offset.x,203.9+this.offset.y)],[cc.v2(473.5+this.offset.x,339.2+this.offset.y),cc.v2(451.3+this.offset.x,154.8+this.offset.y),cc.v2(591+this.offset.x,236.3+this.offset.y)]],e=0;e<3;e++){var o=c.G35_utils.creatNode(this.res.newNode,this.res.cutAlt.getSpriteFrame("2-"+this.id+"_"+(e+1)),this.node,t[this.id-1][e],0,65);o.scale=1/.7,o.addComponent(h.default).id=e+1,this._chips.push(o)}},e.prototype.loadDottedLine=function(){var t=this,e=this._popup.getComponent(u.default)._chips[this.id-1].convertToWorldSpaceAR(cc.v2(0,0));3==this.id&&(e.x+=2,e.y-=1),this.textureSprite=cc.instantiate(this.res.cutMask),this.textureSprite.parent=this.node,this.textureSprite.zIndex=60,this.textureSprite.position=c.G35_utils.convertToSpacePos(e,this.node),this.textureSprite.scale=1/.7,this.textureSprite._clearpoints=[],this._lineDots.forEach(function(e){t.textureSprite._clearpoints.push(cc.v2(e.x,e.y))}),this._chipCnt=1,this.loadNetChip(),this.textureSprite.getChildByName("img").getComponent(cc.Sprite).spriteFrame=this.res.cutAlt.getSpriteFrame("1-"+this.id),this.textureSprite.getChildByName("line").getComponent(cc.Sprite).spriteFrame=this.res.cutAlt.getSpriteFrame("line-"+this.id)},e.prototype.eraserAtPoint=function(t,e){for(var o,i=e.sub(t).mag(),n=t.x-e.x,a=t.y-e.y,r=0;r<=i;r+=5){var s=r/i;o=cc.v2(e.x+n*s,e.y+a*s)}var c=this.isFinish(o);return c[0]&&this.clearFinish(),c[1]},e.prototype.isFinish=function(t){for(var e=!1,o=0;o<this.textureSprite._clearpoints.length;o++)if(t.sub(this.textureSprite._clearpoints[o]).mag()<5){f.default.removeObj(this.textureSprite._clearpoints,this.textureSprite._clearpoints[o]);break}return this.textureSprite._clearpoints.length<=2&&(this._scissor.getComponent(g.default).canTouch=!1,this._scissor.getComponent(g.default).touchThrigger=!1,e=!0),this._chipCnt<4&&this.textureSprite._clearpoints.length<=this._dropNum[this.id-1][this._chipCnt-1]&&(this._chips[this._chipCnt-1].getComponent(h.default).fallDown(),this._chipCnt+=1),[e,this.textureSprite._clearpoints[1]]},e.prototype.clearFinish=function(){this.textureSprite&&(this.textureSprite.destroy(),this.textureSprite=null);var t=this._popup.getComponent(u.default)._chips[this.id-1].convertToWorldSpaceAR(cc.v2(0,0));c.G35_utils.creatParticle(this.res.caijianwc,this.node,t,150),_.audioManager.playEffect(this.res.a22809002),this._scissor.getComponent(g.default).quit()},e.prototype.repairFinish=function(){var t=this;this.stopUiGuide(),this._net.getComponent(cc.Sprite).spriteFrame=this.res.netAlt.getSpriteFrame("3"),_.audioManager.playEffect(this.res.a22809003),cc.tween(this._bar).by(.5,{x:800}).start(),this._net.getComponent(l.default)._chips.forEach(function(t,e){cc.tween(t).delay(.1*e).to(.5,{opacity:0}).start()}),this.scheduleOnce(function(){t._net.getComponent(l.default).repairFinish()},.8)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._lineDots1=[[cc.v2(579.3+e.x,326.7+e.y),cc.v2(543.7+e.x,357.2+e.y),cc.v2(497.2+e.x,373.9+e.y),cc.v2(446.3+e.x,374+e.y),cc.v2(398.7+e.x,357.9+e.y),cc.v2(364.8+e.x,329.3+e.y),cc.v2(337.2+e.x,289.1+e.y),cc.v2(326.8+e.x,240.1+e.y),cc.v2(332.6+e.x,188.9+e.y),cc.v2(351.4+e.x,147.7+e.y),cc.v2(384.7+e.x,113.7+e.y),cc.v2(429.2+e.x,92.4+e.y),cc.v2(484.7+e.x,86.7+e.y),cc.v2(541.3+e.x,101.1+e.y),cc.v2(581.8+e.x,134.6+e.y),cc.v2(608.4+e.x,181.8+e.y),cc.v2(617.3+e.x,232.9+e.y),cc.v2(605.7+e.x,277.1+e.y),cc.v2(595.9+e.x,304.5+e.y),cc.v2(580+e.x,328+e.y)],[cc.v2(619.5+e.x,256+e.y),cc.v2(565.8+e.x,289.3+e.y),cc.v2(507.9+e.x,320.8+e.y),cc.v2(453.3+e.x,351.6+e.y),cc.v2(412.5+e.x,376.3+e.y),cc.v2(394+e.x,380.5+e.y),cc.v2(382.1+e.x,368.1+e.y),cc.v2(381.8+e.x,310.4+e.y),cc.v2(384.7+e.x,240.2+e.y),cc.v2(383.2+e.x,177.5+e.y),cc.v2(384.4+e.x,119.8+e.y),cc.v2(393.9+e.x,102.4+e.y),cc.v2(413.1+e.x,99.3+e.y),cc.v2(468+e.x,128.7+e.y),cc.v2(524.3+e.x,161.7+e.y),cc.v2(571.9+e.x,190+e.y),cc.v2(628.4+e.x,223.2+e.y),cc.v2(640.9+e.x,234.4+e.y),cc.v2(637.4+e.x,246.5+e.y),cc.v2(620.6+e.x,256.8+e.y)],[cc.v2(616+e.x,307+e.y),cc.v2(559.8+e.x,332.9+e.y),cc.v2(501.9+e.x,358.5+e.y),cc.v2(444+e.x,383.8+e.y),cc.v2(427.1+e.x,383.9+e.y),cc.v2(418.5+e.x,373.3+e.y),cc.v2(387.2+e.x,312.3+e.y),cc.v2(357.4+e.x,244.3+e.y),cc.v2(335.4+e.x,190.8+e.y),cc.v2(336.8+e.x,172.6+e.y),cc.v2(392.5+e.x,144.8+e.y),cc.v2(461.1+e.x,112.4+e.y),cc.v2(524.8+e.x,87.9+e.y),cc.v2(539.2+e.x,86.7+e.y),cc.v2(551.3+e.x,93.4+e.y),cc.v2(582.8+e.x,163.2+e.y),cc.v2(614.1+e.x,231.2+e.y),cc.v2(631.5+e.x,272.1+e.y),cc.v2(632.5+e.x,291.4+e.y),cc.v2(620.3+e.x,304.1+e.y)]],this.loadBg(),this.loadNet()},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.loadPopup()},.5)},e=n([m],e)}(s.default));o.default=v,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_SeasurfaceReadyChip":"G35_SeasurfaceReadyChip","./G35_SeasurfaceReadyItem":"G35_SeasurfaceReadyItem","./G35_SeasurfaceReadyNet":"G35_SeasurfaceReadyNet","./G35_SeasurfaceReadyPopup":"G35_SeasurfaceReadyPopup","./G35_SeasurfaceReadyRes":"G35_SeasurfaceReadyRes","./G35_SeasurfaceReadyScissor":"G35_SeasurfaceReadyScissor"}],G35_SeasurfacefishingBoat:[function(t,e,o){"use strict";cc._RF.push(e,"4d416gZIgRGtplt5kdCfXwM","G35_SeasurfacefishingBoat");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_Seasurfacefishing"),r=t("./G35_SeasurfacefishingRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../../../lib/business/Manager/AudioManager"),d=t("../../../../lib/core/util/MathUtil"),p=t("../../../../lib/core/util/ArrayUtil"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._qiqi=null,e._spray=null,e._waterParticle=null,e._sound=null,e._happyCnt=null,e._pullBackSound=null,e._posId=null,e._helpSound2=null,e._helpSound=null,e._cnt=1,e._shakeAction=null,e._guideAct=null,e._find=null,e._firstAttack=null,e.qiqiDragon=null,e}return i(e,t),e.prototype.loadQiqi=function(){this._qiqi=cc.instantiate(this.res.cmqiqi),this._qiqi.parent=this.node,this._qiqi.position=cc.v2(98,273),this._qiqi.x-=this.node.width/2,this.qiqiDragon=this._qiqi.getComponent(dragonBones.ArmatureDisplay),this.qiqiDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.qqMovementHandler,this)},e.prototype.loadSpray=function(){var t=this;this._spray||(this._spray=c.G35_utils.creatNode(this.res.newNode,this.res.sprayAlt.getSpriteFrame("spray-1"),this.node,cc.v2(300,77),1,5),this._spray.scale=1.25,this._spray.x-=this.node.width/2,this._spray.setAnchorPoint(cc.v2(0,0)),c.G35_utils.setImg(this._spray),cc.tween(this._spray).repeatForever(cc.tween().call(function(){l.G35_commonAct.filenames(t._spray,l.G35_commonAct.getSpriteFrameArrForName(t.res.sprayAlt,"spray-",1,5))}).delay(.5)).start(),this._sound||(this._sound=u.audioManager.playEffectLoop(this.res.a22807009)))},e.prototype.clearSpray=function(){var t=this;this._spray&&(u.audioManager.stopAudio(this._sound),this._sound=null,cc.tween(this._spray).then(cc.scaleTo(.5,1,0).easing(cc.easeSineOut())).call(function(){t._spray.stopAllActions(),t._spray.destroy(),t._spray=null}).start(),l.G35_commonAct.soundFades(this.node,!1,.5,this._sound))},e.prototype.enter=function(){var t=this,e=this.mainScript._currentNum,o=.004*Math.abs(c.G35_utils.getVec2Pos(this.node).x-this.mainScript._boatPos[e-1].x);this.loadSpray(),2==e?this.mainScript.appearRubbish():3==e&&this.mainScript.appearSeagull(),cc.tween(this.node).then(cc.moveTo(o,c.G35_utils.convertToSpacePos(this.mainScript._boatPos[e-1],this.node.parent)).easing(cc.easeSineOut())).call(function(){t.mainScript.floatAction(t.node),1==e?t.mainScript.reayCastNet():2==e&&t.mainScript.loadMachine()}).start();var i=o-.5;i<.5&&(i=0),this.scheduleOnce(function(){t.clearSpray()},i)},e.prototype.shakeAction=function(){this._shakeAction||(this._shakeAction=cc.tween(this.node).repeatForever(cc.tween().to(.3,{scaleX:.7,scaleY:.68}).to(.3,{scale:.7})).start(),cc.tween(this.node).to(.2,{angle:2+4*this.mainScript._state}).start())},e.prototype.stopShake=function(){this._shakeAction&&(this._shakeAction.stop(),this._shakeAction=null,u.audioManager.playEffect(this.res.a22807031),this._waterParticle.isValid&&this._waterParticle?this._waterParticle.getComponent(cc.ParticleSystem).stopSystem():(this._waterParticle=cc.instantiate(this.res.chuanshuihua),this._waterParticle.parent=this.node,this._waterParticle.zIndex=3,this._waterParticle.scale=1.4),cc.tween(this.node).to(.1,{angle:-3,scaleX:.71,scaleY:.68}).to(.1,{angle:2,scale:.7}).to(.05,{angle:0}).start())},e.prototype.turnAround=function(t){var e=this;this.node.stopAllActions(),this.node.y=c.G35_utils.convertToSpacePos(this.mainScript._boatPos[0],this.node.parent).y,this.loadSpray(),cc.tween(this.node).to(t,{position:cc.v2(cc.winSize.width/2+200,this.node.y)}).call(function(){e.mainScript.resetFish(),e.node.scaleX=.7,e._qiqi.x=98-e.node.width/2}).delay(1.2).call(function(){e.scheduleOnce(function(){e.clearSpray()},1.5)}).then(cc.moveTo(2,c.G35_utils.convertToSpacePos(this.mainScript._boatPos[0],this.node.parent)).easing(cc.easeSineOut())).call(function(){e.mainScript.floatAction(e.node)}).start()},e.prototype.openGuide=function(){var t=this;this._guideAct||(this._guideAct=cc.tween(this.node).repeatForever(cc.tween().delay(3).call(function(){t._find||(t._find=!0,t.qiqi_findRubbish());var e=p.default.getRandomItem(t.mainScript._rubbish);if(e){var o=e.scale;cc.tween(e).to(.1,{scale:o+.2}).to(.1,{scale:o}).to(.1,{scale:o+.2}).to(.1,{scale:o}).start()}}).delay(1)).start())},e.prototype.stopGuide=function(){this._guideAct&&(this._guideAct.stop(),this._guideAct=null,this._find=null,this.qiqi_breath())},e.prototype.qiqi_happy2=function(){2==this.mainScript._rubbishNum?u.audioManager.playLine(this.res.a228117):4==this.mainScript._rubbishNum?u.audioManager.playLine(this.res.a228118):(this._happyCnt||(this._happyCnt=0),this._happyCnt+=1,this._happyCnt>4&&(this._happyCnt=1),u.audioManager.playEffect(this.res.a22807034[this._happyCnt-1])),this.qiqiDragon.playAnimation("cmqq_ljkx",-1)},e.prototype.qiqi_happy=function(){this.qiqiDragon.playAnimation("cmqq_swjl",-1),this.qiqiDragon.armature().getSlot("cmqq_xian").displayIndex=-1,this.qiqiDragon.armature().getSlot("cmqq_szh").displayIndex=-1},e.prototype.qiqi_castNet=function(){this.qiqiDragon.playAnimation("cmqq_swang1",-1)},e.prototype.qiqi_pullout=function(){var t=this.mainScript._state;this._pullBackSound&&(u.audioManager.stopAudio(this._pullBackSound),this._pullBackSound=null),this._pullBackSound=u.audioManager.playEffect(this.res.soundEffectFn[t-1]),this.qiqiDragon.playAnimation("cmqq_lawang"+t,-1)},e.prototype.qiqi_pullback=function(){var t=this.mainScript._state;this._pullBackSound&&(u.audioManager.stopAudio(this._pullBackSound),this._pullBackSound=null),this._pullBackSound=t<3?u.audioManager.playEffect(this.res.a22807016):u.audioManager.playEffect(this.res.a22807017),this.qiqiDragon.playAnimation("cmqq_shou"+t,-1)},e.prototype.qiqi_collect=function(){u.audioManager.playEffect(this.res.a22807018),this.mainScript._boatPoint.y+=2,this.qiqiDragon.playAnimation("cmqq_kxsw",-1)},e.prototype.qiqi_findRubbish=function(){this.qiqiDragon.playAnimation("cmqq_fxlj",-1)},e.prototype.qiqi_breath=function(){this._posId=null,this._qiqi.stopAllActions(),this.qiqiDragon.playAnimation("cmqq_hxdj",-1)},e.prototype.qiqi_breath2=function(){this.qiqiDragon.playAnimation("cmqq_ljdj",-1)},e.prototype.qiqi_findSeagull=function(){this.qiqiDragon.playAnimation("cmqq_jyshuo",-1)},e.prototype.qiqi_attack=function(t){var e=this;this._posId&&this._posId!=t||(this._posId||(this._posId=t),this._firstAttack?d.default.randomBoolean()&&(t<3||t>4)?(this._helpSound2&&(u.audioManager.stopAudio(this._helpSound2),this._helpSound2=null),this._helpSound2=u.audioManager.playEffect(this.res.a22807035),cc.tween(this._qiqi).delay(.1).call(function(){e.qiqiDragon.playAnimation("cmqq_bzhuo",-1)}).start()):(this._posId=0,this.playHelpSound(),this.qiqiDragon.playAnimation("cmqq_bzhuo2",-1),cc.tween(this._qiqi).delay(1.08).call(function(){e.qiqiDragon.playAnimation("cmqq_bzhuo2dj",-1)}).delay(.29*3).call(function(){e._posId=null}).start()):(this._firstAttack=!0,this.qiqiDragon.playAnimation("cmqq_bzhuo1",-1),this.playHelpSound()))},e.prototype.playHelpSound=function(){var t=this;this._helpSound||(this._helpSound=u.audioManager.playEffect(this.res.a22807028),this.scheduleOnce(function(){t._helpSound=null},2.9))},e.prototype.qqMovementHandler=function(){if("cmqq_swang1"==this.qiqiDragon.animationName)return this.qiqiDragon.playAnimation("cmqq_swang2",-1),void this.mainScript.castNet();if("cmqq_shou1"==this.qiqiDragon.animationName||"cmqq_shou2"==this.qiqiDragon.animationName)return this.qiqiDragon.playAnimation("cmqq_lawang1",-1),void(this.mainScript._canTouch=!0);if("cmqq_shou3"!=this.qiqiDragon.animationName){if("cmqq_paqi"==this.qiqiDragon.animationName)return this.mainScript._canTouch=!0,void(this.mainScript._progressTo&&this.qiqiDragon.playAnimation("cmqq_lawang1",-1));if("cmqq_kx"==this.qiqiDragon.animationName)return this._cnt<4?this.qiqiDragon.playAnimation("cmqq_kx",-1):this.qiqiDragon.playAnimation("cmqq_hxdj",-1),void(this._cnt+=1);if("cmqq_fxlj"!=this.qiqiDragon.animationName)if("cmqq_bbkx"!=this.qiqiDragon.animationName)if("cmqq_jyshuo"!=this.qiqiDragon.animationName)if("cmqq_ljkx"!=this.qiqiDragon.animationName)if("cmqq_bzhuo"!=this.qiqiDragon.animationName);else{this.qiqiDragon.playAnimation("cmqq_bzhuo2dj",-1);var t=[cc.v2(53.4,321.6),cc.v2(28.5,300),cc.v2(0,0),cc.v2(0,0),cc.v2(119.8,298.1),cc.v2(83,326.4)];if(this._posId<=6&&this._posId>0){var e=c.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("fire"),this.node,t[this._posId-1],1,5);e.x-=this.node.width/2,e.scale=.5,cc.tween(e).to(.1,{scale:1.2}).removeSelf().start()}}else this.qiqiDragon.playAnimation("cmqq_hxdj",-1);else this.qiqiDragon.playAnimation("cmqq_jyshuoxh",-1);else this.qiqiDragon.playAnimation("cmqq_hxdj",-1);else this.qiqiDragon.playAnimation("cmqq_fxljxh",-1)}else this.qiqiDragon.playAnimation("cmqq_paqi",-1)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.mainScript=cc.find("Canvas").getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this.loadQiqi()},e.prototype.start=function(){},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Seasurfacefishing":"G35_Seasurfacefishing","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes"}],G35_SeasurfacefishingFish:[function(t,e,o){"use strict";cc._RF.push(e,"5b52eH6AUlM7IdB1bMWJlEN","G35_SeasurfacefishingFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfacefishingRes"),r=t("./G35_Seasurfacefishing"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../Common/G35_FarFish"),l=t("../../../../lib/core/util/MathUtil"),u=t("../../../GameUtils/G35_Utils"),d=t("./G35_SeasurfacefishingBoat"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._angle=0,e._particle=null,e._shakeAc=null,e}return i(e,t),e.prototype.loadFish=function(){var t=this;this._space=80;for(var e=[.6,.8,.5,1,.5],o=function(o){var n=50+l.default.random(-i._space,i._space),a=50+l.default.random(.8*-i._space,.8*i._space),r=cc.instantiate(i.res.hmyu);r.parent=i.node,r.position=cc.v2(n,a),r.scale=e[i._fType-1],r.getComponent(dragonBones.ArmatureDisplay).playAnimation(i.name1+"_yd",-1),r.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,function(){r.getComponent(dragonBones.ArmatureDisplay).animationName==t.name1+"_ss"&&r.getComponent(dragonBones.ArmatureDisplay).playAnimation(t.name1+"_ylyou",-1)}),i._fish.push(r)},i=this,n=0;n<this._totalNum;n++)o();this._cnt=2,this.fish_swim()},e.prototype.move=function(t,e){var o=this;this.node.stopAllActions(),this.fishTurnAround(t),cc.tween(this.node).to(e,{position:u.G35_utils.convertToSpacePos(t,this.node.parent)}).call(function(){o.mainScript._castNet&&(o.node.scaleX=o._size)}).start()},e.prototype.adjustFishPos=function(){var t=this;this._fish.forEach(function(e){var o=50+l.default.random(-t._space,t._space),i=50+l.default.random(.8*-t._space,.8*t._space);e.position=cc.v2(o,i)})},e.prototype.pullout=function(){this.fish_struggle(),this.mainScript._boat.getComponent(d.default).shakeAction()},e.prototype.pullback=function(){this.fish_release(),cc.tween(this.node).by(.2,{position:cc.v2(-20,-3)}).start(),this.mainScript._boat.getComponent(d.default).stopShake()},e.prototype.enterNet=function(){var t=this,e=[[25,60],[15,65],[20,65],[0,90],[5,75]];this._fish.forEach(function(o){var i=l.default.random(-35,35),n=e[t._fType-1][0],a=e[t._fType-1][1],r=50+i;Math.abs(i)<20&&(n-=20,a+=20);var s=l.default.random(n,a);o.position=cc.v2(s,r-50)})},e.prototype.netpullOver=function(){var t=this;this.node.stopAllActions(),this._particle.getComponent(cc.ParticleSystem).stopSystem(),this.mainScript._state=3,this.mainScript._boat.getComponent(d.default).qiqi_pullback(),this.mainScript._boat.getComponent(d.default).stopShake(),p.audioManager.playEffect(this.res.a22807032),cc.tween(this.node).parallel(cc.tween().then(cc.jumpBy(.6,cc.v2(30,40),120,1)),cc.tween().call(function(){cc.tween(t.node).to(.3,{angle:-30}).to(.3,{angle:0}).start()})).call(function(){t.node.zIndex=40,t.enterBoat(),t.mainScript._boat.getComponent(d.default).qiqi_collect()}).start()},e.prototype.enterBoat=function(){var t=this,e=u.G35_utils.getVec2Pos(this.mainScript._boatPoint);e.x-=26;cc.tween(this.node).parallel(cc.tween().then(cc.moveTo(1.5,u.G35_utils.convertToSpacePos(e,this.node.parent)).easing(cc.easeSineIn())),cc.tween().then(cc.scaleTo(1.5,.3).easing(cc.easeSineIn())),cc.tween().to(1.5,{angle:-15})).call(function(){t.mainScript.closeDrawUpdate(),t.mainScript.clearLine(),t.mainScript._boat.getComponent(d.default).qiqi_happy(),p.audioManager.playEffect(t.res.a22807019)}).parallel(cc.tween().then(cc.jumpTo(.5,u.G35_utils.convertToSpacePos(cc.v2(e.x+112+20,e.y),this.node.parent),100,1)),cc.tween().to(.5,{angle:-180})).delay(.5).call(function(){t.mainScript.nextScene()}).start()},e.prototype.shakeAction=function(){this._shakeAc||(this._angle>-10&&(this._angle-=2),this._angle=-this._angle,this._shakeAc=cc.tween(this.node).repeatForever(cc.tween().by(.08,{angle:5}).by(.08,{angle:-5})).start(),this.mainScript._net.y-=10,cc.tween(this.mainScript._net).to(.1,{scaleX:1,scaleY:.85}).to(.1,{scaleX:1.05,scaleY:.88}).start())},e.prototype.stopShake=function(){this._shakeAc&&(this._shakeAc.stop(),this._shakeAc=null,this.node.angle=0,this.mainScript._net.y+=10,this.mainScript._net.stopAllActions(),cc.tween(this.mainScript._net).to(.1,{scale:1.1}).to(.1,{scale:1}).start())},e.prototype.fish_hardswim=function(){this.fish_playAction(this.name1+"_ylyou")},e.prototype.fish_release=function(){this.stopShake(),this.fish_playAction(this.name1+"_ss"),this._particle&&this._particle.getComponent(cc.ParticleSystem).stopSystem()},e.prototype.fish_struggle=function(){this.shakeAction(),this._particle?this._particle.getComponent(cc.ParticleSystem).resetSystem():(this._particle=cc.instantiate(this.res.yuwangpaopao),this._particle.parent=this.node,this._particle.zIndex=20),this.fish_playAction(this.name1+"_zz")},e.prototype.fish_swim=function(){this.fish_playAction(this.name1+"_yd")},e.prototype.fish_playAction=function(t){this._fish.forEach(function(e,o){e&&cc.tween(e).delay(.1*o).call(function(){e.getComponent(dragonBones.ArmatureDisplay).playAnimation(t,-1)}).start()})},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){},e=n([f],e)}(c.default));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_FarFish":"G35_FarFish","./G35_Seasurfacefishing":"G35_Seasurfacefishing","./G35_SeasurfacefishingBoat":"G35_SeasurfacefishingBoat","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes"}],G35_SeasurfacefishingMachine:[function(t,e,o){"use strict";cc._RF.push(e,"f012cT5loBM/rE62IH910l7","G35_SeasurfacefishingMachine");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfacefishingRes"),r=t("./G35_Seasurfacefishing"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfacefishingBoat"),u=t("./G35_SeasurfacefishingRubbish"),d=t("./G35_SeasurfacefishingFish"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._hand=null,e._right=null,e._left=null,e._part=null,e._handP=null,e._canTouch=!1,e}return i(e,t),e.prototype.loadPart=function(){this._part=c.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("1"),this.node,cc.v2(80,200),1,5),this._part.setAnchorPoint(cc.v2(.9,.6)),this._hand=new cc.Node("hand"),this._hand.parent=this.node,this._hand.position=cc.v2(78.5,191.5),this._hand.setAnchorPoint(cc.v2(.5,1));var t=c.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("2"),this._hand,cc.v2(0,0),1,3);t.setAnchorPoint(cc.v2(.5,1)),this._hand.setContentSize(t.getContentSize()),this._right=c.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("3"),this._hand,cc.v2(5,3),1,2),this._right.setAnchorPoint(cc.v2(.5,1)),c.G35_utils.adjustPos(this._right,this._hand),this._left=c.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("4"),this._hand,cc.v2(41,3),1,2),this._left.setAnchorPoint(cc.v2(.5,1)),c.G35_utils.adjustPos(this._left,this._hand);var e=cc.instantiate(this.res.newNode);e.getComponent(cc.Sprite).spriteFrame=null,e.parent=this._hand,e.zIndex=9999,e.position=cc.v2(0,-50),this._handP=this._hand.position,this._hand._point1=e,this.swingAction()},e.prototype.catch=function(t,e){var o=this;void 0===e&&(e=null),this.mainScript.drawLine(),this.mainScript._canCatch=!1,this._hand.stopAllActions();var i=-c.G35_utils.quadAngle1(c.G35_utils.getVec2Pos(this._hand),t)-90;this._hand.angle=i,this.openOrCloseHand(.3,25);var n=this.getHandPosByRubbish(t),a=this.node.position.sub(n).mag()/500;p.audioManager.playEffect(this.res.a22807021),cc.tween(this._hand).parallel(cc.tween().then(cc.moveTo(a,n).easing(cc.easeIn(1))),cc.tween().then(cc.rotateTo(.8*a,-i).easing(cc.easeIn(1)))).call(function(){o.handClose(e)}).start()},e.prototype.goBack=function(t){var e=this;void 0===t&&(t=null);var o=this.node.position.sub(this._handP).mag()/500,i=.3,n=0;t?(i=.5,o*=.9,n=.2):o*=.5,p.audioManager.playEffect(this.res.a22807023),cc.tween(this._hand).then(cc.moveTo(o,this._handP).easing(cc.easeIn(2))).call(function(){e.mainScript.clearLine(),t&&e.mainScript._boat.getComponent(l.default).qiqi_happy2()}).then(cc.rotateTo(i,30).easing(cc.easeIn(1))).call(function(){t&&(e.openOrCloseHand(.2,30),t.getComponent(u.default).fly2Boat())}).delay(n).call(function(){t?e.openOrCloseHand(.1,0):e.mainScript._canCatch=!0}).then(cc.rotateTo(.5,20).easing(cc.easeIn(1))).then(cc.rotateTo(.3,-10).easing(cc.easeIn(1))).to(.3,{angle:5}).to(.2,{angle:0}).call(function(){e.swingAction()}).start()},e.prototype.handClose=function(t){var e=this;void 0===t&&(t=null),t?(this.openOrCloseHand(.2,30),p.audioManager.playEffect(this.res.a22807022),t.getComponent(u.default).beCaught()):this.openOrCloseHand(.2,0),cc.tween(this._hand).to(.2,{scale:1.1}).call(function(){if(t){e.openOrCloseHand(.2,[16,30,20,20,10,20,23][t.getComponent(u.default).id-1])}}).to(.2,{scale:1}).call(function(){e.goBack(t)}).start()},e.prototype.openOrCloseHand=function(t,e){this._left.stopAllActions(),cc.tween(this._left).to(t,{angle:e}).start(),this._right.stopAllActions(),cc.tween(this._right).to(t,{angle:-e}).start()},e.prototype.enter=function(){var t=this;cc.tween(this.node).delay(1).call(function(){p.audioManager.playEffect(t.res.a22807033)}).by(.4,{y:310}).by(.3,{x:90}).call(function(){t.handTouch(),t._canTouch=!0}).start()},e.prototype.quit=function(){var t=this;this.node.stopAllActions(),this.mainScript._boat.getComponent(l.default).stopGuide(),this.mainScript._boat.getComponent(l.default).qiqi_breath();var e=.004*Math.abs(cc.winSize.width+150-c.G35_utils.getVec2Pos(this.mainScript._fish).x);cc.tween(this.node).delay(.3).call(function(){p.audioManager.playLine(t.res.a228088),t.mainScript._fish.getComponent(d.default).move(cc.v2(cc.winSize.width+150,-10+t.offset.y),e)}).delay(.5).call(function(){t._hand.stopAllActions(),t._hand.angle=0}).by(.3,{x:-90}).by(.4,{y:-250}).call(function(){t.mainScript.rubbishCollection(e)}).removeSelf().start()},e.prototype.swingAction=function(){cc.tween(this._hand).by(.5,{angle:-4}).by(1,{angle:8}).by(.5,{angle:-4}).start()},e.prototype.getHandPosByRubbish=function(t){t=this.node.convertToNodeSpaceAR(t);var e=-this._hand.angle*Math.PI/180;return t.x+=70*Math.sin(e),t.y+=70*Math.cos(e),t},e.prototype.handTouch=function(){this._hand.canTouch1=!0,this._hand.on(cc.Node.EventType.TOUCH_START,this.handTouchStart,this),this._hand.on(cc.Node.EventType.TOUCH_MOVE,this.handTouchMove,this),this._hand.on(cc.Node.EventType.TOUCH_END,this.handTouchEnd,this),this._hand.on(cc.Node.EventType.TOUCH_CANCEL,this.handTouchEnd,this)},e.prototype.handTouchStart=function(t){var e=this;this.mainScript._canCatch&&(this.touchThrigger||(this.touchThrigger=!0,this._hand._hasRubbish=!1,this._hand.stopAllActions(),this.mainScript.drawLine(),this.openOrCloseHand(.3,25),this._hand._touchP=this._hand.convertToNodeSpaceAR(t.getLocation()),this._hand._sound1||(this._hand._sound1=p.audioManager.playEffect(this.res.a22807021),this.scheduleOnce(function(){e._hand._sound1=null},1))))},e.prototype.handTouchMove=function(t){if(this.touchThrigger&&!this._hand._hasRubbish){var e=t.getLocation();this.mainScript._canCatch=!1,e.x<405+this.offset.x&&(e.x=405+this.offset.x),e.y>320+this.offset.y&&(e.y=320+this.offset.y),e.y<90+this.offset.y&&(e.y=90+this.offset.y);var o=this._hand.parent.convertToNodeSpaceAR(e),i=o.sub(this._hand._touchP).mag();if(i>20){var n=-c.G35_utils.quadAngle1(this._handP,o)-90;this._hand.angle=n}e=this.getHandPosByRubbish(e),this._hand.position=e,i>100&&this.detectRubbish()}},e.prototype.handTouchEnd=function(t){this.touchThrigger&&(this.touchThrigger=!1,this.handClose())},e.prototype.detectRubbish=function(){var t=this,e=null;if(this.mainScript._rubbish.forEach(function(o){c.G35_utils.getDistace(o,t._hand._point1)<50&&(!e||e&&e.zIndex<o.zIndex)&&(e=o)}),e){this.touchThrigger=!1,this._hand._hasRubbish=!0;var o=this.getHandPosByRubbish(c.G35_utils.getVec2Pos(e));this._hand.position=o,this.handClose(e),this.mainScript._boat.getComponent(l.default).openGuide()}},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.loadPart()},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seasurfacefishing":"G35_Seasurfacefishing","./G35_SeasurfacefishingBoat":"G35_SeasurfacefishingBoat","./G35_SeasurfacefishingFish":"G35_SeasurfacefishingFish","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes","./G35_SeasurfacefishingRubbish":"G35_SeasurfacefishingRubbish"}],G35_SeasurfacefishingRes:[function(t,e,o){"use strict";cc._RF.push(e,"f8fd2VYn+JEkY15nEKZCosB","G35_SeasurfacefishingRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.cloud=null,e.light=null,e.Seagull=null,e.sawangshuihua=null,e.chuanshuihua=null,e.cmqiqi=null,e.hmyu=null,e.yuwangpaopao=null,e.jiazhonglaji=null,e.laolajiwc=null,e.dianniao=null,e.yumao=null,e.comAlt=null,e.barAlt=null,e.machineAlt=null,e.rubbishAlt=null,e.sprayAlt=null,e.handAlt=null,e.surfaceAlt=null,e.a22807001=null,e.a228BGM08=null,e.a22807020=null,e.a22807026=null,e.a22807012=null,e.a22807030=null,e.a228BGM01=null,e.a22807009=null,e.a22807031=null,e.a22807034=[],e.soundEffectFn=[],e.a22807016=null,e.a22807017=null,e.a22807018=null,e.a22807035=null,e.a22807028=null,e.a22807032=null,e.a22807019=null,e.a22807021=null,e.a22807023=null,e.a22807022=null,e.a22807033=null,e.a22807024=null,e.a22802003=null,e.a22807029=null,e.a22807027=null,e.a228088=null,e.a228118=null,e.a228117=null,e.a228036=null,e.a228037=null,e.a228108=null,e.a228087=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u4e91"})],e.prototype,"cloud",void 0),n([s({type:cc.Prefab,tooltip:"\u5149"})],e.prototype,"light",void 0),n([s({type:cc.Prefab,tooltip:"\u6d77\u9e25"})],e.prototype,"Seagull",void 0),n([s({type:cc.Prefab,tooltip:"sawangshuihua"})],e.prototype,"sawangshuihua",void 0),n([s({type:cc.Prefab,tooltip:"chuanshuihua"})],e.prototype,"chuanshuihua",void 0),n([s({type:cc.Prefab,tooltip:"qiqi"})],e.prototype,"cmqiqi",void 0),n([s({type:cc.Prefab,tooltip:"hmyu"})],e.prototype,"hmyu",void 0),n([s({type:cc.Prefab,tooltip:"yuwangpaopao"})],e.prototype,"yuwangpaopao",void 0),n([s({type:cc.Prefab,tooltip:"jiazhonglaji"})],e.prototype,"jiazhonglaji",void 0),n([s({type:cc.Prefab,tooltip:"laolajiwc"})],e.prototype,"laolajiwc",void 0),n([s({type:cc.Prefab,tooltip:"dianniao"})],e.prototype,"dianniao",void 0),n([s({type:cc.Prefab,tooltip:"yumao"})],e.prototype,"yumao",void 0),n([s({type:cc.SpriteAtlas,tooltip:"com"})],e.prototype,"comAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"bar"})],e.prototype,"barAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"machine"})],e.prototype,"machineAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"rubbish"})],e.prototype,"rubbishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"spray"})],e.prototype,"sprayAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"hand"})],e.prototype,"handAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"surfaceAlt"})],e.prototype,"surfaceAlt",void 0),n([s({type:cc.AudioClip,tooltip:"22807001"})],e.prototype,"a22807001",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM08"})],e.prototype,"a228BGM08",void 0),n([s({type:cc.AudioClip,tooltip:"22807020"})],e.prototype,"a22807020",void 0),n([s({type:cc.AudioClip,tooltip:"22807026"})],e.prototype,"a22807026",void 0),n([s({type:cc.AudioClip,tooltip:"22807012"})],e.prototype,"a22807012",void 0),n([s({type:cc.AudioClip,tooltip:"22807030"})],e.prototype,"a22807030",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM01"})],e.prototype,"a228BGM01",void 0),n([s({type:cc.AudioClip,tooltip:"22807009"})],e.prototype,"a22807009",void 0),n([s({type:cc.AudioClip,tooltip:"22807031"})],e.prototype,"a22807031",void 0),n([s({type:cc.AudioClip,tooltip:"22807034"})],e.prototype,"a22807034",void 0),n([s({type:cc.AudioClip,tooltip:"soundEffectFn"})],e.prototype,"soundEffectFn",void 0),n([s({type:cc.AudioClip,tooltip:"22807016"})],e.prototype,"a22807016",void 0),n([s({type:cc.AudioClip,tooltip:"22807017"})],e.prototype,"a22807017",void 0),n([s({type:cc.AudioClip,tooltip:"22807018"})],e.prototype,"a22807018",void 0),n([s({type:cc.AudioClip,tooltip:"22807035"})],e.prototype,"a22807035",void 0),n([s({type:cc.AudioClip,tooltip:"22807028"})],e.prototype,"a22807028",void 0),n([s({type:cc.AudioClip,tooltip:"22807032"})],e.prototype,"a22807032",void 0),n([s({type:cc.AudioClip,tooltip:"22807019"})],e.prototype,"a22807019",void 0),n([s({type:cc.AudioClip,tooltip:"22807021"})],e.prototype,"a22807021",void 0),n([s({type:cc.AudioClip,tooltip:"22807023"})],e.prototype,"a22807023",void 0),n([s({type:cc.AudioClip,tooltip:"22807022"})],e.prototype,"a22807022",void 0),n([s({type:cc.AudioClip,tooltip:"22807033"})],e.prototype,"a22807033",void 0),n([s({type:cc.AudioClip,tooltip:"22807024"})],e.prototype,"a22807024",void 0),n([s({type:cc.AudioClip,tooltip:"22802003"})],e.prototype,"a22802003",void 0),n([s({type:cc.AudioClip,tooltip:"22807029"})],e.prototype,"a22807029",void 0),n([s({type:cc.AudioClip,tooltip:"22807027"})],e.prototype,"a22807027",void 0),n([s({type:cc.AudioClip,tooltip:"228088"})],e.prototype,"a228088",void 0),n([s({type:cc.AudioClip,tooltip:"228118"})],e.prototype,"a228118",void 0),n([s({type:cc.AudioClip,tooltip:"228117"})],e.prototype,"a228117",void 0),n([s({type:cc.AudioClip,tooltip:"228036"})],e.prototype,"a228036",void 0),n([s({type:cc.AudioClip,tooltip:"228037"})],e.prototype,"a228037",void 0),n([s({type:cc.AudioClip,tooltip:"228108"})],e.prototype,"a228108",void 0),n([s({type:cc.AudioClip,tooltip:"228087"})],e.prototype,"a228087",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_SeasurfacefishingRubbish:[function(t,e,o){"use strict";cc._RF.push(e,"3bb5aLx0wRFZZljTrUSLL9t","G35_SeasurfacefishingRubbish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfacefishingRes"),r=t("./G35_Seasurfacefishing"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../../lib/core/util/MathUtil"),l=t("../../../../lib/core/util/ArrayUtil"),u=t("../../../GameUtils/G35_Utils"),d=t("./G35_SeasurfacefishingMachine"),p=t("./G35_SeasurfacefishingBoat"),h=t("../../../../lib/business/Manager/AudioManager"),f=cc._decorator,g=f.ccclass,_=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._pos=null,e.id=null,e._size=null,e._canTouch=!1,e}return i(e,t),e.prototype.init=function(t){this._pos=t.pos,this.id=t.id,this._size=t.size},e.prototype.enter=function(){var t=this,e=c.default.random(35,45)/10;cc.tween(this.node).then(cc.moveBy(e,cc.v2(-cc.winSize.width/2,0)).easing(cc.easeOut(e))).call(function(){t._canTouch=!0}).start()},e.prototype.beCaught=function(){l.default.removeObj(this.mainScript._rubbish,this.node),this.node.stopAllActions(),u.G35_utils.resetParent(this.node,this.mainScript._machine.getComponent(d.default)._hand),this.node.position=this.mainScript._machine.getComponent(d.default)._hand._point1.position;var t=[-20,-25,0,0,0,0,0][this.id-1];u.G35_utils.creatParticle(this.res.jiazhonglaji,this.mainScript.parentNode,u.G35_utils.getVec2Pos(this.node),99);cc.tween(this.node).to(.1,{scale:1.1}).to(.1,{scale:1.2}).parallel(cc.tween().by(1,{angle:t}),cc.tween().to(.1,{scale:1})).start()},e.prototype.fly2Boat=function(){var t=this;h.audioManager.playEffect(this.res.a22807024),this.node.stopAllActions(),u.G35_utils.resetParent(this.node,this.mainScript._machine),this.mainScript._rubbishNum+=1,console.log("black,\u5f53\u524d\u70b9\u51fb\u53c2\u6570\u662f:",this.mainScript._rubbishNum),this.mainScript._rubbishNum>=7&&(this.mainScript._boat.getComponent(p.default).stopGuide(),this.mainScript._canTouch=!1,this.mainScript._canCatch=!1),cc.tween(this.node).parallel(cc.tween().then(cc.jumpTo(.4,cc.v2(-150-this.node.parent.width/2,16-this.node.parent.height/2),50,1)),cc.tween().to(.4,{scale:.6})).call(function(){7==t.mainScript._rubbishNum?(h.audioManager.playEffect(t.res.a22802003),u.G35_utils.creatParticle(t.res.laolajiwc,t.mainScript.parentNode,cc.v2(685+t.offset.x,154+t.offset.y),300),t.mainScript.parentNode.stopAllActions(),t.mainScript._machine.getComponent(d.default).quit()):t.mainScript._canCatch=!0}).removeSelf().start()},e.prototype.touchStart=function(t){this._canTouch&&this.mainScript._canCatch&&(this.touchThrigger||(this.touchThrigger=!0,this.node.scale=this._size+.2,this.mainScript._boat.getComponent(p.default).stopGuide(),this.mainScript._machine.getComponent(d.default).catch(u.G35_utils.getVec2Pos(this.node),this.node)))},e.prototype.touchEnd=function(t){this._canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this._canTouch=!1,this.node.scale=this._size,this.mainScript._boat.getComponent(p.default).openGuide())},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e=n([g],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seasurfacefishing":"G35_Seasurfacefishing","./G35_SeasurfacefishingBoat":"G35_SeasurfacefishingBoat","./G35_SeasurfacefishingMachine":"G35_SeasurfacefishingMachine","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes"}],G35_SeasurfacefishingSeagull:[function(t,e,o){"use strict";cc._RF.push(e,"20100Mi4SFKpYEmtM7GUe+b","G35_SeasurfacefishingSeagull");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfacefishingRes"),r=t("./G35_Seasurfacefishing"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfacefishingBoat"),u=t("../../../../lib/core/util/ArrayUtil"),d=t("../../../../lib/core/util/MathUtil"),p=t("../../../../lib/business/Manager/AudioManager"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._index=null,e.canTouch=!1,e._posId=null,e._quit=!1,e.Dragon=null,e._attack=null,e}return i(e,t),e.prototype.enter=function(t){var e=this;void 0===t&&(t=null);var o=[cc.v2(438.6+this.offset.x,315+this.offset.y),cc.v2(408+this.offset.x,280+this.offset.y),cc.v2(430+this.offset.x,235+this.offset.y),cc.v2(575+this.offset.x,235+this.offset.y),cc.v2(576+this.offset.x,275+this.offset.y),cc.v2(540+this.offset.x,315+this.offset.y)],i=3*this._index;this._posId=c.G35_utils.numberExcept(i-2,i,this.mainScript._exceptTab),this.mainScript._exceptTab.push(this._posId);var n=c.G35_utils.getVec2Pos(this.node).sub(o[this._posId-1]).mag();cc.tween(this.node).then(cc.moveTo(n/250,c.G35_utils.convertToSpacePos(o[this._posId-1],this.node.parent)).easing(cc.easeOut(1))).call(function(){e.attack(),e.mainScript.loadHandTouchGuide(e.node),t&&(e.canTouch=!0)}).start()},e.prototype.quit=function(){if(!this._quit){this._quit=!0,this.mainScript._boat.getComponent(l.default)._posId==this._posId&&(this.mainScript._boat.getComponent(l.default)._posId=null),this.node.stopAllActions(),this.mainScript._seagullNum<9&&u.default.removeObj(this.mainScript._seagull,this.node),u.default.removeObj(this.mainScript._exceptTab,this._posId),this.mainScript.isOver();var t=[-100,cc.winSize.width+100],e=(d.default.random(1,2),t[this._index-1]),o=c.G35_utils.getVec2Pos(this.node).y+100,i=c.G35_utils.getVec2Pos(this.node).sub(cc.v2(e,o)).mag();1==this._index?this.node.scaleX=-Math.abs(this.node.scaleX):this.node.scaleX=Math.abs(this.node.scaleX),this.mainScript._seagullAttack<1&&!this.mainScript._seagullOver&&(this.mainScript._boat.getComponent(l.default)._qiqi.stopAllActions(),this.mainScript._boat.getComponent(l.default)._posId=null,this.mainScript._boat.getComponent(l.default).qiqi_breath2()),this.mainScript.appearSeagull(),p.audioManager.playEffect(this.res.a22807029);var n=this.node.scaleX,a=this.node.scaleY;cc.tween(this.node).to(.05,{scale:.9}).to(.1,{scaleX:1.3*n,scaleY:1.3*a}).to(.05,{scaleX:n,scaleY:a}).then(cc.moveTo(i/500,c.G35_utils.convertToSpacePos(cc.v2(e,o),this.node.parent)).easing(cc.easeIn(1))).removeSelf().start()}},e.prototype.touchStart=function(t){if(this.canTouch&&!this.mainScript._seagullOver){var e=cc.instantiate(this.res.dianniao);e.parent=this.node,e.scale=1/this.node.scale;var o=cc.instantiate(this.res.yumao);o.parent=this.node,o.scale=1/this.node.scale,this.canTouch=!1,this.escape(),this.mainScript.stopHandGuide()}},e.prototype.fly=function(){this.Dragon.playAnimation("ho_fei",-1)},e.prototype.escape=function(){this.Dragon.playAnimation("ho_tp",-1),this._attack&&(this.mainScript._seagullAttack-=1),this.quit()},e.prototype.attack=function(){var t=this;this.mainScript._boat.getComponent(l.default).qiqi_attack(this._posId),this._attack||(this._attack=!0,this.mainScript._seagullAttack+=1),p.audioManager.playEffect(this.res.a22807027),this.Dragon.playAnimation("ho_zqq",-1),cc.tween(this.node).delay(.38).call(function(){t.Dragon.playAnimation("ho_zqq",-1)}).delay(.38).call(function(){t.stayInSky()}).start()},e.prototype.stayInSky=function(){var t=this,e=1;2==this._index&&(e=-1),this.Dragon.playAnimation("ho_fei",-1),cc.tween(this.node).by(.5,{position:cc.v2(10*-e,10)}).by(.5,{position:cc.v2(10*e,-10)}).delay(.5).call(function(){t.attack()}).start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.Dragon=this.node.getComponent(dragonBones.ArmatureDisplay)},e=n([f],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seasurfacefishing":"G35_Seasurfacefishing","./G35_SeasurfacefishingBoat":"G35_SeasurfacefishingBoat","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes"}],G35_Seasurfacefishing:[function(t,e,o){"use strict";cc._RF.push(e,"81739nRoS1M0q9L0b2ejhhT","G35_Seasurfacefishing");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfacefishingRes"),r=t("../../../GameUtils/G35_GlobalView"),s=t("../../../../lib/business/base/BBScene"),c=t("../../../GameUtils/G35_GlobalParams"),l=t("../../../GameUtils/G35_Utils"),u=t("../../../GameUtils/Tools/G35_CommonAct"),d=t("./G35_SeasurfacefishingBoat"),p=t("../../Common/G35_Cloud"),h=t("../../Common/G35_Light"),f=t("./G35_SeasurfacefishingFish"),g=t("./G35_SeasurfacefishingMachine"),_=t("../../../../lib/core/util/MathUtil"),y=t("./G35_SeasurfacefishingRubbish"),m=t("./G35_SeasurfacefishingSeagull"),v=t("../../../../lib/business/Manager/AudioManager"),b=cc._decorator,S=b.ccclass,w=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._state=1,e._rubbish=[],e._rubbishNum=0,e._seagullNum=0,e._seagullAttack=0,e._seagullLevel=[[3,7,10],[1,2,3]],e._exceptTab=[],e._seagull=[],e._currentLevel=1,e._canCatch=!0,e._boatPos=[],e._boat=null,e.parentNode=null,e._boatPoint=null,e._fish=null,e._netPoint=null,e._net=null,e._bottom=null,e._progress=null,e._dot=null,e._seaRect=null,e._rect=null,e._machine=null,e._machineMask=null,e._drawNode=null,e._hand=null,e._currentNum=0,e._fishType=0,e._endRate=0,e._progressTo=0,e._canTouch=null,e._catchRubbish=null,e._seagullOver=null,e._castNet=null,e._casting=null,e._firstSeagullEnter=null,e._isMoving=null,e.touchThrigger=null,e._fishPos=null,e._prev=null,e._fishInitP=null,e._color=null,e._drawUpdate=null,e}return i(e,t),e.prototype.loadBg=function(){this._currentNum=c.G35_GlobalParams.gameVar._currentNum;var t=this.parentNode.getChildByName("bg");t.zIndex=2,t.position=l.G35_utils.convertToSpacePos(cc.v2(620+this.offset.x,-172),this.node),this.loadWaterSurface()},e.prototype.loadWaterSurface=function(){var t=this,e=this.parentNode.getChildByName("mask2");e.zIndex=200,e.scaleX=1.25,e.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,-27+this.offset.y),this.node);var o=this.parentNode.getChildByName("surface2");o.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,65+this.offset.y),this.node),o.zIndex=200,u.G35_commonAct.waterAction(o);var i=this.parentNode.getChildByName("surface1");i.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,140+this.offset.y-20),this.node),i.scaleX=1.25,i.zIndex=5,i.color=cc.color(54,241,235),l.G35_utils.setImg(i);cc.tween(i).repeatForever(cc.tween().call(function(){u.G35_commonAct.filenames(i,t.res.surfaceAlt.getSpriteFrames(),.2)}).delay(.2*7)).start(),this.scheduleOnce(function(){var e=t.parentNode.getChildByName("surface1_1");e.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,100+t.offset.y),t.node),e.zIndex=30,e.color=cc.color(54,241,235)},.5)},e.prototype.loadBoat=function(){var t=-250;this._boatPos[this._currentNum-1].x>cc.winSize.width/2&&(t=cc.winSize.width+200),this._boat=this.parentNode.getChildByName("boat"),this._boat.zIndex=50,this._boat.anchorY=0,this._boat.position=l.G35_utils.convertToSpacePos(cc.v2(t,this._boatPos[this._currentNum-1].y),this.parentNode),this._boat.scale=.7,this._boatPoint=cc.instantiate(this.res.newNode),this._boatPoint.parent=this._boat,this._boatPoint.position=cc.v2(77,220),this._boatPoint.x-=this._boat.width/2,this._boat.addComponent(d.default),2==this._currentNum&&(this._boat.scaleX=-.7,this._boat.getComponent(d.default)._qiqi.x=-140)},e.prototype.loadCloud=function(){for(var t=[cc.v2(816+this.offset.x,430+this.offset.y),cc.v2(165.4+this.offset.x,310+this.offset.y)],e=[30,40,50],o=[-1,-1,1],i=0;i<2;i++){var n=i+2,a=cc.instantiate(this.res.cloud);a.parent=this.parentNode,a.zIndex=2,a.position=l.G35_utils.convertToSpacePos(t[i],this.parentNode),a.getComponent(p.default).init({id:n,pos:t[i],dir:o[i],speed:e[i]})}},e.prototype.loadLight=function(){var t=cc.instantiate(this.res.light);t.parent=this.parentNode,t.zIndex=189,t.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,-120+this.offset.y),this.parentNode),t.getComponent(h.default).loadDisplay(),t.anchorY=1},e.prototype.loadFish=function(){this._fishType=c.G35_GlobalParams.gameVar._fishType;var t=[200,500,200],e=[400,850,400],o=-150;this._boatPos[this._currentNum-1].x>cc.winSize.width/2&&(o=cc.winSize.width+150);var i=cc.instantiate(this.res.newNode);i.parent=this.parentNode,i.zIndex=50,i.scale=.9,i.position=l.G35_utils.convertToSpacePos(cc.v2(o,-10+this.offset.y),this.parentNode);var n=l.G35_utils.convertToSpacePos(cc.v2(t[this._currentNum-1]+this.offset.x,-70),i.parent),a=l.G35_utils.convertToSpacePos(cc.v2(e[this._currentNum-1]+this.offset.x,-70),i.parent);i.addComponent(f.default).init({minp:n,maxP:a,totalNum:8,name:["jzy","qly","qy","sdy","ywc"][this._fishType-1],fType:this._fishType,size:.9}),this._fish=i;var r=(t[this._currentNum-1]+e[this._currentNum-1])/2+this.offset.x,s=.004*Math.abs(r-l.G35_utils.getVec2Pos(i).x);i.getComponent(f.default).move(cc.v2(r,-70),s),this._currentNum>1&&this.scheduleOnce(function(){i.getComponent(f.default).randomMove()},s)},e.prototype.loadNet=function(){var t=l.G35_utils.creatNode(this.res.newNode,this.res.comAlt.getSpriteFrame("net1"),this.parentNode,cc.v2(680+this.offset.x,240+this.offset.y),0,100);t.scale=0,l.G35_utils.setImg(t);var e=cc.instantiate(this.res.newNode);e.parent=t,this._net=t,this._netPoint=e},e.prototype.loadProgressBar=function(){2!=this._currentNum&&v.audioManager.playMusic(this.res.a228BGM08);var t=this.parentNode.getChildByName("bar1");t.zIndex=500,t.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,60+this.offset.y/2),this.parentNode);var e=t.getChildByName("bar2"),o=t.getChildByName("bar3");this._bottom=t,this._progress=e,this._dot=o,this._endRate=t.width-52,this._canTouch=!0,this._bottom.active=!0,this.loadHandGuide()},e.prototype.loadTouchRect=function(){this._rect=new cc.Node("rec"),this._rect.parent=this.parentNode,this._rect.zIndex=200,this._rect.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),this.parentNode),this._rect.setContentSize(cc.winSize.width,cc.winSize.height),this.nodeTouch(this._rect)},e.prototype.loadTouchSeaRect=function(){this._seaRect=new cc.Node("seaRect"),this._seaRect.parent=this.parentNode,this._seaRect.zIndex=20,this._seaRect.setContentSize(600+this.offset.x,130),this._seaRect.position=l.G35_utils.convertToSpacePos(cc.v2(685+this.offset.x,154+this.offset.y),this.parentNode),this.seaTouch(this._seaRect)},e.prototype.loadMachine=function(){var t=this._boatPos[this._currentNum-1],e=l.G35_utils.creatNode(this.res.newNode,this.res.machineAlt.getSpriteFrame("body"),this.parentNode,cc.v2(t.x+44,t.y-121),0,45);e.anchorY=0,e.addComponent(g.default),e.getComponent(g.default).enter(),this._machine=e,this.floatAction(e),this.loadMachineMask()},e.prototype.loadMachineMask=function(){var t=this._boatPos[this._currentNum-1],e=cc.instantiate(this.res.newNode);e.parent=this.parentNode,e.zIndex=48,e.position=l.G35_utils.convertToSpacePos(cc.v2(t.x+64,0+this.offset.y),this.parentNode),e.setContentSize(200,250),e.color=cc.color(121,255,236),this._machineMask=e},e.prototype.appearRubbish=function(){var t=this;this._catchRubbish=!0;var e=[],o=[cc.v2(.5,.5),cc.v2(.6,.6),cc.v2(.7,.5),cc.v2(.37,.65),cc.v2(.68,.5),cc.v2(.5,.5),cc.v2(.5,.6)];v.audioManager.playEffect(this.res.a22807020);for(var i=function(i){var a=_.default.random(27,28)+i,r=i%3+1,s=_.default.random(510+150*(r-1)+n.offset.x,540+100*r+n.offset.x),c=180+n.offset.y;a>30&&(c=145+n.offset.y);var u=l.G35_utils.numberExcept(1,7,e);e.push(u);var d=l.G35_utils.creatNode(n.res.newNode,n.res.rubbishAlt.getSpriteFrame(""+u),n.parentNode,cc.v2(s+cc.winSize.width/2,c),0,a);d.scale=1.2,d.setAnchorPoint(o[u-1]),d.addComponent(y.default).init({pos:cc.v2(s,c),id:u,size:1.2}),n._rubbish.push(d),d.getComponent(y.default).enter(),n.scheduleOnce(function(){t.floatAction(d)},.1*i)},n=this,a=0;a<=6;a++)i(a);this.openSeaTouch()},e.prototype.appearSeagull=function(){if(!this._seagullOver){var t=this._seagullLevel[1][this._currentLevel-1]-this._seagull.length;v.audioManager.playEffect(this.res.a22807026);for(var e=function(t){var e=[-100,cc.winSize.width+100],i=_.default.random(1,2),n=e[i-1],a=_.default.random(300+o.offset.y,cc.winSize.height-100+o.offset.y),r=cc.instantiate(o.res.Seagull);r.parent=o.parentNode,r.zIndex=250,r.position=l.G35_utils.convertToSpacePos(cc.v2(n,a),o.parentNode),r.setContentSize(100,100),r.addComponent(m.default)._index=i,o._seagull.push(r),0==o._seagullNum?o.firstEnterSeagull(r):o.scheduleOnce(function(){r.getComponent(m.default).enter(),r.getComponent(m.default).canTouch=!0},.1*t),2==r.getComponent(m.default)._index&&(r.scaleX*=-1)},o=this,i=0;i<t;i++)e(i)}},e.prototype.reayCastNet=function(){this._castNet=!0,this._fishPos=cc.v2(300+this.offset.x,35+this.offset.y/2),cc.tween(this.parentNode).delay(.5).then(cc.moveBy(.8,cc.v2(0,145)).easing(cc.easeSineOut())).start(),v.audioManager.playEffect(this.res.a22807012),this._fish.getComponent(f.default).move(this._fishPos,.9),this._boat.getComponent(d.default).qiqi_castNet()},e.prototype.castNet=function(){var t=this;this._casting=!0,this.drawLine(),cc.tween(this._net).parallel(cc.tween().then(cc.jumpTo(.8,l.G35_utils.convertToSpacePos(this._fishPos,this.parentNode),200,1)),cc.tween().then(cc.scaleTo(.8,1).easing(cc.easeOut(2)))).to(.1,{scale:1.1}).call(function(){v.audioManager.playLine(t.res.a228087),t._boat.getComponent(d.default).qiqi_pullout(),l.G35_utils.resetParent(t._net,t._fish),t._net.getComponent(cc.Sprite).spriteFrame=t.res.comAlt.getSpriteFrame("net2"),t._net.anchorY=1,t._net.y=t._net.y+t._net.height/2,t._net.x+=50,t._net.y+=0,t._casting=!1,t._fish.getComponent(f.default).enterNet(),t._netPoint.x+=t._net.width/2-10,t._netPoint.y-=40,t._boatPoint.position=cc.v2(7-t._boat.width/2,216.5),cc.tween(t._net).to(.2,{scale:1,angle:10}).call(function(){}).start(),cc.tween(t._fish).to(.2,{scale:.8}).call(function(){t.fishPullBoat()}).start()}).start(),this.scheduleOnce(function(){l.G35_utils.creatParticle(t.res.sawangshuihua,t.parentNode,cc.v2(390+t.offset.x,150+t.offset.y),110)},.6)},e.prototype.fishPullBoat=function(){var t=this,e=cc.v2(-100,0);this._fish.getComponent(f.default).fish_hardswim(),cc.tween(this._fish).then(cc.moveBy(.6,e).easing(cc.easeOut(3))).call(function(){t.loadProgressBar(),t.loadTouchRect(),t.floatAction(t._fish)}).start(),cc.tween(this._boat).parallel(cc.tween().then(cc.moveBy(.6,e).easing(cc.easeBackOut())),cc.tween().call(function(){t._boat.getComponent(d.default)._waterParticle=cc.instantiate(t.res.chuanshuihua),t._boat.getComponent(d.default)._waterParticle.parent=t._boat,t._boat.getComponent(d.default)._waterParticle.y=-t._boat.height/2+80,t._boat.getComponent(d.default)._waterParticle.scale=1.4,cc.tween(t._boat).to(.5,{angle:5}).to(.1,{angle:-2}).start()})).to(.1,{angle:0}).start()},e.prototype.floatAction=function(t){cc.tween(t).repeatForever(cc.tween().delay(.3).by(.7,{y:5}).delay(.3).by(.7,{y:-5})).start()},e.prototype.rubbishCollection=function(t){var e=this;this.closeDrawUpdate(),this._catchRubbish=!1,this._boat.getComponent(d.default).turnAround(t),cc.tween(this.node).delay(1).call(function(){e._machineMask&&(e._machineMask.destroy(),e._machineMask=null)}).start(),this._seaRect&&(this._seaRect.destroy(),this._seaRect=null)},e.prototype.resetFish=function(){var t=this;this._fish.getComponent(f.default)._minP.x=200+this.offset.x,this._fish.getComponent(f.default)._maxP.x=200+this.offset.x;var e=.004*Math.abs(this._fish.convertToWorldSpaceAR(cc.v2(0,0)).x-this._fish.getComponent(f.default)._maxP.x);this._fish.getComponent(f.default).move(cc.v2(this._fish.getComponent(f.default)._maxP.x,this.offset.y),e),this._boat.getComponent(d.default).stopGuide(),cc.tween(this.node).delay(e).call(function(){t._fish.getComponent(f.default)._cnt=1,t._fish.getComponent(f.default).randomMove(),t.reayCastNet()}).start()},e.prototype.isOver=function(){var t=this;if(!this._seagullOver){if(this._seagullNum+=1,10==this._seagullNum){this._seagullOver=!0,this._boat.getComponent(d.default).qiqi_breath(),v.audioManager.playLine(this.res.a228108);var e=v.audioManager.getDurationByMap("228108");cc.tween(this.parentNode).delay(e).then(cc.scaleTo(1,1).easing(cc.easeSineOut())).call(function(){cc.tween(t._boat).then(cc.moveTo(.8,l.G35_utils.convertToSpacePos(t._boatPos[0],t._boat.parent))).start(),t.stopHandGuide(),t.reayCastNet()}).start(),this._seagull.forEach(function(t){t.getComponent(m.default).quit()})}this._seagullNum>=this._seagullLevel[0][this._currentLevel-1]&&(this._currentLevel+=1)}},e.prototype.firstEnterSeagull=function(t){var e=this;if(!this._firstSeagullEnter){this._firstSeagullEnter=!0;var o=t.convertToWorldSpaceAR(cc.v2(0,0)),i=t.getComponent(m.default);i._index=1,t.x=-cc.winSize.width/2-100,t.y+=50,v.audioManager.playLine(this.res.a228037),this._boat.getComponent(d.default).qiqi_findSeagull(),t.zIndex=40,cc.tween(t).then(cc.moveTo(2.5,l.G35_utils.convertToSpacePos(cc.v2(900+this.offset.x,275+this.offset.y),this.parentNode)).easing(cc.easeOut(1))).call(function(){t.zIndex=250,t.scaleX*=-1}).then(cc.moveTo(1.3,l.G35_utils.convertToSpacePos(cc.v2(330+this.offset.x,297+this.offset.y),this.parentNode)).easing(cc.easeIn(1))).call(function(){t.scaleX*=-1,i.enter(!0),e.screenBig(),e._boat.getComponent(d.default).qiqi_breath(),v.audioManager.playMusic(e.res.a228BGM08)}).start();for(var n=0;n<2;n++){var a=cc.instantiate(this.res.Seagull);a.parent=this.parentNode,a.zIndex=250,a.position=l.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+_.default.random(100,200),_.default.random(300+this.offset.y,350+this.offset.y)),this.parentNode),a.scaleX*=-1,cc.tween(a).delay(.2*(n+1)+.5).to(3,{position:l.G35_utils.convertToSpacePos(cc.v2(-100,o.y+_.default.random(-50,150)),this.parentNode)}).removeSelf().start()}}},e.prototype.screenBig=function(){cc.tween(this.parentNode).to(.5,{scale:1.5}).start()},e.prototype.openSeaTouch=function(){var t=this;cc.tween(this.node).delay(1).call(function(){v.audioManager.playLine(t.res.a228036),t._boat.getComponent(d.default).qiqi_findRubbish()}).delay(3.5).call(function(){t._boat.getComponent(d.default).openGuide(),t.loadTouchSeaRect()}).start()},e.prototype.nextScene=function(){console.log("\u8df3\u8f6c\u573a\u666f"),cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seasurfaceseek")},e.prototype.drawLine=function(){if(!this._drawNode){var t=new cc.Node;t.addComponent(cc.Graphics),t.parent=this.parentNode,t.zIndex=40,this._drawNode=t;var e=t.getComponent(cc.Graphics);e.lineWidth=2.5;var o=this.getBezierPointInfo(),i=o.startP,n=o.control,a=o.endP;this._color=cc.color(255,255,255,255),this._catchRubbish&&(this._color=cc.color(217,118,60,255)),i=l.G35_utils.convertToSpacePos(i,t),a=l.G35_utils.convertToSpacePos(a,t),n=l.G35_utils.convertToSpacePos(n,t),e.strokeColor=cc.color(255,255,255,255),e.moveTo(i.x,i.y),e.quadraticCurveTo(n.x,n.y,a.x,a.y),e.stroke(),this.openDrawUpdate()}},e.prototype.updatePoints=function(){if(this._drawNode){var t=this._drawNode.getComponent(cc.Graphics);t.clear(),t.lineWidth=2.5;var e=this.getBezierPointInfo(),o=e.startP,i=e.control,n=e.endP;o=l.G35_utils.convertToSpacePos(o,this._drawNode),n=l.G35_utils.convertToSpacePos(n,this._drawNode),i=l.G35_utils.convertToSpacePos(i,this._drawNode),t.strokeColor=this._color,t.moveTo(o.x,o.y),t.quadraticCurveTo(i.x,i.y,n.x,n.y),t.stroke()}},e.prototype.openDrawUpdate=function(){var t=this;this._drawUpdate||(this._drawUpdate=cc.tween(this.node).repeatForever(cc.tween().delay(.02).call(function(){t.updatePoints()})).start())},e.prototype.closeDrawUpdate=function(){this._drawUpdate&&(this._drawUpdate.stop(),this._drawUpdate=null)},e.prototype.clearLine=function(){this._drawNode&&(this._drawNode.destroy(),this._drawNode=null)},e.prototype.getBezierPointInfo=function(){var t,e,o;return this._castNet?(t=this._boatPoint.convertToWorldSpaceAR(cc.v2(0,0)),o=this._netPoint.convertToWorldSpaceAR(cc.v2(0,0))):this._catchRubbish&&(t=this._machine.getComponent(g.default)._hand.convertToWorldSpaceAR(cc.v2(0,-10)),o=this._machine.getComponent(g.default)._part.convertToWorldSpaceAR(cc.v2(0,0))),this._casting?((e=t.add(o)).x*=.5,e.y=320):e=t,{startP:t,control:e,endP:o}},e.prototype.nodeTouch=function(t){this._progressTo=0,t.on(cc.Node.EventType.TOUCH_START,this.fishTouchStart,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.fishTouchMove,this),t.on(cc.Node.EventType.TOUCH_END,this.fishTouchEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.fishTouchEnd,this)},e.prototype.fishTouchStart=function(t){this._canTouch&&(this.touchThrigger||(this.touchThrigger=!0,this._dot.scale=1.1,this._prev=t.getLocation(),this.stopHandGuide(),this._isMoving=!1,this.logicPower()))},e.prototype.fishTouchMove=function(t){if(this._canTouch&&this.touchThrigger){var e=t.getLocation();this._prev||(this._prev=e),e.x-this._prev.x>10&&(this.pullouting(e),this._isMoving=!0)}},e.prototype.fishTouchEnd=function(t){this._canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this._canTouch=!1,this._dot.scale=1,this._isMoving?this.elasticBack():this.autoPullingout())},e.prototype.seaTouch=function(t){t.on(cc.Node.EventType.TOUCH_START,this.seaTouchStart,this),t.on(cc.Node.EventType.TOUCH_END,this.seaTouchEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.seaTouchEnd,this)},e.prototype.seaTouchStart=function(t){this._canCatch&&(this.touchThrigger||(this.touchThrigger=!0,this._machine.getComponent(g.default).catch(t.getLocation()),this._boat.getComponent(d.default).stopGuide()))},e.prototype.seaTouchEnd=function(t){this._canCatch&&this.touchThrigger&&(this.touchThrigger=!1,this._boat.getComponent(d.default).openGuide())},e.prototype.loadHandGuide=function(){var t=this;if(!this._hand){var e=this._dot.x+30,o=l.G35_utils.creatNode(this.res.newNode,this.res.handAlt.getSpriteFrame("hand_1"),this._bottom,cc.v2(e,15),1,1);l.G35_utils.setImg(o),o.opacity=0,o.angle=60,o.scaleX=-1,cc.tween(o).repeatForever(cc.tween().delay(2).to(.3,{opacity:255}).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(t.res.handAlt,"hand_",1,3),.05)}).delay(.05*3).by(.6,{x:150}).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(t.res.handAlt,"hand_",1,3).reverse(),.1)}).delay(.3).to(.5,{opacity:0}).delay(.5).to(.01,{position:cc.v2(e,15)})).start(),this._hand=o}},e.prototype.loadHandTouchGuide=function(t){var e=this;if(void 0===t&&(t=null),t&&!this._hand){var o=l.G35_utils.creatNode(this.res.newNode,this.res.handAlt.getSpriteFrame("hand_1"),this.parentNode,cc.v2(0,0),1,260);l.G35_utils.setImg(o),o.opacity=0,o.scale=1/this.parentNode.scale,cc.tween(o).repeatForever(cc.tween().delay(2).call(function(){o.position=cc.v2(t.x-[25,55][t.getComponent(m.default)._index-1]/e.parentNode.scale,t.y-45/e.parentNode.scale)}).to(.3,{opacity:255}).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(e.res.handAlt,"hand_",1,3),.05)}).delay(.05*3).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(e.res.handAlt,"hand_",1,3).reverse(),.1)}).delay(.3).delay(.3).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(e.res.handAlt,"hand_",1,3),.05)}).delay(.05*3).call(function(){u.G35_commonAct.filenames(o,u.G35_commonAct.getSpriteFrameArrForName(e.res.handAlt,"hand_",1,3).reverse(),.1)}).delay(.3).to(.5,{opacity:0}).delay(.3)).start(),this._hand=o}},e.prototype.stopHandGuide=function(){this._hand&&(this._hand.destroy(),this._hand=null)},e.prototype.logicPower=function(){this._progressTo<this._endRate/3?this._state=1:this._progressTo>=this._endRate/3&&this._progressTo<this._endRate/3*2?this._state=2:this._state=3,this._boat.getComponent(d.default).qiqi_pullout(),this._fish.getComponent(f.default).pullout()},e.prototype.pullouting=function(t){var e=t.x-this._prev.x;e>0&&(this._progressTo+=e/3,this._progressTo>=this._endRate?this._progressTo=this._endRate:this._progressTo<=0&&(this._progressTo=0),this.fishZoomIn(),this._progress.getComponent(cc.Sprite).fillRange=this._progressTo/511,this._dot.x=-this._bottom.width/2+this._progressTo),this._prev=t},e.prototype.elasticBack=function(){this._progressTo>=this._endRate?(this.removeProgress(),this._progressTo=null,this._fish.getComponent(f.default).netpullOver()):(v.audioManager.playEffect(this.res.a22807030),this._progressTo-=10,this._progressTo<=0&&(this._progressTo=0),this._progress.getComponent(cc.Sprite).fillRange=this._progressTo/511,this._dot.x=-this._bottom.width/2+this._progressTo,this.loadHandGuide(),this._boat.getComponent(d.default).qiqi_pullback(),this._fish.getComponent(f.default).pullback())},e.prototype.autoPullingout=function(){var t=this;cc.tween(this.parentNode).repeat(15,cc.tween().call(function(){t._progressTo+=5,t._progressTo>t._endRate?t._progressTo=t._endRate:t._progressTo<=0&&(t._progressTo=0),t.fishZoomIn(),t._progress.getComponent(cc.Sprite).fillRange=t._progressTo/511,t._dot.x=-t._bottom.width/2+t._progressTo}).delay(1/60)).start(),this.scheduleOnce(function(){t.elasticBack()},.5)},e.prototype.fishZoomIn=function(){this._fishInitP||(this._fishInitP=l.G35_utils.getVec2Pos(this._fish));var t=this._fishInitP.x+this._progressTo/this._endRate*150,e=this._fishInitP.y+this._progressTo/this._endRate*(30+this.offset.x/2);this._fish.position=l.G35_utils.convertToSpacePos(cc.v2(t,e),this._fish.parent)},e.prototype.removeProgress=function(){v.audioManager.playMusic(this.res.a228BGM01),this._bottom&&(this._bottom.destroy(),this._bottom=null),this._rect&&(this._rect.destroy(),this._rect=null)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._boatPos=[cc.v2(800+e.x,65+e.y),cc.v2(190+e.x,65+e.y),cc.v2(620+e.x,65+e.y)],this.parentNode=this.node.getChildByName("parentNode"),this.loadLight(),this.loadBg(),this.loadBoat(),this.loadCloud(),this.loadFish(),this.loadNet()},e.prototype.start=function(){this._boat.getComponent(d.default).enter(),v.audioManager.playEffectLoop(this.res.a22807001)},e=n([S],e)}(s.default));o.default=w,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Cloud":"G35_Cloud","../../Common/G35_Light":"G35_Light","./G35_SeasurfacefishingBoat":"G35_SeasurfacefishingBoat","./G35_SeasurfacefishingFish":"G35_SeasurfacefishingFish","./G35_SeasurfacefishingMachine":"G35_SeasurfacefishingMachine","./G35_SeasurfacefishingRes":"G35_SeasurfacefishingRes","./G35_SeasurfacefishingRubbish":"G35_SeasurfacefishingRubbish","./G35_SeasurfacefishingSeagull":"G35_SeasurfacefishingSeagull"}],G35_SeasurfaceseekBoat:[function(t,e,o){"use strict";cc._RF.push(e,"39d8cO1edBFpbCl2GsR1FoK","G35_SeasurfaceseekBoat");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_Seasurfaceseek"),r=t("./G35_SeasurfaceseekRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../../../lib/business/Manager/AudioManager"),d=cc._decorator,p=d.ccclass,h=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._initP=null,e._size=null,e._canTouch=!0,e._point=[],e._canSound=!0,e._qiqi=null,e._spray=null,e._sound=null,e}return i(e,t),e.prototype.loadQiqi=function(){this._qiqi=cc.instantiate(this.res.qiqi),this._qiqi.parent=this.node,this._qiqi.scale=.4,this._qiqi.position=cc.v2(30,95),c.G35_utils.adjustPos(this._qiqi,this.node.getChildByName("boat"))},e.prototype.loadSpray=function(){var t=this;this._spray||(this._spray=c.G35_utils.creatNode(this.res.newNode,this.res.waterAlt.getSpriteFrame("spray-1"),this.node,cc.v2(120,-1),1,5),c.G35_utils.adjustPos(this._spray,this.node),this._spray.setAnchorPoint(cc.v2(0,0)),c.G35_utils.setImg(this._spray),cc.tween(this._spray).repeatForever(cc.tween().call(function(){l.G35_commonAct.filenames(t._spray,l.G35_commonAct.getSpriteFrameArrForName(t.res.waterAlt,"spray-",1,5))}).delay(.5)).start(),this._sound||(this._sound=u.audioManager.playEffectLoop(this.res.a22807009)))},e.prototype.clearSpray=function(){var t=this;this._spray&&(u.audioManager.stopAudio(this._sound),this._sound=null,cc.tween(this._spray).then(cc.scaleTo(.5,.6,0).easing(cc.easeSineOut())).call(function(){t._spray.stopAllActions(),t._spray.destroy(),t._spray=null}).start())},e.prototype.qiqi_happy=function(){u.audioManager.playEffect(this.res.a22807011),this._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("cmqq_kx",.5)},e.prototype.qiqi_happy2=function(){u.audioManager.playEffect(this.res.a22807036),this._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("cmqq_kx",0),this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature().getSlot("cmqq_xian").displayIndex=-1,this._qiqi.getComponent(dragonBones.ArmatureDisplay).armature().getSlot("cmqq_szh").displayIndex=-1},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(r.default),this.mainScript=cc.find("Canvas").getComponent(a.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas"),this._initP=cc.v2(cc.winSize.width/2,cc.winSize.height/2)},e.prototype.start=function(){this.loadQiqi()},e=n([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","./G35_Seasurfaceseek":"G35_Seasurfaceseek","./G35_SeasurfaceseekRes":"G35_SeasurfaceseekRes"}],G35_SeasurfaceseekFish:[function(t,e,o){"use strict";cc._RF.push(e,"54536um0qdKkLSYqMXZBfZK","G35_SeasurfaceseekFish");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceseekRes"),r=t("./G35_Seasurfaceseek"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../Common/G35_FarFish"),l=t("../../../../lib/core/util/MathUtil"),u=t("../../../GameUtils/G35_Utils"),d=t("../../../GameUtils/Tools/G35_CommonAct"),p=t("./G35_SeasurfaceseekMap"),h=cc._decorator,f=h.ccclass,g=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._isPursue=!1,e}return i(e,t),e.prototype.loadFish=function(){var t=this;this._space=80;for(var e=function(e){var i=l.default.random(-o._space,o._space),n=l.default.random(.9*-o._space,.9*o._space),a=u.G35_utils.creatNode(o.res.newNode,o.res.fishAlt.getSpriteFrame(o._fType+"-1"),o.node,cc.v2(i,n),1);a.color=o._color,cc.tween(a).repeatForever(cc.tween().call(function(){d.G35_commonAct.filenames(a,d.G35_commonAct.getSpriteFrameArrForName(t.res.fishAlt,t._fType+"-",1,5),.15)}).delay(.75).call(function(){d.G35_commonAct.filenames(a,d.G35_commonAct.getSpriteFrameArrForName(t.res.fishAlt,t._fType+"-",1,5).reverse(),.15)}).delay(.75)).start(),o._fish.push(a)},o=this,i=0;i<this._totalNum;i++)e()},e.prototype.found=function(){var t=this;this.node.stopAllActions();var e=this.node.scaleX,o=this.node.scaleY;cc.tween(this.node).to(.2,{scaleX:1.1*e,scaleY:1.1*o}).to(.2,{scaleX:e,scaleY:o}).to(.2,{scaleX:1.1*e,scaleY:1.1*o}).to(.2,{scaleX:e,scaleY:o}).delay(1).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),t.mainScript.nextScene(t._fType)}).start()},e.prototype.bePursued=function(){var t=u.G35_utils.getDistace(this.node,this.mainScript._map.getComponent(p.default)._boat);return t<200?(this.found(),!0):(t<450&&!this._isPursue&&(this._isPursue=!0,this.escape()),!1)},e.prototype.escape=function(){var t=this,e=this.node.position,o=this.mainScript._map.getComponent(p.default)._boat.position,i=e.x>o.x?1:-1,n=this._pos.x+400*i,a=this._pos.y+l.default.random(-30,30),r=cc.v2(n,a),s=.005*e.sub(r).mag();this.fishTurnAround(r);var c=this.node.scaleX,u=this.node.scaleY;cc.tween(this.node).to(.1,{scaleX:1.1*c,scaleY:1.1*u}).to(.1,{scaleX:c,scaleY:u}).then(cc.moveTo(s,r).easing(cc.easeSineOut())).delay(3).call(function(){t._isPursue=!1}).start()},e.prototype.initD=function(){this.node.setContentSize(100,100)},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){},e=n([f],e)}(c.default));o.default=g,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_FarFish":"G35_FarFish","./G35_Seasurfaceseek":"G35_Seasurfaceseek","./G35_SeasurfaceseekMap":"G35_SeasurfaceseekMap","./G35_SeasurfaceseekRes":"G35_SeasurfaceseekRes"}],G35_SeasurfaceseekLabel:[function(t,e,o){"use strict";cc._RF.push(e,"e48e2omaBFCX4CzZLeK4cK5","G35_SeasurfaceseekLabel");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceseekRes"),r=t("./G35_Seasurfaceseek"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("./G35_SeasurfaceseekMap"),u=t("./G35_SeasurfaceseekFish"),d=t("./G35_SeasurfaceseekBoat"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e.id=null,e._index=null,e._fishNode=null,e._canView=!1,e._fish=null,e._disappear=!1,e}return i(e,t),e.prototype.init=function(t){this.id=t.id,this._index=t.index,this._fishNode=t.fishNode,this.loadFish()},e.prototype.loadFish=function(){this._fish=c.G35_utils.creatNode(this.res.newNode,this.res.flagAlt.getSpriteFrame(""+this.mainScript._fishTypes[this._index-1]),this.node,cc.v2(0,0),1)},e.prototype.displayChange=function(){this.node.setAnchorPoint(cc.v2(.5,0)),this.node.getComponent(cc.Sprite).spriteFrame=this.res.labelAlt.getSpriteFrame(""+this.id),this._fish.y=this.node.height/2,this.node.y-=57},e.prototype.fly2Fish=function(){this.displayChange();var t=this.getAngleAndPos().angle,e=this.getAngleAndPos().pos,o=this.getSize();cc.tween(this.node).to(.6,{position:c.G35_utils.convertToSpacePos(e,this.node.parent),scale:o}).start(),cc.tween(this.node).then(cc.rotateTo(.3,t).easing(cc.easeIn(.8))).start(),cc.tween(this._fish).then(cc.rotateTo(.3,-t).easing(cc.easeIn(.8))).start()},e.prototype.getAngleAndPos=function(){for(var t=c.G35_utils.getVec2Pos(this._fishNode),e=0,o=[cc.v2(0,0),cc.v2(0,cc.winSize.height),cc.v2(cc.winSize.width,cc.winSize.height),cc.v2(cc.winSize.width,0)],i=0;i<4;i++){var n,a=o[i],r=o[(i+1)%4],s=this.mainScript._map.getComponent(l.default)._boat.convertToWorldSpaceAR(cc.v2(0,0));if(n=this.segmentsIntr1(s,t,a,r)){this._canView=!1;var d=cc.v2(n.x,n.y);d.x=Math.floor(d.x),d.y=Math.floor(d.y);Math.abs(d.y)<5?d.y=5:Math.abs(d.y-cc.winSize.height)<5?(d.y=cc.winSize.height-5,e=180):Math.abs(d.x)<5?(d.x=5,e=90):Math.abs(d.x-cc.winSize.width)<5&&(d.x=cc.winSize.width-5,e=-90),90==e&&d.y>=cc.winSize.height-100?d.x=198:180==e&&d.x<=100+this.offset.x&&(d.y=cc.winSize.height-105);var p=this.node.height/2*this.node.scale;return d.x<p&&(0==e||180==e)&&(d.x=p),d.x>cc.winSize.width-p&&(0==e||180==e)&&(d.x=cc.winSize.width-p),d.y<p&&(90==e||-90==e)&&(d.y=p),d.y>cc.winSize.height-p&&(90==e||-90==e)&&(d.y=cc.winSize.height-p),{angle:e,pos:d}}}return this._fishNode.getComponent(u.default).bePursued()&&this.disappear(),this._canView=!0,{angle:e,pos:t}},e.prototype.segmentsIntr=function(t,e,o,i){var n=(e.y-t.y)*(i.x-o.x)-(t.x-e.x)*(o.y-i.y);if(0==n)return!1;var a=((e.x-t.x)*(i.x-o.x)*(o.y-t.y)+(e.y-t.y)*(i.x-o.x)*t.x-(i.y-o.y)*(e.x-t.x)*o.x)/n,r=-((e.y-t.y)*(i.y-o.y)*(o.x-t.x)+(e.x-t.x)*(i.y-o.y)*t.y-(i.x-o.x)*(e.y-t.y)*o.y)/n;return(a-t.x)*(a-e.x)<=0&&(r-t.y)*(r-e.y)<=0&&(a-o.x)*(a-i.x)<=0&&(r-o.y)*(r-i.y)<=0&&{x:a,y:r}},e.prototype.segmentsIntr1=function(t,e,o,i){var n=e.y-t.y,a=t.x-e.x,r=i.y-o.y,s=o.x-i.x,c=n*s-a*r;if(0==c)return!1;var l=r*o.x+s*o.y,u=r*t.x+s*t.y-l;if(u*(r*e.x+s*e.y-l)>=0)return!1;var d=n*t.x+a*t.y;if((n*o.x+a*o.y-d)*(n*i.x+a*i.y-d)>=0)return!1;var p=u/c,h=p*a,f=-p*n;return{x:t.x+h,y:t.y+f}},e.prototype.getSize=function(){var t;if(this._canView)t=1;else{var e=Math.floor(c.G35_utils.getDistace(this.mainScript._map.getComponent(l.default)._boat,this._fishNode))/100;e>=16&&(e=16),t=(30-e)/20}return t},e.prototype.disappear=function(){var t=this;this._disappear||(this._disappear=!0,this.mainScript.canTouch=!1,this.mainScript.stopMove(),this.mainScript.stopGuide(),this.mainScript.stopLabelGuide(),this.mainScript.tipBtn.opacity=0,cc.tween(this.node).to(.1,{scale:1.2}).then(cc.scaleTo(.4,0).easing(cc.easeBackIn())).call(function(){t.mainScript._map.getComponent(l.default)._boat.getComponent(d.default).qiqi_happy(),t.mainScript._map.getComponent(l.default)._boat.getComponent(d.default).clearSpray(),t.mainScript._labelMove&&t.mainScript._labelMove.stop()}).start(),this.mainScript.recordData(this._index))},e.prototype.scaleGuide=function(){var t=this.node.scale;cc.tween(this.node).to(.1,{scale:t+.3}).to(.1,{scale:t}).to(.1,{scale:t+.3}).to(.1,{scale:t}).start()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){},e=n([h],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","./G35_Seasurfaceseek":"G35_Seasurfaceseek","./G35_SeasurfaceseekBoat":"G35_SeasurfaceseekBoat","./G35_SeasurfaceseekFish":"G35_SeasurfaceseekFish","./G35_SeasurfaceseekMap":"G35_SeasurfaceseekMap","./G35_SeasurfaceseekRes":"G35_SeasurfaceseekRes"}],G35_SeasurfaceseekMap:[function(t,e,o){"use strict";cc._RF.push(e,"f6aefbuekJM2YHDnYkkXX9m","G35_SeasurfaceseekMap");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./G35_SeasurfaceseekRes"),r=t("./G35_Seasurfaceseek"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../Common/G35_Island"),l=t("../../../GameUtils/G35_Utils"),u=t("./G35_SeasurfaceseekBoat"),d=t("../../../../lib/core/util/StoreUtil"),p=t("./G35_SeasurfaceseekFish"),h=t("../../../../lib/core/util/MathUtil"),f=t("../../../GameUtils/Tools/G35_CommonAct"),g=t("../../../GameUtils/G35_GlobalParams"),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.mainScript=null,e.touchThrigger=!1,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._canvas=null,e._fishNode=[],e._currentNum=0,e._mapSize=cc.size(1024,626),e._maps=[],e._boat=null,e._posType=null,e}return i(e,t),e.prototype.loadMap=function(){for(var t=0;t<=15;t++){var e=t%4,o=Math.floor(t/4),i=this.getIslandData(t+1),n=cc.v2(this._mapSize.width*e,this._mapSize.height*o).add(i.pos),a=cc.instantiate(this.res.island);a.parent=this.node,a.zIndex=100,a.scale=1.2,a.position=n,a.getComponent(c.default).id=i.id,this._maps.push(a)}var r=g.G35_GlobalParams.gameVar._mapP;null==r&&(r=cc.v2(-1250,-620)),this.node.position=r},e.prototype.loadBoat=function(){this._boat=cc.find("Canvas/boat"),this._boat.parent=this.node;var t=l.G35_utils.getVec2Pos(this.node);this._boat.position=cc.v2(-t.x+cc.winSize.width/2,-t.y+cc.winSize.height/2),this._boat.scale=1.1,this._boat.active=!0,this._boat.zIndex=200,this._boat.addComponent(u.default)._size=1.1},e.prototype.loadFish=function(){var t=this;this.mainScript._fishTypes.length<1||(this._posType=JSON.parse(d.default.get("G35_POSTYPE","null")),this.mainScript._fishTypes.forEach(function(e,o){var i=t.getFishPos(t.mainScript._uiTypes[o]),n=cc.instantiate(t.res.newNode);n.getComponent(cc.Sprite).spriteFrame=null,n.parent=t.node,n.zIndex=5,n.scale=1.2,n.position=i,n.addComponent(p.default).init({color:cc.color(0,203,203),totalNum:h.default.random(8,12),fType:e,pos:i}),t._fishNode.push(n)}))},e.prototype.loadWater=function(){for(var t=function(t){var o=t%2,i=Math.floor(t/2),n=l.G35_utils.creatNode(e.res.newNode,e.res.waterAlt.getSpriteFrame("up"),e.node,cc.v2(2048*o,1252*i),1,50);n.setAnchorPoint(cc.v2(0,0)),n.scale=4;var a=l.G35_utils.creatNode(e.res.newNode,e.res.waterAlt.getSpriteFrame("down"),e.node,cc.v2(2048*o,1252*i),1,50);a.setAnchorPoint(cc.v2(0,0)),a.scale=4,l.G35_utils.setImg(n),l.G35_utils.setImg(a),e.scheduleOnce(function(){f.G35_commonAct.waterAction(a,.05)},.5)},e=this,o=0;o<=3;o++)t(o)},e.prototype.addTail=function(){var t=this._boat.x+h.default.random(-40,40),e=this._boat.y+h.default.random(-50,-20),o=l.G35_utils.creatNode(this.res.newNode,this.res.trailImg,this.node,cc.v2(t,e),1,50);cc.tween(o).delay(2).by(.5,{scale:.7}).to(.5,{opacity:0}).removeSelf().start()},e.prototype.getFishPos=function(t){var e=1;return!this.mainScript._fromLocation&&g.G35_GlobalParams.gameVar.FIRST_FOUND_FISHINDEX&&(e=g.G35_GlobalParams.gameVar.FIRST_FOUND_FISHINDEX+1),[[cc.v2(950,1170),cc.v2(2885,567),cc.v2(3300,1400)],[cc.v2(550,1174),cc.v2(1727,869),cc.v2(2685,1355)],[cc.v2(1790,958),cc.v2(3285,567),cc.v2(3300,1400)],[cc.v2(2091,1399),cc.v2(2885,567),cc.v2(3700,1400)]][e-1][t-1]},e.prototype.getMapSize=function(){return cc.size(4*this._mapSize.width,4*this._mapSize.height)},e.prototype.getIslandData=function(t){return[{id:4,pos:cc.v2(300,225)},{id:8,pos:cc.v2(775,460)},{id:1,pos:cc.v2(760,194)},{id:2,pos:cc.v2(745,465)},{id:3,pos:cc.v2(775,168)},{id:2,pos:cc.v2(650,550)},{id:6,pos:cc.v2(500,336)},{id:4,pos:cc.v2(252,455)},{id:1,pos:cc.v2(286,161)},{id:7,pos:cc.v2(254,482)},{id:3,pos:cc.v2(270,470)},{id:5,pos:cc.v2(890,330)},{id:5,pos:cc.v2(540,355)},{id:6,pos:cc.v2(745,460)},{id:8,pos:cc.v2(785,459)},{id:1,pos:cc.v2(732,285)}][t-1]},e.prototype.createB2World=function(){this.createIsLandBody()},e.prototype.createIsLandBody=function(){var t=this,e=[105,0,125,115,50,65,126,140];this._maps.forEach(function(o){2!=o.getComponent(c.default).id&&(o.addComponent(cc.RigidBody),o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,o.getComponent(cc.RigidBody).gravityScale=0,o.addComponent(cc.PhysicsCircleCollider),o.getComponent(cc.PhysicsCircleCollider).radius=e[o.getComponent(c.default).id-1],o.getComponent(cc.PhysicsCircleCollider).offset=cc.v2(0,0),o.getComponent(cc.PhysicsCircleCollider).friction=1,o.getComponent(cc.PhysicsCircleCollider).restitution=0,o.getComponent(cc.PhysicsCircleCollider).density=0,t.scheduleOnce(function(){o.getComponent(cc.PhysicsCircleCollider).apply()},.2),cc.tween(o).repeatForever(cc.tween().to(.001,{position:o.position}).delay(1/60)).start())})},e.prototype.init=function(){this.loadMap(),this.loadFish(),this.loadWater(),this.loadBoat()},e.prototype.onLoad=function(){this.res=cc.find("Canvas").getComponent(a.default),this.mainScript=cc.find("Canvas").getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var t=s.G35_globalView.offset;this.offset=t,this._deltaY=380*this.Y_FACTOR-380+0,this._canvas=cc.find("Canvas")},e.prototype.start=function(){},e=n([y],e)}(cc.Component));o.default=m,cc._RF.pop()},{"../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/StoreUtil":"StoreUtil","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Island":"G35_Island","./G35_Seasurfaceseek":"G35_Seasurfaceseek","./G35_SeasurfaceseekBoat":"G35_SeasurfaceseekBoat","./G35_SeasurfaceseekFish":"G35_SeasurfaceseekFish","./G35_SeasurfaceseekRes":"G35_SeasurfaceseekRes"}],G35_SeasurfaceseekRes:[function(t,e,o){"use strict";cc._RF.push(e,"7f035IVC7NLeaXuaJBUHH6N","G35_SeasurfaceseekRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.seagull=null,e.excitation=null,e.focusMask=null,e.handGuide=null,e.qiqi=null,e.island=null,e.uiAlt=null,e.waterAlt=null,e.fishAlt=null,e.flagAlt=null,e.labelAlt=null,e.trailImg=null,e.a22807001=null,e.a22807009=null,e.a22807008=null,e.a22807011=null,e.a22807036=null,e.a228035=null,e.a228034=null,e.a228107=null,e.a228106=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"\u6d77\u9e25"})],e.prototype,"seagull",void 0),n([s({type:cc.Prefab,tooltip:"Excitation"})],e.prototype,"excitation",void 0),n([s({type:cc.Prefab,tooltip:"focusMask"})],e.prototype,"focusMask",void 0),n([s({type:cc.Prefab,tooltip:"handGuide"})],e.prototype,"handGuide",void 0),n([s({type:cc.Prefab,tooltip:"qiqi"})],e.prototype,"qiqi",void 0),n([s({type:cc.Prefab,tooltip:"island"})],e.prototype,"island",void 0),n([s({type:cc.SpriteAtlas,tooltip:"ui"})],e.prototype,"uiAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"fish"})],e.prototype,"fishAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"flag"})],e.prototype,"flagAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"label"})],e.prototype,"labelAlt",void 0),n([s({type:cc.SpriteFrame,tooltip:"label"})],e.prototype,"trailImg",void 0),n([s({type:cc.AudioClip,tooltip:"22807001"})],e.prototype,"a22807001",void 0),n([s({type:cc.AudioClip,tooltip:"22807009"})],e.prototype,"a22807009",void 0),n([s({type:cc.AudioClip,tooltip:"22807008"})],e.prototype,"a22807008",void 0),n([s({type:cc.AudioClip,tooltip:"22807011"})],e.prototype,"a22807011",void 0),n([s({type:cc.AudioClip,tooltip:"22807036"})],e.prototype,"a22807036",void 0),n([s({type:cc.AudioClip,tooltip:"228035"})],e.prototype,"a228035",void 0),n([s({type:cc.AudioClip,tooltip:"228034"})],e.prototype,"a228034",void 0),n([s({type:cc.AudioClip,tooltip:"228107"})],e.prototype,"a228107",void 0),n([s({type:cc.AudioClip,tooltip:"228106"})],e.prototype,"a228106",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Seasurfaceseek:[function(t,e,o){"use strict";cc._RF.push(e,"c223catEpNJgY/h3clLCRL3","G35_Seasurfaceseek");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_SeasurfaceseekRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("./G35_SeasurfaceseekMap"),l=t("../../../GameUtils/G35_GlobalParams"),u=t("../../../../lib/core/util/StoreUtil"),d=t("../../../GameUtils/G35_Utils"),p=t("./G35_SeasurfaceseekLabel"),h=t("./G35_SeasurfaceseekBoat"),f=t("../../Common/G35_Excitation"),g=t("../../../../lib/core/util/MathUtil"),_=t("../../../../lib/core/util/ArrayUtil"),y=t("../../Common/G35_HandGuide"),m=t("../../Common/G35_Focu"),v=t("../../../../lib/business/Manager/AudioManager"),b=cc._decorator,S=b.ccclass,w=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._ui=[],e._offset=[0,0],e._initP=null,e._tileSize=cc.size(512,313),e._canDetect=!0,e._seagulls=[],e._fromLocation=null,e._fishTypes=[],e._uiTypes=[],e._map=null,e.tipBtn=null,e._mask=null,e.focusMask=null,e.handGuide=null,e.canTouch=!1,e.touchThrigger=!1,e._labelMove=null,e.cycleMoveAction=null,e.inertiaAction=null,e._guideAct=null,e._labelGuide=null,e._handPoint=null,e.lineNum=null,e.boatAct=null,e}return i(e,t),e.prototype.initData1=function(){this._fromLocation=l.G35_GlobalParams.gameVar.isFromLocation,l.G35_GlobalParams.gameVar.isFromLocation=!1,this._fishTypes=JSON.parse(u.default.get("G35_FISH_TYPE","null")),this._uiTypes=JSON.parse(u.default.get("G35_UI_TYPE","null"))},e.prototype.loadBg=function(){this.tipBtn=this.node.getChildByName("tip_btn"),this.tipBtn.zIndex=1e3,this.tipBtn.opacity=0,this.tipBtn.scale=1.3,this.tipBtn.active=!0},e.prototype.loadMap=function(){this._map=cc.instantiate(this.res.newNode),this._map.name="map",this._map.parent=this.node,this._map.zIndex=100,this._map.addComponent(c.default).init()},e.prototype.loadMask=function(){this._fromLocation&&(this._mask=this.node.getChildByName("mask"),this._mask.zIndex=500,this._mask.active=!0)},e.prototype.loadFishLabel=function(){var t=this;if(this._uiTypes&&!(this._uiTypes.length<1)){var e=[150,0,-150];this._uiTypes.forEach(function(o,i){var n=d.G35_utils.creatNode(t.res.newNode,t.res.uiAlt.getSpriteFrame(o+"_2"),t.node,cc.v2(cc.winSize.width/2+e[i],cc.winSize.height/2),0,500);n.scale=1.2,n.addComponent(p.default).init({id:o,index:i+1,fishNode:t._map.getComponent(c.default)._fishNode[i]}),t._ui.push(n),t._fromLocation||n.getComponent(p.default).displayChange()}),this._fromLocation||this.labelMove()}},e.prototype.loadSeagull=function(){for(var t=0;t<3;t++){var e=cc.instantiate(this.res.seagull);e.parent=this.node,e.zIndex=250,e.scale=.9,e.position=d.G35_utils.convertToSpacePos(cc.v2(-100,-100),this.node),this._seagulls.push(e)}this.seagullAction(5)},e.prototype.loadExcitation=function(){var t=this,e=d.G35_utils.getVec2Pos(this._map.getComponent(c.default)._boat).sub(d.G35_utils.getVec2Pos(this._map));cc.tween(this._map).parallel(cc.tween().to(.5,{scale:1.5}),cc.tween().by(.5,{position:cc.v2(.5*-e.x,.5*-e.y)})).call(function(){t._map.getComponent(c.default)._boat.getComponent(h.default).qiqi_happy2();var e=cc.instantiate(t.res.excitation);e.parent=t.node,e.zIndex=999,e.getComponent(f.default).init({id:2})}).start()},e.prototype.labelFly2Fish=function(){var t=this;this._ui.forEach(function(e,o){cc.tween(e).delay(.4*(o+1)).call(function(){0==o&&v.audioManager.playEffect(t.res.a22807008),e.getComponent(p.default).fly2Fish()}).start()})},e.prototype.maskDisapper=function(){var t=this;(this._mask||this._fromLocation)&&(cc.tween(this._mask).to(1.8,{opacity:150}).call(function(){t.firstGuide()}).removeSelf().start(),this.labelFly2Fish())},e.prototype.seagullAction=function(t){var e=this;cc.tween(this.node).delay(t).call(function(){var t=g.default.random(1,2);e.seagullFly(t)}).delay(3.6).call(function(){e.seagullAction(g.default.random(3,6))}).start()},e.prototype.seagullFly=function(t){var e=g.default.random(1,3),o=g.default.random(200,cc.winSize.height-200);if(1==t)for(var i=0;i<e;i++)this._seagulls[i].position=d.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+g.default.random(100,200),o+g.default.random(-50,50)),this.node),this._seagulls[i].scaleX=-.9,cc.tween(this._seagulls[i]).delay(.2*(i+1)).to(3,{position:d.G35_utils.convertToSpacePos(cc.v2(-100,o+g.default.random(-200,200)),this.node)}).start();else if(2==t)for(i=0;i<e;i++)this._seagulls[i].position=d.G35_utils.convertToSpacePos(cc.v2(-cc.winSize.width+g.default.random(-200,-100),o+g.default.random(-50,50)),this.node),this._seagulls[i].scaleX=.9,cc.tween(this._seagulls[i]).delay(.2*(i+1)).to(3,{position:d.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+100,o+g.default.random(-200,200)),this.node)}).start()},e.prototype.labelAction=function(){var t=this;this._labelMove||(this._labelMove=cc.tween(this.node).repeatForever(cc.tween().call(function(){t.labelMove()}).delay(1/30)).start())},e.prototype.cycleMove=function(){var t=this;if(!this.cycleMoveAction){var e=0;this.stopInertia(),this.cycleMoveAction=cc.tween(this.node).repeatForever(cc.tween().call(function(){t.inertiaAction||t.boatMove(),e%10==0&&t._map.getComponent(c.default).addTail(),e+=1}).delay(1/60)).start()}},e.prototype.stopInertia=function(){if(this.inertiaAction){this._map.getComponent(c.default)._boat.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);this._map.getComponent(c.default)._boat.getComponent(cc.RigidBody);this._handPoint=null,this.inertiaAction.stop(),this.inertiaAction=null}},e.prototype.stopMove=function(){var t=this;this.inertiaAction||(this._map.getComponent(c.default)._boat.getComponent(h.default).clearSpray(),this.inertiaAction=cc.tween(this.node).delay(.5).call(function(){t._map.getComponent(c.default)._boat.getComponent(cc.RigidBody);t._map.getComponent(c.default)._boat.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),t._handPoint=null,t.inertiaAction=null,t.cycleMoveAction&&(t.cycleMoveAction.stop(),t.cycleMoveAction=null)}).start())},e.prototype.boatMove=function(){if(this._handPoint&&this._map){var t=this._map.getComponent(c.default)._boat.getComponent(cc.RigidBody),e=this._map.getComponent(c.default)._boat.position,o=this._map.convertToNodeSpaceAR(this._handPoint),i=cc.v2(o.x-e.x,o.y-e.y),n=cc.v2(5*i.x,5*i.y);t.applyLinearImpulse(n,t.getWorldCenter(),!0),t.linearDamping=5;var a=t.linearVelocity;a.x>50?this._map.getComponent(c.default)._boat.scaleX=-this._map.getComponent(c.default)._boat.getComponent(h.default)._size:a.x<-50&&(this._map.getComponent(c.default)._boat.scaleX=this._map.getComponent(c.default)._boat.getComponent(h.default)._size)}},e.prototype.bgMove=function(){var t=this._map.getComponent(c.default)._boat.convertToWorldSpaceAR(cc.v2(0,0)),e=t.x-this._initP.x,o=t.y-this._initP.y,i=(this._map.getComponent(c.default)._boat.position,this._map.convertToWorldSpaceAR(cc.v2(0,0)).x-e),n=this._map.convertToWorldSpaceAR(cc.v2(0,0)).y-o,a=this._map.getComponent(c.default).getMapSize();i>0?i=0:i+a.width<cc.winSize.width&&(i=cc.winSize.width-a.width),n>0?n=0:n+a.height<cc.winSize.height&&(n=cc.winSize.height-a.height),this._map.position=d.G35_utils.convertToSpacePos(cc.v2(i,n),this.node),this._map.getComponent(c.default)._boat.getComponent(cc.RigidBody).syncPosition(!0)},e.prototype.labelMove=function(){var t=this;this._ui.forEach(function(e,o){var i=e.getComponent(p.default).getAngleAndPos().angle,n=e.getComponent(p.default).getAngleAndPos().pos,a=e.getComponent(p.default).getSize();e.position=d.G35_utils.convertToSpacePos(n,t.node),-i!=e.angle&&(e.getComponent(p.default)._fish.angle=i,e.angle=-i),e.scale=a})},e.prototype.recordData=function(t){_.default.removeObj(this._fishTypes,this._fishTypes[t-1]),_.default.removeObj(this._uiTypes,this._uiTypes[t-1]),u.default.set("G35_FISH_TYPE",JSON.stringify(this._fishTypes)),u.default.set("G35_UI_TYPE",JSON.stringify(this._uiTypes)),this._fromLocation&&(l.G35_GlobalParams.gameVar.FIRST_FOUND_FISHINDEX=t)},e.prototype.nextScene=function(t){console.log("\u8df3\u8f6c\u573a\u666f"),l.G35_GlobalParams.gameVar._mapP=this._map.position,l.G35_GlobalParams.gameVar._fishType=t,l.G35_GlobalParams.gameVar._currentNum=3-this._fishTypes.length,cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seasurfacefishing")},e.prototype.addTouchEven=function(){var t=new cc.Node("touchNode");t.parent=this.node,t.zIndex=5e3,t.setContentSize(cc.winSize.width,cc.winSize.height),t.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),t.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.touchStart=function(t){if(this.canTouch&&!this.touchThrigger){this.touchThrigger=!0;var e=t.getLocation();this.stopGuide(),d.G35_utils.isTouchInsideAndVisible(this._map.getComponent(c.default)._boat,e)?(this.isInRect(e),this.tipBtn.opacity=150,this.tipBtn.position=d.G35_utils.convertToSpacePos(e,this.node),this.labelGuide()):this.touchThrigger=!1}},e.prototype.touchMove=function(t){if(this.canTouch&&this.touchThrigger){var e=t.getLocation();this.tipBtn.position=d.G35_utils.convertToSpacePos(e,this.node),this.isInRect(e)}},e.prototype.touchEnd=function(t){this.canTouch&&this.touchThrigger&&(this.touchThrigger=!1,this.stopMove(),this.tipBtn.opacity=0,this.openGuide(),this.labelGuide(),this.stopLabelGuide())},e.prototype.isInRect=function(t){t.x<300+this.offset.x&&(t.x=300+this.offset.x),t.x>cc.winSize.width-300-this.offset.x&&(t.x=cc.winSize.width-300-this.offset.x),t.y<100+this.offset.y&&(t.y=100+this.offset.y),t.y>cc.winSize.height-100-this.offset.y&&(t.y=cc.winSize.height-100-this.offset.y),this._handPoint=t,this._map.getComponent(c.default)._boat.getComponent(h.default).loadSpray(),this.cycleMove()},e.prototype.firstGuide=function(){var t=this,e=this._ui[0];this._ui.forEach(function(t){t.scale>e.scale&&(e=t)}),this.focusMask=cc.instantiate(this.res.focusMask),this.focusMask.getComponent(m.default).focusOn(e,this.node,.7,60,0),v.audioManager.playLine(this.res.a228034),cc.tween(this.node).delay(.5).call(function(){e.getComponent(p.default).scaleGuide()}).delay(.3).call(function(){t.focusMask.getComponent(m.default).focusOnMoveto(t.node,.5,t._initP,1)}).delay(.5).call(function(){v.audioManager.playLine(t.res.a228035),t.canTouch=!0,t.labelAction(),t.focusMask.getComponent(m.default).focusBreath(t.node),t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(y.default).handGuide(t._map.getComponent(c.default)._boat,cc.v2(0,0))}).start()},e.prototype.openGuide=function(){var t=this;this._guideAct||(this._guideAct=cc.tween(this.node).delay(5).call(function(){t.focusMask=cc.instantiate(t.res.focusMask),t.focusMask.getComponent(m.default).focusOn(t._map.getComponent(c.default)._boat,t.node,1),t.focusMask.getComponent(m.default).focusBreath(t.node),t.handGuide=cc.instantiate(t.res.handGuide),t.handGuide.getComponent(y.default).handGuide(t._map.getComponent(c.default)._boat,cc.v2(0,0))}).start())},e.prototype.stopGuide=function(){this._guideAct&&(this._guideAct.stop(),this._guideAct=null),this.focusMask&&this.focusMask.isValid&&this.focusMask.getComponent(m.default).removefocus(this.node),this.handGuide&&this.handGuide.isValid&&this.handGuide.getComponent(y.default).removeHand()},e.prototype.labelGuide=function(){var t=this;this._labelGuide||(this._labelGuide=cc.tween(this.node).repeatForever(cc.tween().delay(1).call(function(){t.labelGuideAct()}).delay(2)).start())},e.prototype.labelGuideAct=function(){var t=this._ui[0];this._ui.length>1&&this._ui.forEach(function(e){e.scale>t.scale&&(t=e)}),t.getComponent(p.default).scaleGuide()},e.prototype.stopLabelGuide=function(){this._labelGuide&&(this._labelGuide.stop(),this._labelGuide=null)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._initP=cc.v2(cc.winSize.width/2,cc.winSize.height/2),cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,0),this.initData1(),this.loadBg(),this.loadMask(),this.loadMap(),this.loadFishLabel(),this.addTouchEven()},e.prototype.start=function(){this._fromLocation?this.maskDisapper():this._fishTypes&&this._fishTypes.length>0&&(this.canTouch=!0,this.openGuide(),this.labelAction()),this._fishTypes&&this._fishTypes.length>0?(this._map.getComponent(c.default).createB2World(),this.loadSeagull()):this.loadExcitation(),this._fishTypes&&2==this._fishTypes.length?(this.labelGuideAct(),v.audioManager.playLine(this.res.a228106)):this._fishTypes&&1==this._fishTypes.length&&(this.labelGuideAct(),v.audioManager.playLine(this.res.a228107)),v.audioManager.playEffectLoop(this.res.a22807001)},e.prototype.update=function(t){this._fishTypes&&this._fishTypes.length>0&&this.bgMove()},e=n([S],e)}(a.default));o.default=w,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../../lib/core/util/MathUtil":"MathUtil","../../../../lib/core/util/StoreUtil":"StoreUtil","../../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../Common/G35_Excitation":"G35_Excitation","../../Common/G35_Focu":"G35_Focu","../../Common/G35_HandGuide":"G35_HandGuide","./G35_SeasurfaceseekBoat":"G35_SeasurfaceseekBoat","./G35_SeasurfaceseekLabel":"G35_SeasurfaceseekLabel","./G35_SeasurfaceseekMap":"G35_SeasurfaceseekMap","./G35_SeasurfaceseekRes":"G35_SeasurfaceseekRes"}],G35_SeasurfacestartRes:[function(t,e,o){"use strict";cc._RF.push(e,"6874d8OfpdJQ5D0DgP4U1Fy","G35_SeasurfacestartRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cloud=null,e.surfaceAlt=null,e.bgm01=null,e.a22807002=null,e.a228028=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"cloud"})],e.prototype,"cloud",void 0),n([s({type:cc.SpriteAtlas,tooltip:"surface"})],e.prototype,"surfaceAlt",void 0),n([s({type:cc.AudioClip,tooltip:"bgm2"})],e.prototype,"bgm01",void 0),n([s({type:cc.AudioClip,tooltip:"22807002"})],e.prototype,"a22807002",void 0),n([s({type:cc.AudioClip,tooltip:"228028"})],e.prototype,"a228028",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Seasurfacestart:[function(t,e,o){"use strict";cc._RF.push(e,"60cc0xg3NlKE415tz0FUyN0","G35_Seasurfacestart");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../lib/business/base/BBScene"),r=t("./G35_SeasurfacestartRes"),s=t("../../../GameUtils/G35_GlobalView"),c=t("../../../GameUtils/G35_Utils"),l=t("../../../GameUtils/Tools/G35_CommonAct"),u=t("../../Common/G35_Cloud"),d=t("../../../../lib/business/Manager/AudioManager"),p=cc._decorator,h=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._boat=null,e._qiqi=null,e}return i(e,t),e.prototype.loadBg=function(){var t=this.node.getChildByName("bg5");t.scale=2.5,t.anchorY=0,t.y=-cc.winSize.height/2+100+this.offset.y;var e=this.node.getChildByName("bg4");e.scale=2.5,e.anchorY=1,e.y=-cc.winSize.height/2+100+this.offset.y;var o=this.node.getChildByName("boat");o.zIndex=10,o.scale=1.1,o.anchorY=0,o.position=c.G35_utils.convertToSpacePos(cc.v2(600+this.offset.x,51+this.offset.y),this.node),this.floatAction(o),this._boat=o,this.loadWaterSurface()},e.prototype.loadWaterSurface=function(){var t=this,e=this.node.getChildByName("mask2");e.scale=1.25,e.zIndex=80,e.y=-cc.winSize.height/2-100+this.offset.y;var o=this.node.getChildByName("surface1");o.scale=1.25,o.anchorY=0,o.y=-cc.winSize.height/2+85+this.offset.y-20,o.zIndex=5,c.G35_utils.setImg(o);cc.tween(o).repeatForever(cc.tween().call(function(){l.G35_commonAct.filenames(o,t.res.surfaceAlt.getSpriteFrames(),.2)}).delay(.2*7)).start();var i=this.node.getChildByName("surface2");i.scale=1.25,i.anchorY=0,i.y=-cc.winSize.height/2+38+this.offset.y,i.zIndex=100,l.G35_commonAct.waterAction(i)},e.prototype.loadCloud=function(){for(var t=[cc.v2(926.9+this.offset.x,244+this.offset.y),cc.v2(816+this.offset.x,556+this.offset.y),cc.v2(165.4+this.offset.x,420+this.offset.y)],e=[30,40,30],o=[-1,-1,1],i=0;i<3;i++){var n=cc.instantiate(this.res.cloud);n.parent=this.node,n.zIndex=2,n.position=c.G35_utils.convertToSpacePos(t[i],this.node),n.getComponent(u.default).init({speed:e[i],pos:t[i],dir:o[i],id:i+1})}},e.prototype.loadQiqi=function(){var t=this;this._qiqi=this.node.getChildByName("qiqi"),this._qiqi.zIndex=5,this._qiqi.scale=.8,this._qiqi.position=c.G35_utils.convertToSpacePos(cc.v2(390+this.offset.x,328+this.offset.y),this.node),this.floatAction(this._qiqi);var e=this._qiqi.getComponent(dragonBones.ArmatureDisplay);d.audioManager.playLine(this.res.a228028),cc.tween(this.node).delay(.5).call(function(){e.armature().getSlot("cmqq_p_bzd").displayIndex=-1,e.armature().getSlot("cmqq_p_byd").displayIndex=-1,e.armature().getSlot("cmqq_p_bbt").displayIndex=-1,e.playAnimation("cmqq_gjlsh",0)}).delay(3.2).call(function(){e.playAnimation("cmqq_ncwyj",-1)}).delay(.54).call(function(){d.audioManager.playEffect(t.res.a22807002),console.log("\u8df3\u8f6c\u573a\u666f"),cc.find("loadingPre").getComponent("G35_LoadingPre").beginLoad("G35_Seasurfacelocation")}).start()},e.prototype.floatAction=function(t){cc.tween(t).repeatForever(cc.tween().delay(.3).by(.7,{y:5}).delay(.3).by(.7,{y:-5})).start()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.loadBg(),this.loadCloud(),this.loadQiqi()},e.prototype.start=function(){d.audioManager.playMusic(this.res.bgm01)},e=n([h],e)}(a.default));o.default=f,cc._RF.pop()},{"../../../../lib/business/Manager/AudioManager":"AudioManager","../../../../lib/business/base/BBScene":"BBScene","../../../GameUtils/G35_GlobalView":"G35_GlobalView","../../../GameUtils/G35_Utils":"G35_Utils","../../../GameUtils/Tools/G35_CommonAct":"G35_CommonAct","../../Common/G35_Cloud":"G35_Cloud","./G35_SeasurfacestartRes":"G35_SeasurfacestartRes"}],G35_SelectRes:[function(t,e,o){"use strict";cc._RF.push(e,"76110tpB+JK5Lvts1my3sGA","G35_SelectRes");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.newNode=null,e.Excitation=null,e.staminaNum=null,e.getActiveWindow=null,e.handBook=null,e.islandAlt=null,e.signAlt=null,e.a228BGM07=null,e.a22811001=null,e.a22811002=null,e.a22811004=null,e.a22805002=null,e.a22811003=null,e.a17901001=null,e.a228042=null,e.a228115=null,e.a228046=null,e.a28045=null,e.a228043=null,e.a228044=null,e.a228100=null,e}return i(e,t),e.prototype.start=function(){},n([s({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([s({type:cc.Prefab,tooltip:"Excitation"})],e.prototype,"Excitation",void 0),n([s({type:cc.Prefab,tooltip:"staminaNum"})],e.prototype,"staminaNum",void 0),n([s({type:cc.Prefab,tooltip:"\u83b7\u5f97\u4f53\u529b\u5f39\u7a97"})],e.prototype,"getActiveWindow",void 0),n([s({type:cc.Prefab,tooltip:"\u56fe\u9274"})],e.prototype,"handBook",void 0),n([s({type:cc.SpriteAtlas,tooltip:"island"})],e.prototype,"islandAlt",void 0),n([s({type:cc.SpriteAtlas,tooltip:"sign"})],e.prototype,"signAlt",void 0),n([s({type:cc.AudioClip,tooltip:"228BGM07"})],e.prototype,"a228BGM07",void 0),n([s({type:cc.AudioClip,tooltip:"22811001"})],e.prototype,"a22811001",void 0),n([s({type:cc.AudioClip,tooltip:"22811002"})],e.prototype,"a22811002",void 0),n([s({type:cc.AudioClip,tooltip:"22811004"})],e.prototype,"a22811004",void 0),n([s({type:cc.AudioClip,tooltip:"22805002"})],e.prototype,"a22805002",void 0),n([s({type:cc.AudioClip,tooltip:"22811003"})],e.prototype,"a22811003",void 0),n([s({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),n([s({type:cc.AudioClip,tooltip:"228042"})],e.prototype,"a228042",void 0),n([s({type:cc.AudioClip,tooltip:"228115"})],e.prototype,"a228115",void 0),n([s({type:cc.AudioClip,tooltip:"228046"})],e.prototype,"a228046",void 0),n([s({type:cc.AudioClip,tooltip:"28045"})],e.prototype,"a28045",void 0),n([s({type:cc.AudioClip,tooltip:"228043"})],e.prototype,"a228043",void 0),n([s({type:cc.AudioClip,tooltip:"228044"})],e.prototype,"a228044",void 0),n([s({type:cc.AudioClip,tooltip:"228100"})],e.prototype,"a228100",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],G35_Select:[function(t,e,o){"use strict";cc._RF.push(e,"1ca15lrXLNEfJ4gf0fet3nQ","G35_Select");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/base/BBScene"),r=t("./G35_SelectRes"),s=t("../../GameUtils/G35_GlobalView"),c=t("../../GameUtils/G35_GlobalParams"),l=t("../Common/G35_Excitation"),u=t("../../GameUtils/G35_Utils"),d=t("../../../lib/business/Manager/AudioManager"),p=t("../../../lib/core/util/NetUtil"),h=t("../../../lib/core/util/ToastUtil"),f=t("../../../lib/business/manager/PluginManager"),g=t("../../../lib/core/util/ArrayUtil"),_=t("../../../lib/core/util/MathUtil"),y=t("./G35_ActiveUi"),m=t("../../../lib/core/util/StoreUtil"),v=t("../G35_HandBook/G35_HandBookbooknode"),b=t("../../../lib/business/manager/InterstitialManager"),S=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),w=t("../../../lib/core/util/PlatformUtil"),A=t("../../../../BBGameWeb/Script/Common/BBLoader"),C=t("../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),G=t("../../../lib/business/manager/LoadManager"),T=cc._decorator,P=T.ccclass,M=(T.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.res=null,e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.touchThrigger=!1,e._signTab=[],e._backFlag=!1,e._island=[],e._lock=!0,e._itemTab=[[],[],[],[]],e._fromGameplay=null,e._finishGameId=null,e._qiqi=null,e.ui=null,e.btn=null,e.mask=null,e.activeUi=null,e.excitation=null,e.handBook=null,e._randomAct=null,e.qiqiDragon=null,e}return i(e,t),e.prototype.loadIsland=function(){for(var t=this,e=[cc.v2(745+this.offset.x,323+this.offset.y),cc.v2(210+this.offset.x,146+this.offset.y),cc.v2(591+this.offset.x,150+this.offset.y),cc.v2(392+this.offset.x,342+this.offset.y)],o=function(o){var n=u.G35_utils.creatNode(i.res.newNode,i.res.islandAlt.getSpriteFrame(""+(o+1)),i.node,e[o],0);if(n.id1=o+1,n.on(cc.Node.EventType.TOUCH_START,function(e){t._backFlag||t._lock||(t._lock=!0,w.default.isPure()?t.clickIsland(n):t.activeUi.getComponent(y.default).subLove(n,function(){t.clickIsland(n)}))}),i._island.push(n),!w.default.isPure()){var a=cc.instantiate(i.res.staminaNum);a.parent=n,a.position=cc.v2(100,-70)}},i=this,n=0;n<4;n++)o(n);this._qiqi||JSON.parse(m.default.get("G23_isFirstGet","true"))||this.openRandomAct()},e.prototype.clickIsland=function(t){var e=this;d.audioManager.stopLine(),this._signTab.forEach(function(e,o){e.stopAllActions(),o+1==t.id1?cc.tween(e).to(.25,{scale:1.2}).to(.15,{scale:1}).then(cc.jumpBy(.5,cc.v2(0,0),50,1)).then(cc.jumpBy(.5,cc.v2(0,0),50,1)).start():cc.tween(e).to(.25,{scale:0}).start()}),cc.tween(t).to(.25,{scale:1.1}).to(.15,{scale:1}).delay(.5).call(function(){e.seletScene(t.id1)}).start()},e.prototype.loadSign=function(){for(var t=[cc.v2(759.3+this.offset.x,301.2+this.offset.y),cc.v2(243.8+this.offset.x,126.8+this.offset.y),cc.v2(617.7+this.offset.x,80.4+this.offset.y),cc.v2(394.7+this.offset.x,301.3+this.offset.y)],e=0;e<4;e++){var o=u.G35_utils.creatNode(this.res.newNode,this.res.signAlt.getSpriteFrame(""+(e+1)),this.node,t[e],0);o.anchorY=0,o.scale=0,this._signTab.push(o)}},e.prototype.loadUiBook=function(){this.ui=this.node.getChildByName("bookui"),this.ui.zIndex=9998,this.ui.position=cc.v2(-cc.winSize.width/2+90,-cc.winSize.height/2+70),this.ui.on(cc.Node.EventType.TOUCH_START,this.uiTouchStart,this),this.ui.on(cc.Node.EventType.TOUCH_END,this.uiTouchEnd,this),this.ui.on(cc.Node.EventType.TOUCH_CANCEL,this.uiTouchEnd,this),this.ui.isClick1=!0},e.prototype.uiTouchStart=function(t){this._lock||this.ui.isClick1&&(this.touchThrigger||(this.touchThrigger=!0,d.audioManager.playEffect(this.res.a17901001),this._backFlag=!0,this.ui.scale=.7,d.audioManager.stopAllAudio(),this._qiqi&&this.qiqiDragon.playAnimation("qq_huxi",-1)))},e.prototype.uiTouchEnd=function(t){var e=this;this._lock||this.ui.isClick1&&this.touchThrigger&&(this.touchThrigger=!1,this.ui.isClick1=!1,this.excitation&&this.excitation.isValid&&this.excitation.destroy(),this.node.getChildByName("hand")&&this.node.getChildByName("hand").isValid&&this.node.getChildByName("hand").destroy(),this.activeUi.opacity=0,b.interstitialManager.hideRecommendMore(),S.analyticsCommon.clickMap(),cc.tween(this.ui).to(.2,1).call(function(){e.loadBookNode()}).start())},e.prototype.createQiqi2=function(){this._fromGameplay&&(this._qiqi=this.node.getChildByName("qiqi"),this._qiqi.position=u.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width-100-this.offset.x,90),this.node),this._qiqi.scale=1.3,this._qiqi.scaleX*=-1,this._qiqi.zIndex=10,this._qiqi.active=!0,this.qiqiDragon=this._qiqi.getComponent(dragonBones.ArmatureDisplay),this.qiqiDragon.playAnimation("qq_ruhua",-1),this._qiqi.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,this.movementHandler,this))},e.prototype.movementHandler=function(){var t=this;if("qq_ruhua"==this.qiqiDragon.animationName)return 1==_.default.random(1,2)?this.qiqiDragon.playAnimation("qq_shuohua1",-1):this.qiqiDragon.playAnimation("qq_shuohua2",-1),this._qiqi.speak=d.audioManager.playLine(this.res.a228042),void this.scheduleOnce(function(){t._qiqi.speak=null,t.qiqiDragon.playAnimation("qq_huxi",-1),d.audioManager.playEffect(t.res.a22811003),t._signTab.forEach(function(t,e){t.act1=cc.tween(t).delay(.1*e).to(.2,{scale:1.1}).to(.1,{scale:1}).call(function(){t.act2=cc.tween(t).repeatForever(cc.tween().to(1,{scale:1.1}).to(1,{scale:1})).start()}).start()}),d.audioManager.playEffect(t.res.a22811002),t.openRandomAct()},1.7);"qq_shuohua1"!=this.qiqiDragon.animationName?"qq_shuohua2"!=this.qiqiDragon.animationName||this.qiqiDragon.playAnimation("qq_shuohua1",-1):this.qiqiDragon.playAnimation("qq_shuohua2",-1)},e.prototype.signPopup=function(){this._signTab.forEach(function(t,e){t.act1=cc.tween(t).delay(.1*e).to(.2,{scale:1.1}).to(.1,{scale:1}).call(function(){t.act2=cc.tween(t).repeatForever(cc.tween().to(1,{scale:1.1}).to(1,{scale:1})).start()}).start()}),d.audioManager.playEffect(this.res.a22811002)},e.prototype.seletScene=function(t){var e,o=this;this._randomAct&&(this._randomAct.stop(),this._randomAct=null),this._qiqi&&this._qiqi.speak&&(this._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("qq_chuhua",-1),d.audioManager.stopAudio(this._qiqi.speak)),1==t?(d.audioManager.playLine(this.res.a228044),e=1):2==t?(d.audioManager.playLine(this.res.a228043),e=.9):3==t?(d.audioManager.playLine(this.res.a28045),e=1):4==t&&(d.audioManager.playLine(this.res.a228046),e=.7),this._qiqi&&this._qiqi.getComponent(dragonBones.ArmatureDisplay).playAnimation("qq_chuhua",-1),this.scheduleOnce(function(){p.netUtil.isNetActive()?cc.director.preloadScene("G35_Loading",function(){c.G35_GlobalParams.gameVar.sceneName="G35_Ready",c.G35_GlobalParams.gameVar.gameId=t,c.G35_GlobalParams.gameVar.fromSelect=!0,w.default.isBBMGSimulatePlatform()?A.default.getInstance().loadScene("G35_Loading",o):cc.director.loadScene("G35_Loading")}):h.default.toastShort(G.loadManager.getString("o1"))},e)},e.prototype.loadBtn=function(){var t=this;this.btn=this.node.getChildByName("btn"),this.btn.zIndex=400,this.btn.getChildByName("home").isClick1=!0,this.btn.getChildByName("back").on(cc.Node.EventType.TOUCH_START,function(){console.log("\u56fe\u9274\u6536\u56de"),t.btn.getChildByName("home").active=!0,t.btn.getChildByName("back").active=!1,t.scaleBookNode(),t.activeUi.opacity=255,b.interstitialManager.showRecommendMore()}),this.btn.getChildByName("home").on(cc.Node.EventType.TOUCH_START,function(){t.btn.getChildByName("home").isClick1&&(t.btn.getChildByName("home").isClick1=!1,f.pluginManager.isBusSceneEffect()?f.pluginManager.loadBusScene():w.default.isBBMGSimulatePlatform()?A.default.getInstance().loadScene("G35_Welcome",t):cc.director.loadScene("G35_Welcome"))})},e.prototype.loadBookNode=function(){d.audioManager.playEffect(this.res.a22811004),this.btn.getChildByName("home").active=!1,this.btn.getChildByName("back").active=!0,this.loadMask(),this.handBook=cc.instantiate(this.res.handBook),this.handBook.parent=this.node,this.handBook.zIndex=97,this.handBook.getComponent(v.default).openEffect(),this._randomAct&&(this._randomAct.stop(),this._randomAct=null),this._signTab.forEach(function(t){t.act1&&(t.act1.stop(),t.act1=null),t.act2&&(t.act2.stop(),t.act2=null),t.act3&&(t.act3.stop(),t.act3=null),cc.tween(t).to(.25,{scale:0}).start()}),cc.tween(this.ui).to(.6,{scale:0}).start()},e.prototype.loadMask=function(){this.mask||(this.mask=this.node.getChildByName("mask"),this.mask.zIndex=97),this.mask.opacity=1,this.mask.active=!0,cc.tween(this.mask).to(.6,{opacity:200}).start()},e.prototype.removeMask=function(){var t=this;this.mask.active&&cc.tween(this.mask).to(.6,{opacity:0}).call(function(){t.mask.active=!1}).start()},e.prototype.scaleBookNode=function(){var t=this;this.removeMask(),d.audioManager.stopLine(),console.log("\u6536\u56de\u56fe\u9274"),this.handBook.getComponent(v.default).returnEffect(),this.signPopup(),this.openRandomAct(),this._backFlag=!1,cc.tween(this.ui).to(.6,{scale:1}).call(function(){t.ui.isClick1=!0}).start()},e.prototype.openRandomAct=function(){var t=this;this._randomAct=cc.tween(this.node).repeatForever(cc.tween().delay(3).call(function(){var e=g.default.getRandomItem(t._signTab);d.audioManager.playEffect(t.res.a22805002),e.act1&&(e.act1.stop(),e.act1=null),e.act2&&(e.act2.stop(),e.act2=null),d.audioManager.playLine(t.res.a228115),e.act3=cc.tween(e).then(cc.jumpBy(.5,cc.v2(0,0),50,1)).then(cc.jumpBy(.5,cc.v2(0,0),50,1)).call(function(){e.act2=cc.tween(e).repeatForever(cc.tween().to(1,{scale:1.1}).to(1,{scale:1})).start()}).start()}).delay(1.7)).start()},e.prototype.closeAction=function(){d.audioManager.stopLine(),this._randomAct&&(this._randomAct.stop(),this._randomAct=null),this._signTab.forEach(function(t){t.act1&&(t.act1.stop(),t.act1=null),t.act2&&(t.act2.stop(),t.act2=null),t.act3&&(t.act3.stop(),t.act3=null),cc.tween(t).to(.25,{scale:0}).start()})},e.prototype.loadActiveUi=function(){this.activeUi=this.node.getChildByName("activeUi"),w.default.isPure()?this.activeUi.active=!1:(this.activeUi.position=cc.v2(cc.winSize.width/2-200,cc.winSize.height/2-60),this.activeUi.zIndex=100)},e.prototype.getStick=function(){this.closeAction();var t=cc.instantiate(this.res.Excitation);t.parent=this.node,t.zIndex=9997,t.getComponent(l.default).init({id:this._finishGameId,fromSelect:!0}),this.excitation=t},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.res=this.node.getComponent(r.default),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=s.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this._fromGameplay=c.G35_GlobalParams.gameVar.fromGameplay,this._finishGameId=c.G35_GlobalParams.gameVar._finishGameId,c.G35_GlobalParams.gameVar._finishGameId=null,c.G35_GlobalParams.gameVar.fromGameplay=null,cc.director.getScene().name="G35_Select",cc.game.addPersistRootNode(cc.find("loadingPre")),this.createQiqi2(),this.loadIsland(),this.loadSign(),this.loadUiBook(),this.loadBtn(),this.loadActiveUi(),w.default.isBBMGSimulatePlatform()&&C.default.getInstance().isBannerAdExist()&&C.default.getInstance().showBannerAd()},e.prototype.start=function(){(d.audioManager.playMusic(this.res.a228BGM07),d.audioManager.playEffect(this.res.a22811001),this._qiqi||this._finishGameId||(this.signPopup(),d.audioManager.playEffect(this.res.a228100)),this._finishGameId)?JSON.parse(m.default.get("G23_isFirstGet","true"))?this.getStick():_.default.random(1,100)<=35?this.getStick():w.default.isWechatGame()?(this._lock=!1,this.signPopup()):(this._lock=!1,this.signPopup(),b.interstitialManager.showCustomByTimes(2)):(this._lock=!1,w.default.isWechatGame()||b.interstitialManager.showCustomByTimes(2));w.default.isWechatGame()||b.interstitialManager.showRecommendMore()},e=n([P],e)}(a.default));o.default=M,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBScene":"BBScene","../../../lib/business/manager/InterstitialManager":"InterstitialManager","../../../lib/business/manager/LoadManager":"LoadManager","../../../lib/business/manager/PluginManager":"PluginManager","../../../lib/core/util/ArrayUtil":"ArrayUtil","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/NetUtil":"NetUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/StoreUtil":"StoreUtil","../../../lib/core/util/ToastUtil":"ToastUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../Common/G35_Excitation":"G35_Excitation","../G35_HandBook/G35_HandBookbooknode":"G35_HandBookbooknode","./G35_ActiveUi":"G35_ActiveUi","./G35_SelectRes":"G35_SelectRes"}],G35_Utils:[function(t,e,o){"use strict";cc._RF.push(e,"419b3x8D05IhZzL++754sOb","G35_Utils"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/core/util/PlatformUtil"),n=function(){function t(){}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.copyArray=function(t,e){var o=-1,i=t.length;for(e||(e=new Array(i));++o<i;)e[o]=t[o];return e},t.prototype.shuffle=function(t){var e=null==t?0:t.length;if(!e)return[];for(var o=-1,i=e-1,n=this.copyArray(t);++o<e;){var a=o+Math.floor(Math.random()*(i-o+1)),r=n[a];n[a]=n[o],n[o]=r}return n},t.prototype.playFileAnimation=function(t,e,o,i,n){n=n||"Normal";var a=cc.AnimationClip.createWithSpriteFrames(e,1/i);a.name=o,a.wrapMode=cc.WrapMode[n];var r=t.addComponent(cc.Animation);r.addClip(a),r.play(o).duration=e.length*i},t.prototype.numberExcept=function(t,e,o){var i=null;if("number"==typeof o)do{i=this.random(t,e)}while(i!=o);else{if(this.arrayContainsAll(o,t,e))return i;for(i=this.random(t,e);;){for(var n=!1,a=0;a<o.length;a++)if(i==o[a]){n=!0;break}if(!n)break;i=this.random(t,e)}}return i},t.prototype.arrayContainsAll=function(t,e,o){if(0==t.length)return!1;for(var i=e;i<=o;i++){for(var n=!1,a=0;a<t.length;a++)i==t[a]&&(n=!0);if(!n)return!1}return!0},t.prototype.detectCollision=function(t){var e,o,i,n,a,r,s,c,l=t.node1,u=t.node2,d=void 0!==t.factorNode1?t.factorNode1:1,p=void 0!==t.factorNode2?t.factorNode2:1,h=void 0!==t.factorNodeParent1&&t.factorNodeParent1,f=void 0!==t.factorNodeParent2&&t.factorNodeParent2,g=void 0===t.isPointToWorld||t.isPointToWorld;if(e=l.getBoundingBox(),o=u.getBoundingBox(),"number"==typeof d&&1!=d&&(i=cc.v2(e.x,e.y),a=(n=new cc.Size(e.width,e.height)).width,r=n.height,h?(s=i.x,c=i.y):(s=i.x+a*(1-d)*.5,c=i.y+r*(1-d)*.5),e=new cc.Rect(s,c,a*d,r*d)),"number"==typeof p&&1!=p&&(i=cc.v2(o.x,o.y),a=(n=new cc.Size(o.width,o.height)).width,r=n.height,f?(s=i.x,c=i.y):(s=i.x+a*(1-p)*.5,c=i.y+r*(1-p)*.5),o=new cc.Rect(s,c,a*p,r*p)),g){var _=void 0;_=l.parent.convertToWorldSpaceAR(cc.v2(e.x,e.y)),e=new cc.Rect(_.x,_.y,e.width,e.height),_=u.parent.convertToWorldSpaceAR(cc.v2(o.x,o.y)),o=new cc.Rect(_.x,_.y,o.width,o.height)}return e.intersects(o)},t.prototype.inRect=function(t,e){var o=e.x,i=e.x+e.width,n=e.y,a=e.y+e.height;return t.x>=o&&t.x<=i&&t.y>=n&&t.y<=a},t.prototype.arrayRandom=function(t){var e=t.length-1;return t[this.random(0,e)]},t.prototype.removeArrayValue=function(t,e){e>=0&&t.splice(t.indexOf(e),1)},t.prototype.quadAngle1=function(t,e){var o=null,i=t.x-e.x,n=t.y-e.y;for(o=180*Math.atan2(i,n)/Math.PI-90;o<0;)o+=360;return o},t.prototype.quadAngle=function(t,e){var o=t.x-e.x,i=t.y-e.y;return 180*Math.atan2(o,i)/Math.PI+270},t.prototype.convertPosition=function(t,e){if(!t||!e)return cc.v2(0,0);var o=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(o)},t.prototype.convertToSpacePos=function(t,e){return e.convertToNodeSpaceAR(t)},t.prototype.resetParent=function(t,e,o){void 0===o&&(o=null);var i=t.parent.convertToWorldSpaceAR(t.position);t.setParent(e),t.setPosition(e.convertToNodeSpaceAR(i)),t.zIndex=o||1},t.prototype.isTouchInsideAndVisible=function(t,e){if(0==t.scaleX||0==t.scaleY)return!1;var o=t.convertToNodeSpaceAR(e);return!(o.x>t.width*Math.abs(t.scaleX)/2||o.x<-t.width*Math.abs(t.scaleX)/2)&&!(o.y>t.height*Math.abs(t.scaleY)/2||o.y<-t.height*Math.abs(t.scaleY)/2)},t.prototype.creatParticle=function(t,e,o,i){void 0===i&&(i=1e3);var n=cc.instantiate(t);return n.parent=e,n.zIndex=i,n.setPosition(this.convertToSpacePos(o,e)),n},t.prototype.showLoadingWithMask=function(t){void 0===t&&(t="\u52a0\u8f7d\u4e2d..."),i.default.isWechatGame()?wx.showLoading({title:t,mask:!0}):i.default.isBaiduGame()?window.swan.showLoading({title:t,mask:!0}):console.log("showLoading")},t.prototype.shake=function(t,e,i){var n=t.position,a=cc.sequence(cc.repeat(cc.sequence(cc.moveTo(.03,n.x+o.G35_utils.random(-i,i),n.y+o.G35_utils.random(-i,i)),cc.moveTo(.03,n.x+o.G35_utils.random(-i,i),n.y+o.G35_utils.random(-i,i))),e),cc.callFunc(function(){t.runAction(cc.moveTo(.1,n))}));t.runAction(a)},t.prototype.creatNode=function(t,e,o,i,n,a){void 0===n&&(n=0),void 0===a&&(a=1);var r=cc.instantiate(t);return r.getComponent(cc.Sprite).spriteFrame=e,r.parent=o,r.zIndex=a,1==n?r.setPosition(i):r.setPosition(this.convertToSpacePos(i,o)),r},t.prototype.createNode=function(t,e,o,i){void 0===e&&(e=""),void 0===o&&(o=!1),void 0===i&&(i=!0),e||(e=t.name);var n=new cc.Node(e),a=n.addComponent(cc.Sprite);return a.spriteFrame=t,i||(a.trim=!1,a.sizeMode=cc.Sprite.SizeMode.RAW),o&&(a.srcBlendFactor=cc.macro.BlendFactor.ONE),n},t.prototype.checkBoundary=function(t){var e=cc.winSize,o=t.anchorX,i=t.anchorY;t.x<t.width*o?t.x=t.width*o:t.x>e.width-t.width*(1-o)&&(t.x=e.width-t.width*(1-o)),t.y<t.height*i?t.y=t.height*i:t.y>e.height-t.height*(1-i)&&(t.y=e.height-t.height*(1-i))},t.prototype.createNoTrimNode=function(t,e,o,i){void 0===e&&(e=""),void 0===o&&(o=!1),void 0===i&&(i=!1),e||(e=t.name);var n=new cc.Node(e),a=n.addComponent(cc.Sprite);return a.spriteFrame=t,i||(a.trim=!1,a.sizeMode=cc.Sprite.SizeMode.RAW),o&&(a.srcBlendFactor=cc.macro.BlendFactor.ONE),n},t.prototype.setImg=function(t){t.getComponent(cc.Sprite).srcBlendFactor=cc.macro.ONE},t.prototype.isPointInNode=function(t,e,o){var i;i="number"==typeof e?cc.v2(e,o):e;var n=t.parent.convertToNodeSpaceAR(i);return t.getBoundingBox().contains(n)},t.prototype.adjustPos=function(t,e){t.x-=e.width/2,t.y-=e.height/2},t.prototype.notInside=function(t,e){var o=[];return 0==t.length?e:(e.forEach(function(e){t.indexOf(e)<0&&o.push(e)}),o)},t.prototype.getDistace=function(t,e){var o=cc.v2(t.convertToWorldSpaceAR(cc.v2(0,0)).x,t.convertToWorldSpaceAR(cc.v2(0,0)).y),i=cc.v2(e.convertToWorldSpaceAR(cc.v2(0,0)).x,e.convertToWorldSpaceAR(cc.v2(0,0)).y);return o.sub(i).mag()},t.prototype.getVec2Pos=function(t){return cc.v2(t.convertToWorldSpaceAR(cc.v2(0,0)).x,t.convertToWorldSpaceAR(cc.v2(0,0)).y)},t.INSTANCE=void 0,t}();o.G35_utils=n.get(),cc._RF.pop()},{"../../lib/core/util/PlatformUtil":"PlatformUtil"}],G35_Welcome:[function(t,e,o){"use strict";cc._RF.push(e,"d67845ORyBBb7mIbLta0g2L","G35_Welcome");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/base/BBScene"),r=t("../../GameUtils/G35_GlobalView"),s=t("../../GameUtils/G35_Utils"),c=t("../../GameUtils/G35_GlobalParams"),l=t("../../../lib/core/util/MathUtil"),u=t("../../../lib/core/util/PlatformUtil"),d=t("../../../lib/business/Manager/AudioManager"),p=t("../../../lib/business/manager/GuideManager"),h=t("../Common/G35_loadingProgress"),f=t("../../../lib/business/manager/PluginManager"),g=t("../../../lib/business/manager/LoginManager"),_=t("../../../lib/business/manager/DialogManager"),y=t("../../../../BBGameWeb/Script/Utils/BBGameAdUtil"),m=t("../../../../BBGameWeb/Script/Common/Vip/BBVipDialogHelper"),v=cc._decorator,b=v.ccclass,S=v.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e._title=null,e.waterAlt=null,e.newNode=null,e.hmyu=null,e.parentNode=null,e.a228BGM07=null,e.a22810001=null,e.a22810002=null,e.a17901001=null,e.playBtn=null,e.mvBtn=null,e.lock=!1,e.zIndexNum=100,e}return i(e,t),e.prototype.getShareChannel=function(){return"menu"},e.prototype.loadTitle=function(){this._title=this.parentNode.getChildByName("title"),this._title.zIndex=5e3,this._title.y=cc.winSize.height/2+250},e.prototype.loadIsland=function(){var t=this.parentNode.getChildByName("island");t.zIndex=500/this.zIndexNum,t.position=s.G35_utils.convertToSpacePos(cc.v2(60+this.offset.x,168),this.parentNode);var e=this.parentNode.getChildByName("island2");e.zIndex=500/this.zIndexNum,e.position=s.G35_utils.convertToSpacePos(cc.v2(815+this.offset.x,135),this.parentNode)},e.prototype.loadCloud=function(){var t=this,e=this.parentNode.getChildByName("cloud1");e.position=s.G35_utils.convertToSpacePos(cc.v2(835+this.offset.x,535+this.offset.y),this.parentNode);var o=this.parentNode.getChildByName("cloud2");o.position=s.G35_utils.convertToSpacePos(cc.v2(130+this.offset.x,380+this.offset.y),this.parentNode);var i=this.parentNode.getChildByName("cloud3");i.position=s.G35_utils.convertToSpacePos(cc.v2(855+this.offset.x,310+this.offset.y),this.parentNode),cc.tween(e).repeatForever(cc.tween().by(1.5,{x:-25}).call(function(){e.x<-cc.winSize.width/2-175&&(e.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+175,535+t.offset.y),t.parentNode))})).start(),cc.tween(o).repeatForever(cc.tween().by(1.5,{x:-37}).call(function(){o.x<-cc.winSize.width/2-150&&(o.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+150,380+t.offset.y),t.parentNode))})).start(),cc.tween(i).repeatForever(cc.tween().by(1.5,{x:-50}).call(function(){i.x<-cc.winSize.width/2-150&&(i.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width+150,310+t.offset.y),t.parentNode))})).start()},e.prototype.loadWter=function(){var t=s.G35_utils.creatNode(this.newNode,this.waterAlt.getSpriteFrame("4"),this.parentNode,cc.v2(cc.winSize.width/2,50),0,1e3/this.zIndexNum);t.scaleX=1.25;var e=s.G35_utils.creatNode(this.newNode,this.waterAlt.getSpriteFrame("3"),this.parentNode,cc.v2(cc.winSize.width/2,50),0,2e3/this.zIndexNum);e.scaleX=1.25;var o=s.G35_utils.creatNode(this.newNode,this.waterAlt.getSpriteFrame("2"),this.parentNode,cc.v2(cc.winSize.width/2,50),0,3e3/this.zIndexNum);o.scaleX=1.25;var i=s.G35_utils.creatNode(this.newNode,this.waterAlt.getSpriteFrame("1"),this.parentNode,cc.v2(cc.winSize.width/2,50),0,4e3/this.zIndexNum);i.scaleX=1.25,this.waterAction(t,-.025),this.waterAction(e,.025),this.waterAction(o,-.05),this.waterAction(i,.1)},e.prototype.loadShip=function(){var t=this.parentNode.getChildByName("ship");t.zIndex=2500/this.zIndexNum,t.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+300,175),this.parentNode),cc.tween(t).repeatForever(cc.tween().by(1,{y:10}).by(1,{y:-10})).start()},e.prototype.loadFish=function(){for(var t=["jzy","qly","qy"],e=[3500,3500,2500],o=[cc.v2(cc.winSize.width/2+200,15),cc.v2(cc.winSize.width/2-200,30),cc.v2(cc.winSize.width/2,45)],i=0;i<3;i++){var n=cc.instantiate(this.hmyu);n.parent=this.parentNode,n.zIndex=e[i]/this.zIndexNum,n.scale=.5,n.position=s.G35_utils.convertToSpacePos(o[i],this.parentNode),n.getComponent(dragonBones.ArmatureDisplay).playAnimation(t[i]+"_yd",-1),this.fishSwim(n)}},e.prototype.loginEnd=function(t){this.parentNode.getChildByName("play").on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),t!=g.LOGIN_STATE.ACCEPT&&t!=g.LOGIN_STATE.REJECT&&t!=g.LOGIN_STATE.ERROR||(this.lock=!0,c.G35_GlobalParams.gameVar.fromGameplay=!0,this.playBtn.active=!1,this.mvBtn&&(this.mvBtn.active=!1),this.node.getChildByName("loadingProgress").active=!0,this.node.getChildByName("loadingProgress").getChildByName("comfirmBg").position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),this.node.getChildByName("loadingProgress")),this.node.getChildByName("loadingProgress").getComponent(h.default).initSence("G35_Select"))},e.prototype.loadPlay=function(){var t=this,e=this.parentNode.getChildByName("play");e.zIndex=9999,e.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,110+this.offset.y),this.parentNode),e.scale=0,this.playBtn=e,f.pluginManager.hasEffectMvData()&&(e.x-=100),cc.tween(e).delay(.5).call(function(){}).then(cc.scaleTo(.1,1).easing(cc.easeBackOut())).call(function(){_.dialogManager.setArriveDemandCallBack(t.loginEnd,t,e),cc.tween(e).repeatForever(cc.tween().to(1,{scale:1.1}).to(1,{scale:1})).start()}).start()},e.prototype.onTouchBegan=function(){var t=this;this.lock||(d.audioManager.playEffect(this.a17901001),u.default.isBBMGSimulatePlatform()&&m.default.getInstance().guideVipIfNeeded()||(this.lock=!0,this.playBtn.stopAllActions(),f.pluginManager.hasEffectMvData()&&this.mvBtn&&(this.mvBtn.stopAllActions(),this.mvBtn.active=!1),cc.tween(this.playBtn).to(.1,{scale:.6}).then(cc.scaleTo(.3,1).easing(cc.easeBounceOut())).call(function(){console.log("\u8df3\u8f6c\u573a\u666f"),c.G35_GlobalParams.gameVar.fromGameplay=!0,t.playBtn.active=!1,t.mvBtn&&(t.mvBtn.active=!1),t.node.getChildByName("loadingProgress").active=!0,t.node.getChildByName("loadingProgress").getChildByName("comfirmBg").position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2,cc.winSize.height/2),t.node.getChildByName("loadingProgress")),t.node.getChildByName("loadingProgress").getComponent(h.default).initSence("G35_Select")}).start()))},e.prototype.loadMv=function(){var t=this;if(f.pluginManager.hasEffectMvData()){p.guideManager.showMv();var e=this.parentNode.getChildByName("btn_MV");e.zIndex=9999,e.position=s.G35_utils.convertToSpacePos(cc.v2(cc.winSize.width/2+100,110+this.offset.y),this.parentNode),e.scale=0,e.active=!0,this.mvBtn=e,cc.tween(e).delay(.5).then(cc.scaleTo(.1,1).easing(cc.easeBackOut())).call(function(){e.on(cc.Node.EventType.TOUCH_START,t.onTouchMvBegan,t),cc.tween(e).repeatForever(cc.tween().to(1,{scale:1.1}).to(1,{scale:1})).start()}).start()}},e.prototype.onTouchMvBegan=function(){d.audioManager.playEffect(this.a17901001),this.mvBtn.stopAllActions(),d.audioManager.stopLine(),cc.tween(this.mvBtn).to(.1,{scale:.6}).then(cc.scaleTo(.3,1).easing(cc.easeBounceOut())).call(function(){p.guideManager.clickMv()}).start()},e.prototype.waterAction=function(t,e){void 0===e&&(e=.1);var o=t.scaleX,i=t.scaleY;cc.tween(t).repeatForever(cc.tween().to(1,{scaleX:o+e,scaleY:i-e}).to(1,{scaleX:o,scaleY:i}).to(1,{scaleX:o,scaleY:i+2*e}).to(1,{scaleX:o,scaleY:i})).start()},e.prototype.fishSwim=function(t){if(void 0===t&&(t=null),t){var e=l.default.random(1,3);cc.tween(t).repeatForever(cc.tween().by(1,{x:10*-e}).call(function(){t.x<-cc.winSize.width/2-50&&(t.x=cc.winSize.width/2+50)})).start()}},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=r.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0,this.parentNode=this.node.getChildByName("parentNode"),this.loadTitle(),this.loadIsland(),this.loadCloud(),this.loadWter(),this.loadShip(),this.loadFish(),this.loadPlay(),this.loadMv(),u.default.isBBMGSimulatePlatform()&&y.default.getInstance().isBannerAdExist()&&y.default.getInstance().hideBannerAd()},e.prototype.start=function(){d.audioManager.playMusic(this.a228BGM07),d.audioManager.playEffect(this.a22810001),cc.tween(this._title).then(cc.moveTo(.5,cc.v2(0,200)).easing(cc.easeBackOut())).start()},n([S({type:cc.SpriteAtlas,tooltip:"water"})],e.prototype,"waterAlt",void 0),n([S({type:cc.Prefab,tooltip:"\u65b0\u8282\u70b9"})],e.prototype,"newNode",void 0),n([S({type:cc.Prefab,tooltip:"hmyu"})],e.prototype,"hmyu",void 0),n([S({type:cc.AudioClip,tooltip:"228BGM07"})],e.prototype,"a228BGM07",void 0),n([S({type:cc.AudioClip,tooltip:"22810001"})],e.prototype,"a22810001",void 0),n([S({type:cc.AudioClip,tooltip:"22810002"})],e.prototype,"a22810002",void 0),n([S({type:cc.AudioClip,tooltip:"17901001"})],e.prototype,"a17901001",void 0),e=n([b],e)}(a.default);o.default=w,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/Vip/BBVipDialogHelper":"BBVipDialogHelper","../../../../BBGameWeb/Script/Utils/BBGameAdUtil":"BBGameAdUtil","../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBScene":"BBScene","../../../lib/business/manager/DialogManager":"DialogManager","../../../lib/business/manager/GuideManager":"GuideManager","../../../lib/business/manager/LoginManager":"LoginManager","../../../lib/business/manager/PluginManager":"PluginManager","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalParams":"G35_GlobalParams","../../GameUtils/G35_GlobalView":"G35_GlobalView","../../GameUtils/G35_Utils":"G35_Utils","../Common/G35_loadingProgress":"G35_loadingProgress"}],G35_getActiveWindow:[function(t,e,o){"use strict";cc._RF.push(e,"a18c6rV+v5DrIM3Xk8oiFM0","G35_getActiveWindow");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/base/BBDialog"),r=t("../../../lib/business/Manager/AudioManager"),s=t("../../../lib/business/manager/RewardManager"),c=t("../../../lib/core/util/PlatformUtil"),l=t("../../../lib/business/manager/BannerManager"),u=t("../../GameUtils/G35_GlobalView"),d=t("../../../lib/core/util/NetUtil"),p=t("../../../lib/core/util/ToastUtil"),h=t("../../../lib/business/manager/LoadManager"),f=t("../../GameUtils/Analytics/G35_AnalyticsKeyName"),g=t("../../../lib/core/util/MathUtil"),_=t("../../../lib/business/manager/ShareManager"),y=t("../G35_Select/G35_ActiveUi"),m=t("../../../lib/business/manager/SwitchManager"),v=t("../G35_Select/G35_Select"),b=t("../../GameUtils/Analytics/G35_AnalyticsCommon"),S=cc._decorator,w=S.ccclass,A=S.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Y_FACTOR=null,e.offset=null,e._deltaY=null,e.dialogNode=null,e.btnVideoNode=null,e.btnShareNode=null,e.btnFreeNode=null,e.closeNode=null,e.newNode=null,e.staminaImg=null,e.coinInsufficient=null,e.videoCoin=null,e.shareCoin=null,e.videoCoin2=null,e.freeACrive=null,e[13801002]=null,e[13801001]=null,e.a21110009=null,e.bag=[],e.touchSwitch=!0,e.unlockType=1,e.num=0,e.targetNode=null,e.flyNode=null,e.loopSoundId=null,e.callBackFuntion=null,e.isSound=!1,e}return i(e,t),e.prototype.init=function(){var e=this;t.prototype.showDialog.call(this),r.audioManager.stopLine(),this.node.active=!0,this.node.opacity=255;this.scheduleOnce(function(){r.audioManager.playLine(e.coinInsufficient)},.2),m.switchManager.isRewardOpen()?(this.btnVideoNode.active=!0,this.btnShareNode.active=!1,this.unlockType=1,b.analyticsCommon.modalModule(f.default.ACTIVE_WINDOW_VIDEO,1),s.rewardManager.buttonShow(f.default.ACTIVE_WINDOW_VIDEO),this.scheduleOnce(function(){r.audioManager.playLine(e.videoCoin)},2)):this.noAdFun(.1),this.node.getChildByName("mask").opacity=200,this.touchSwitch=!0,this.animation(),this.dialogNode.setPosition(cc.v2(0,u.G35_globalView.AdHeight/2)),l.bannerManager.showDefault(l.BannerPosition.BOTTOM)},e.prototype.noAdFun=function(t){var e=this;c.default.isWechatGame()||c.default.isWxSimulatePlatform()?(this.btnVideoNode.active=!1,this.btnShareNode.active=!0,this.unlockType=2,b.analyticsCommon.modalModule(f.default.ACTIVE_WINDOW_SHARE,1),_.shareManager.buttonShow(f.default.ACTIVE_WINDOW_SHARE),this.scheduleOnce(function(){r.audioManager.playLine(e.shareCoin)},t)):(this.unlockType=3,this.btnVideoNode.active=!1,this.btnShareNode.active=!1,this.btnFreeNode.active=!0,this.scheduleOnce(function(){r.audioManager.playLine(e.freeACrive)},t))},e.prototype.animation=function(){var t=this,e=cc.tween().repeatForever(cc.tween().call(function(){r.audioManager.playEffect(t[13801002])}).to(.2,{scale:1.1}).to(.2,{scale:1}).to(.2,{scale:1.1}).to(.2,{scale:1}).delay(3));1==this.unlockType?cc.tween(this.btnVideoNode).then(e).start():2==this.unlockType?cc.tween(this.btnShareNode).then(e).start():cc.tween(this.btnFreeNode).then(e).start()},e.prototype.stopAnimation=function(){this.btnVideoNode.stopAllActions(),this.btnShareNode.stopAllActions()},e.prototype.reset=function(){},e.prototype.unlockVideo=function(){var t=this;b.analyticsCommon.modalModule(f.default.ACTIVE_WINDOW_VIDEO,2),this.touchSwitch&&(this.stopAnimation(),this.touchSwitch=!1,c.default.isBaiduGame()?d.netUtil.getWifiState().then(function(){t.showVideo()}).catch(function(){p.default.toastShort(h.loadManager.getString("o2")),t.scheduleOnce(function(){t.animation(),t.touchSwitch=!0},1)}):d.netUtil.getRewardNetState().then(function(){t.showVideo()}).catch(function(){t.touchSwitch=!0,p.default.toastShort(h.loadManager.getString("o3"))}),r.audioManager.playEffect(this[13801001]))},e.prototype.showVideo=function(){var t=this;h.loadManager.showLoadingWithMask();var e=0;this.schedule(function(){if(e++,s.rewardManager.isValid())d.netUtil.getRewardNetState().then(function(){t.unscheduleAllCallbacks(),h.loadManager.hideLoading(),r.audioManager.stopLine(),s.rewardManager.show(f.default.ACTIVE_WINDOW_VIDEO).then(t.rewardSuccess.bind(t)).catch(function(e){e&&e.errCode&&("1004"==e.errCode||"1003"==e.errCode)&&c.default.isTouTiao()?(p.default.toastShort(h.loadManager.getString("o4")),t.touchSwitch=!0):t.rewardFail.bind(t)()})}).catch(function(){t.touchSwitch=!0,p.default.toastShort(h.loadManager.getString("o3"))});else if(e>=5){if(t.unscheduleAllCallbacks(),h.loadManager.hideLoading(),!c.default.isWechatGame())return void(c.default.isOppo()?(p.default.toastShort(h.loadManager.getString("o5")),t.close()):(p.default.toastShort(h.loadManager.getString("o6")),t.scheduleOnce(function(){t.rewardSuccess(null)},1)));p.default.toastShort(h.loadManager.getString("o7")),t.scheduleOnce(function(){t.touchSwitch=!0,t.changeShareBtn()},1)}},1)},e.prototype.unlockShare=function(){var t=this;if(d.netUtil.isNetActive()){if(this.node.stopAllActions(),b.analyticsCommon.modalModule(f.default.ACTIVE_WINDOW_SHARE,2),this.touchSwitch){this.stopAnimation(),this.touchSwitch=!1;var e="share";1==g.default.random(1,2)&&(e="menu"),_.shareManager.shareApp(e,f.default.ACTIVE_WINDOW_SHARE).then(function(){console.log("\u5206\u4eab\u6210\u529f"),t.rewardSuccess("Share")}).catch(function(){console.log("\u5206\u4eab\u5931\u8d25")})}}else p.default.toastShort(h.loadManager.getString("o1"))},e.prototype.rewardSuccess=function(t){this.node.opacity=0,l.bannerManager.hide(),this.loadCoin(),cc.find("Canvas").getComponent(v.default).openRandomAct(),cc.find("Canvas").getComponent(v.default).signPopup()},e.prototype.loadCoin=function(){for(var t=this,e=[cc.v2(-100,0),cc.v2(-50,0),cc.v2(0,0),cc.v2(50,0),cc.v2(100,0)],o=function(o){var n=cc.instantiate(i.newNode);n.getComponent(cc.Sprite).spriteFrame=i.staminaImg,n.parent=cc.find("Canvas"),n.position=e[o],n.zIndex=8100,i.scheduleOnce(function(){t.flyToTop(n,o+1)},2)},i=this,n=0;n<5;n++)o(n);r.audioManager.playEffect(this.a21110009),this.scheduleOnce(function(){t.node.active=!1},2.5)},e.prototype.flyToTop=function(t,e){var o=cc.find("Canvas/activeUi").position,i=(o.sub(this.node.position).mag(),.1*(e-2));cc.tween(t).delay(i+.1).then(cc.jumpTo(.7,o,150,1)).call(function(){cc.find("Canvas/activeUi").getComponent(y.default).addActive(1)}).removeSelf().start()},e.prototype.rewardFail=function(){this.touchSwitch=!0,this.animation(),p.default.toastShort(h.loadManager.getString("o8")),r.audioManager.playLine(this.videoCoin2)},e.prototype.changeShareBtn=function(){b.analyticsCommon.modalModule(f.default.ACTIVE_WINDOW_SHARE,1),_.shareManager.buttonShow(f.default.ACTIVE_WINDOW_SHARE),this.btnVideoNode.active=!1,this.btnShareNode.active=!0,this.unlockType=2,this.animation()},e.prototype.close=function(t){if(void 0===t&&(t=null),t){if(!this.touchSwitch)return;this.stopAnimation(),r.audioManager.playEffect(this[13801001])}this.node.stopAllActions(),this.dialogNode.y=0,l.bannerManager.hide(),this.node.active=!1,r.audioManager.stopLine(),cc.find("Canvas").getComponent(v.default).signPopup(),cc.find("Canvas").getComponent(v.default).openRandomAct()},e.prototype.setSucCallBack=function(t){this.callBackFuntion=t},e.prototype.iconStyle=function(){var t=this.btnVideoNode.getChildByName("icon-vedio_tt"),e=this.btnVideoNode.getChildByName("icon-vedio");console.log(t),console.log(e),c.default.isTouTiao()?(t.active=!0,e.active=!1):(t.active=!1,e.active=!0)},e.prototype.onDestroy=function(){l.bannerManager.hide()},e.prototype.onEnable=function(){this.showDialog(),t.prototype.onEnable.call(this)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),console.log("black,im show"),this.Y_FACTOR=16/9*(cc.winSize.height/cc.winSize.width);var e=u.G35_globalView.offset;this.offset=e,this._deltaY=380*this.Y_FACTOR-380+0},e.prototype.start=function(){this.init(),this.iconStyle()},n([A({tooltip:"\u5f39\u7a97\u8282\u70b9",type:cc.Node})],e.prototype,"dialogNode",void 0),n([A({tooltip:"\u89c6\u9891\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnVideoNode",void 0),n([A({tooltip:"\u5206\u4eab\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnShareNode",void 0),n([A({tooltip:"\u514d\u8d39\u89e3\u9501\u6309\u94ae",type:cc.Node})],e.prototype,"btnFreeNode",void 0),n([A({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"closeNode",void 0),n([A({tooltip:"\u9884\u5236\u4f53",type:cc.Prefab})],e.prototype,"newNode",void 0),n([A({tooltip:"\u95ea\u7535",type:cc.SpriteFrame})],e.prototype,"staminaImg",void 0),n([A({tooltip:"\u4f60\u7684\u91d1\u5e01\u4e0d\u591f\u5566",type:cc.AudioClip})],e.prototype,"coinInsufficient",void 0),n([A({tooltip:"\u770b\u89c6\u9891\u53ef\u4ee5\u514d\u8d39\u83b7\u5f97\u91d1\u5e01\u5662",type:cc.AudioClip})],e.prototype,"videoCoin",void 0),n([A({tooltip:"\u5206\u4eab\u53ef\u4ee5\u514d\u8d39\u83b7\u5f97\u91d1\u5e01\u5662",type:cc.AudioClip})],e.prototype,"shareCoin",void 0),n([A({tooltip:"\u770b\u5b8c\u89c6\u9891\u53ef\u4ee5\u514d\u8d39\u83b7\u5f97\u91d1\u5e01\u5662",type:cc.AudioClip})],e.prototype,"videoCoin2",void 0),n([A({tooltip:"\u4f60\u7684\u4f53\u529b\u4e0d\u591f\u5566\uff0c\u5feb\u6765\u9886\u53d6\u514d\u8d39\u4f53\u529b",type:cc.AudioClip})],e.prototype,"freeACrive",void 0),n([A({tooltip:"\u7f29\u653e",type:cc.AudioClip})],e.prototype,13801002,void 0),n([A({tooltip:"\u901a\u7528\u70b9\u51fb",type:cc.AudioClip})],e.prototype,13801001,void 0),n([A({type:cc.AudioClip,tooltip:"\u91d1\u5e01\u58f0\u97f3"})],e.prototype,"a21110009",void 0),e=n([w],e)}(a.default);o.default=C,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager","../../../lib/business/base/BBDialog":"BBDialog","../../../lib/business/manager/BannerManager":"BannerManager","../../../lib/business/manager/LoadManager":"LoadManager","../../../lib/business/manager/RewardManager":"RewardManager","../../../lib/business/manager/ShareManager":"ShareManager","../../../lib/business/manager/SwitchManager":"SwitchManager","../../../lib/core/util/MathUtil":"MathUtil","../../../lib/core/util/NetUtil":"NetUtil","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../../lib/core/util/ToastUtil":"ToastUtil","../../GameUtils/Analytics/G35_AnalyticsCommon":"G35_AnalyticsCommon","../../GameUtils/Analytics/G35_AnalyticsKeyName":"G35_AnalyticsKeyName","../../GameUtils/G35_GlobalView":"G35_GlobalView","../G35_Select/G35_ActiveUi":"G35_ActiveUi","../G35_Select/G35_Select":"G35_Select"}],"G35_k-cocos":[function(t,e,o){"use strict";cc._RF.push(e,"0f5d4EHhQRFOYmXzqHZnA3n","G35_k-cocos"),function(t){var e=window.cc;e.kMultTouch=function(t){e.internal&&e.internal.inputManager?e.internal.inputManager._maxTouches=t:window._cc&&window._cc.inputManager&&(window._cc.inputManager._maxTouches=t)}}(),cc.kMultTouch(1),cc._RF.pop()},{}],G35_loadingProgress:[function(t,e,o){"use strict";cc._RF.push(e,"d3cdbedYWVNQq6Uw/eOMdav","G35_loadingProgress");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../GameUtils/G35_GlobalView"),r=t("../../../lib/business/manager/LoadManager"),s=t("../../../../BBGameWeb/Script/Common/BBLoader"),c=t("../../../lib/core/util/PlatformUtil"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.senceName=null,e.comfirm=null,e.touchNode=null,e.loadbg=null,e.loadImg=null,e.isTouch=!0,e.isturnSence=!1,e}return i(e,t),e.prototype.initSence=function(t){var e=this,o=a.G35_globalView.offset;this.senceName=t,this.comfirm=this.node.getChildByName("comfirmBg"),this.touchNode=this.comfirm.getChildByName("btn"),this.loadbg=this.node.getChildByName("bg"),this.loadImg=this.loadbg.getChildByName("loading"),this.loadbg.y=-cc.winSize.height/2+200+o.y,this.touchNode.on(cc.Node.EventType.TOUCH_START,this.onOkTouchBegan,this),this.initLoad(),this.preloadScene(),this.scheduleOnce(function(){e.isturnSence=!0},1)},e.prototype.initLoad=function(){this.node.getChildByName("mask").active=!1,this.comfirm.active=!1,this.loadImg.getComponent(cc.Sprite).fillRange=0,this.isTouch=!0},e.prototype.preloadScene=function(){var t=this;c.default.isBBMGSimulatePlatform()?s.default.getInstance().preloadScene(this.senceName,this,function(e){t.setProgress(e)}).then(function(){t.loadSuccess()}):r.loadManager.preloadScene(this.senceName,{onPreloadProgress:function(e){t.setProgress(e)},onPreloadFail:function(){console.log("\u52a0\u8f7d\u5931\u8d25\u56de\u8c03"),t.loadFail()},onPreloadSuccess:function(){console.log("\u52a0\u8f7d\u6210\u529f\u56de\u8c03"),t.loadSuccess()}})},e.prototype.setProgress=function(t){this.loadImg.getComponent(cc.Sprite).fillRange=t},e.prototype.loadFail=function(){this.node.getChildByName("mask").active=!0,this.comfirm.active=!0},e.prototype.loadSuccess=function(){var t=this;this.isturnSence?cc.director.loadScene(this.senceName):this.scheduleOnce(function(){t.loadSuccess()},.1)},e.prototype.onOkTouchBegan=function(){this.isTouch&&(this.isTouch=!1,this.initLoad(),this.preloadScene())},e.prototype.start=function(){},e=n([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../lib/business/manager/LoadManager":"LoadManager","../../../lib/core/util/PlatformUtil":"PlatformUtil","../../GameUtils/G35_GlobalView":"G35_GlobalView"}],G35_playLight:[function(t,e,o){"use strict";cc._RF.push(e,"4b426e76VBF3ZbK+Sf7IBqE","G35_playLight");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../lib/business/Manager/AudioManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.a22804009=null,e}return i(e,t),e.prototype.playLight=function(t,e,o){var i=this;a.audioManager.playEffect(this.a22804009),this.node.parent=t,this.node.zIndex=e,this.node.getChildByName("mask").setContentSize(cc.winSize.width,cc.winSize.height),cc.tween(this.node.getChildByName("mask")).to(.4,{opacity:180}).call(function(){cc.tween(i.node.getChildByName("light")).then(cc.scaleTo(.4,1.8).easing(cc.easeIn(.5))).call(function(){cc.tween(i.node.getChildByName("light")).repeatForever(cc.tween().by(6,{angle:360})).start(),cc.tween(i.node.getChildByName("light")).delay(o-.8).to(.4,{opacity:0}).start()}).start()}).start()},e.prototype.start=function(){},n([c({type:cc.AudioClip,tooltip:"22804009"})],e.prototype,"a22804009",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../lib/business/Manager/AudioManager":"AudioManager"}],GameIcons:[function(t,e,o){"use strict";cc._RF.push(e,"6e6e10ZkIlONJKzxqsGJ7w4","GameIcons");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../business/constants/BusinessGlobal"),s=t("../../business/manager/MediaManager"),c=t("../../core/util/DeviceUtil"),l=t("../../core/util/PlatformUtil"),u=t("../../core/util/NodeUtil"),d=t("../../business/manager/AnalyticsManager"),p=t("../../business/constants/PublicAnalyticsKey"),h=t("../../core/util/StoreUtil"),f=t("../../core/util/MathUtil"),g=t("../../core/util/LogUtil"),_=t("../../business/manager/DialogManager"),y=t("../../business/constants/AdTag"),m=t("../../business/handler/AdInfoHandler"),v=t("../../debug/plugins/codeLock/LibDebug"),b="GameIcons",S=cc._decorator,w=S.ccclass,A=S.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameNode=null,e.moreNode=null,e.actionNode=null,e.btnClose=null,e.listIconsBg=[],e.gameIcon=null,e.gamePortal=null,e.lefts=[],e.top=0,e.iconCount=3,e.current=0,e.isUpdate=!1,e.size=66,e.firstY=null,e.endY=null,e.name="GameIcons",e.openActionRecord=null,e.closeActionRecord=null,e.iconActionRecord=null,e.reject=null,e.resolve=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=9997,this.firstY=.5*cc.find("Canvas").height,this.endY=this.firstY+80,this.frameNode.active=!1,this.btnClose.active=!1,r.BusinessGlobal.gameIcons=this,this.startTask()},e.prototype.init=function(t,e){this.resolve=t,this.reject=e},e.prototype.start=function(){this.moreNode.on(cc.Node.EventType.TOUCH_END,this.showGamePortal,this)},e.prototype.onDestroy=function(){this.stopTask(),r.BusinessGlobal.gameIcons=null,r.BusinessGlobal.gameIconsCanShow=!1,this.gameIcon&&this.gameIcon.destroy(),this.gamePortal&&this.gamePortal.destroy()},e.prototype.openComponent=function(){var t=this;this.openActionRecord&&this.node.stopAction(this.openActionRecord),this.openActionRecord=cc.sequence(cc.callFunc(function(){t.node.y=t.endY}),cc.moveTo(.2,this.node.x,this.firstY),cc.callFunc(function(){t.gameIcon&&(t.gameIcon.show(),t.action())})),this.node.runAction(this.openActionRecord)},e.prototype.closeComponent=function(){var t=this;this.closeActionRecord&&this.node.stopAction(this.closeActionRecord),this.gameIcon&&this.gameIcon.destroy(),this.closeActionRecord=cc.sequence(cc.callFunc(function(){t.node.y=t.firstY}),cc.moveTo(.2,this.node.x,this.endY),cc.callFunc(function(){t.hideBanner()})),this.node.runAction(this.closeActionRecord)},e.prototype.startTask=function(){this.createGameIcon(),this.createGamePortal(),this.showGameIcon()},e.prototype.stopTask=function(){this.gameIcon&&this.gameIcon.destroy(),this.gamePortal&&this.gamePortal.destroy(),this.isUpdate=!1,this.node&&this.node.stopAllActions(),this.unscheduleAllCallbacks(),this.actionNode&&this.actionNode.stopAllActions(),this.moreNode&&this.moreNode.stopAllActions()},e.prototype.getPlatformNodeInfo=function(t){var e=u.default.proportion(),o=t.parent.convertToWorldSpaceAR(t.position),i=cc.v2(o.x,37).sub(cc.v2(this.size/2,0)),n=Math.floor(i.x*e),a=c.deviceUtil.cocos2Unit(37-this.size/2),r=this.size*e;return{left:n,top:a,width:r,height:r}},e.prototype.createGameIcon=function(){this.restoreNormalBtn(),"1"===h.default.get(v.default.debugStroyString,"0")&&(this.iconCount=f.default.random(1,3));var t=0,e=0,o=this.frameNode.children;this.lefts=[];for(var i=[],a=0;a<this.iconCount;a++){var r=this.getPlatformNodeInfo(o[a]);this.lefts.push(r.left),0===a&&(t=r.width,e=r.top)}var s={borderWidth:2,borderColor:"#ffffff",appNameHidden:!0,size:t,left:0,top:e};for(a=0;a<this.iconCount;a++)i.push(n({},s,{left:this.lefts[a]}));var c=m.adInfoHandler.getId(y.default.GAME_ICON);l.default.isWechatGame()&&(d.analyticsManager.recordEvent(p.default.RECOMMEND_MODULE,c,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.gameIcon=wx.createGameIcon({count:this.iconCount,adUnitId:c,style:i}))},e.prototype.showGameIcon=function(){var t=this;this.gameIcon&&(g.default.fLog(b,"showGameIcon"),this.gameIcon.load().then(function(){t.iconCount=t.gameIcon.iconCount,g.default.fLog(b,"showGameIcon success:"+t.gameIcon.iconCount),t.gameIcon.iconCount>=2?(t.recordIconCountToShow(),t.frameNode.active=!0,t.btnClose.active=!0,_.dialogManager.isDialogShow()?t.node.active=!1:(t.node.active=r.BusinessGlobal.gameIconsCanShow,r.BusinessGlobal.gameIconsCanShow&&(t.openComponent(),d.analyticsManager.recordEvent(p.default.RECOMMEND_COUNT,"\u66dd\u5149"))),g.default.fLog(b,"showGameIcon success 222:"),t.resolve&&(g.default.fLog(b,"showGameIcon cb:"),t.resolve(),t.resolve=null,t.reject=null)):(g.default.errorLog("\u63a8\u8350\u4f4d\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25","icon\u6570\u91cf\u4e0d\u8db3"),t.loadFailed())}).catch(function(e){var o=m.adInfoHandler.getId(y.default.GAME_ICON);d.analyticsManager.recordEvent(p.default.RECOMMEND_MODULE,o,e.errCode),g.default.errorLog("\u63a8\u8350\u4f4d\u7ec4\u4ef6\u5c55\u793a\u5931\u8d25",e),t.loadFailed()}))},e.prototype.recordIconCountToShow=function(){var t=this,e=this.gameIcon.icons[0];this.setNormalBtn(this.gameIcon.iconCount);var o=Math.floor((e.width-e.size)/2),i=this.gameIcon.icons[0].top-9.8;this.top=i,this.gameIcon.icons.forEach(function(e,i){var n=t.getPlatformNodeInfo(t.listIconsBg[i]).left-o;t.lefts[i]=n,e.left=n,e.top=t.top}),g.default.sdkComponentLog(this,"icon data is"+this.gameIcon)},e.prototype.createGamePortal=function(){var t=m.adInfoHandler.getId(y.default.GAME_PORTAL);l.default.isWechatGame()&&(this.gamePortal=wx.createGamePortal({adUnitId:t}))},e.prototype.showGamePortal=function(){var t=this;this.gamePortal&&this.gamePortal.load().then(function(){d.analyticsManager.recordEvent(p.default.RECOMMEND_COUNT,"\u70b9\u51fb"),t.gamePortal.show()}).catch(function(t){console.error(t)})},e.prototype.action=function(){var t=this;this.current=0,this.iconActionRecord&&this.node.stopAction(this.iconActionRecord),this.iconActionRecord=this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3.4),cc.callFunc(function(){t.current>=t.iconCount+1&&(t.current=0),t.current===t.iconCount?t.moreNode.runAction(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1),cc.scaleTo(.1,1.1),cc.scaleTo(.1,1),cc.callFunc(function(){t.current++}))):(t.isUpdate=!0,t.actionNode.stopAllActions(),t.actionNode.x=0,t.actionNode.runAction(cc.sequence(cc.moveBy(.05,-5,0),cc.moveBy(.1,10,0),cc.moveBy(.05,-5,0),cc.delayTime(0),cc.callFunc(function(){t.isUpdate=!1,t.actionNode.x=0,t.current++}))))}))))},e.prototype.loadFailed=function(){this.hideBanner(),g.default.fLog(b,"showGameIcon loadFailed :"),this.reject&&(this.reject(),g.default.fLog(b,"showGameIcon loadFailed 3333:"),this.resolve=null,this.reject=null)},e.prototype.hideBanner=function(){this.stopTask(),r.BusinessGlobal.gameIcons=null,r.BusinessGlobal.gameIconsCanShow=!1,this.gameIcon&&this.gameIcon.destroy(),this.gamePortal&&this.gamePortal.destroy(),s.mediaManager.hideGameIcons(),this.node&&this.node.destroy()},e.prototype.update=function(t){if(this.isUpdate){var e=this.actionNode.x,o=c.deviceUtil.cocos2Unit(e);this.gameIcon&&this.gameIcon.icons[this.current]&&(this.gameIcon.icons[this.current].left=this.lefts[this.current]+o)}},e.prototype.setNormalBtn=function(t){t-=1,this.btnClose.x=[102,136.5,168][t],this.frameNode.width=[200,270,330][t],this.frameNode.x=[-42,-45,-40][t],this.listIconsBg[0].x=[-40,-79,-117.5][t],this.listIconsBg[1].x=[-40,0,-38.5][t],this.listIconsBg[2].x=[-40,0,38.5][t],this.moreNode.x=[41,79,117.5][t]},e.prototype.restoreNormalBtn=function(){this.btnClose.x=168,this.frameNode.width=330,this.frameNode.height=83,this.frameNode.x=-40,this.listIconsBg[0].x=-117.5,this.listIconsBg[1].x=-38.5,this.listIconsBg[2].x=38.5,this.moreNode.x=117.5},a([A({tooltip:"icon \u7236\u8282\u70b9",type:cc.Node})],e.prototype,"frameNode",void 0),a([A({tooltip:"\u66f4\u591a\u6e38\u620f",type:cc.Node})],e.prototype,"moreNode",void 0),a([A({tooltip:"\u52a8\u4f5c\u57fa\u51c6\u8282\u70b9",type:cc.Node})],e.prototype,"actionNode",void 0),a([A({tooltip:"\u5173\u95ed\u6309\u94ae\u8282\u70b9",type:cc.Node})],e.prototype,"btnClose",void 0),a([A({tooltip:"\u56fe\u6807\u80cc\u666f\u6309\u94ae\u8282\u70b9\u7ec4",type:[cc.Node]})],e.prototype,"listIconsBg",void 0),e=a([w],e)}(cc.Component);o.default=C,cc._RF.pop()},{"../../business/constants/AdTag":"AdTag","../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/handler/AdInfoHandler":"AdInfoHandler","../../business/manager/AnalyticsManager":"AnalyticsManager","../../business/manager/DialogManager":"DialogManager","../../business/manager/MediaManager":"MediaManager","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/NodeUtil":"NodeUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../../debug/plugins/codeLock/LibDebug":"LibDebug"}],GameMoudleBase:[function(t,e,o){"use strict";cc._RF.push(e,"eb339cWuAxF1LzvDIKfbpsQ","GameMoudleBase");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../BBGameWeb/Script/Common/BBLoader"),r=t("../../lib/business/base/BBScene"),s=t("../../lib/business/manager/PluginManager"),c=t("../../lib/core/util/PlatformUtil"),l=t("../GlobalView"),u=t("./GlobalParamsBase"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabBackBtn=null,e.prefabSceneLoadFail=null,e.X_OFFSET=0,e.Y_OFFSET=0,e.Y_FACTOR=0,e.gameNo=u.default.gameNo,e.backSceneName="Select",e.nodeBack=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this);var e=l.default.offset,o=l.default.factor;this.X_OFFSET=e.x,this.Y_OFFSET=e.y,this.Y_FACTOR=o.y,cc.director.on(r.BBSceneEventName.SCENE_BACK,this.sceneBack,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),cc.director.off(r.BBSceneEventName.SCENE_BACK,this.sceneBack,this)},e.prototype.loadBackBtn=function(){if(this.prefabBackBtn){var t=cc.instantiate(this.prefabBackBtn);t.parent=this.node,t.setPosition(cc.v2(-405-this.X_OFFSET,195+this.Y_OFFSET)),t.zIndex=1996,this.nodeBack=t}},e.prototype.sceneBack=function(){if(this.isSelect()){if(s.pluginManager.isBusSceneEffect())return void s.pluginManager.loadBusScene();this.nextScene(this.gameNo+"_Welcome")}else this.nextScene(this.gameNo+"_"+this.backSceneName)},e.prototype.nextScene=function(t){this.node.stopAllActions(),this.jumpToLoading(t)},e.prototype.jumpToLoading=function(t){var e=this;c.default.isBBMGSimulatePlatform()?a.default.getInstance().loadScene(t,this):cc.director.loadScene(t,function(t){t&&e.loadSceneFailModal()})},e.prototype.loadSceneFailModal=function(){if(this.prefabSceneLoadFail){var t=cc.instantiate(this.prefabSceneLoadFail);t.zIndex=12e3,t.parent=this.node}else console.log("\u9519\u8bef\u4fe1\u606f\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25")},n([h({tooltip:"\u8fd4\u56de\u6309\u94ae\u9884\u5236\u4f53",type:cc.Prefab})],e.prototype,"prefabBackBtn",void 0),n([h({tooltip:"\u573a\u666f\u52a0\u8f7d\u5931\u8d25\u5f39\u7a97",type:cc.Prefab})],e.prototype,"prefabSceneLoadFail",void 0),e=n([p],e)}(r.default);o.default=f,cc._RF.pop()},{"../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../lib/business/base/BBScene":"BBScene","../../lib/business/manager/PluginManager":"PluginManager","../../lib/core/util/PlatformUtil":"PlatformUtil","../GlobalView":"GlobalView","./GlobalParamsBase":"GlobalParamsBase"}],GamePageRecommendV2:[function(t,e,o){"use strict";cc._RF.push(e,"2e1c9uCIQRElq6GWKLFvIDs","GamePageRecommendV2");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("../../../business/constants/BusinessGlobal"),s=t("../../../../Config/FrameworkConfig"),c=t("../../../business/manager/GuideManager"),l=t("../../../core/component/LabelControlMaxFontByWidth"),u=t("../../../business/manager/AudioManager"),d=t("../../../business/manager/JumpManager"),p=t("../../../business/constants/PublicAnalyticsKey"),h=t("../../../core/util/ImageUtil"),f=t("../../../core/util/LogUtil"),g=t("../../../business/constants/GuideId"),_=t("../../../business/manager/DialogManager");(function(t){t[t.DONT_HAS_SCALE_BTN=0]="DONT_HAS_SCALE_BTN",t[t.HAS_SCALE_BTN=1]="HAS_SCALE_BTN"})(a||(a={}));var y=cc._decorator,m=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnJumpOne=null,e.btnJumpTwo=null,e.btnScale=null,e.sprJumpIconOne=null,e.sprJumpIconTwo=null,e.labJumpTitleOne=null,e.labJumpTitleTwo=null,e.labJumpDescOne=null,e.labJumpDescTwo=null,e.acTouch=null,e.normalPos=null,e.appData1=null,e.appData2=null,e.jumpCooling=!1,e.scaleCooling=!1,e.type2Touched=!1,e.name="GamePageRecommendV2",e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.initSet(),this.initParams(),this.refreshView(),this.initListener(),this.beginAni(),o.type!==a.HAS_SCALE_BTN&&(this.unschedule(this.endAni),this.scheduleOnce(this.endAni,20.5))},e.prototype.onDestroy=function(){r.BusinessGlobal.gamePageRecommend=null,r.BusinessGlobal.gamePageCanShow=!1},e.prototype.onEnable=function(){_.dialogManager.isDialogShow()&&(this.node.active=!1)},e.prototype.updateView=function(){this.initParams(),this.refreshView()},e.prototype.initSet=function(){this.node.zIndex=9997,r.BusinessGlobal.gamePageRecommend=this,_.dialogManager.isDialogShow()?this.node.active=!1:this.node.active=r.BusinessGlobal.gamePageCanShow,this.node.scale=s.default.GamePageScale},e.prototype.initParams=function(){var t=c.guideManager.getDataByWeight(g.default.BANNER,2);this.appData1=t[0],this.appData2=t[1],f.default.sdkComponentLog("===initParams",t),t||(this.node.active=!1)},e.prototype.refreshView=function(){o.type===a.DONT_HAS_SCALE_BTN?(this.btnScale.active=!1,this.node.x=o.x):(this.btnScale.active=!0,this.node.x=0),this.paintApp(1),this.paintApp(2)},e.prototype.initListener=function(){this.btnJumpOne.getChildByName("touch").count=1,this.btnJumpOne.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.jumpEvent,this),this.btnJumpTwo.getChildByName("touch").count=2,this.btnJumpTwo.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.jumpEvent,this),this.btnScale.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.scaleEvent,this),this.unschedule(this.updateView),this.schedule(this.updateView,15)},e.prototype.paintApp=function(t){var e=this;if(this["appData"+t]){var o={1:"One",2:"Two"}[t];this["labJumpTitle"+o].string=this["appData"+t].programName,this["labJumpDesc"+o].string=this["appData"+t].description,this["labJumpDesc"+o].setNowBestShowFont(),this["sprJumpIcon"+o].spriteFrame=null,d.jumpManager.buttonShow(this["appData"+t],p.default.GM_BANNER,t),h.default.loadSpriteFrame(this["appData"+t].logo).then(function(t){e["sprJumpIcon"+o].spriteFrame=t,e["sprJumpIcon"+o].node.setContentSize(56,56)})}},e.prototype.jumpEvent=function(t){var e=this;if(u.audioManager.playEffect(this.acTouch),!this.jumpCooling&&!this.scaleCooling&&(this.jumpCooling=!0,this["appData"+t.target.count])){var o=this;c.guideManager.addBeanBlack(g.default.BANNER,this["appData"+t.target.count]),d.jumpManager.navigateToApp(this["appData"+t.target.count],p.default.GM_BANNER,g.default.BANNER,t.target.count).then(function(t){o&&(e.type2Touched=!0,e.jumpCooling=!1)}).catch(function(){o&&(e.type2Touched=!0,o.jumpCooling=!1)})}},e.prototype.scaleEvent=function(){var t=this;u.audioManager.playEffect(this.acTouch),this.scaleCooling||(this.scaleCooling=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.5,this.normalPos.x,this.normalPos.y+69).easing(cc.easeIn(5)),cc.callFunc(function(){t.scaleCooling=!1}))))},e.prototype.beginAni=function(){var t=this;this.node.stopAllActions(),this.scaleCooling=!0,this.scheduleOnce(function(){t.normalPos=t.node.position,cc.log(t.normalPos),t.node.runAction(cc.sequence(cc.moveTo(.5,t.normalPos.x,t.normalPos.y-69).easing(cc.easeIn(5)),cc.callFunc(function(){t.scaleCooling=!1})))},5)},e.prototype.endAni=function(){var t=this;this.type2Touched||this.scaleCooling||(this.scaleCooling=!0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.5,this.normalPos.x,this.normalPos.y+69).easing(cc.easeIn(5)),cc.callFunc(function(){t.unschedule(t.updateView),t.scaleCooling=!1}))))},e.setType=function(t,e){void 0===t&&(t=a.HAS_SCALE_BTN),this.type=t,this.x=e},e.type=a.HAS_SCALE_BTN,e.x=42.5,n([v({tooltip:"\u8df3\u8f6c\u6309\u94ae1",type:cc.Node})],e.prototype,"btnJumpOne",void 0),n([v({tooltip:"\u8df3\u8f6c\u6309\u94ae2",type:cc.Node})],e.prototype,"btnJumpTwo",void 0),n([v({tooltip:"\u4f38\u7f29\u6309\u94ae",type:cc.Node})],e.prototype,"btnScale",void 0),n([v({tooltip:"\u8df3\u8f6cico\u7cbe\u7075\u7ec4\u4ef61",type:cc.Sprite})],e.prototype,"sprJumpIconOne",void 0),n([v({tooltip:"\u8df3\u8f6cicon\u7cbe\u7075\u7ec4\u4ef62",type:cc.Sprite})],e.prototype,"sprJumpIconTwo",void 0),n([v({tooltip:"\u8df3\u8f6ctitle\u6807\u7b7e\u7ec4\u4ef61",type:cc.Label})],e.prototype,"labJumpTitleOne",void 0),n([v({tooltip:"\u8df3\u8f6ctitle\u6807\u7b7e\u7ec4\u4ef62",type:cc.Label})],e.prototype,"labJumpTitleTwo",void 0),n([v({tooltip:"\u8df3\u8f6capp\u8bf4\u660e\u6807\u7b7e\u7ec4\u4ef61",type:l.default})],e.prototype,"labJumpDescOne",void 0),n([v({tooltip:"\u8df3\u8f6capp\u8bf4\u660e\u6807\u7b7e\u7ec4\u4ef62",type:l.default})],e.prototype,"labJumpDescTwo",void 0),n([v({tooltip:"\u6309\u952e\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=o=n([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../../../Config/FrameworkConfig":"FrameworkConfig","../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/DialogManager":"DialogManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../core/component/LabelControlMaxFontByWidth":"LabelControlMaxFontByWidth","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil"}],GamePageRecommend:[function(t,e,o){"use strict";cc._RF.push(e,"606b7DNOTNDdKV8obpcts9j","GamePageRecommend");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/manager/GuideManager"),r=t("../../../core/util/ArrayUtil"),s=t("../../../business/manager/JumpManager"),c=t("../../../business/constants/PublicAnalyticsKey"),l=t("../../../core/util/ImageUtil"),u=t("../../../business/manager/AudioManager"),d=t("../../../business/constants/BusinessGlobal"),p=t("../../../../Config/FrameworkConfig"),h=t("../../../core/util/LogUtil"),f=t("../../../business/constants/GuideId"),g=t("../../../business/manager/DialogManager"),_=cc._decorator,y=_.ccclass,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrItem=[],e.nodeFrame=null,e.acTouch=null,e.btnClose=null,e.closeCool=!1,e.name="GamePageRecommend",e}var o;return i(e,t),o=e,e.setX=function(t){this.x=t},e.prototype.onLoad=function(){this.node.x=o.x,this.node.zIndex=9997,d.BusinessGlobal.gamePageRecommend=this,this.node.active=d.BusinessGlobal.gamePageCanShow,this.node.scale=p.default.GamePageScale,this.btnClose.on(cc.Node.EventType.TOUCH_END,this.closeEvent,this),g.dialogManager.isDialogShow()&&(this.node.active=!1)},e.prototype.onDestroy=function(){d.BusinessGlobal.gamePageRecommend=null,d.BusinessGlobal.gamePageCanShow=!1},e.prototype.refreshView=function(){var t=a.guideManager.getDataByWeight(f.default.GAME_PAGE_RECOMMEND,4);return h.default.sdkComponentLog("refreshView",t),!t||t.length<0?(this.node.active=!1,!1):(this.initView(t),!0)},e.prototype.onEnable=function(){this.startTask();this.nodeFrame.stopAllActions(),this.btnClose.stopAllActions(),this.nodeFrame.position=cc.v2(-42,79),this.nodeFrame.runAction(cc.moveTo(.2,cc.v2(-42,0))),this.btnClose.position=cc.v2(168,83),this.btnClose.runAction(cc.moveTo(.2,cc.v2(168,4.7)))},e.prototype.onDisable=function(){this.stopTask()},e.prototype.startTask=function(){var t=this;this.stopTask(),this.refreshView(),h.default.sdkComponentLog("startTask"),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(10),cc.callFunc(function(){t.refreshView()}))))},e.prototype.closeEvent=function(){var t=this;if(!this.closeCool){this.closeCool=!0,this.nodeFrame.stopAllActions(),this.btnClose.stopAllActions();this.nodeFrame.runAction(cc.moveTo(.2,cc.v2(-42,79))),this.btnClose.runAction(cc.sequence(cc.moveTo(.2,cc.v2(168,83)),cc.callFunc(function(){t.node.destroy()})))}},e.prototype.stopTask=function(){h.default.sdkComponentLog(this,"stopTask"),this.node.stopAllActions()},e.prototype.initView=function(t){var e=this;r.default.isNull(t)?this.node.active=!1:this.arrItem.forEach(function(o,i){var n=t[i];n?(o.node.parent.active=!0,e.initNodeItem(o,n,i)):o.node.parent.active=!1})},e.prototype.initNodeItem=function(t,e,o){try{this.setItemListener(t,e,o),e.logo&&l.default.loadSpriteFrame(e.logo).then(function(e){t.spriteFrame=e}).catch(function(){})}catch(t){console.log(t)}},e.prototype.setItemListener=function(t,e,o){var i=this,n=t.node.parent;s.jumpManager.buttonShow(e,c.default.GM_TOP_ICON,o+1),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_MOVE),n.off(cc.Node.EventType.TOUCH_START),n.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_END,function(t){u.audioManager.playEffect(i.acTouch),n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){a.guideManager.addBeanBlack(f.default.GAME_PAGE_RECOMMEND,e),s.jumpManager.navigateToApp(e,c.default.GM_TOP_ICON,f.default.GAME_PAGE_RECOMMEND,o+1).then(function(){}).catch(function(){})}))),t.stopPropagation()})},e.x=0,n([m([cc.Sprite])],e.prototype,"arrItem",void 0),n([m({tooltip:"",type:cc.Node})],e.prototype,"nodeFrame",void 0),n([m({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),n([m({tooltip:"\u6536\u8d77\u6309\u94ae",type:cc.Node})],e.prototype,"btnClose",void 0),e=o=n([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../../Config/FrameworkConfig":"FrameworkConfig","../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/DialogManager":"DialogManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil"}],GlobalParamsBase:[function(t,e,o){"use strict";cc._RF.push(e,"0d1b60TLRBA06kaXLyt/dZ1","GlobalParamsBase"),Object.defineProperty(o,"__esModule",{value:!0});o.default={gameNo:"G59",audioClipCache:[],bgmClipCache:null,nextScene:"G59_Select",language:"zh"},cc._RF.pop()},{}],GlobalView:[function(t,e,o){"use strict";cc._RF.push(e,"fdaffu1NNdEqbagU8f4jTXL","GlobalView"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/core/util/DeviceUtil"),n=function(){function t(){}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},Object.defineProperty(t.prototype,"offset",{get:function(){return{x:cc.winSize.width/2-480,y:cc.winSize.height/2-270}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"factor",{get:function(){var t=cc.winSize.width/cc.winSize.height,e=1/t;return{x:.5625*t<1?1:.5625*t,y:16/9*e<1?1:16/9*e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proportion",{get:function(){var t=cc.view.getFrameSize().width,e=cc.view.getFrameSize().height;return t/e<1.7?t/cc.winSize.width:e/cc.winSize.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adHeight",{get:function(){return i.deviceUtil.unit2Cocos(106)/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"midOffsetY",{get:function(){return 270*(this.factor.y-1)},enumerable:!0,configurable:!0}),t.INSTANCE=null,t}().get();o.default=n,cc._RF.pop()},{"../lib/core/util/DeviceUtil":"DeviceUtil"}],GuideId:[function(t,e,o){"use strict";cc._RF.push(e,"05cf1SDxIVKdK4lFg7ArUwK","GuideId"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.LEFT_BOTTOM=19,t.BUS=22,t.MV=23,t.BANNER=24,t.MORE=25,t.DIALOG_CELL=26,t.DIALOG_LEFT=27,t.BUS_PLENE=28,t.MORE1=29,t.MORE2=30,t.MORE3=31,t.MORE4=32,t.MORE5=33,t.DIALOG_EXTRA_H1=34,t.DIALOG_EXTRA_H2=35,t.DIALOG_EXTRA_H3=36,t.DIALOG_EXTRA_H4=37,t.DIALOG_EXTRA_H5=38,t.DIALOG_EXTRA_H6=39,t.DIALOG_DAILYTASK=40,t.RIGHT_SIDEBAR=47,t.GAME_PAGE_RECOMMEND=48,t.GAME_BACK=51,t.GAME_WELCOME_DIALOG=52,t.DRAWER=43,t.QIQI_RECOMEND=60,t}();o.default=i,cc._RF.pop()},{}],GuideManager:[function(t,e,o){"use strict";cc._RF.push(e,"3559fEE1SJHHouDHhDyCBoi","GuideManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PBManager"),n=t("../../core/util/StoreUtil"),a=t("../constants/PublicAnalyticsKey"),r=t("../constants/PublicStoreKey"),s=t("./AnalyticsManager"),c=t("./JumpManager"),l=t("../../core/util/PlatformUtil"),u=t("../../core/util/ArrayUtil"),d=t("../../../Config/AppConfig"),p=t("../../core/util/MathUtil"),h=t("../../core/util/DateUtil"),f=t("../constants/GuideId"),g=[{appID:"001",description:"",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190523/abe7ca31355b41d3b0cdd6e381725770.png",midPic:"",programID:"",weight:1,programName:"\u5b9d\u5b9d\u751c\u54c1\u5e97",staticLogo:"",defaultUrl:"",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53160",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],appKey:"xMbyxMGo5wCRE3KR8rfufIvGhyaw75x9",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190523/abe7ca31355b41d3b0cdd6e381725770.png"],startUpImg:"",iconPoz:1},{appID:"002",description:"\u4e00\u6b3e\u4e0d\u77e5\u540d\u7684app111111111111111111156465434657498",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190523/6628bb3c3cfd4a579d71974232bc5233.png",midPic:"",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53161",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],weight:9999,programID:"",programName:"\u5b9d\u5b9d\u8fc7\u6625\u8282",staticLogo:"",defaultUrl:"",appKey:"6rta76DtEABibFAN5np0gPNZGeUP9bc5",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190523/6628bb3c3cfd4a579d71974232bc5233.png"],startUpImg:"",iconPoz:1},{appID:"003",description:"",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190714/eb740185ae2f4a759bb17528e9230abe.png",midPic:"",weight:1,programID:"",programName:"\u5b9d\u5b9d\u8111\u529b\u6311\u6218",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53162",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],staticLogo:"",defaultUrl:"",appKey:"lvgG7WizIFxLQBwMdR857Q7LUDu3i6Ly",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190714/eb740185ae2f4a759bb17528e9230abe.png"],startUpImg:"",iconPoz:1},{appID:"004",description:"",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190523/c8caff6353fd41948b99cea62dcd99bc.png",midPic:"",programID:"",weight:1,programName:"\u5947\u5999\u5496\u5561\u9910\u5385",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53163",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],staticLogo:"",defaultUrl:"",appKey:"AHWDaDQw1bXwlBPZ3Efk5TUc3z9kv4dm",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190523/c8caff6353fd41948b99cea62dcd99bc.png"],startUpImg:"",iconPoz:1},{appID:"005",description:"",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/StaticPic/20190619/c90a81b364764652877877369b4f81ac.png",midPic:"",programID:"",weight:1,programName:"\u5b9d\u5b9d\u5df4\u58eb\u8d85\u5e02",staticLogo:"",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53164",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],defaultUrl:"",appKey:"saigQ8eqKm5mlzIiyQvkUfEE79E4ELu1",logoList:["https://picfile-baidu.babybus.com/BceFile/StaticPic/20190619/c90a81b364764652877877369b4f81ac.png"],startUpImg:"",iconPoz:1},{appID:"006",description:"",isHot:1,isNew:0,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190717/7e01d86a67e04b8cb02845477d9fd7c7.png",midPic:"",weight:1,programID:"",programName:"\u5b9d\u5b9d\u5df4\u58eb\u6e38\u4e50\u56ed",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53165",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],staticLogo:"",defaultUrl:"",appKey:"PLyTcDinGUwQf42WsA5k2uUu17nFYFQn",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190717/7e01d86a67e04b8cb02845477d9fd7c7.png"],startUpImg:"",iconPoz:1},{appID:"007",description:"",isHot:0,isNew:1,logo:"https://picfile-baidu.babybus.com/BceFile/Pic/20190708/566c526a94014715812adf2ed309a5cf.png",midPic:"",weight:1,programID:"",programName:"\u5b9d\u5b9d\u5df4\u58eb\u5c0f\u8239\u957f",horizontalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u53166",picList:["https://wxgamers.babybus.com/public/pics/zj1.png"]}],verticalMaterials:[{slogan:"\u770b\u542c\u5b66\u4e00\u4f53\u5316",picList:["https://wxgamers.babybus.com/public/pics/zj3.png"]}],staticLogo:"",defaultUrl:"",appKey:"dev2Xdgarv6MCNFRrG1spYMf1Cq0svH0",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190708/566c526a94014715812adf2ed309a5cf.png"],startUpImg:"",iconPoz:1}],_=function(){function t(){this.canShowMv=!0,this.data=null,this.arrayCallbacks=[],this.isRequesting=!1,this.dialogRightIndex=0,this.name="guideManager",this.appId=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.dealBlackData(),this.canShowMv="1"===n.default.get(r.default.CAN_SHOW_MV,"1")},t.prototype.dealBlackData=function(){var t=""+h.default.todayZeroTimestamp();t!==n.default.get(r.default.BLACK_LIST_DAY,"")&&(n.default.set(r.default.BLACK_LIST_DAY,t),n.default.remove(r.default.BLACK_LIST_DATA),this.clearMoreData())},t.prototype.requestData=function(){var t=this;return this.isRequesting=!0,s.analyticsManager.recordEvent(a.default.FW_GUIDE_REQUEST,"\u8bf7\u6c42"),new Promise(function(e,o){if(window.simulatedDataManager)return t.data=window.simulatedDataManager.getWhiteData(),t.callback(),t.isRequesting=!1,void e(null);i.pbManager.getWhiteList().then(function(o){t.data=o,t.callback(),n.default.set(r.default.GUIDE,JSON.stringify(o)),t.isRequesting=!1,s.analyticsManager.recordEvent(a.default.FW_GUIDE_REQUEST,"\u6210\u529f"),t.canShowMv=t.hasEffectData(f.default.MV),n.default.set(r.default.CAN_SHOW_MV,t.canShowMv?"1":"0"),e(null)}).catch(function(){t.dealSaveData(),t.callback(),t.isRequesting=!1,s.analyticsManager.recordEvent(a.default.FW_GUIDE_REQUEST,"\u5931\u8d25"),o()})})},t.prototype.dealSaveData=function(){try{n.default.set(r.default.GUIDE,"[]"),this.data=[]}catch(t){n.default.remove(r.default.GUIDE)}},t.prototype.getData=function(t){var e=this,o=this;return new Promise(function(i,n){!l.default.isBrowser()||l.default.isWeb()?o.data&&o.data.length>0?i(e.getDataDirect(t)):(e.isRequesting||n(),e.arrayCallbacks.push({cbFunc:i,guideId:t})):i(e.getDataDirect(t))})},t.prototype.getDataByWeight=function(t,e,o){if(void 0===o&&(o=!0),t===f.default.MORE){var i=this.getMoreData();if(u.default.isNotNull(i))return i}var n=null;if(l.default.isBrowser()&&!l.default.isWeb())n=g;else{if(!this.data||this.data.length<=0)return[];for(var a=0;a<this.data.length;a++){if((d=this.data[a]).flowType===t){n=d.flowRefViewModelList;break}}}if(u.default.isNull(n))return[];var r=this.deleteInvalidData(n,t);if(r.length<e){if(o)return this.clearBlackList(t),this.getDataByWeight(t,e,!1);var s=[],c=n.length;for(a=0;a<c;a++){var d=r[h=this.getRandomIndex(r)];s.push(d),u.default.removeObjByIndex(r,h)}return s}var p=[];for(a=0;a<e;a++){var h;d=r[h=this.getRandomIndex(r)];p.push(d),u.default.removeObjByIndex(r,h)}return p},t.prototype.isMvOpen=function(){return this.canShowMv},t.prototype.getRandomIndex=function(t){if(t.length<=1)return 0;var e=this.getWeightArr(t),o=e[e.length-1],i=p.default.random(0,o);if(i<=e[0])return 0;if(i>=e[e.length-2])return e.length-1;for(var n=0;n<e.length-1;n++)if(i<=e[n])return n;return e.length-1},t.prototype.getWeight=function(t){return t&&t.weight&&"number"==typeof t.weight?t.weight:1},t.prototype.getWeightArr=function(t){if(u.default.isNull(t))return[];for(var e=[this.getWeight(t[0])],o=1;o<t.length;o++)e[o]=e[o-1]+this.getWeight(t[o]);return e},t.prototype.deleteInvalidData=function(t,e){var o=this;if(u.default.isNull(t))return t;var i=[];return t.forEach(function(t){t&&o.getBeanId(t)!==o.getAppId()&&o.isBeanValid(t)&&!o.isInBlackList(e,o.getBeanId(t))&&i.push(t)}),i},t.prototype.isBeanValid=function(t){return t.weight&&t.weight>0},t.prototype.getBeanId=function(t){return l.default.isOppo()||l.default.isVivo()||l.default.isXiaoMi()?t.packageName:t.appID},t.prototype.isInBlackList=function(t,e){var o=this.getBlackList(t);return u.default.isNotNull(o)&&u.default.contain(o,e)},t.prototype.getAppId=function(){return this.appId?this.appId:(l.default.isWechatGame()?this.appId=d.default.wechatgameAppID:l.default.isBaiduGame()?this.appId=d.default.baidugameAppID:l.default.isTouTiao()?this.appId=d.default.toutiaoAppID:l.default.isOppo()?this.appId=d.default.quickgamePkg:l.default.isVivo()&&(this.appId=d.default.qgamePkg),this.appId)},t.prototype.hasEffectData=function(t){if(l.default.isBrowser()&&!l.default.isWeb())return!0;if(!this.data||this.data.length<=0)return!1;for(var e=0;e<this.data.length;e++){var o=this.data[e];if(o.flowType===t){var i=o.flowRefViewModelList;return u.default.isNotNull(i)}}return!1},t.prototype.getBlackList=function(t){var e=r.default.BLACK_LIST_DATA,o=n.default.get(e,null);return o?JSON.parse(o)[t]:[]},t.prototype.addBeanBlack=function(t,e){this.addBlackList(t,this.getBeanId(e))},t.prototype.addBlackList=function(t,e){var o=r.default.BLACK_LIST_DATA,i=n.default.get(o,"{}"),a=JSON.parse(i),s=a[t];u.default.isNull(s)?s=[e]:s.push(e),a[t]=s,n.default.set(o,JSON.stringify(a))},t.prototype.clearBlackList=function(t){var e=r.default.BLACK_LIST_DATA,o=n.default.get(e,"{}"),i=JSON.parse(o);i[t]=[],n.default.set(e,JSON.stringify(i))},t.prototype.getMoreData=function(){var t=n.default.get(r.default.MORE_DATA,"");return t?JSON.parse(t):[]},t.prototype.saveMoreData=function(t){n.default.set(r.default.MORE_DATA,JSON.stringify(t))},t.prototype.clearMoreData=function(){n.default.remove(r.default.MORE_DATA)},t.prototype.getDataDirect=function(t){if(l.default.isBrowser()&&!l.default.isWeb())return g;if(!this.data||this.data.length<=0)return[];for(var e=0;e<this.data.length;e++){var o=this.data[e];if(o.flowType===t)return o.flowRefViewModelList}return[]},t.prototype.isDialogDataEffect=function(){if(l.default.isOppo()||l.default.isBrowser()&&!l.default.isWeb()){var t=this.getDataDirect(f.default.DIALOG_LEFT);return u.default.isNotNull(t)}return u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H1))||u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H2))||u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H3))||u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H4))||u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H5))||u.default.isNotNull(this.getDataDirect(f.default.DIALOG_EXTRA_H6))},t.prototype.getDialogRightBean=function(){var t=this.getDataDirect(f.default.DIALOG_CELL);if(u.default.isNull(t))return null;this.dialogRightIndex>=t.length&&(this.dialogRightIndex=0);var e=t[this.dialogRightIndex];return this.dialogRightIndex++,e},t.prototype.callback=function(){var t=this;!this.arrayCallbacks||this.arrayCallbacks.length<=0||(this.arrayCallbacks.forEach(function(e){var o=t.getDataDirect(e.guideId);e.cbFunc(o)}),this.arrayCallbacks=[])},t.prototype.showMv=function(){var t=this.getDataDirect(f.default.MV)[0];t&&t.appID?s.analyticsManager.recordEvent(a.default.GM_MV.show,"1",t.appID):s.analyticsManager.recordEvent(a.default.GM_MV.show,"1","wxde9ed62a5d2ffe71")},t.prototype.clickMv=function(){var t=this.getDataDirect(f.default.MV),e=null;t&&(e=t[0]),e&&e.appID||(l.default.isWechatGame()?e={appID:"wxde9ed62a5d2ffe71",description:"",isHot:0,isNew:1,logo:"",midPic:"",weight:1,programID:"",programName:"\u5b9d\u5b9d\u5df4\u58eb\u513f\u6b4c",staticLogo:"",defaultUrl:"pages/index/index",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190523/abe7ca31355b41d3b0cdd6e381725770.png"]}:l.default.isBaiduGame()&&(e={appID:"11706027",description:"",appKey:"8q4SMGAZ6ciePYjXliNrTIncDrN89OHK",isHot:0,isNew:1,logo:"",midPic:"",weight:1,programID:"",programName:"\u5b9d\u5b9d\u5df4\u58eb\u513f\u6b4c",staticLogo:"",defaultUrl:"pages/index/index",logoList:["https://picfile-baidu.babybus.com/BceFile/Pic/20190523/abe7ca31355b41d3b0cdd6e381725770.png"]})),c.jumpManager.navigateToApp(e,a.default.GM_MV,f.default.MV,1)},t.prototype.isFirstShow=function(t){return"yes"!==n.default.get(r.default.FIRST_SHOW+t,"")&&(n.default.set(r.default.FIRST_SHOW+t,"yes"),!0)},t.prototype.isDayFirstShow=function(t){var e=h.default.todayZeroTimestamp();return""+e!==n.default.get(r.default.DAY_FIRST_SHOW+t,"")&&(n.default.set(r.default.DAY_FIRST_SHOW+t,""+e),!0)},t.INSTANCE=null,t}();o.guideManager=_.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/ArrayUtil":"ArrayUtil","../../core/util/DateUtil":"DateUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../constants/GuideId":"GuideId","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicStoreKey":"PublicStoreKey","./AnalyticsManager":"AnalyticsManager","./JumpManager":"JumpManager","./PBManager":"PBManager"}],I18nManager:[function(t,e,o){"use strict";cc._RF.push(e,"5fe8ao5hUJKzqQ7hRWJLFlx","I18nManager");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Script/Config/FrameworkConfig"),r=cc._decorator,s=r.property,c=r.ccclass,l=function(){function t(){this.lan="zh",this.json=null}return n([s(cc.String)],t.prototype,"lan",void 0),n([s(cc.JsonAsset)],t.prototype,"json",void 0),t=n([c("I18nText")],t)}(),u=function(){function t(){this.id="i0",this.spriteframe=null}return n([s(cc.String)],t.prototype,"id",void 0),n([s(cc.SpriteFrame)],t.prototype,"spriteframe",void 0),t=n([c("I18nImageAttr")],t)}(),d=function(){function t(){this.lan="zh",this.images=[]}return n([s(cc.String)],t.prototype,"lan",void 0),n([s([u])],t.prototype,"images",void 0),t=n([c("I18nImage")],t)}(),p=function(){function t(){this.id="a0",this.clip=null}return n([s(cc.String)],t.prototype,"id",void 0),n([s({type:cc.AudioClip})],t.prototype,"clip",void 0),t=n([c("I18nAudioAttr")],t)}(),h=function(){function t(){this.lan="zh",this.audios=[]}return n([s(cc.String)],t.prototype,"lan",void 0),n([s([p])],t.prototype,"audios",void 0),t=n([c("I18nAudio")],t)}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texts=[],e.imagemaps=[],e.audiomaps=[],e.language="",e.textMap={},e.imgMap={},e.audioMap={},e}var o;return i(e,t),o=e,e.getInstance=function(){return this.sInstance},e.prototype.onLoad=function(){o.sInstance||(o.sInstance=this,this.init())},e.prototype.init=function(){var t=this;this.language=a.default.i18n||"zh",this.texts.forEach(function(e){t.textMap[e.lan]=e.json.json||{}}),this.imagemaps.forEach(function(e){t.imgMap[e.lan]={},e.images.forEach(function(o){t.imgMap[e.lan][o.id]?cc.error("\u56fe\u7247\u952e "+o.id+" \u91cd\u590d\uff0c\u8bf7\u68c0\u67e5\uff01"):t.imgMap[e.lan][o.id]=o.spriteframe})}),this.audiomaps.forEach(function(e){t.audioMap[e.lan]={},e.audios.forEach(function(o){t.audioMap[e.lan][o.id]?cc.error("\u97f3\u9891\u952e "+o.id+" \u91cd\u590d\uff0c\u8bf7\u68c0\u67e5\uff01"):t.audioMap[e.lan][o.id]=o.clip})})},e.prototype.getLanguage=function(){return this.language},e.prototype.getLanguageText=function(t,e){var o=this.textMap[this.language][t];if(e&&e.length>0)for(var i=0;i<e.length;++i)o=o.replace("%r",e[i].toString());return o},e.prototype.getLanguageImage=function(t){return this.imgMap[this.language][t]},e.prototype.getLanguageAudio=function(t){return this.audioMap[this.language][t]},e.sInstance=null,n([s([l])],e.prototype,"texts",void 0),n([s([d])],e.prototype,"imagemaps",void 0),n([s([h])],e.prototype,"audiomaps",void 0),e=o=n([c],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Script/Config/FrameworkConfig":"FrameworkConfig"}],IBanner:[function(t,e,o){"use strict";cc._RF.push(e,"502dfVtrFpB77pZ9VEioak/","IBanner"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IInterstitialCallback:[function(t,e,o){"use strict";cc._RF.push(e,"b8fc2bYSS5Isb4EJy41TK+s","IInterstitialCallback"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IInterstitial:[function(t,e,o){"use strict";cc._RF.push(e,"60908s+gfxHHLfdQR2QlV3V","IInterstitial"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],IReward:[function(t,e,o){"use strict";cc._RF.push(e,"cc13fITuTFE8qMqE7VYjv49","IReward"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ImageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"63712F/ULtHFqf0cQufCenG","ImageUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./ArrayUtil"),n=function(){function t(){}return t.loadSpriteFrameDirector=function(t){return new Promise(function(e,o){cc.loader.load(t,function(t,i){if(t)o();else{var n=new cc.SpriteFrame(i);n?e(n):o()}})})},t.createAniByUrls=function(e,o){i.default.isNull(o)||(e.removeComponent(cc.Animation),t.loadSpriteFrameByIndex(e,o,null,0))},t.downloadImage=function(t,e){return new Promise(function(o,i){wx.downloadFile?wx.downloadFile({url:t,filePath:e,success:function(t){o(e)},fail:function(){i()}}):i()})},t.loadSpriteFrame=function(e){return new Promise(function(o,i){e?t.loadSpriteFrameDirector(e).then(function(t){o(t)}).catch(function(){i()}):i()})},t.createAni=function(t,e){if(!i.default.isNull(e)&&t){t.removeComponent(cc.Animation);var o=t.addComponent(cc.Animation),n=cc.AnimationClip.createWithSpriteFrames(e,12);n.name="ani",n.wrapMode=cc.WrapMode.Loop,o.addClip(n),o.play("ani")}},t.loadSpriteFrameByIndex=function(e,o,i,n){n>=o.length?t.createAni(e,i):t.loadSpriteFrame(o[n]).then(function(a){i?i.push(a):i=[a],t.loadSpriteFrameByIndex(e,o,i,n+1)}).catch(function(){t.createAni(e,i)})},t}();o.default=n,cc._RF.pop()},{"./ArrayUtil":"ArrayUtil"}],InterstitialDialog:[function(t,e,o){"use strict";cc._RF.push(e,"0a521GirI5Bo4VS/y95EnwN","InterstitialDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./InterstitialItem"),r=t("../../../business/constants/BusinessGlobal"),s=t("../../../core/util/StoreUtil"),c=t("../../../business/manager/TagManager"),l=t("../../../core/util/ArrayUtil"),u=t("../../../core/util/ImageUtil"),d=t("../../../business/manager/JumpManager"),p=t("../../../business/constants/PublicAnalyticsKey"),h=t("../../../business/manager/GuideManager"),f=t("../../../core/util/MathUtil"),g=t("../../../business/manager/BannerManager"),_=t("../../../business/manager/AudioManager"),y=t("../../../business/base/BBDialog"),m=t("../../../business/constants/PublicEventName"),v=t("../../../core/util/LogUtil"),b=t("../../../business/constants/GuideId"),S=[cc.v2(-210,-5),cc.v2(16,80),cc.v2(226,80),cc.v2(16,-94),cc.v2(226,-94)],w=cc._decorator,A=w.ccclass,C=w.property,G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeFrame=null,e.nodeContainer=null,e.btnClose=null,e.nodeNoShow=null,e.nodeChecked=null,e.sfNew=null,e.sfHot=null,e.sfAd=null,e.prefabItemV=null,e.prefabItemH=null,e.nodeInterstitial=null,e.acTouch=null,e.arrItem=[],e.arrNodeTip=[],e.saveToday=null,e.rootNomalGroup=null,e.name="InterstitialDialog",e.hideBannerTimer=null,e.cb=null,e.isClicked=!1,e.tipIndex=-1,e}return i(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),cc.systemEvent.emit(m.default.SDK_DIALOG_SHOW),this.hideBannerTimer&&this.unschedule(this.hideBannerTimer),g.bannerManager.InterstitialDialogIsShow=!0,this.hideBannerTimer=this.scheduleOnce(function(){g.bannerManager.hide()},2.5),null==this.rootNomalGroup&&(this.rootNomalGroup=this.node.group),null!=cc.find("Canvas/sdkCamera")?r.BusinessGlobal.customInterstitial.node.group="sdkCamera":r.BusinessGlobal.customInterstitial.node.group=this.rootNomalGroup},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),cc.systemEvent.emit(m.default.SDK_DIALOG_HIDE),g.bannerManager.InterstitialDialogIsShow=!1},e.prototype.onLoad=function(){this.rootNomalGroup=this.node.group,this.node.zIndex=9999,cc.game.addPersistRootNode(this.node),r.BusinessGlobal.customInterstitial=this,this.createItems(),this.initListener2(),this.node.active=r.BusinessGlobal.showInterstitial,r.BusinessGlobal.showInterstitial=!1},e.prototype.onDestroy=function(){r.BusinessGlobal.showInterstitial=!1,r.BusinessGlobal.customInterstitial=null},e.prototype.createItems=function(){for(var t=0;t<5;t++){var e=0===t?this.prefabItemV:this.prefabItemH,o=cc.instantiate(e);this.nodeInterstitial.addChild(o),o.position=S[t];var i=o.getComponent(a.default);this.arrItem.push(i)}},e.prototype.initListener2=function(){var t=this;this.btnClose.on(cc.Node.EventType.TOUCH_END,function(){_.audioManager.playEffect(t.acTouch),r.BusinessGlobal.touchCloseNum===r.BusinessGlobal.autoShowSetNum&&(r.BusinessGlobal.openCloseControl=!1,s.default.set("saveCheckShow","2")),t.btnClose.stopAllActions(),t.btnClose.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){t.hide()})))})},e.prototype.initView2=function(t){var e=this;v.default.sdkComponentLog(this,"======initView",t),this.arrItem.forEach(function(o,i){var n=t[i];n?(o.node.active=!0,e.initNodeItem(o,n,i)):o.node.active=!1})},e.prototype.setItemSlogan=function(t,e){try{e=e||"",t&&e&&(t.string=e)}catch(t){v.default.errorLog("InterstitialDialog setItemSlogon error",t)}},e.prototype.setItemTagHotOrNew=function(t,e){t.spriteTagHotOrNew&&(e.isNew?t.spriteTagHotOrNew.spriteFrame=this.sfNew:e.isHot?t.spriteTagHotOrNew.spriteFrame=this.sfHot:"2"===e.productType?t.spriteTagHotOrNew.spriteFrame=this.sfAd:t.spriteTagHotOrNew.node.active=!1)},e.prototype.setClickTag=function(t,e){if(t.nodeClick){var o=c.tagManager.hasMoreGameItemClick(e.appID);t.nodeClick.active=!o}},e.prototype.setItemPic=function(t,e){l.default.isNotNull(e.picList)&&(e.picList.length>1?(t.spriteIcon.spriteFrame=null,t.spriteIcon.node.active=!1,t.nodeAni.active=!0,u.default.createAniByUrls(t.nodeAni,e.picList)):(t.spriteIcon.spriteFrame=null,t.nodeAni.removeComponent(cc.Animation),t.spriteIcon.node.active=!0,t.nodeAni.active=!1,u.default.loadSpriteFrame(e.picList[0]).then(function(e){t.spriteIcon.spriteFrame=e}).catch(function(){})))},e.prototype.setItemListener=function(t,e,o){var i=this,n=t.node,a=p.default.GM_MORE;d.jumpManager.buttonShow(e,a,o+1),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_MOVE),n.off(cc.Node.EventType.TOUCH_START),n.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_END,function(s){r.BusinessGlobal.touchCloseNum=0,_.audioManager.playEffect(i.acTouch),n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){t.nodeClick&&(t.nodeClick.active=!1,c.tagManager.recordMoreGameItemClick(e.appID)),h.guideManager.addBeanBlack(b.default.MORE,e),d.jumpManager.navigateToApp(e,a,b.default.MORE,o+1).then(function(){})}))),s.stopPropagation()})},e.prototype.initNodeItem=function(t,e,o){try{this.setItemTagHotOrNew(t,e),this.setClickTag(t,e),this.setItemListener(t,e,o),this.setItemSlogan(t.labelSlogon,e.programName);var i=null;if(!(i=0===o?l.default.getRandomItem(e.verticalMaterials):l.default.getRandomItem(e.horizontalMaterials)))return void(t.spriteIcon.node.active=!1);d.jumpManager.buttonShow(e,p.default.GM_MORE,o+1),this.setItemSlogan(t.labelSlogon,i.slogan),this.setItemPic(t,i)}catch(t){v.default.errorLog("InterstitialDialog initNodeItem error:"+o,t)}},e.prototype.getItem=function(t,e){if(l.default.isNull(t))return null;var o=c.tagManager.getMoreGameAppIndex(e);return o<0?(o=f.default.random(0,t.length-1),c.tagManager.recordMoreGameAppIndex(e,""+(o+1)),t[o]):o>=t.length?(c.tagManager.recordMoreGameAppIndex(e,"1"),t[0]):(c.tagManager.recordMoreGameAppIndex(e,""+(o+1)),t[o])},e.prototype.show=function(t,e){if(g.bannerManager.hide(),!h.guideManager.hasEffectData(b.default.MORE))return!1;this.showDialog(),this.cb=t,this.isClicked=e;var o=h.guideManager.getDataByWeight(b.default.MORE,5);return h.guideManager.saveMoreData(o),this.initView2(o),this.nodeFrame.stopAllActions(),this.nodeFrame.scale=.5,this.nodeFrame.runAction(cc.scaleTo(.5,1)),this.startTipTask(),!0},e.prototype.startTipTask=function(){var t=this;this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.tipClick()}))))},e.prototype.tipClick=function(){this.tipIndex++;var t=this.arrItem[this.tipIndex];if(!t)return this.tipIndex=-1,void this.tipClick();if(0===this.tipIndex){var e=.1;t.btnPlay.runAction(cc.sequence(cc.scaleTo(e,1.1),cc.scaleTo(e,1),cc.scaleTo(e,1.1),cc.scaleTo(e,1),cc.delayTime(.5),cc.scaleTo(e,1.1),cc.scaleTo(e,1),cc.scaleTo(e,1.1),cc.scaleTo(e,1)))}else{var o=t.nodeClick;if(o.active){e=.05;o.runAction(cc.sequence(cc.rotateTo(e,-5),cc.rotateTo(e,0),cc.rotateTo(e,5),cc.rotateTo(e,0),cc.rotateTo(e,-5),cc.rotateTo(e,0),cc.rotateTo(e,5),cc.rotateTo(e,0),cc.rotateTo(e,-5),cc.rotateTo(e,0),cc.rotateTo(e,5),cc.rotateTo(e,0)))}else this.tipClick()}},e.prototype.stopTipTask=function(){this.node.stopAllActions()},e.prototype.hide=function(){this.stopTipTask(),this.node.active=!1,this.cb&&this.cb(this.isClicked)},n([C(cc.Node)],e.prototype,"nodeFrame",void 0),n([C(cc.Node)],e.prototype,"nodeContainer",void 0),n([C(cc.Node)],e.prototype,"btnClose",void 0),n([C(cc.Node)],e.prototype,"nodeNoShow",void 0),n([C(cc.Node)],e.prototype,"nodeChecked",void 0),n([C(cc.SpriteFrame)],e.prototype,"sfNew",void 0),n([C(cc.SpriteFrame)],e.prototype,"sfHot",void 0),n([C(cc.SpriteFrame)],e.prototype,"sfAd",void 0),n([C(cc.Prefab)],e.prototype,"prefabItemV",void 0),n([C(cc.Prefab)],e.prototype,"prefabItemH",void 0),n([C(cc.Node)],e.prototype,"nodeInterstitial",void 0),n([C({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([A],e)}(y.default);o.default=G,cc._RF.pop()},{"../../../business/base/BBDialog":"BBDialog","../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/constants/PublicEventName":"PublicEventName","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/BannerManager":"BannerManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/TagManager":"TagManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil","../../../core/util/MathUtil":"MathUtil","../../../core/util/StoreUtil":"StoreUtil","./InterstitialItem":"InterstitialItem"}],InterstitialItem:[function(t,e,o){"use strict";cc._RF.push(e,"0f6a9hIexRAtJjxTUEvUxd5","InterstitialItem");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteIcon=null,e.nodeAni=null,e.spriteTagHotOrNew=null,e.labelSlogon=null,e.nodeClick=null,e.btnPlay=null,e}return i(e,t),n([s(cc.Sprite)],e.prototype,"spriteIcon",void 0),n([s(cc.Node)],e.prototype,"nodeAni",void 0),n([s(cc.Sprite)],e.prototype,"spriteTagHotOrNew",void 0),n([s(cc.Label)],e.prototype,"labelSlogon",void 0),n([s(cc.Node)],e.prototype,"nodeClick",void 0),n([s(cc.Node)],e.prototype,"btnPlay",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],InterstitialManager:[function(t,e,o){"use strict";cc._RF.push(e,"52d4an2Z65P+oyLhAXq6R8y","InterstitialManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=t("./AnalyticsManager"),a=t("../constants/PublicAnalyticsKey"),r=t("../constants/BusinessGlobal"),s=t("../../../Config/AppConfig"),c=t("./SwitchManager"),l=t("../../core/util/LogUtil"),u=t("./DialogManager"),d=t("../constants/PublicEventName"),p=t("../constants/PublicConst"),h=t("../helper/WxInterstitialHelper"),f=t("../helper/VivoInterstitialHelper"),g="InterstitialManager",_=function(){function t(){this.helper=null,this.showCb=null,this.hasInit=!1,this.defaultShowIntervalTimes=2,this.ccb=null,this.customTimes=0}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.init=function(t){var e=this;l.default.fLog(g,"init:"+t),this.hasInit||(this.hasInit=!0,i.default.isWechatGame()||i.default.isTouTiao()?this.helper=new h.default:i.default.isVivo()&&(this.helper=new f.default),this.helper&&this.helper.init(t,{onClose:function(){cc.systemEvent.emit(d.default.SDK_DIALOG_HIDE),e.showCb&&e.showCb.onClose&&e.showCb.onClose(),e.showCb=null},onError:function(){e.showCb&&e.showCb.onError&&e.showCb.onError(),e.showCb=null}}))},t.prototype.getUnitId=function(){return i.default.isWechatGame()?s.default.wechatgameInterstitialUnitID:i.default.isTouTiao()?s.default.toutiaoInterstitialUnitID:i.default.isVivo()?s.default.qgameInterstitialUnitID:i.default.isOppo()?s.default.quickgameInterstitialUnitID:i.default.isXiaoMi()?s.default.xiaomiInterstitialUnitID:null},t.prototype.initCustomCB=function(t){this.ccb=t,r.BusinessGlobal.customInterstitial&&(r.BusinessGlobal.customInterstitial.cb=this.ccb?this.ccb.onClose:null)},t.prototype.showCustom=function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),!(i.default.isOppo()&&!t)&&(!(i.default.isWechatGame()&&!e)&&(!!c.switchManager.isAdVersion()&&(r.BusinessGlobal.customInterstitial?!r.BusinessGlobal.customInterstitial.node.active&&(this.ccb&&this.ccb.onShow&&this.ccb.onShow(t),r.BusinessGlobal.customInterstitial.show(this.ccb?this.ccb.onClose:null,t)):(r.BusinessGlobal.showInterstitial=!0,this.ccb&&this.ccb.onShow&&(this.ccb.onShow(t),r.BusinessGlobal.showInterstitial),!1))))},t.prototype.showCustomByTimes=function(t,e){return void 0===t&&(t=this.defaultShowIntervalTimes),void 0===e&&(e=!1),!(i.default.isWechatGame()&&!e)&&(this.customTimes++,l.default.managerLog(p.ManagerName.InterstitialManager,"custom showTimes "+this.customTimes),this.customTimes>=t&&(!!this.showCustom(!1,e)&&(this.autoShowSet(),this.customTimes=0,!0)))},t.prototype.autoShowSet=function(){r.BusinessGlobal.touchCloseNum!==r.BusinessGlobal.autoShowSetNum&&(r.BusinessGlobal.touchCloseNum+=1)},t.prototype.autoShowCustomByTimes=function(t,e){return void 0===t&&(t=this.defaultShowIntervalTimes),void 0===e&&(e=!1),!(i.default.isWechatGame()&&!e)&&(!!r.BusinessGlobal.openCloseControl&&this.showCustomByTimes(t))},t.prototype.showRecommendMore=function(t){return void 0===t&&(t=!1),r.BusinessGlobal.recommendMoreIsShow=!0,!(i.default.isWechatGame()&&!t)&&(!(!r.BusinessGlobal.recommendMore||u.dialogManager.isDialogShow())&&r.BusinessGlobal.recommendMore.show())},t.prototype.hideRecommendMore=function(){r.BusinessGlobal.recommendMoreIsShow=!1,r.BusinessGlobal.recommendMore&&r.BusinessGlobal.recommendMore.hide()},t.prototype.show=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),!1},t.prototype.showAd=function(t){if(void 0===t&&(t=null),!c.switchManager.isInterstitialOpen())return l.default.fLog(g,"\u63d2\u5c4f\u5f00\u5173\u5173\u95ed"),n.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5c55\u793a\u5931\u8d25","\u5f00\u5173\u5173\u95ed"),!1;if(!this.helper)return l.default.fLog(g,"\u4e0d\u5b58\u5728\u63d2\u5c4f\u7ec4\u4ef6"),n.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5c55\u793a\u5931\u8d25","\u672a\u521b\u5efa"),!1;if(!this.helper.isAdLoaded())return l.default.fLog(g,"\u672a\u52a0\u8f7d\u6210\u529f"),n.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5c55\u793a\u5931\u8d25","\u672a\u52a0\u8f7d\u6210\u529f"),!1;this.showCb=t;var e=this.helper.show();return e?cc.systemEvent.emit(d.default.SDK_DIALOG_SHOW):this.showCb=null,l.default.fLog(g,"\u5c55\u793a:"+e),e},t.prototype.showByTimes=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=this.defaultShowIntervalTimes),!1},t.INSTANCE=void 0,t}();o.interstitialManager=_.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","../constants/PublicEventName":"PublicEventName","../helper/VivoInterstitialHelper":"VivoInterstitialHelper","../helper/WxInterstitialHelper":"WxInterstitialHelper","./AnalyticsManager":"AnalyticsManager","./DialogManager":"DialogManager","./SwitchManager":"SwitchManager"}],IosParticleFix:[function(t,e,o){"use strict";cc._RF.push(e,"a39cdc7D+RLhoiHCRe0w6sf","IosParticleFix");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.start=function(){if(o.sIsIOSDevice){var t=this.node.getComponent(cc.ParticleSystem);t&&(this.stateOneDeal(t),this.stateTwoDeal(t),this.stateThreeDeal(t))}},e.setIosSystem=function(){var t=null,e=window.navigator.userAgent;return/iPhone/.test(e)||/iPad/.test(e)?(/OS 14/.test(e)?t="14":/OS 13_7/.test(e)?t="13.7":/OS 10_3_2/.test(e)?t="12.4.7":/OS 11_3/.test(e)&&(t="11.3"),t):t},e.prototype.stateOneDeal=function(t){if(t.dstBlendFactor===cc.macro.DST_ALPHA&&t.srcBlendFactor!==cc.macro.DST_ALPHA)switch(o.iosVersion){case"14":t.dstBlendFactor=cc.macro.ONE_MINUS_DST_ALPHA;break;case"13.7":case"12.4.7":case"11.3":t.dstBlendFactor=cc.macro.ONE}},e.prototype.stateTwoDeal=function(t){if(t.dstBlendFactor!==cc.macro.DST_ALPHA&&t.srcBlendFactor===cc.macro.DST_ALPHA)switch(o.iosVersion){case"14":t.srcBlendFactor=cc.macro.ONE_MINUS_DST_ALPHA}},e.prototype.stateThreeDeal=function(t){if(t.dstBlendFactor===cc.macro.DST_ALPHA&&t.srcBlendFactor===cc.macro.DST_ALPHA)switch(o.iosVersion){case"14":t.srcBlendFactor=cc.macro.ONE_MINUS_DST_ALPHA,t.dstBlendFactor=cc.macro.ONE_MINUS_DST_ALPHA}},e.iosVersion=o.setIosSystem(),e.sIsIOSDevice=cc.sys.os===cc.sys.OS_IOS&&cc.sys.isBrowser&&cc.sys.isMobile,e=o=n([a],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],JMExtension:[function(t,e,o){"use strict";cc._RF.push(e,"3195dwIo5lIboNFuqdctati","JMExtension"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.getFileManageServiceVersion=function(){return new Promise(function(e){null===t.fileManageServiceVersion?t.getServiceVersion({serviceName:"FileManageService",result:function(o){t.fileManageServiceVersion=o,e(o)}}):e(t.fileManageServiceVersion)})},t.getServiceVersion=function(e){var o=JSON.stringify({service:e.serviceName});window.dsBridge.hasNativeMethod("BabyNative.getVersionAsync")?window.dsBridge.call("BabyNative.getVersionAsync",o,function(o){var i=t.decodeInvokeResult(o);e.result(parseInt(i.result,10))}):(console.debug("\u5bbf\u4e3b\u4e0d\u652f\u6301\u83b7\u53d6\u670d\u52a1\u7248\u672c\uff0c\u9ed8\u8ba4\u6309-2\u8fd4\u56de"),setTimeout(function(){e.result(-2)},1))},t.decodeInvokeResult=function(t){var e=JSON.parse(t);return{success:e.success,result:e.result,notImplemented:e.notImplemented,errCode:e.errCode,errMsg:e.errMsg,errDetail:e.errDetail}},t.fileManageServiceVersion=null,t}();o.default=i,cc._RF.pop()},{}],JudgeManager:[function(t,e,o){"use strict";cc._RF.push(e,"2aaa0YS/65ESJ1yx+V2zKPs","JudgeManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/FrameworkConfig"),n=t("../../core/util/DateUtil"),a=t("../../core/util/DeviceUtil"),r=t("../../core/util/LogUtil"),s=t("../../core/util/MathUtil"),c=t("../../core/util/PlatformUtil"),l=t("../../core/util/StoreUtil"),u=t("../constants/AdTag"),d=t("../constants/BusinessGlobal"),p=t("../constants/GuideId"),h=t("../constants/PublicConst"),f=t("../handler/AdInfoHandler"),g=t("./ActivityManager"),_=t("./GuideManager"),y=t("./NativeAdManager"),m=t("./PBManager"),v=t("./SwitchManager"),b=t("./VideoRecorderManager");o.simulateSerialNumber=Object.freeze({leftMedia:"qaz741ujm",drawer:"qaz748ujm",customBanner:"qaz745ujm",moreGame:"qaz742ujm",backDialogV2:"qaz749ujm",dialogMedia:"qaz746ujm",rightSideBar:"qaz743ujm",gamePageRecommend:"qaw741ujm",busScene:"qaw748ujm",interstitialDialog:"qaw745ujm",newRecommend:"qaw742ujm",guessDialog:"qaw749ujm",mv:"qaw746ujm",gameIcon:"qaw743ujm",customerServiceDialog:"qas741ujm",recordBtn:"qas748ujm",nativeAdDialog:"qas745ujm",toast:"qas742ujm",addToDeskTip:"qas749ujm",shareBtn:"qas746ujm"});var S,w,A="G8888_LAST_ENTER",C="G8888_LTD_SAVE_DAY",G="G8888_LTD_LAST_SCALE",T="G8888_LTD_LAST_DAY";(function(t){t[t.EARLY=0]="EARLY",t[t.MID=1]="MID",t[t.LATE=2]="LATE"})(S=o.LtdStage||(o.LtdStage={})),function(t){t.kugou="kugou",t.bbgm="bbgm",t.web="web"}(w=o.webType||(o.webType={}));var P=function(){function t(){this.isBrowser=!1,this.webType=null,this.ltdStage=0,this.welcomeRequestComplete=!1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.initParams(),this.ltdAddOrNotChange(),r.default.managerLog(h.ManagerName.JudgeManager,"\u5f53\u524d\u4fdd\u5b58\u7684ltd\u5929\u6570\u662f",d.BusinessGlobal.ltdSaveDay,"\u5929")},t.prototype.initParams=function(){this.setSimulatePlatform(),d.BusinessGlobal.wxDrawerAlternatelyRecord=s.default.random(0,1)},t.prototype.setSimulatePlatform=function(){if(this.isBrowser=c.default.isBrowser(),this.isBrowser){var t=window.location.href.indexOf(".kugou");cc.sys.isBBMG?(this.webType=w.bbgm,d.BusinessGlobal.simulatePlatform=c.SimulatePlatform.bbmg):-1!==t?(this.webType=w.kugou,d.BusinessGlobal.simulatePlatform=c.SimulatePlatform.kugou):(this.webType=w.web,d.BusinessGlobal.simulatePlatform=c.SimulatePlatform.web)}},t.prototype.getInterstitialInterval=function(){return d.BusinessGlobal.gameParams&&d.BusinessGlobal.gameParams.ad_plugtime>0?d.BusinessGlobal.gameParams.ad_plugtime:d.BusinessGlobal.globalParams&&d.BusinessGlobal.globalParams.ad_plugtime>0?d.BusinessGlobal.globalParams.ad_plugtime:30},t.prototype.getSwitchByTag=function(t){if(console.log("getSwitchByTag",t,d.BusinessGlobal.gameParams[t],d.BusinessGlobal.globalParams[t]),d.BusinessGlobal.gameParams&&void 0!==d.BusinessGlobal.gameParams[t]){if("boolean"==typeof d.BusinessGlobal.gameParams[t])return d.BusinessGlobal.gameParams[t];if("string"==typeof d.BusinessGlobal.gameParams[t])return"1"===d.BusinessGlobal.gameParams[t]}if(d.BusinessGlobal.globalParams&&void 0!==d.BusinessGlobal.globalParams[t]){if("boolean"==typeof d.BusinessGlobal.globalParams[t])return d.BusinessGlobal.globalParams[t];if("string"==typeof d.BusinessGlobal.globalParams[t])return"1"===d.BusinessGlobal.globalParams[t]}return!0},t.prototype.getInterstitialReturnSwitch=function(){return!!this.getSwitchByTag("ad_promotioncomponent_return")||(r.default.necessaryLog("\u7ba1\u7406\u8005 - \u6e38\u620f/\u5168\u5c40\u53c2\u6570\u63a7\u5236\u5f00\u5173\u5173\u95ed"),!1)},t.prototype.getInterstitialStaySwitch=function(){return this.getSwitchByTag("ad_promotioncomponent_stay")},t.prototype.getDialogNativeSwitch=function(){return this.getSwitchByTag("ad_originalarousal_switch")},t.prototype.getGameParams=function(){var t=this;return new Promise(function(e,o){try{if(window.simulatedDataManager)return d.BusinessGlobal.gameParams=window.simulatedDataManager.getGameParamsData(),(c.default.isWechatGame()||c.default.isWxSimulatePlatform())&&d.BusinessGlobal.gameParams&&(d.BusinessGlobal.gameParams.ltd_day&&(d.BusinessGlobal.ltd=d.BusinessGlobal.gameParams.ltd_day),d.BusinessGlobal.gameParams.ltd_proportion&&(d.BusinessGlobal.ltdScale=d.BusinessGlobal.gameParams.ltd_proportion),t.setNowLtdCache(String(d.BusinessGlobal.ltd),String(d.BusinessGlobal.ltdScale)),t.setLtdStage()),void e(d.BusinessGlobal.gameParams);m.pbManager.getGameParams().then(function(o){d.BusinessGlobal.gameParams=o,c.default.isWechatGame()&&d.BusinessGlobal.gameParams&&(d.BusinessGlobal.gameParams.ltd_day&&(d.BusinessGlobal.ltd=d.BusinessGlobal.gameParams.ltd_day),d.BusinessGlobal.gameParams.ltd_proportion&&(d.BusinessGlobal.ltdScale=d.BusinessGlobal.gameParams.ltd_proportion),t.setNowLtdCache(String(d.BusinessGlobal.ltd),String(d.BusinessGlobal.ltdScale)),r.default.managerLog(h.ManagerName.JudgeManager,"gameParams data is",o),t.setLtdStage()),console.log("gameParams get success ,data is",o),e(o)}).catch(function(){r.default.errorLog("gameParams get fail","Code:518"),t.setLtdStage(),o()})}catch(e){r.default.errorLog("gameParams get fail","Code:518"),t.setLtdStage(),o()}})},t.prototype.setNowLtdCache=function(t,e){l.default.set(T,t),l.default.set(G,e)},t.prototype.accordingScaleToJudge=function(t){return s.default.random(0,100)<=t},t.prototype.ltdAddOrNotChange=function(){var t=Number(l.default.get(A,"0")),e=Number(l.default.get(C,"1")),o=l.default.get(T,String(i.default.defaultLTD)),a=l.default.get(G,String(i.default.defaultLTDScale)),r=n.default.todayZeroTimestamp()/1e3;0===t?(t=r,l.default.set(A,String(r))):t+86400<=r&&(t=r,e+=1,l.default.set(A,String(r)),l.default.set(C,String(e))),d.BusinessGlobal.ltdSaveDay=e,d.BusinessGlobal.ltd=Number(o),d.BusinessGlobal.ltdScale=Number(a),this.setLtdStage()},t.prototype.setLtdStage=function(){var t=Math.floor((d.BusinessGlobal.ltd-1)*d.BusinessGlobal.ltdScale);t<1&&(t=1);var e=1+t;console.log("\u5224\u65ad\u7528\u7684ltd",d.BusinessGlobal.ltd,d.BusinessGlobal.ltdScale),1===d.BusinessGlobal.ltdSaveDay?this.ltdStage=S.EARLY:d.BusinessGlobal.ltdSaveDay<=e?this.ltdStage=S.MID:this.ltdStage=S.LATE},t.prototype.getLtdStage=function(){return this.ltdStage},t.prototype.getLtdStageName=function(){return["\u524d\u671f","\u4e2d\u671f","\u672b\u671f"][this.ltdStage]},t.prototype.ifSetWelcomeDialogArray=function(){return c.default.isWechatGame()||c.default.isBaiduGame()||c.default.isWxSimulatePlatform()||c.default.isBaiduSimulatePlatform()},t.prototype.getSdkComponentLtdShow=function(t,e){return void 0===e&&(e=!1),!!e&&(!(this.ltdStage!==S.EARLY||!this.ltdEarlier_StageStageJudge(t))||(!(this.ltdStage!==S.MID||!this.ltdMedium_TermStageJudge(t))||!(this.ltdStage!==S.LATE||!this.ltdTelocinesiaStageJudge(t))))},t.prototype.ltdEarlier_StageStageJudge=function(t){return t===o.simulateSerialNumber.leftMedia||t===o.simulateSerialNumber.customerServiceDialog||t===o.simulateSerialNumber.busScene||t===o.simulateSerialNumber.moreGame||t===o.simulateSerialNumber.interstitialDialog||t===o.simulateSerialNumber.gameIcon||t===o.simulateSerialNumber.guessDialog||t===o.simulateSerialNumber.newRecommend},t.prototype.ltdMedium_TermStageJudge=function(t){return t===o.simulateSerialNumber.leftMedia||t===o.simulateSerialNumber.customerServiceDialog||t===o.simulateSerialNumber.busScene||t===o.simulateSerialNumber.moreGame||t===o.simulateSerialNumber.interstitialDialog||t===o.simulateSerialNumber.gameIcon||t===o.simulateSerialNumber.guessDialog||t===o.simulateSerialNumber.newRecommend||t===o.simulateSerialNumber.drawer||t===o.simulateSerialNumber.mv},t.prototype.ltdTelocinesiaStageJudge=function(t){return t===o.simulateSerialNumber.leftMedia||t===o.simulateSerialNumber.customerServiceDialog||t===o.simulateSerialNumber.busScene||t===o.simulateSerialNumber.moreGame||t===o.simulateSerialNumber.interstitialDialog||t===o.simulateSerialNumber.gamePageRecommend||t===o.simulateSerialNumber.guessDialog||t===o.simulateSerialNumber.newRecommend||t===o.simulateSerialNumber.drawer||t===o.simulateSerialNumber.mv},t.prototype.ifInLtdList=function(t){return!(!c.default.isWechatGame()&&!c.default.isWxSimulatePlatform())&&(t===o.simulateSerialNumber.leftMedia||t===o.simulateSerialNumber.busScene||t===o.simulateSerialNumber.moreGame||t===o.simulateSerialNumber.interstitialDialog||t===o.simulateSerialNumber.gamePageRecommend||t===o.simulateSerialNumber.gameIcon||t===o.simulateSerialNumber.guessDialog||t===o.simulateSerialNumber.newRecommend||t===o.simulateSerialNumber.drawer||t===o.simulateSerialNumber.customerServiceDialog||t===o.simulateSerialNumber.customBanner||t===o.simulateSerialNumber.mv)},t.prototype.canLoadLeftMedia=function(){var t=o.simulateSerialNumber.leftMedia;return this.isBrowser?this.simulatePlatformJudge(t):c.default.isVivo()||c.default.isTouTiao()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6b22\u8fce\u9875\u5de6\u4fa7\u5bfc\u91cf\u4f4d","Code:50"),!1):!(!_.guideManager.hasEffectData(p.default.LEFT_BOTTOM)&&!_.guideManager.hasEffectData(p.default.BUS))||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6b22\u8fce\u9875\u5de6\u4fa7\u5bfc\u91cf\u4f4d","Code:508"),!1)},t.prototype.satisfyLoadDrawerDemand=function(){return c.default.isWechatGame()||c.default.isWxSimulatePlatform()||c.default.isBaiduGame()||c.default.isBaiduSimulatePlatform()?_.guideManager.hasEffectData(p.default.DRAWER)?a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7dicon\u62bd\u5c49","Code:502"),!1):!a.deviceUtil.isHostBabybus()||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7dicon\u62bd\u5c49","Code:501"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7dicon\u62bd\u5c49","Code:504"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7dicon\u62bd\u5c49","Code:51"),!1)},t.prototype.canLoadCustomBanner=function(){return!(!c.default.isBrowser()||c.default.isWeb())||(c.default.isOppo()||c.default.isVivo()||c.default.isWechatGame()||c.default.isBaiduGame()?(v.switchManager.isNativeOpen()||!c.default.isOppo()&&!c.default.isVivo())&&(y.nativeAdManager.isValid()||!c.default.isOppo()&&!c.default.isVivo())?!((c.default.isBaiduGame()||c.default.isWechatGame())&&!_.guideManager.hasEffectData(p.default.BANNER)):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u9876\u90e8banner","Code:507"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u9876\u90e8banner","Code:150"),!1))},t.prototype.satisfyNativeAdDialogDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.nativeAdDialog;return this.isBrowser?this.simulatePlatformJudge(e,t):v.switchManager.isNativeOpen()?c.default.isOppo()?!this.ifInLtdList(e)||c.default.isWechatGame()&&this.getSdkComponentLtdShow(e,t)?a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:502"),!1):!!y.nativeAdManager.isValid()||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:509"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:500"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:151"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u5f39\u7a97","Code:1000"),!1)},t.prototype.satisfyLoadMoreGameDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.moreGame;return this.isBrowser?this.simulatePlatformJudge(e,t):c.default.isWechatGame()||c.default.isBaiduGame()||c.default.isOppo()||c.default.isVivo()||c.default.isTouTiao()?!this.ifInLtdList(e)||c.default.isWechatGame()&&this.getSdkComponentLtdShow(e,t)?!v.switchManager.isLocalPureVer()&&(!a.deviceUtil.isHostBabybus()&&(a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u6309\u94ae","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u6309\u94ae","Code:502"),!1):!(!c.default.isVivo()&&!c.default.isTouTiao())||(!!_.guideManager.hasEffectData(p.default.MORE)||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u6309\u94ae","Code:508"),!1)))):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u6309\u94ae","Code:500"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u6309\u94ae","Code:151"),!1)},t.prototype.satisfyBackDialogV2Demand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.backDialogV2;return this.isBrowser?this.simulatePlatformJudge(e,t):v.switchManager.isNativeOpen()?c.default.isOppo()||c.default.isVivo()?!this.ifInLtdList(e)||c.default.isWechatGame()&&this.getSdkComponentLtdShow(e,t)?((a.deviceUtil.isHostBabybus()||a.deviceUtil.isChannelTale()||!y.nativeAdManager.isValid()||v.switchManager.isLocalPureVer())&&d.BusinessGlobal.backCB&&d.BusinessGlobal.backCB(),a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:502"),!1):!!y.nativeAdManager.isValid()||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:509"),!1)):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:500"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:3"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u8fd4\u56de\u6309\u94ae\u5f39\u7a97(\u7248\u672c2)","Code:1000"),!1)},t.prototype.satisfyMediaDialogDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.dialogMedia;return this.isBrowser?this.simulatePlatformJudge(e,t):!this.ifInLtdList(e)||c.default.isWechatGame()&&this.getSdkComponentLtdShow(e,t)?a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f39\u7a97\u81ea\u5a92\u4f53","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f39\u7a97\u81ea\u5a92\u4f53","Code:502"),!1):!v.switchManager.isLocalPureVer()&&(!!(_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H1)||_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H2)||_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H3)||_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H4)||_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H5)||_.guideManager.hasEffectData(p.default.DIALOG_EXTRA_H6))||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f39\u7a97\u81ea\u5a92\u4f53","Code:508"),!1)):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f39\u7a97\u81ea\u5a92\u4f53","Code:500"),!1)},t.prototype.satisfyRightSideBarDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.rightSideBar;return this.isBrowser?this.simulatePlatformJudge(e,t):!this.ifInLtdList(e)||c.default.isWechatGame()&&this.getSdkComponentLtdShow(e,t)?a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u53f3\u4fa7\u680f\u5bfc\u91cf\u4f4d","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u53f3\u4fa7\u680f\u5bfc\u91cf\u4f4d","Code:502"),!1):_.guideManager.hasEffectData(p.default.RIGHT_SIDEBAR)?!v.switchManager.isLocalPureVer():(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u53f3\u4fa7\u680f\u5bfc\u91cf\u4f4d","Code:508"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u53f3\u4fa7\u680f\u5bfc\u91cf\u4f4d","Code:500"),!1)},t.prototype.canLoadGamePageRecommend=function(){return c.default.isWechatGame()||c.default.isBaiduGame()?!!_.guideManager.hasEffectData(p.default.GAME_PAGE_RECOMMEND)||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6e38\u620f\u9876\u90e8icon","Code:508"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6e38\u620f\u9876\u90e8icon","Code:52"),!1)},t.prototype.satisfyBusSceneDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.busScene;return this.isBrowser?this.simulatePlatformJudge(e,t):!(!c.default.isWechatGame()&&!c.default.isBaiduGame())&&(this.ifInLtdList(e)&&!this.getSdkComponentLtdShow(e,t)?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5df4\u58eb\u8f66\u573a\u666f","Code:500"),!1):a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5df4\u58eb\u8f66\u573a\u666f","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5df4\u58eb\u8f66\u573a\u666f","Code:502"),!1):_.guideManager.hasEffectData(p.default.BUS)?!v.switchManager.isLocalPureVer():(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5df4\u58eb\u8f66\u573a\u666f","Code:508"),!1))},t.prototype.satisfyInterstitialDialogDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.interstitialDialog;return this.isBrowser?this.simulatePlatformJudge(e,t):c.default.isWechatGame()||c.default.isBaiduGame()||c.default.isOppo()?this.ifInLtdList(e)&&!this.getSdkComponentLtdShow(e,t)?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u5f39\u7a97","Code:500"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u5f39\u7a97","Code:502"),!1):a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u5f39\u7a97","Code:501"),!1):!!_.guideManager.hasEffectData(p.default.MORE)||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u5f39\u7a97","Code:508"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u66f4\u591a\u597d\u73a9\u5f39\u7a97","Code:100"),!1)},t.prototype.satisfyNewRecommendDemand=function(t){void 0===t&&(t=!0);var e=o.simulateSerialNumber.newRecommend;return this.isBrowser?this.simulatePlatformJudge(e,t):c.default.isWechatGame()||c.default.isBaiduGame()?this.ifInLtdList(e)&&!this.getSdkComponentLtdShow(e,t)?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","Code:500"),!1):_.guideManager.hasEffectData(p.default.GAME_WELCOME_DIALOG)?a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","Code:502"),!1):!v.switchManager.isLocalPureVer():(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","Code:508"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","Code:52"),!1)},t.prototype.satisfyRecordBtnDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.recordBtn;return this.isBrowser?this.simulatePlatformJudge(e,t):b.videoRecorderManager.canUse()?!d.BusinessGlobal.hasAddRecord||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f55\u5c4f\u7ec4\u4ef6","Code:517"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u5f55\u5c4f\u7ec4\u4ef6","Code:516"),!1)},t.prototype.satisfyGuessDialogDemand=function(t){void 0===t&&(t=!1);var e=o.simulateSerialNumber.guessDialog;return this.isBrowser?this.simulatePlatformJudge(e,t):c.default.isWechatGame()||c.default.isBaiduGame()?this.ifInLtdList(e)&&!this.getSdkComponentLtdShow(e,t)?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u731c\u4f60\u559c\u6b22\u5f39\u7a97\u52a0\u8f7d\u6761\u4ef6","Code:500"),!1):a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u731c\u4f60\u559c\u6b22\u5f39\u7a97\u52a0\u8f7d\u6761\u4ef6","Code:501"),!1):a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u731c\u4f60\u559c\u6b22\u5f39\u7a97\u52a0\u8f7d\u6761\u4ef6","Code:502"),!1):!!_.guideManager.hasEffectData(p.default.GAME_BACK)||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u731c\u4f60\u559c\u6b22\u5f39\u7a97\u52a0\u8f7d\u6761\u4ef6","Code:508"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u731c\u4f60\u559c\u6b22\u5f39\u7a97\u52a0\u8f7d\u6761\u4ef6","Code:52"),!1)},t.prototype.canLoadGameIcon=function(){return v.switchManager.isRecommendOpen()?a.deviceUtil.isLteSDKVersion("2.8.2")?f.adInfoHandler.getId(u.default.GAME_ICON)?!!f.adInfoHandler.getId(u.default.GAME_PORTAL)||(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u63a8\u8350\u4f4d\u7ec4\u4ef6","Code:511"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u63a8\u8350\u4f4d\u7ec4\u4ef6","Code:510"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u63a8\u8350\u4f4d\u7ec4\u4ef6","Code:512"),!1):(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u63a8\u8350\u4f4d\u7ec4\u4ef6","Code:1001"),!1)},t.prototype.satisfyCustomerServiceDialogDemand=function(t){var e=this;return void 0===t&&(t=!0),new Promise(function(i,n){var s=o.simulateSerialNumber.customerServiceDialog;if(e.isBrowser)e.simulatePlatformJudge(s,t)?i(null):n();else{if(!c.default.isWechatGame())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u5f39\u7a97","Code:0"),void n();if(a.deviceUtil.isChannelTale())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u5f39\u7a97","Code:502"),void n();if(a.deviceUtil.isHostBabybus())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u5f39\u7a97","Code:501"),void n();if(e.ifInLtdList(s)&&!e.getSdkComponentLtdShow(s,t))return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u5f39\u7a97","Code:500"),void n();g.activityManager.judgeIfInActivity(g.ActivityPosition.CustomerServiceDialog).then(function(){i(null)}).catch(function(){r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u5f39\u7a97","Code:520"),n()})}})},t.prototype.satisfyShareBtnDemand=function(t){var e=this;return void 0===t&&(t=!1),new Promise(function(i,n){var s=o.simulateSerialNumber.shareBtn;if(e.isBrowser)e.simulatePlatformJudge(s,t)?i(null):n();else{if(!c.default.isWechatGame())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u6309\u94ae","Code:0"),void n();if(a.deviceUtil.isChannelTale())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u6309\u94ae","Code:502"),void n();if(a.deviceUtil.isHostBabybus())return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u6309\u94ae","Code:501"),void n();if(e.ifInLtdList(s)&&!e.getSdkComponentLtdShow(s,t))return r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u6309\u94ae","Code:500"),void n();g.activityManager.judgeIfInActivity(g.ActivityPosition.ShareBtn).then(function(){i(null)}).catch(function(){r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u6d3b\u52a8\u6309\u94ae","Code:520"),n()})}})},t.prototype.satisfyMvDemand=function(t){void 0===t&&(t=!0);var e=o.simulateSerialNumber.mv;return this.isBrowser?this.simulatePlatformJudge(e,t):c.default.isWechatGame()||c.default.isBaiduGame()?a.deviceUtil.isChannelTale()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0mv\u6309\u94ae","Code:502"),!1):a.deviceUtil.isHostBabybus()?(r.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7dmv\u6309\u94ae","Code:501"),!1):!c.default.isWechatGame()||(this.getLtdStage()===S.EARLY?(r.default.fLog("JudgeManager","\u524d\u671f\u4e0d\u5c55\u793amv"),!1):_.guideManager.isMvOpen()):(r.default.errorLog("\u4e0d\u6ee1\u8db3mv\u6309\u94ae","Code:52"),!1)},t.prototype.satisfyToastDemand=function(t){void 0===t&&(t=!0);var e=o.simulateSerialNumber.toast;return this.isBrowser?this.simulatePlatformJudge(e,t):!!c.default.isKwaigame()},t.prototype.satisfyAddToDeskTipDemand=function(t){void 0===t&&(t=!0);var e=o.simulateSerialNumber.addToDeskTip;return this.isBrowser?this.simulatePlatformJudge(e,t):!!c.default.isOppo()},t.prototype.satisfyRecordDemand=function(){return this.isBrowser?this.simulatePlatformJudge(o.simulateSerialNumber.recordBtn):!!b.videoRecorderManager.canUse()&&!d.BusinessGlobal.hasAddRecord},t.prototype.simulatePlatformJudge=function(t,e){if(void 0===e&&(e=!1),c.default.isWxSimulatePlatform()&&this.ifInLtdList(t)&&!this.getSdkComponentLtdShow(t,e))return!1;switch(t){case o.simulateSerialNumber.leftMedia:return this.simulateLeftMedia(e);case o.simulateSerialNumber.drawer:return this.simulateDrawer(e);case o.simulateSerialNumber.customBanner:return this.simulateCustomBanner(e);case o.simulateSerialNumber.moreGame:return this.simulateMoreGame(e);case o.simulateSerialNumber.backDialogV2:return this.simulateBackDialogV2(e);case o.simulateSerialNumber.dialogMedia:return this.simulateDialogMedia(e);case o.simulateSerialNumber.rightSideBar:return this.simulateRightSideBar(e);case o.simulateSerialNumber.gamePageRecommend:return this.simulateGamePageRecommend(e);case o.simulateSerialNumber.busScene:return this.simulateBusScene(e);case o.simulateSerialNumber.interstitialDialog:return this.simulateInterstitialDialog(e);case o.simulateSerialNumber.newRecommend:return this.simulateNewRecommend(e);case o.simulateSerialNumber.guessDialog:return this.simulateGuessDialog(e);case o.simulateSerialNumber.mv:return this.simulateMv(e);case o.simulateSerialNumber.gameIcon:return this.simulateGameIcon(e);case o.simulateSerialNumber.customerServiceDialog:return this.simulateCustomerServiceDialog(e);case o.simulateSerialNumber.recordBtn:return this.simulateRecordBtnDialog(e);case o.simulateSerialNumber.nativeAdDialog:return this.simulateNativeAdDialog(e);case o.simulateSerialNumber.toast:return this.simulateToast(e);case o.simulateSerialNumber.shareBtn:return this.simulateShareBtn(e);case o.simulateSerialNumber.addToDeskTip:return this.simulateAddToDeskTipBtn(e);default:return!1}},t.prototype.simulateLeftMedia=function(t){return void 0===t&&(t=!1),!(!c.default.isWxSimulatePlatform()&&!c.default.isBaiduSimulatePlatform())},t.prototype.simulateDrawer=function(t){return void 0===t&&(t=!1),!(!c.default.isOppoSimulatePlatform()&&!c.default.isWxSimulatePlatform())},t.prototype.simulateCustomBanner=function(t){return void 0===t&&(t=!1),!!(c.default.isOppoSimulatePlatform()||c.default.isVivoSimulatePlatform()||c.default.isWxSimulatePlatform()||c.default.isBaiduSimulatePlatform())},t.prototype.simulateMoreGame=function(t){return void 0===t&&(t=!1),!!(c.default.isBaiduSimulatePlatform()||c.default.isWxSimulatePlatform()||c.default.isTouTiaoSimulatePlatform()||c.default.isOppoSimulatePlatform())},t.prototype.simulateNativeAdDialog=function(t){return void 0===t&&(t=!1),!!c.default.isOppoSimulatePlatform()},t.prototype.simulateBackDialogV2=function(t){return void 0===t&&(t=!1),!(!c.default.isOppoSimulatePlatform()&&!c.default.isVivoSimulatePlatform())&&(console.log("\u6211\u6267\u884c\u4e86"),!0)},t.prototype.simulateDialogMedia=function(t){return void 0===t&&(t=!1),!1},t.prototype.simulateRightSideBar=function(t){return void 0===t&&(t=!1),!1},t.prototype.simulateGamePageRecommend=function(t){return void 0===t&&(t=!1),!(!c.default.isBaiduSimulatePlatform()&&!c.default.isWxSimulatePlatform())},t.prototype.simulateBusScene=function(t){return void 0===t&&(t=!1),!(!c.default.isBaiduSimulatePlatform()&&!c.default.isWxSimulatePlatform())},t.prototype.simulateInterstitialDialog=function(t){return void 0===t&&(t=!1),!!(c.default.isWxSimulatePlatform()||c.default.isBaiduSimulatePlatform()||c.default.isOppoSimulatePlatform())},t.prototype.simulateNewRecommend=function(t){return void 0===t&&(t=!1),!(!c.default.isWxSimulatePlatform()&&!c.default.isBaiduSimulatePlatform())},t.prototype.simulateGuessDialog=function(t){return void 0===t&&(t=!1),!(!c.default.isWxSimulatePlatform()&&!c.default.isBaiduSimulatePlatform())},t.prototype.simulateMv=function(t){return void 0===t&&(t=!1),!(!c.default.isWxSimulatePlatform()&&!c.default.isBaiduSimulatePlatform())},t.prototype.simulateGameIcon=function(t){return void 0===t&&(t=!1),!!c.default.isWxSimulatePlatform()},t.prototype.simulateCustomerServiceDialog=function(t){return void 0===t&&(t=!1),!!c.default.isWxSimulatePlatform()},t.prototype.simulateShareBtn=function(t){return void 0===t&&(t=!1),!!c.default.isWxSimulatePlatform()},t.prototype.simulateAddToDeskTipBtn=function(t){return void 0===t&&(t=!1),!!c.default.isOppoSimulatePlatform()},t.prototype.simulateRecordBtnDialog=function(t){return void 0===t&&(t=!1),!!c.default.isTouTiaoSimulatePlatform()},t.prototype.simulateToast=function(t){return void 0===t&&(t=!1),!!c.default.isBBMGSimulatePlatform()},t.INSTANCE=void 0,t}();o.judgeManager=P.getInstance(),cc._RF.pop()},{"../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/DateUtil":"DateUtil","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../constants/AdTag":"AdTag","../constants/BusinessGlobal":"BusinessGlobal","../constants/GuideId":"GuideId","../constants/PublicConst":"PublicConst","../handler/AdInfoHandler":"AdInfoHandler","./ActivityManager":"ActivityManager","./GuideManager":"GuideManager","./NativeAdManager":"NativeAdManager","./PBManager":"PBManager","./SwitchManager":"SwitchManager","./VideoRecorderManager":"VideoRecorderManager"}],JumpManager:[function(t,e,o){"use strict";cc._RF.push(e,"2f6bdxyYr9LtqTHsWFCgiFa","JumpManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AnalyticsManager"),n=t("../../core/util/AppUtil"),a=t("../util/ReportUtil"),r=t("../../core/util/PlatformUtil"),s=t("../../core/util/StoreUtil"),c=t("../constants/PublicStoreKey"),l=t("../../core/util/DateUtil"),u=t("../constants/PublicAnalyticsKey"),d=t("../util/AiolosUtil"),p=t("../../core/util/LogUtil"),h=t("../constants/PublicConst"),f=function(){function t(){this.isFront=!0}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){var t=this;this.recordJumpBack(),r.default.isWechatGame()?(wx.onShow(function(){t.dealOnShow()}),wx.onHide(function(){t.dealOnHide()})):r.default.isBaiduGame()&&(swan.onShow(function(){t.dealOnShow()}),swan.onHide(function(){t.dealOnHide()}))},t.prototype.dealOnHide=function(){this.isFront=!1},t.prototype.dealOnShow=function(){this.isFront=!0,this.recordJumpBack()},t.prototype.navigateToApp=function(t,e,o,s,c){var l=this;return void 0===c&&(c=!1),new Promise(function(d,f){if(!t)return p.default.errorLog("navigate fail","\u6ca1\u6709\u8df3\u8f6c\u53c2\u6570"),void f();if(i.analyticsManager.recordEvent(u.default.MEDIA_TOTAL,"\u70b9\u51fb",t.programName),r.default.isOppo())return i.analyticsManager.recordEvent(e.click,""+s,t.packageName),void n.default.navigateToApp(t.packageName,t.defaultUrl).then(function(){p.default.managerLog(h.ManagerName.JumpManager,"navigate to "+t.programName+" success"),i.analyticsManager.recordEvent(e.jump,""+s,t.packageName),i.analyticsManager.recordEvent(u.default.MEDIA_TOTAL,"\u4fc3\u6d3b",t.programName),a.reportUtil.reportMedia(t.packageName,t.defaultUrl,o,s,!0),l.recordJumpSuccess(t.appID),d(null)}).catch(function(){p.default.managerLog("navigate to "+t.programName+" fail","\u8df3\u8f6c\u9519\u8bef"),a.reportUtil.reportMedia(t.packageName,t.defaultUrl,o,s,!1),f()});if(i.analyticsManager.recordEvent(e.click,""+s,t.appID),r.default.isBaiduGame())n.default.navigateToApp(t.appKey,t.defaultUrl).then(function(){p.default.managerLog(h.ManagerName.JumpManager,"navigate to "+t.programName+" success"),i.analyticsManager.recordEvent(e.jump,""+s,t.appID),i.analyticsManager.recordEvent(u.default.MEDIA_TOTAL,"\u4fc3\u6d3b",t.programName),a.reportUtil.reportMedia(t.appKey,t.defaultUrl,o,s,!0),l.recordJumpSuccess(t.appID),d(null)}).catch(function(){p.default.managerLog("navigate to "+t.programName+" fail","\u8df3\u8f6c\u9519\u8bef"),a.reportUtil.reportMedia(t.appKey,t.defaultUrl,o,s,!1),f()});else{if(!t.appID||t.appID.length<8)return i.analyticsManager.recordEvent(u.default.SDK_JUMP,"Q"),n.default.showQRCode(t.qrCodePic),void d(null);var g=l.dealPath(t.defaultUrl,t.packageName,c);n.default.navigateToApp(t.appID,g).then(function(){p.default.managerLog(h.ManagerName.JumpManager,"navigate to "+t.programName+" success"),i.analyticsManager.recordEvent(e.jump,""+s,t.appID),i.analyticsManager.recordEvent(u.default.MEDIA_TOTAL,"\u4fc3\u6d3b",t.programName),a.reportUtil.reportMedia(t.appID,t.defaultUrl,o,s,!0),i.analyticsManager.setTag(t.appID),l.recordJumpSuccess(t.appID),d(null)}).catch(function(){p.default.managerLog("navigate to "+t.programName+" fail","\u8df3\u8f6c\u9519\u8bef"),a.reportUtil.reportMedia(t.appID,t.defaultUrl,o,s,!1),f()})}})},t.prototype.clearData=function(){s.default.remove(c.default.LAST_JUMP_APP_NAME),s.default.remove(c.default.LAST_JUMP_TIME)},t.prototype.dealPath=function(t,e,o){return o?t:r.default.isWechatGame()?d.aiolosUtil.dealSharePath(t,e):t},t.prototype.recordJumpSuccess=function(t){s.default.set(c.default.LAST_JUMP_APP_NAME,t),s.default.set(c.default.LAST_JUMP_TIME,""+l.default.getTimeStamp())},t.prototype.recordJumpBack=function(){var t=this;try{var e=s.default.get(c.default.LAST_JUMP_APP_NAME,null);if(e)Number(s.default.get(c.default.LAST_JUMP_TIME,"-1"))>=l.default.todayZeroTimestamp()&&(i.analyticsManager.recordEvent(u.default.JUMP_BACK,e),setTimeout(function(){t.isFront&&i.analyticsManager.recordEvent(u.default.JUMP_BACK_10,e)},1e4),this.clearData())}catch(t){this.clearData()}},t.prototype.buttonShow=function(t,e,o){var n=r.default.isOppo()||r.default.isVivo()?t.programName:t.appID;i.analyticsManager.recordEvent(e.show,""+o,n),i.analyticsManager.recordEvent(u.default.MEDIA_TOTAL,"\u66dd\u5149",n)},t.INSTANCE=void 0,t}();o.default=f,o.jumpManager=f.getInstance(),cc._RF.pop()},{"../../core/util/AppUtil":"AppUtil","../../core/util/DateUtil":"DateUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","../constants/PublicStoreKey":"PublicStoreKey","../util/AiolosUtil":"AiolosUtil","../util/ReportUtil":"ReportUtil","./AnalyticsManager":"AnalyticsManager"}],KwaiRecorderHelper:[function(t,e,o){"use strict";cc._RF.push(e,"15151iz7gVD8pKrmQAAp8iB","KwaiRecorderHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/LogUtil"),n=t("../../core/util/PlatformUtil"),a=t("../../core/util/ToastUtil"),r=t("../constants/BusinessGlobal"),s=t("../constants/PublicConst"),c=function(){function t(){this.recorder=null,this.videoID=-1,this.onRecordStart=null,this.onRecordStop=null,this.time=0,this.isRecording=!1,this.recordValid=!0,this.hasShare=!1,this.stopAutoRecordCallBack=!1,this.canShowRecordBtn=!0,this.isAutoRecording=!1,this.readyToAutoRecord=!1,this.readyToAutoRecordTime=0,this.handleId=-1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.showRecordBtn=function(){this.canShowRecordBtn=!0,r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.node.active=!0,r.BusinessGlobal.recordBtn.toState())},t.prototype.hideRecordBtn=function(){this.canShowRecordBtn=!1,r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.node.active=!1)},t.prototype.setCallBack=function(t,e){this.onRecordStart=t,this.onRecordStop=e},t.prototype.getRecorder=function(){var t=this,e=this;if(!this.recorder&&n.default.isKwaigame()&&ks.getGameRecorder){if(this.recorder=ks.getGameRecorder(),!this.recorder)return null;this.recorder.on("start",function(){console.log("=== onStart"),t.onRecordStart&&e.onRecordStart()}),this.recorder.on("error",function(t){e.isAutoRecording||a.default.toastShort("\u5f55\u5236\u53d1\u751f\u9519\u8bef"),console.log("\u5f55\u5236\u53d1\u751f\u9519\u8bef:"+JSON.stringify(t)),e.videoID=-1,e.hasShare=!1,e.isRecording=!1,e.time=0,e.isAutoRecording=!1,e.onRecordStop&&e.onRecordStop(),e.stopAutoRecordCallBack&&(e.stopAutoRecordCallBack=!1),r.BusinessGlobal.recordBtn.node.active=!0}),this.recorder.on("stop",function(o){console.log("=== onStop",o.videoID,JSON.stringify(o)),e.recordValid&&(e.videoID=o.videoID),e.hasShare=!1,e.isRecording=!1,e.time=0,e.isAutoRecording=!1,e.onRecordStop&&e.onRecordStop(),e.stopAutoRecordCallBack&&(e.stopAutoRecordCallBack=!1),console.log("stopSwitchState",e.stopAutoRecordCallBack),r.BusinessGlobal.recordBtn&&!t.readyToAutoRecord&&(r.BusinessGlobal.recordBtn.node.active=t.canShowRecordBtn),e.readyToAutoRecord&&setTimeout(function(){console.log("=== onStop 222:"+t.readyToAutoRecord+" = "+t.readyToAutoRecordTime),e.startRecord(t.readyToAutoRecordTime),e.isAutoRecording=!0,r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.node.active=!1),t.readyToAutoRecord=!1},500)})}return this.recorder},t.prototype.canUse=function(){var t=n.default.isTouTiao()&&null!==tt.getGameRecorderManager,e=n.default.isTouTiaoSimulatePlatform(),o=n.default.isKwaigame()&&null!==ks.getGameRecorder;return t||e||o},t.prototype.startAutoRecord=function(t){console.log("== startAutoRecord 00:",t,this.isAutoRecording),this.isRecording?(console.log("startAutoRecord 111"),this.readyToAutoRecord=!0,this.readyToAutoRecordTime=t,this.stopRecord(),r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.node.active=!1)):(console.log("startAutoRecord 222"),this.startRecord(t),this.isAutoRecording=!0,r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.node.active=!1))},t.prototype.stopAutoRecord=function(){this.isRecording&&r.BusinessGlobal.recordBtn&&(r.BusinessGlobal.recordBtn.activeRecord||(this.stopAutoRecordCallBack=!0,r.BusinessGlobal.recordBtn.node.active=this.canShowRecordBtn,this.stopRecord()))},t.prototype.startRecord=function(t){var e=this;void 0===t&&(t=60),i.default.managerLog(this,"record start"),console.log("== startRecord:",t),this.recordValid=!0,this.videoID=-1,this.time=t,this.isRecording=!0,this.getRecorder()&&(this.getRecorder().start(),clearTimeout(this.handleId),this.handleId=setTimeout(function(){console.log("== stopRecord: timeout"),e.stopRecord()},1e3*t))},t.prototype.stopRecord=function(){clearTimeout(this.handleId),i.default.managerLog(s.ManagerName.VideoRecorderManager,"record end"),this.isRecording=!1;var t=!0;return!this.isAutoRecording&&this.time>55&&(this.recordValid=!1,t=!1),this.time=0,this.getRecorder()&&this.getRecorder().stop(),t},t.prototype.getVideoID=function(){return this.recordValid?this.videoID:-1},t.prototype.isShareValid=function(){return this.getRecorder()&&this.videoID>=0},t.prototype.publishVideo=function(){var t=this,e=this;return new Promise(function(o,i){t.isShareValid()?t.getRecorder().publishVideo({video:e.videoID,callback:function(t){if(null!=t&&void 0!==t)return console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: ",t),void i();console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),o(null)}}):i()})},t.INSTANCE=null,t}();o.KwaiRecorderHelper=c,o.kwaiRecorderHelper=c.getInstance(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicConst":"PublicConst"}],KwaiRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"e74800tP1NDRZOXa9t6llgS","KwaiRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=t("../../../Config/AppConfig"),s=function(){function t(){this.rewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.rewardUnitId=null}return t.prototype.isValid=function(){return this.canUse()||console.log("\u5feb\u624b \u5e7f\u544a\u672a\u586b\u5145"),this.canUse()},t.prototype.canUse=function(){return n.default.isKwaigame()&&void 0!==ks.createRewardedVideoAd&&null!==ks.createRewardedVideoAd},t.prototype.show=function(){var t=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),new Promise(function(e,o){if(t.resolve=e,t.reject=o,t.canUse()){var n={adUnitId:t.rewardUnitId};t.rewardAd=ks.createRewardedVideoAd(n),t.rewardAd?(t.rewardAd.onClose(function(t){console.log("\u5feb\u624b\u6fc0\u52b1\u89c6\u9891\u5173\u95ed\u56de\u8c03: "+JSON.stringify(t)),t&&t.isEnded?e&&(e(null),o=null,e=null):o&&(o(),e=null,o=null)}),a.analyticsManager.recordEvent(i.default.REWARD,t.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),t.rewardAd.show({success:function(t){console.log("\u5feb\u624b\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5b8c\u6210: "+JSON.stringify(t))},fail:function(t){console.log("\u5feb\u624b\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: "+JSON.stringify(t)),o&&(o(),e=null,o=null)}})):o()}else o()})},t.prototype.init=function(){this.initReward(r.default.kwaigameRewardUnitID)},t.prototype.initReward=function(t){t&&(console.log("init \u5feb\u624b reward",t),this.rewardUnitId=t)},t.prototype.activeLoad=function(){},t.prototype.onError=function(t){var e=this;++this.errorTimes,console.log("\u5feb\u624b onError:"+this.errorTimes),console.log(t);var o=t?t.errCode:"-999";a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)},t}();o.default=s,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],LabelControlMaxFontByWidth:[function(t,e,o){"use strict";cc._RF.push(e,"ba525JI3U9LE7fKB55fVnTI","LabelControlMaxFontByWidth");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxWidth=1e3,e}return i(e,t),e.prototype.setNowBestShowFont=function(){var t=this,e=this.string.split(""),o="",i=!1;e.forEach(function(n,a){if(!i){var r=o;o+=n,t.string=o+"..",t._updateRenderData?t._updateRenderData(!0):t._forceUpdateRenderData(!0),a<e.length&&t.node.width>t.maxWidth?(t.string=r+"..",i=!0):t.string=o}})},n([s({tooltip:"\u6700\u5927\u5bbd\u5ea6"})],e.prototype,"maxWidth",void 0),e=n([r],e)}(cc.Label);o.default=c,cc._RF.pop()},{}],LeftMediaBean:[function(t,e,o){"use strict";cc._RF.push(e,"aa8ab2PB3lOw4kLykl/59u5","LeftMediaBean");var i,n,a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.WechatGame=1]="WechatGame",t[t.WechatApp=2]="WechatApp"}(i=o.AppType||(o.AppType={})),function(t){t[t.All=0]="All",t[t.IOS=1]="IOS",t[t.ANDROID=2]="ANDROID"}(n=o.PlatformType||(o.PlatformType={}));var r=cc._decorator,s=r.ccclass,c=r.property,l=function(){function t(){this.name="",this.wxAppId="",this.wxPath="",this.appType=i.WechatApp,this.platformType=n.All,this.appSfs=[]}return a([c({tooltip:"\u4ea7\u54c1\u540d\u79f0"})],t.prototype,"name",void 0),a([c({tooltip:"\u4ea7\u54c1id"})],t.prototype,"wxAppId",void 0),a([c({tooltip:"\u4ea7\u54c1\u8df3\u8f6c\u8def\u5f84"})],t.prototype,"wxPath",void 0),a([c({tooltip:"\u4ea7\u54c1\u7c7b\u578b",type:cc.Enum(i)})],t.prototype,"appType",void 0),a([c({tooltip:"\u5e73\u53f0\u7c7b\u578b",type:cc.Enum(n)})],t.prototype,"platformType",void 0),a([c({tooltip:"\u4ea7\u54c1\u56fe\u7247",type:[cc.SpriteFrame]})],t.prototype,"appSfs",void 0),t=a([s("LeftMediaBean")],t)}();o.default=l,cc._RF.pop()},{}],LeftMedia:[function(t,e,o){"use strict";cc._RF.push(e,"21b24F4TidASJMKtzjzjtTD","LeftMedia");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../core/util/PlatformUtil"),r=t("../../../business/manager/GuideManager"),s=t("../../../core/util/DeviceUtil"),c=t("../../../core/util/ArrayUtil"),l=t("../../../core/util/MathUtil"),u=t("../../../core/util/ImageUtil"),d=t("../../../business/manager/JumpManager"),p=t("../../../business/constants/PublicAnalyticsKey"),h=t("../../../business/manager/PluginManager"),f=t("../../../business/manager/AudioManager"),g=t("../../../core/util/DateUtil"),_=t("../../../business/constants/BusinessGlobal"),y=t("../../../business/constants/GuideId"),m=cc._decorator,v=m.ccclass,b=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfBgItem=null,e.sfDefault=null,e.prefabBus=null,e.acTouch=null,e.tipIndex=0,e.name="LeftMedia",e.lastTime=-1,e.drawer=null,e.createDrawer=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=9995,_.BusinessGlobal.leftMedia=this,this.node.active=_.BusinessGlobal.leftMediaCanShow,this.updateView()||(this.schedule(this.updateView,8),this.startTip())},e.prototype.getLeftData=function(t){if(a.default.isOppo())return r.guideManager.getDataByWeight(y.default.LEFT_BOTTOM,1);var e=t?4:5;return r.guideManager.getDataByWeight(y.default.LEFT_BOTTOM,e)},e.prototype.updateView=function(){var t=this,e=r.guideManager.hasEffectData(y.default.BUS);this.node.removeAllChildren(),this.adapterView(),e&&this.addBus();var o=this.getLeftData(e);if(c.default.isNull(o))return!0;var i=e?90:10;return o.forEach(function(e,n){var a=t.getNodeItem(e,n),r=(a.height+0)*o.length-(a.height+0)*(n+.5)+i;a.position=cc.v2(.5*a.width,r),t.node.addChild(a)}),!1},e.prototype.canClick=function(){var t=g.default.getTimeStamp();return!(t-this.lastTime<1500)&&(this.lastTime=t,!0)},e.prototype.addBus=function(){var t=this,e=cc.instantiate(this.prefabBus);return this.node.addChild(e),e.x=48,e.y=0,e.on(cc.Node.EventType.TOUCH_END,function(){t.canClick()&&(f.audioManager.playEffect(t.acTouch),e.runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){h.pluginManager.loadBusScene()}))))}),!0},e.prototype.startTip=function(){this.tipIndex+=this.node.children.length-1,this.schedule(this.tip,2.5)},e.prototype.stopTip=function(){this.unschedule(this.tip)},e.prototype.onDestroy=function(){this.stopTip(),_.BusinessGlobal.leftMedia=null,_.BusinessGlobal.leftMediaCanShow=!0},e.prototype.tip=function(){this.tipIndex++,this.tipIndex>=this.node.children.length&&(this.tipIndex=0),this.tipIndex=l.default.limit(this.tipIndex,0,this.node.children.length);var t=this.node.children[this.tipIndex];t&&("Bus"!==t.name?t.runAction(cc.repeat(cc.sequence(cc.rotateTo(.08,-10),cc.rotateTo(.08,0),cc.rotateTo(.08,10),cc.rotateTo(.08,0)),2)):this.tip())},e.prototype.getNodeItem=function(t,e){var o=this,i=new cc.Node;try{var n=i.addComponent(cc.Sprite);n.spriteFrame=this.sfBgItem,n.sizeMode=cc.Sprite.SizeMode.CUSTOM;var a=new cc.Node,s=a.addComponent(cc.Sprite);i.addChild(a),s.spriteFrame=this.sfDefault,u.default.loadSpriteFrame(t.logo).then(function(t){s.spriteFrame=t}).catch(function(){}),s.sizeMode=cc.Sprite.SizeMode.CUSTOM,a.height=72,a.width=72;var c=e+1;d.jumpManager.buttonShow(t,p.default.GM_LB,c),i.on(cc.Node.EventType.TOUCH_END,function(){f.audioManager.playEffect(o.acTouch),r.guideManager.addBeanBlack(y.default.LEFT_BOTTOM,t),d.jumpManager.navigateToApp(t,p.default.GM_LB,y.default.LEFT_BOTTOM,c).then(function(){}).catch(function(){})})}catch(t){console.log(t)}return i.width=96,i.height=98,i},e.prototype.adapterView=function(){var t=this.node.getComponent(cc.Widget);if(t.bottom=10,s.deviceUtil.getScreneWidth()>960){var e=.3*(s.deviceUtil.getScreneWidth()-960);t.left=20+e}else t.left=20;this.node.anchorY=0},n([b({tooltip:"\u63a8\u8350\u4ea7\u54c1\u80cc\u666f\u6846",type:cc.SpriteFrame})],e.prototype,"sfBgItem",void 0),n([b({tooltip:"\u9ed8\u8ba4\u56fe\u7247",type:cc.SpriteFrame})],e.prototype,"sfDefault",void 0),n([b({tooltip:"",type:cc.Prefab})],e.prototype,"prefabBus",void 0),n([b({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/PluginManager":"PluginManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/DateUtil":"DateUtil","../../../core/util/DeviceUtil":"DeviceUtil","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/MathUtil":"MathUtil","../../../core/util/PlatformUtil":"PlatformUtil"}],LibAutoMoveBg:[function(t,e,o){"use strict";cc._RF.push(e,"1b0529HJQJMDYtM1EKJD3op","LibAutoMoveBg");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=50,e.endX=600,e.rangeX=1200,e}return i(e,t),e.prototype.update=function(t){var e=this,o=this.speed*t;this.node.children.forEach(function(t){e.moveChild(t,o)})},e.prototype.moveChild=function(t,e){var o=t.x+e;o>=this.endX&&(o-=this.rangeX),t.x=o},n([s()],e.prototype,"speed",void 0),n([s()],e.prototype,"endX",void 0),n([s()],e.prototype,"rangeX",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],LibCarriage:[function(t,e,o){"use strict";cc._RF.push(e,"deb0eG5iMVNw4O80Tq5xiSU","LibCarriage");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/util/MathUtil"),r=t("../../core/util/ImageUtil"),s=t("../../business/manager/JumpManager"),c=t("../../business/constants/PublicAnalyticsKey"),l=t("../../business/manager/AudioManager"),u=t("../../business/manager/GuideManager"),d=t("../../business/constants/GuideId"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteCarriage=null,e.spriteIcon=null,e.labelName=null,e.acTouch=null,e.spriteTag=null,e.sfHot=null,e.sfNew=null,e.arraySf=[],e.index=0,e.hasMove=!1,e.startX=0,e}return i(e,t),e.prototype.initTag=function(t){t.isNew?this.drawTag(this.sfNew):t.isHot?this.drawTag(this.sfHot):this.drawTag(null)},e.prototype.drawTag=function(t){if(this.spriteTag.spriteFrame=t,t){var e=.01*a.default.random(100,200),o=.01*a.default.random(100,300);this.spriteTag.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.scaleTo(.3,0),cc.delayTime(.3),cc.scaleTo(.3,1),cc.delayTime(o),cc.rotateTo(.035,10),cc.rotateTo(.07,-10),cc.rotateTo(.07,10),cc.rotateTo(.07,-10),cc.rotateTo(.035,0))))}},e.prototype.init=function(t,e){var o=this;this.index=t;var i=t%this.arraySf.length,n=this.arraySf[i];if(this.spriteCarriage.spriteFrame=n,s.jumpManager.buttonShow(e,c.default.GM_BUS,t),this.initTag(e),this.startWaggle(),e){this.labelName.string=e.programName,r.default.loadSpriteFrame(e.logo).then(function(t){o.spriteIcon.spriteFrame=t}).catch(function(){});var a=t+1;s.jumpManager.buttonShow(e,c.default.GM_LB,a),this.node.on(cc.Node.EventType.TOUCH_START,function(t){o.startX=t.getLocationX(),o.hasMove=!1}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){o.hasMove=!0}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){Math.abs(t.getLocationX()-o.startX)>30||(l.audioManager.playEffect(o.acTouch),u.guideManager.addBeanBlack(d.default.BUS,e),s.jumpManager.navigateToApp(e,c.default.GM_BUS,d.default.BUS,a).then(function(){}).catch(function(){}))})}},e.prototype.startWaggle=function(){this.index%2==0?(this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1,.98),cc.scaleTo(.5,1,1)))),this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,-6)),cc.moveBy(1,cc.v2(0,6)))))):(this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1,1),cc.scaleTo(.5,1,.98)))),this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1,cc.v2(0,-4)),cc.moveBy(1,cc.v2(0,4))))))},n([f({tooltip:"",type:cc.Sprite})],e.prototype,"spriteCarriage",void 0),n([f({tooltip:"",type:cc.Sprite})],e.prototype,"spriteIcon",void 0),n([f({tooltip:"",type:cc.Label})],e.prototype,"labelName",void 0),n([f({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),n([f({tooltip:"",type:cc.Sprite})],e.prototype,"spriteTag",void 0),n([f({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfHot",void 0),n([f({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfNew",void 0),n([f({tooltip:"\u8f66\u53a2\u80cc\u666f\u56fe",type:[cc.SpriteFrame]})],e.prototype,"arraySf",void 0),e=n([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../business/constants/GuideId":"GuideId","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AudioManager":"AudioManager","../../business/manager/GuideManager":"GuideManager","../../business/manager/JumpManager":"JumpManager","../../core/util/ImageUtil":"ImageUtil","../../core/util/MathUtil":"MathUtil"}],LibConfig:[function(t,e,o){"use strict";cc._RF.push(e,"43876x8VVVEYrGXxlyrct2D","LibConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={gameNo:"",IsOPPOAttachAudioFile:!1},cc._RF.pop()},{}],LibDebug:[function(t,e,o){"use strict";cc._RF.push(e,"a71994mpjtMNYNKAbx28BO8","LibDebug");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../Config/AppConfig"),r=t("../../../business/manager/DebugManager"),s=t("../../../core/util/StoreUtil"),c=t("../../../core/util/ToastUtil"),l=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.debugOneRecord=0,e.debugTwoRecord=0,e.debugThreeRecord=0,e.lastRecord=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){if("1"===s.default.get(o.debugStroyString,"0")){var t=new cc.Node("version");t.parent=this.node,t.addComponent(cc.Label);var e=t.getComponent(cc.Label);e.fontSize=40,e.lineHeight=50,e.string="\u7248\u672c\u53f7:\n"+String(a.default.versionName),t.x=.5*cc.winSize.width-100,t.y=-.5*cc.winSize.height+50,t.scale=.5}},e.prototype.debugEvent=function(t,e){var o=Number(e);switch(o){case 1:this.debugOneRecord+=1,this.lastRecord=1,(this.debugOneRecord>3||o!==this.lastRecord)&&this.reset(),this.debugRecordLog();break;case 2:this.debugTwoRecord+=1,this.lastRecord=2,(this.debugTwoRecord>3||o!==this.lastRecord||3!==this.debugOneRecord)&&this.reset(),this.debugRecordLog();break;case 3:this.debugThreeRecord+=1,this.lastRecord=3,this.debugThreeRecord>6||o!==this.lastRecord||3!==this.debugOneRecord||3!==this.debugTwoRecord?this.reset():6===this.debugThreeRecord&&(r.debugManager.debug?(r.debugManager.setDebug(!1),console.log("\u5df2\u5207\u6362\u4e3a\u6b63\u5f0f\uff0c\u91cd\u542f\u540e\u751f\u6548"),c.default.toastShort("\u5df2\u5207\u6362\u4e3a\u6b63\u5f0f\uff0c\u91cd\u542f\u540e\u751f\u6548")):(r.debugManager.setDebug(!0),console.log("\u5df2\u5207\u6362\u4e3a\u6d4b\u8bd5\uff0c\u91cd\u542f\u540e\u751f\u6548"),c.default.toastShort("\u5df2\u5207\u6362\u4e3a\u6d4b\u8bd5\uff0c\u91cd\u542f\u540e\u751f\u6548"))),this.debugRecordLog();break;default:this.reset()}},e.prototype.reset=function(){this.debugOneRecord=0,this.debugTwoRecord=0,this.debugThreeRecord=0,this.lastRecord=0},e.prototype.debugRecordLog=function(){console.log("1:",this.debugOneRecord,"\n2:",this.debugTwoRecord,"\n3:",this.debugThreeRecord)},e.debugStroyString="TRAIN_SCENE_MAKE_A_DEBUG",e=o=n([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../../Config/AppConfig":"AppConfig","../../../business/manager/DebugManager":"DebugManager","../../../core/util/StoreUtil":"StoreUtil","../../../core/util/ToastUtil":"ToastUtil"}],LibLawn:[function(t,e,o){"use strict";cc._RF.push(e,"3dbd8IogehM/pTDjue8Um+r","LibLawn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrayNodeLawn=[],e.rotate=0,e}return i(e,t),e.prototype.changeDegree=function(t){this.rotate=(this.rotate+t)%360,this.rotate<0?this.changeDegree(360):(this.node.rotation=this.rotate,this.setRotation())},e.prototype.update=function(t){this.changeDegree(3*t)},e.prototype.setRotation=function(){var t=this,e=Math.floor(this.rotate/24),o=Math.floor(e/this.arrayNodeLawn.length),i=e%this.arrayNodeLawn.length,n=24*-o*this.arrayNodeLawn.length;this.arrayNodeLawn.forEach(function(e,o){var a=i>o?-24*t.arrayNodeLawn.length:0;e.rotation=n-24*(o-1)+a})},n([s({tooltip:"",type:[cc.Node]})],e.prototype,"arrayNodeLawn",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],LibQiqi:[function(t,e,o){"use strict";cc._RF.push(e,"62cc8Z5jGpCgLtgOmqrbHAd","LibQiqi");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/constants/BusinessGlobal"),r=t("../../business/constants/GuideId"),s=t("../../business/constants/PublicAnalyticsKey"),c=t("../../business/manager/AnalyticsManager"),l=t("../../business/manager/AudioManager"),u=t("../../business/manager/GuideManager"),d=t("../../core/util/DateUtil"),p=t("../../core/util/DeviceUtil"),h=t("../../core/util/MathUtil"),f=t("../../core/util/PlatformUtil"),g=t("./QiqiGiftDialog"),_=cc._decorator,y=_.ccclass,m=_.property,v=0,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeQiqi=null,e.nodeMask=null,e.giftDialog=null,e.bonesQiqi=null,e.audio008=null,e.audio102=null,e.audio103=null,e.audio104=null,e.audio105=null,e.audio106=null,e.audio107=null,e.state=v,e.lastTime=-1,e}return i(e,t),e.prototype.canClick=function(){var t=d.default.getTimeStamp();return!(t-this.lastTime<1e3)&&(this.lastTime=t,!0)},e.prototype.onLoad=function(){var t=this;this.node.zIndex=9999,this.nodeMask.active=!1,a.BusinessGlobal.libQiqi=this,c.analyticsManager.recordEvent(s.default.QIQI_SHOW);var e=.5*p.deviceUtil.getScreneWidth(),o=.5*-p.deviceUtil.getScreneHeight()+120;this.nodeQiqi.position=cc.v2(e,o),this.hi(),this.nodeQiqi.on(cc.Node.EventType.TOUCH_START,function(){t.canClick()&&(c.analyticsManager.recordEvent(s.default.QIQI_CLICK),1===t.state?(t.node.stopAllActions(),t.bonesQiqi.playAnimation("qiqi_nlw_5",-1),t.showGiftDialog(),console.log("\u5c55\u793a\u5f39\u7a97")):2===t.state?console.log("\u5c55\u793a\u5f39\u7a97\u4e2d"):t.clickAction())})},e.prototype.showGiftDialog=function(){var t=this;this.state=2,this.nodeMask.active=!0;this.giftDialog.show(function(){t.nodeMask.active=!1,t.breath()})},e.prototype.onDestroy=function(){a.BusinessGlobal.libQiqi=null},e.prototype.clickAction=function(){switch(h.default.random(0,3)){case 0:this.bellyLaugh();break;case 1:this.refuse();break;case 2:this.makeFace();break;case 3:this.gymnastics()}},e.prototype.breath=function(t){var e=this;void 0===t&&(t=!0),this.node.stopAllActions(),this.state=v,this.bonesQiqi.playAnimation("qiqi_huxi",-1),t&&(f.default.isBrowser()||f.default.isBaiduGame()||f.default.isWechatGame())&&u.guideManager.hasEffectData(r.default.QIQI_RECOMEND)&&cc.tween(this.node).delay(7).call(function(){e.showGift()}).start()},e.prototype.showGift=function(){this.node.stopAllActions(),this.state=1,l.audioManager.playLine(this.audio106),this.playSpecificAnim(["qiqi_nlw_1","qiqi_nlw_2","qiqi_nlw_4"],[.8,5,.8])},e.prototype.bellyLaugh=function(){this.node.stopAllActions(),l.audioManager.playLine(this.audio102),this.playSpecificAnim(["qiqi_dj_pfdx_1","qiqi_dj_pfdx_2","qiqi_dj_pfdx_3"],[.2,5,.3])},e.prototype.refuse=function(){this.node.stopAllActions(),l.audioManager.playLine(this.audio104),this.playSpecificAnim(["qiqi_dj_by_1","qiqi_dj_by_2","qiqi_dj_by_3"],[.2,2,.3])},e.prototype.makeFace=function(){this.node.stopAllActions(),l.audioManager.playLine(this.audio103),this.playSpecificAnim(["qiqi_dj_gl_1","qiqi_dj_gl_2","qiqi_dj_gl_3"],[.2,1,.3])},e.prototype.gymnastics=function(){this.node.stopAllActions(),l.audioManager.playLine(this.audio105),this.playSpecificAnim(["qiqi_dj_tc_1","qiqi_dj_tc_2","qiqi_dj_tc_3"],[.2,9,.3])},e.prototype.hi=function(){this.node.stopAllActions(),l.audioManager.playLine(this.audio008),this.playSpecificAnim(["qiqi_dazhaohu_1","qiqi_dazhaohu_2","qiqi_dazhaohu_3"],[.2,3,.3])},e.prototype.playSpecificAnim=function(t,e){var o=this;this.node.stopAllActions(),this.bonesQiqi.playAnimation(t[0],1),cc.tween(this.node).delay(e[0]).call(function(){o.bonesQiqi.playAnimation(t[1],-1)}).delay(e[1]).call(function(){o.bonesQiqi.playAnimation(t[2],-1)}).delay(e[2]).call(function(){o.breath()}).start()},n([m({tooltip:"\u5947\u5947",type:cc.Node})],e.prototype,"nodeQiqi",void 0),n([m({tooltip:"\u906e\u7f69",type:cc.Node})],e.prototype,"nodeMask",void 0),n([m({tooltip:"\u793c\u7269\u5f39\u7a97",type:g.default})],e.prototype,"giftDialog",void 0),n([m({tooltip:"\u5947\u5947\u9aa8\u9abc",type:dragonBones.ArmatureDisplay})],e.prototype,"bonesQiqi",void 0),n([m({tooltip:"\u4f60\u6765\u4e86",type:cc.AudioClip})],e.prototype,"audio008",void 0),n([m({tooltip:"\u597d\u75d2\u554a",type:cc.AudioClip})],e.prototype,"audio102",void 0),n([m({tooltip:"\u5410\u820c\u5934",type:cc.AudioClip})],e.prototype,"audio103",void 0),n([m({tooltip:"nonono",type:cc.AudioClip})],e.prototype,"audio104",void 0),n([m({tooltip:"\u548c\u5947\u5947\u4e00\u8d77\u505a\u8fd0\u52a8",type:cc.AudioClip})],e.prototype,"audio105",void 0),n([m({tooltip:"\u9001\u4f60\u4e00\u4e2a\u793c\u7269",type:cc.AudioClip})],e.prototype,"audio106",void 0),n([m({tooltip:"\u597d\u5f00\u5fc3\u5440",type:cc.AudioClip})],e.prototype,"audio107",void 0),e=n([y],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/GuideId":"GuideId","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AnalyticsManager":"AnalyticsManager","../../business/manager/AudioManager":"AudioManager","../../business/manager/GuideManager":"GuideManager","../../core/util/DateUtil":"DateUtil","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/MathUtil":"MathUtil","../../core/util/PlatformUtil":"PlatformUtil","./QiqiGiftDialog":"QiqiGiftDialog"}],LibTrainHead:[function(t,e,o){"use strict";cc._RF.push(e,"e47e4h5mNJD+YKwMFq7e+yL","LibTrainHead");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeWheel1=null,e.nodeWheel2=null,e.nodeYan=null,e.spriteChicken=null,e.sfChicken1=null,e.sfChicken2=null,e.prefabYan=null,e.rotate=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.spriteChicken.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.spriteChicken.spriteFrame=t.sfChicken2,t.createYan()}),cc.scaleTo(.1,1,1.2),cc.callFunc(function(){t.spriteChicken.spriteFrame=t.sfChicken1}),cc.scaleTo(.1,1))))},e.prototype.createYan=function(){var t=cc.instantiate(this.prefabYan);this.nodeYan.addChild(t);var e=cc.v2(-30,20);t.position=e,t.scale=0;var o=[e,cc.v2(-300,100),cc.v2(400,400)];t.runAction(cc.sequence(cc.spawn(cc.bezierTo(3,o),cc.scaleTo(3,1),cc.fadeOut(4)),cc.callFunc(function(){t.active=!1,t.parent=null})))},e.prototype.update=function(t){this.rotate=(this.rotate+-180*t)%360,this.nodeWheel1.rotation=this.rotate,this.nodeWheel2.rotation=this.rotate},n([s({tooltip:"",type:cc.Node})],e.prototype,"nodeWheel1",void 0),n([s({tooltip:"",type:cc.Node})],e.prototype,"nodeWheel2",void 0),n([s({tooltip:"",type:cc.Node})],e.prototype,"nodeYan",void 0),n([s({tooltip:"",type:cc.Sprite})],e.prototype,"spriteChicken",void 0),n([s({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfChicken1",void 0),n([s({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfChicken2",void 0),n([s({tooltip:"",type:cc.Prefab})],e.prototype,"prefabYan",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],LibTrainScene:[function(t,e,o){"use strict";cc._RF.push(e,"72418F3pYJIp7tdT2S498y+","LibTrainScene");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/base/BBScene"),r=t("../../business/manager/LoadManager"),s=t("../../business/manager/AudioManager"),c=t("../../business/constants/PublicAnalyticsKey"),l=t("../../core/util/DateUtil"),u=t("../../business/constants/BusinessGlobal"),d=t("../../core/util/PlatformUtil"),p=t("../../business/manager/ActivityManager"),h=t("../../business/manager/AnalyticsManager"),f=t("../../core/util/ImageUtil"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnBack=null,e.nodePlane=null,e.acBg=null,e.acTouch=null,e.planPosData=null,e.activityPos=p.ActivityPosition.BusPlane,e.lastTime=-1,e}return i(e,t),e.prototype.initData=function(){r.loadManager.hideLoading(),s.audioManager.playMusic(this.acBg)},e.prototype.initView=function(){var t=this;this.initPlane(),this.btnBack.active=!1,this.scheduleOnce(function(){t.btnBack.active=!0},5)},e.prototype.drawPlane=function(){var t=this;f.default.loadSpriteFrame(this.planPosData.img_url).then(function(e){if(e){var o=t.nodePlane.getComponent(cc.Sprite);o.spriteFrame=e,o.node.setContentSize(e.getOriginalSize()),t.nodePlane.runAction(cc.sequence(cc.moveTo(1,cc.v2(157,-57)),cc.callFunc(function(){t.nodePlane.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.7,0,5).easing(cc.easeOut(.4)),cc.moveBy(.7,0,-5).easing(cc.easeOut(1)))))})))}}).catch(function(){t.nodePlane.active=!1})},e.prototype.initPlane=function(){var t=this;(d.default.isWxSimulatePlatform()||d.default.isWechatGame())&&(this.nodePlane.active=!1,p.activityManager.judgeIfInActivity(this.activityPos).then(function(){t.planPosData=p.activityManager.getMyPosData(p.ActivityList.ACTIVITY_BACKSTAGE_SUPPORTER,t.activityPos),t.nodePlane.active=!0,t.drawPlane(),t.nodePlane.on(cc.Node.EventType.TOUCH_END,function(){s.audioManager.playEffect(t.acTouch),h.analyticsManager.recordEvent(c.default.BUS_BANNER_CLICK),t.nodePlane.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){p.activityManager.backstageSupporterDataDeal(t.planPosData,t.activityPos)})))})}).catch(function(){t.nodePlane.active=!1}),h.analyticsManager.recordEvent(c.default.BUS_BANNER_SHOW))},e.prototype.initListener=function(){this.openClickBackListener()},e.prototype.openClickBackListener=function(){this.btnBack.on(cc.Node.EventType.TOUCH_END,this.touchBackEnd,this)},e.prototype.canClick=function(){var t=l.default.getTimeStamp();return!(t-this.lastTime<2e3)&&(this.lastTime=t,!0)},e.prototype.touchBackEnd=function(){if(this.canClick()){var t=u.BusinessGlobal.lastSceneName;s.audioManager.playEffect(this.acTouch),this.btnBack.runAction(cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.1,1),cc.callFunc(function(){cc.director.loadScene(t)})))}},n([y({tooltip:"\u8fd4\u56de\u6309\u94ae",type:cc.Node})],e.prototype,"btnBack",void 0),n([y({tooltip:"\u98de\u673a",type:cc.Node})],e.prototype,"nodePlane",void 0),n([y({tooltip:"",type:cc.AudioClip})],e.prototype,"acBg",void 0),n([y({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([_],e)}(a.default);o.default=m,cc._RF.pop()},{"../../business/base/BBScene":"BBScene","../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/ActivityManager":"ActivityManager","../../business/manager/AnalyticsManager":"AnalyticsManager","../../business/manager/AudioManager":"AudioManager","../../business/manager/LoadManager":"LoadManager","../../core/util/DateUtil":"DateUtil","../../core/util/ImageUtil":"ImageUtil","../../core/util/PlatformUtil":"PlatformUtil"}],LibTrain:[function(t,e,o){"use strict";cc._RF.push(e,"6ba6boa1dxEO7Egu/sXYrtG","LibTrain");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./LibCarriage"),r=t("../../core/util/MathUtil"),s=t("./LibLawn"),c=t("../../../Config/AppConfig"),l=t("../../business/manager/AudioManager"),u=t("../../business/manager/GuideManager"),d=t("../../business/constants/GuideId"),p=function(){function t(){}return t.WX125101=0,t.WX125102=1,t.WX125103=2,t.WX125104=3,t.WX125105=4,t.WX125106=5,t.WX125107=6,t.WX12502002=7,t}(),h=function(){function t(){}return t.HELLOW="130001",t.HELLOW2="130002",t.HUXI="mmhuxi",t.HUXIZHAYAN="mmhuxizhayan",t.ZHAOSHOU="mmzhaoshou",t.KAIXIN="mmkaixin",t.HOUKAN="mmhoukan",t.HOUKANJIESHU="mmhoukanjiesu",t}(),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startX=0,e.startD=0,e.lastD=0,e.totalD=0,e.arrayAc=[],e.prefabCarriage=null,e.prefabTrain=null,e.nodeCarriage=null,e.nodeTrain=null,e.nodeControl=null,e.lawn=null,e.bonesMM=null,e}return i(e,t),e.prototype.startNextAction=function(){var t=this;this.bonesMM.playAnimation(h.HUXI,-1),this.scheduleOnce(function(){var e=r.default.random(0,2);1===e?t.sayGuide():2===e?t.happy():t.blinkEyes()},.1*r.default.random(20,40))},e.prototype.sayGuide=function(){var t=this;this.playHoukan();var e=r.default.random(0,1),o=1===e?5:3;this.scheduleOnce(function(){var o=p.WX125103;o=0===e?p.WX125103:1===e?p.WX125104:p.WX125107,l.audioManager.playLine(t.arrayAc[o]),t.bonesMM.playAnimation(h.HELLOW,3)},.8),this.scheduleOnce(function(){t.playHoukanJieShu()},o+.8)},e.prototype.blinkEyes=function(){var t=this;this.bonesMM.playAnimation(h.HUXIZHAYAN,-1),this.scheduleOnce(function(){t.startNextAction()},1)},e.prototype.happy=function(){var t=this;this.bonesMM.playAnimation(h.KAIXIN,-1),l.audioManager.playLine(this.arrayAc[p.WX12502002]),this.scheduleOnce(function(){t.startNextAction()},1)},e.prototype.onLoad=function(){this.nodeCarriage.removeAllChildren(),this.nodeTrain.removeAllChildren(),this.initCarriages(),this.startGame()},e.prototype.startGame=function(){var t=this;this.node.rotation=15;var e=c.default.cocoscreatorVersion&&c.default.cocoscreatorVersion>=20102?11.5:-11.5;this.node.runAction(cc.sequence(cc.rotateTo(3,e),cc.callFunc(function(){t.sayHellow(),t.openListener()})))},e.prototype.openListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.nodeControl.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.nodeControl.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.nodeControl.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.nodeControl.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.playHoukan=function(){this.bonesMM.playAnimation(h.HOUKAN,1)},e.prototype.playHoukanJieShu=function(){var t=this;this.bonesMM.playAnimation(h.HOUKANJIESHU,1),this.scheduleOnce(function(){t.startNextAction()},1)},e.prototype.sayHellow=function(){var t=this;this.playHoukan();this.scheduleOnce(function(){t.bonesMM.playAnimation(h.HELLOW,3),l.audioManager.playLine(t.arrayAc[p.WX125101])},.8),this.scheduleOnce(function(){l.audioManager.playLine(t.arrayAc[p.WX125102])},5.8),this.scheduleOnce(function(){t.playHoukanJieShu()},8.8)},e.prototype.initCarriages=function(){var t=u.guideManager.getDataByWeight(d.default.BUS,15);if(t&&!(t.length<=0)){this.totalD=5+8*t.length;for(var e=0;e<t.length;e++)this.createCarriage(e,t[e]),this.createTrain(e)}},e.prototype.createTrain=function(t){var e=cc.instantiate(this.prefabTrain);this.nodeTrain.addChild(e);var o=6+8*t,i=1730*Math.sin(o*Math.PI/180),n=1730*Math.cos(o*Math.PI/180);e.position=cc.v2(i,n),e.rotation=o},e.prototype.createCarriage=function(t,e){var o=cc.instantiate(this.prefabCarriage);this.nodeCarriage.addChild(o),o.getComponent(a.default).init(t,e);var i=10+8*t,n=1691*Math.sin(i*Math.PI/180),r=1691*Math.cos(i*Math.PI/180);o.position=cc.v2(n,r),o.rotation=i},e.prototype.touchEnd=function(){var t=0;if(this.node.rotation>t){var e=.1*(this.node.rotation-t);this.node.runAction(cc.rotateTo(e,t))}else if(this.node.rotation<-this.totalD-t){e=.1*-(this.node.rotation+t+this.totalD);t=c.default.cocoscreatorVersion&&c.default.cocoscreatorVersion>=20102?this.totalD+t:-this.totalD-t,this.node.runAction(cc.rotateTo(e,t))}},e.prototype.touchStart=function(t){this.node.stopAllActions(),this.startX=t.getLocationX(),this.startD=this.node.rotation,this.lastD=this.node.rotation},e.prototype.touchMove=function(t){var e=.03*(t.getLocationX()-this.startX),o=r.default.limit(this.startD+e,-this.totalD-10,10);this.node.rotation=o;var i=o-this.lastD;this.lawn.changeDegree(i),this.lastD=o},n([_({tooltip:"",type:[cc.AudioClip]})],e.prototype,"arrayAc",void 0),n([_({tooltip:"",type:cc.Prefab})],e.prototype,"prefabCarriage",void 0),n([_({tooltip:"",type:cc.Prefab})],e.prototype,"prefabTrain",void 0),n([_({tooltip:"app\u8f66\u53a2\u7236\u8282\u70b9",type:cc.Node})],e.prototype,"nodeCarriage",void 0),n([_({tooltip:"\u706b\u8f66\u8fde\u63a5\u6760\u8282\u70b9",type:cc.Node})],e.prototype,"nodeTrain",void 0),n([_({tooltip:"",type:cc.Node})],e.prototype,"nodeControl",void 0),n([_({tooltip:"",type:s.default})],e.prototype,"lawn",void 0),n([_({tooltip:"",type:dragonBones.ArmatureDisplay})],e.prototype,"bonesMM",void 0),e=n([g],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../business/constants/GuideId":"GuideId","../../business/manager/AudioManager":"AudioManager","../../business/manager/GuideManager":"GuideManager","../../core/util/MathUtil":"MathUtil","./LibCarriage":"LibCarriage","./LibLawn":"LibLawn"}],LoadHelper:[function(t,e,o){"use strict";cc._RF.push(e,"5fd31P/tqNL3Lie74gJZAq2","LoadHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../BBGameWeb/Script/Common/BBLoader"),n=t("../../../Config/FrameworkConfig"),a=t("../../core/util/LoadUtil"),r=t("../../core/util/PlatformUtil");o.loadAllResParams={Scene:{weight:.6,number:0},Image:{weight:.2,number:1},Sound:{weight:.2,number:2}};var s=function(){function t(){this.audioClipCache=[],this.bgmClipCache=[],this.frameCache=[],this.comframeCache={},this.resConfig=null,this.hasCallback=!1,this.loadCb=null,this.needLoadResConfig={effect:[],word:[],image:[],publicImage:[]}}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.callbackProgress=function(t,e){this.loadCb&&this.loadCb.onPreloadProgress(t,e)},t.prototype.callbackFail=function(t){this.loadCb&&!this.hasCallback&&this.loadCb.onPreloadFail({name:t,message:t})},t.prototype.callbackSuccess=function(){this.loadCb&&!this.hasCallback&&this.loadCb.onPreloadSuccess()},t.prototype.loadRes=function(t,e){return r.default.isBBMGSimulatePlatform()?-1!==t.indexOf("undefined")?Promise.reject():i.default.getInstance().loadRes(t,e):new Promise(function(o,i){cc.loader.loadRes(t,e,function(t,e){t?i(t):o(e)})})},t.prototype.getLanguage=function(){return"zh"},t.prototype.loadSoundResource=function(){var t=this,e=0;if(this.needLoadResConfig.effect&&(e+=this.needLoadResConfig.effect.length),this.needLoadResConfig.word&&(e+=this.needLoadResConfig.word.length),0===e)return console.log("loadHelper config length 0"),void this.loadImageResource();for(var i=0,n=!1,a=function(a,r){t.loadRes(a,cc.AudioClip).then(function(r){if(!n){i+=1,a.toLocaleLowerCase().search("bgm")>-1?t.bgmClipCache.push(r):t.audioClipCache.push(r);var s=i/e;t.callbackProgress(s,o.loadAllResParams.Sound),i>=e&&(console.log("--------------\u97f3\u9891\u52a0\u8f7d\u5b8c\u6210,\u5171"+i+"\u4e2a------------------"),t.loadImageResource())}}).catch(function(e){n=!0,console.error("\u97f3\u9891\u52a0\u8f7d\u9519\u8bef",a,r,e),t.callbackFail("load audio error:"+r)})},r=0;r<this.needLoadResConfig.effect.length;r++){var s=this.needLoadResConfig.effect[r];a(this.getEffectPath(s),s)}for(r=0;r<this.needLoadResConfig.word.length;r++){s=this.needLoadResConfig.word[r];a(this.getLinePath(s),s)}},t.prototype.loadImageResource=function(){var t=this,e=0;if(this.needLoadResConfig.publicImage&&(e+=this.needLoadResConfig.publicImage.length),this.needLoadResConfig.image&&(e+=this.needLoadResConfig.image.length),0===e)return console.log("loadHelper config length 0"),void this.callbackSuccess();var i=0,n=!1,r=function(r,s,c){t.loadRes(r,cc.SpriteFrame).then(function(r){if(!n){i+=1,c?(a.default.setNotAutoRelease(r),t.comframeCache[s]=r):t.frameCache.push(r);var l=i/e;t.callbackProgress(l,o.loadAllResParams.Image),i>=e&&(console.log("--------------\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210,\u5171"+i+"\u4e2a------------------"),t.callbackSuccess())}}).catch(function(e){n=!0,console.error("\u56fe\u7247\u52a0\u8f7d\u9519\u8bef",r,s,e),t.callbackFail("load image error:"+s)})};if(this.needLoadResConfig.publicImage)for(var s=0;s<this.needLoadResConfig.publicImage.length;s++){var c=this.needLoadResConfig.publicImage[s];if(this.comframeCache[c]){var l=(i+=1)/e;this.callbackProgress(l,o.loadAllResParams.Image),i>=e&&(console.log("--------------\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210,\u5171"+i+"\u4e2a------------------"),this.callbackSuccess())}else r(this.getComImagePath(c),c,!0)}if(this.needLoadResConfig.image)for(s=0;s<this.needLoadResConfig.image.length;s++){c=this.needLoadResConfig.image[s];r(this.getImagePath(c),c,!1)}},t.prototype.loadResConfig=function(t){var e=this,o="/"+n.default.gameNo+"/soundConfig/"+t;return console.log("loadSoundConfig",o),new Promise(function(t,i){e.loadRes(o,cc.JsonAsset).then(function(o){e.resConfig=o.json,e.needLoadResConfig=e.resConfig,t()}).catch(function(t){console.log("loadSoundConfig fail",t),i()})})},t.prototype.releaseAudio=function(){cc.loader.release(this.audioClipCache),this.audioClipCache=[]},t.prototype.releaseImage=function(){cc.loader.release(this.frameCache),this.frameCache=[]},t.prototype.getEffectPath=function(t){return n.default.gameNo+"/snd/"+t},t.prototype.getLinePath=function(t){return this.getLinePathByTag(n.default.gameNo,t)},t.prototype.getLibLinePath=function(t){return this.getLinePathByTag("lib",t)},t.prototype.getLinePathByTag=function(t,e){return t+"/i18n/"+this.getLanguage()+"/snd/"+e},t.prototype.loadSoundRes=function(t){var e=this;return new Promise(function(o,i){cc.loader.loadRes(t,cc.AudioClip,function(n,a){n?(console.error(cc.director.getScene().name+" \u97f3\u9891 "+t+" \u52a0\u8f7d\u5931\u8d25!!!"),i(n)):(t.toLocaleLowerCase().search("bgm")>-1?e.bgmClipCache.push(a):e.audioClipCache.push(a),o(a))})})},t.prototype.loadLibImageRes=function(t,e){var o=this.getLibImagePath(t),i=cc.loader.getRes(o);return i&&e?(e.spriteFrame=new cc.SpriteFrame,e.spriteFrame.setTexture(i),new Promise(function(t,e){t(i)})):new Promise(function(t,i){cc.loader.loadRes(o,cc.SpriteFrame,function(o,n){o?i(o):(e&&(e.spriteFrame=n),t(n))})})},t.prototype.loadImageRes=function(t,e,o){var i=this;void 0===e&&(e=null),void 0===o&&(o=!1);var n=null;return n=o?this.getComImagePath(t):this.getImagePath(t),new Promise(function(t,o){i.loadRes(n,cc.SpriteFrame).then(function(o){e&&(e.spriteFrame=o,e.node.active=!0),t(o)}).catch(function(t){o(t)})})},t.prototype.getImagePath=function(t){return this.getImagePathByTag(n.default.gameNo,t)},t.prototype.getComImagePath=function(t){return n.default.gameNo+"/i18n/"+this.getLanguage()+"/com/image/"+t},t.prototype.getLibImagePath=function(t){return this.getImagePathByTag("lib",t)},t.prototype.getImagePathByTag=function(t,e){return t+"/i18n/"+this.getLanguage()+"/image/"+e},t.prototype.loadResource=function(t,e){var o=this;this.loadCb=e,this.hasCallback=!1,this.loadResConfig(t).then(function(){o.loadSoundResource()}).catch(function(){o.callbackFail("load config error")})},t.INSTANCE=void 0,t}();o.LoadHelper=s,o.loadHelper=s.getInstance(),cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/LoadUtil":"LoadUtil","../../core/util/PlatformUtil":"PlatformUtil"}],LoadManager:[function(t,e,o){"use strict";cc._RF.push(e,"70429IR0UhNE5OhU+VCEcNF","LoadManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/MathUtil"),n=t("../constants/BusinessGlobal"),a=t("./AnalyticsManager"),r=t("../constants/PublicAnalyticsKey"),s=t("../../core/util/NetUtil"),c=t("../../core/util/PlatformUtil"),l=t("../helper/LoadHelper"),u=t("../../../Config/FrameworkConfig"),d=t("../helper/LoadStringHelper"),p=t("../../../../BBGameWeb/Script/Common/BBLoader"),h=function(){function t(){this.loadCallBack=null,this.times=0,this.sceneName=null,this.curProgress=0,this.hasCallback=!1,this.checkTask=null,this.lastCheckProgress=-1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.showLoading=function(t){void 0===t&&(t="\u52a0\u8f7d\u4e2d"),c.default.isWechatGame()?wx.showLoading({title:t}):c.default.isBaiduGame()?swan.showLoading({title:t}):c.default.isOppo()?qg.showLoading({title:t}):c.default.isTouTiao()?tt.showLoading({title:t}):c.default.isVivo()&&qg.showLoading({message:t})},t.prototype.showLoadingWithMask=function(t){void 0===t&&(t="\u52a0\u8f7d\u4e2d"),c.default.isWechatGame()?wx.showLoading({title:t,mask:!0}):c.default.isBaiduGame()?swan.showLoading({title:t,mask:!0}):c.default.isOppo()?qg.showLoading({title:t}):c.default.isTouTiao()?tt.showLoading({title:t,mask:!0}):c.default.isVivo()&&qg.showLoading({message:t})},t.prototype.hideLoading=function(){c.default.isWechatGame()?wx.hideLoading():c.default.isBaiduGame()?swan.hideLoading():c.default.isOppo()?qg.hideLoading({}):c.default.isTouTiao()?tt.hideLoading():c.default.isVivo()&&qg.hideLoading()},t.prototype.loadWithErrorWindow=function(t,e){var o=this;this.showLoadingWithMask(),cc.director.loadScene(t,function(i){i?n.BusinessGlobal.errorWindowScp.show(t,e):o.hideLoading()})},t.prototype.getString=function(t){return d.loadStringHelper.getString(t)},t.prototype.getImageRes=function(t,e){void 0===e&&(e=!1);return e?cc.loader.getRes(l.loadHelper.getComImagePath(t)):cc.loader.getRes(l.loadHelper.getImagePath(t))},t.prototype.loadImageRes=function(t){return l.loadHelper.loadImageRes(t)},t.prototype.loadImageRes2=function(t,e,o){void 0===o&&(o=!1);var i=this.getImageRes(t,o);i&&e?(e.spriteFrame=new cc.SpriteFrame,e.spriteFrame.setTexture(i),e.node.active=!0):l.loadHelper.loadImageRes(t,e,o)},t.prototype.preloadScene=function(t,e){try{this.sceneName=t,this.times++,this.loadCallBack=e,c.default.isBBMGSimulatePlatform()||this.startCheck(),this.curProgress=0;var o=n.BusinessGlobal.sceneDic[t];a.analyticsManager.recordEvent(r.default.LOAD_RESOURCE,"\u8d44\u6e90\u52a0\u8f7d",o),a.analyticsManager.startEvent(r.default.LOAD_RESOURCE_SUCCESS,o),a.analyticsManager.startEvent(r.default.LOAD_RESOURCE_FAIL,o),u.default.hasI18n?this.loadResource(t):this.loadSceneResource(t)}catch(t){console.log("\u52a0\u8f7d\u62a5\u9519,\u5185\u5bb9\u662f",t),this.callbackFail(new Error("proload fail"))}},t.prototype.release=function(){l.loadHelper.releaseAudio(),l.loadHelper.releaseImage()},t.prototype.loadSceneResource=function(t){var e=this;c.default.isBBMGSimulatePlatform()?p.default.getInstance().preloadScene(t,null,function(t){e.callbackProgress(t,l.loadAllResParams.Scene)}).then(function(){e.loadCallBack.onPreloadSuccess()}).catch(function(t){e.loadCallBack.onPreloadFail(t)}):cc.director.preloadScene(t,this.onProgress.bind(this),this.onLoaded.bind(this))},t.prototype.startCheck=function(){var t=this;this.endCheck(),this.hasCallback=!1,this.lastCheckProgress=0,this.checkTask=setInterval(function(){t.check()},5e3)},t.prototype.endCheck=function(){this.hasCallback=!0,this.checkTask&&(clearInterval(this.checkTask),this.checkTask=null)},t.prototype.check=function(){this.lastCheckProgress!==this.curProgress?this.lastCheckProgress=this.curProgress:this.callbackFail(new Error("check error"))},t.prototype.onProgress=function(t,e){var o=0===e?0:t/e;this.callbackProgress(o,l.loadAllResParams.Scene)},t.prototype.onLoaded=function(t){if(t)this.times<=3&&s.netUtil.isNetActive()?this.preloadScene(this.sceneName,this.loadCallBack):(this.times=0,this.callbackFail(t)),a.analyticsManager.endEvent(r.default.LOAD_RESOURCE_FAIL);else{this.times=0,this.callbackProgress(1,l.loadAllResParams.Scene),this.callbackSuccess();var e=n.BusinessGlobal.sceneDic[this.sceneName];a.analyticsManager.recordEvent(r.default.LOAD_RESOURCE,"\u8d44\u6e90\u52a0\u8f7d\u6210\u529f",e),a.analyticsManager.endEvent(r.default.LOAD_RESOURCE_SUCCESS)}},t.prototype.callbackProgress=function(t,e){if(this.loadCallBack){if(u.default.hasI18n)switch(e.number){case null:case l.loadAllResParams.Scene.number:t=.6+l.loadAllResParams.Scene.weight*t;break;case l.loadAllResParams.Image.number:t=.2+l.loadAllResParams.Image.weight*t;break;case l.loadAllResParams.Sound.number:t*=l.loadAllResParams.Sound.weight}t=i.default.limit(t,0,1),this.curProgress=t,this.loadCallBack.onPreloadProgress(t)}},t.prototype.callbackFail=function(t){c.default.isBBMGSimulatePlatform()?this.loadCallBack&&this.loadCallBack.onPreloadFail(t):this.loadCallBack&&!this.hasCallback&&(this.endCheck(),this.loadCallBack.onPreloadFail(t))},t.prototype.callbackSuccess=function(){c.default.isBBMGSimulatePlatform()?this.loadCallBack&&this.loadCallBack.onPreloadSuccess():this.loadCallBack&&!this.hasCallback&&(this.endCheck(),this.loadCallBack.onPreloadSuccess())},t.prototype.loadResource=function(t){var e=this;console.log("loadSoundResource 111-1",t),l.loadHelper.loadResource(t,{onPreloadProgress:function(t,o){void 0===o&&(o=null),e.callbackProgress(t,o)},onPreloadFail:function(t){console.log("loadSoundResource onPreloadFail",t),e.callbackFail(t)},onPreloadSuccess:function(){console.log("loadSoundResource onPreloadSuccess"),e.loadSceneResource(t)}}),console.log("loadSoundResource 333",t)},t.INSTANCE=void 0,t}();o.loadManager=h.getInstance(),cc._RF.pop()},{"../../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../../Config/FrameworkConfig":"FrameworkConfig","../../core/util/MathUtil":"MathUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../helper/LoadHelper":"LoadHelper","../helper/LoadStringHelper":"LoadStringHelper","./AnalyticsManager":"AnalyticsManager"}],LoadStringHelper:[function(t,e,o){"use strict";cc._RF.push(e,"a14e4uG+ilBIK+eIFzdO3yI","LoadStringHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/FrameworkConfig"),n=function(){function t(){this.strJson=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.getPath=function(){return i.default.gameNo+"/i18n/zh/txt/string"},t.prototype.init=function(){var t=this,e=t.getPath();console.log("LoadStringHelper init",e),setTimeout(function(){cc.loader.loadRes(e,cc.JsonAsset,function(e,o){e?console.log("LoadStringHelper loadRes fail",e):(t.strJson=o.json,console.log("LoadStringHelper loadRes success",o,o.json))})},500)},t.prototype.getString=function(t){return this.strJson?this.strJson[t]:""},Object.defineProperty(t.prototype,"getStrJson",{get:function(){return this.strJson},enumerable:!0,configurable:!0}),t.INSTANCE=void 0,t}();o.LoadStringHelper=n,o.loadStringHelper=n.getInstance(),cc._RF.pop()},{"../../../Config/FrameworkConfig":"FrameworkConfig"}],LoadTimeout:[function(t,e,o){"use strict";cc._RF.push(e,"862faQbzqBHSoBgN4DQhztn","LoadTimeout"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../BBChannel"),n=t("../Common/CommonAudio"),a=t("../Config/BBConfigs"),r=15,s=function(){function t(){this.handleMap={}}return t.getInstance=function(){return this.sInstance||(this.sInstance=new t,i.default.channel!==i.BBChannelType.XIAODU&&i.default.channel!==i.BBChannelType.TMALLGENIE||(r=60)),this.sInstance},t.prototype.start=function(){var t=this,e=cc.director.getScene().name;if(!e||this.handleMap[e])return null;var o=setTimeout(function(){BBFramework.deviceService.showToast(a.default.getInstance().getString("bs0"),"long"),n.default.playTimeout(),delete t.handleMap[e]},1e3*r);return this.handleMap[e]=o,o},t.prototype.end=function(t){null!==t&&(delete this.handleMap[cc.director.getScene().name],clearTimeout(t))},t.sInstance=null,t}();o.default=s,cc._RF.pop()},{"../BBChannel":"BBChannel","../Common/CommonAudio":"CommonAudio","../Config/BBConfigs":"BBConfigs"}],LoadUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9e13frSL55G+5s3YdmApC6u","LoadUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.setNotAutoRelease=function(t){t&&cc.loader.setAutoReleaseRecursively(t,!1)},t.setParticleSystemNotAutoRelease=function(e){t.setNotAutoRelease(e.file),t.setNotAutoRelease(e.spriteFrame)},t.setArrayNotAutoRelease=function(e){!e||e.length<=0||e.forEach(function(e){t.setNotAutoRelease(e)})},t.setSpriteNodeNotAutoRelease=function(e){e&&e.getComponent(cc.Sprite)&&t.setNotAutoRelease(e.getComponent(cc.Sprite).spriteFrame)},t}();o.default=i,cc._RF.pop()},{}],LoadingBase:[function(t,e,o){"use strict";cc._RF.push(e,"cf5deMwXO5AyonasMkDkCNn","LoadingBase");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../BBGameWeb/Script/Common/BBLoader"),r=t("../../lib/business/manager/LoadManager"),s=t("../../lib/core/util/PlatformUtil"),c=t("./GameMoudleBase"),l=t("./GlobalParamsBase"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeProgressBar=null,e.nodeComfirm=null,e.nodeReload=null,e.spriteProgress=null,e.labelNum=null,e.soundConfig={effect:[],word:[]},e.needLoadConfig={effect:[],word:[]},e.nextSceneName="",e.canTouch=!0,e.progressNum=0,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.nextSceneName=l.default.nextScene,this.nodeReload.on(cc.Node.EventType.TOUCH_START,this.onReload,this)},e.prototype.reset=function(){this.nodeComfirm.active=!1,this.canTouch=!0,this.labelNum.string="0%",this.spriteProgress.fillRange=0},e.prototype.beganLoad=function(){this.nodeProgressBar.active=!0,this.reset(),this.starLoadRes()},e.prototype.starLoadRes=function(){var t=this;this.loadSoundConfig().then(function(){return t.loadSound()}).then(function(){t.preloadScene()})},e.prototype.preloadScene=function(){var t=this,e=this.nextSceneName;s.default.isBBMGSimulatePlatform()?a.default.getInstance().preloadScene(e,this,function(e){t.setProgress(.8*e+.2)}).then(function(){t.loadSuccess()}):r.loadManager.preloadScene(e,{onPreloadProgress:function(e){t.setProgress(.8*e+.2)},onPreloadFail:function(){console.log("\u52a0\u8f7d\u5931\u8d25\u56de\u8c03"),t.loadFail()},onPreloadSuccess:function(){console.log("\u52a0\u8f7d\u6210\u529f\u56de\u8c03"),t.loadSuccess()}})},e.prototype.loadSuccess=function(){this.labelNum.string="100%",this.canTouch=!1,cc.director.loadScene(this.nextSceneName)},e.prototype.setProgress=function(t){this.progressNum=t>this.progressNum?t:this.progressNum,this.spriteProgress.fillRange=this.progressNum,this.labelNum.string=Math.floor(100*this.progressNum)+"%",this.onProgress()},e.prototype.onProgress=function(){},e.prototype.loadFail=function(){this.nodeComfirm.active=!0,this.canTouch=!0},e.prototype.onReload=function(){var t=this;this.canTouch&&(this.canTouch=!1,this.nodeComfirm.active=!1,this.scheduleOnce(function(){t.reset(),t.starLoadRes()},.5))},e.prototype.loadSoundConfig=function(){var t=this,e="/"+this.gameNo+"/soundConfig/"+this.nextSceneName;return new Promise(function(o,i){if(t.soundConfig.effect.length>0||t.soundConfig.word.length>0)return t.needLoadConfig=Object.assign(t.soundConfig),void o();t.loadRes(e,cc.JsonAsset).then(function(e){t.soundConfig=e.json,t.needLoadConfig=Object.assign(t.soundConfig),o()}).catch(function(){t.loadFail(),i()})})},e.prototype.loadSound=function(){var t=this;return new Promise(function(e,o){var i=t.needLoadConfig.effect.length+t.needLoadConfig.word.length;if(0!==i){for(var n=0,a=!1,r=function(r,s){t.loadRes(r,cc.AudioClip).then(function(o){if(!a){n+=1,l.default.audioClipCache.push(o);var r=n/i*.2;t.setProgress(r),n>=i&&(console.log("--------------\u97f3\u9891\u52a0\u8f7d\u5b8c\u6210,\u5171"+n+"\u4e2a------------------"),e())}}).catch(function(e){a=!0,console.error("\u97f3\u9891\u52a0\u8f7d\u9519\u8bef",s,e),t.loadFail(),o()})},s=0;s<t.needLoadConfig.effect.length;s++){var c=t.needLoadConfig.effect[s];r(t.gameNo+"/sound/"+c,c)}for(s=0;s<t.needLoadConfig.word.length;s++){c=t.needLoadConfig.word[s];r(t.gameNo+"/i18n/zh/snd/"+c,c)}}else e()})},e.prototype.loadRes=function(t,e){return new Promise(function(o,i){s.default.isBBMGSimulatePlatform()?a.default.getInstance().loadRes(t,e):cc.loader.loadRes(t,e,function(t,e){t?i(t):o(e)})})},e.prototype.realesAudio=function(){cc.loader.release(l.default.audioClipCache),l.default.audioClipCache=[]},n([p({type:cc.Node,tooltip:"\u8fdb\u5ea6\u6761"})],e.prototype,"nodeProgressBar",void 0),n([p({type:cc.Node,tooltip:"\u9519\u8bef\u4fe1\u606f\u5f39\u7a97"})],e.prototype,"nodeComfirm",void 0),n([p({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae"})],e.prototype,"nodeReload",void 0),n([p({type:cc.Sprite,tooltip:"\u8868\u793a\u8fdb\u5ea6\u7684\u8fdb\u5ea6\u6761\u7cbe\u7075"})],e.prototype,"spriteProgress",void 0),n([p({type:cc.Label,tooltip:"\u8fdb\u5ea6\u503c"})],e.prototype,"labelNum",void 0),e=n([d],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../BBGameWeb/Script/Common/BBLoader":"BBLoader","../../lib/business/manager/LoadManager":"LoadManager","../../lib/core/util/PlatformUtil":"PlatformUtil","./GameMoudleBase":"GameMoudleBase","./GlobalParamsBase":"GlobalParamsBase"}],LogUtil:[function(t,e,o){"use strict";cc._RF.push(e,"449beXb5sJDc6NBP2NxFTG+","LogUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.managerLog=function(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];t.logSwitch&&console.log.apply(console,[e,":\n"].concat(o))},t.sdkComponentLog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.errorLog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.log.apply(console,["SDKERROR:\n",t,"!!\nCAUSE:\n"].concat(e))},t.gameLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,["BBGAME:\n"].concat(t))},t.debugLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log("===debugLog===",t)},t.fLog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.log("===framework===",t,e)},t.necessaryLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,["Necessary Log:\n"].concat(t))},t.logSwitch=!1,t}();o.default=i,cc._RF.pop()},{}],LoginManager:[function(t,e,o){"use strict";cc._RF.push(e,"789e6GV5stDLoeJlpVwKBVE","LoginManager"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../../Config/AppConfig"),a=t("../../core/util/LogUtil"),r=t("../../core/util/NetUtil"),s=t("../../core/util/NodeUtil"),c=t("../../core/util/PlatformUtil"),l=t("../../core/util/ToastUtil"),u=t("../constants/BusinessGlobal"),d=t("../constants/PublicAnalyticsKey"),p=t("../constants/PublicConst"),h=t("../constants/PublicUrl"),f=t("./AnalyticsManager"),g=t("./LoadManager"),_=t("./NetManager");(function(t){t[t.ALREADY=1]="ALREADY",t[t.REJECT=2]="REJECT",t[t.ACCEPT=3]="ACCEPT",t[t.ERROR=4]="ERROR"})(i=o.LOGIN_STATE||(o.LOGIN_STATE={}));var y=function(){function t(){this.userInfo=null,this.unionID=null,this.userInfoButton=null,this.alreadGetUserInfo=!1,this.touchSwitch=!0,this.ifMustSign=!1,this.ifJumpSign=!1,this.resolve=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.setUserInfo=function(t){return new Promise(function(e,o){var i=e;wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(e){t(e),a.default.gameLog("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f",u.BusinessGlobal.userInfo),i(null)},fail:function(){var o=this,i=setTimeout(function(){o.setUserInfo(t).then(function(){a.default.gameLog("\u91cd\u65b0\u8bf7\u6c42\u5fae\u4fe1\u6570\u636e!"),e(null)}),clearTimeout(i)},1e3)}})})},t.prototype.createPlatformButton=function(t){var e=this;return new Promise(function(o,n){if(e.resolve=o,c.default.isWechatGame()&&!e.ifJumpSign){var r=e;e.checkIsAuthUserInfo().then(function(){r.ifMustSign?(r.loginAcceptAndGetUserInfoAgain(),a.default.gameLog("\u5fc5\u987b\u6267\u884c\u56de\u8c03",r.ifMustSign)):r.resolve(i.ALREADY)}).catch(function(){r.getWxCode().then(function(e){r.userInfoButton=wx.createUserInfoButton(r.signButtonStyle(t)),r.userInfoButton.onTap(function(t){r.touchSwitch&&(a.default.managerLog(r,"\u6388\u6743\u767b\u5f55\u5f39\u7a97\u5c55\u793a\u6210\u529f"),r.touchSwitch=!1,r.userInfo=t.userInfo,t.encryptedData&&t.iv?(a.default.gameLog("\u6211\u70b9\u51fb\u4e86\u6388\u6743\u786e\u5b9a"),r.signTrue(r.resolve,t,e)):(a.default.gameLog("\u6211\u70b9\u51fb\u4e86\u6388\u6743\u53d6\u6d88"),r.signFalse(r.resolve)))})})})}else n(i.ALREADY)})},t.prototype.loginAcceptAndGetUserInfoAgain=function(){var t=this;this.setUserInfo(function(t){u.BusinessGlobal.userInfo=t}).then(function(){t.resolve(i.ALREADY)})},t.prototype.signButtonStyle=function(t){var e=0,o=s.default.getPlatformNodeInfo(t);return{type:"text",text:"",style:{left:o.left,top:o.top,width:o.width,height:o.height,backgroundColor:"#ffffff00",borderColor:"#ffffff",borderWidth:e,borderRadius:4,textAlign:"center",fontSize:16,lineHeight:0},withCredentials:!0}},t.prototype.signTrue=function(t,e,o){var n=this;if(a.default.managerLog(p.ManagerName.LoginManager,"\u6210\u529f\u6388\u6743"),f.analyticsManager.recordEvent(d.default.AUTHORIZATION_LOGIC_IN_ALLOW),g.loadManager.showLoadingWithMask(),this.ifMustSign){var r=this;this.setUserInfo(function(n){r.getUnionId(e.encryptedData,e.iv,o).then(function(){t(i.ACCEPT),g.loadManager.hideLoading()}).catch(function(){t(i.ACCEPT),g.loadManager.hideLoading()}),r.alreadGetUserInfo=!0,u.BusinessGlobal.userInfo=n,r.touchSwitch=!0,r.destroyUserInfoButton()}).catch(function(){n.touchSwitch=!1})}else this.getUnionId(e.encryptedData,e.iv,o).then(function(){t(i.ACCEPT),g.loadManager.hideLoading()}).catch(function(){t(i.ERROR),g.loadManager.hideLoading()}),this.touchSwitch=!0,this.destroyUserInfoButton()},t.prototype.signFalse=function(t){a.default.managerLog(p.ManagerName.LoginManager,"\u53d6\u6d88\u6388\u6743"),this.ifMustSign?this.alreadGetUserInfo||(f.analyticsManager.recordEvent(d.default.AUTHORIZATION_LOGIC_IN_NOT_ALLOW),this.touchSwitch=!0,a.default.errorLog("\u83b7\u53d6\u6388\u6743\u6570\u636e\u5931\u8d25"),l.default.toastShort("\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")):(f.analyticsManager.recordEvent(d.default.AUTHORIZATION_LOGIC_IN_NOT_ALLOW),this.touchSwitch=!0,t(i.REJECT),this.destroyUserInfoButton())},t.prototype.checkIsAuthUserInfo=function(){return new Promise(function(t,e){wx.getSetting({success:function(o){o.authSetting["scope.userInfo"]?(a.default.managerLog(p.ManagerName.LoginManager,"\u5fae\u4fe1\u7528\u6237\u5df2\u6388\u6743"),t(null)):(e(),a.default.managerLog(p.ManagerName.LoginManager,"\u5fae\u4fe1\u7528\u6237\u672a\u6388\u6743"))},fail:function(t){a.default.errorLog("wx.getSetting \u5931\u8d25",t),e(t)}})})},t.prototype.getUnionId=function(t,e,o){var i=this;return new Promise(function(a,r){_.netManager.post(h.publicUrl.getUnionId(),{encrypt_data:t,iv:e,code:o,appid:n.default.wechatgameAppID},{}).then(function(t){1===Number(t.status)?(a(t.data),i.unionID=t.data.unionId,wx.uma&&wx.uma.setUnionid(i.unionID)):(console.warn("getUnionId failed: ",t.status,t.info),r())}).catch(function(t){console.warn("getUnionId failed: ",t),r(t)})})},t.prototype.isNetActive=function(){var t=r.netUtil.isNetActive();return t||l.default.toastShort("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc~"),t},t.prototype.getWxCode=function(){return new Promise(function(t,e){wx.login({success:function(o){o&&o.code?t(o.code):(a.default.errorLog("wx code failed","\u6570\u636e\u4e0d\u5b58\u5728"),e())},fail:function(){a.default.errorLog("wx code failed","wx.login\u8c03\u7528\u5931\u8d25"),e()}})})},t.prototype.destroyUserInfoButton=function(){this.userInfoButton&&this.userInfoButton.destroy()},t.INSTANCE=null,t}();o.LoginManager=y,o.loginManager=y.get(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/NetUtil":"NetUtil","../../core/util/NodeUtil":"NodeUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","../constants/PublicUrl":"PublicUrl","./AnalyticsManager":"AnalyticsManager","./LoadManager":"LoadManager","./NetManager":"NetManager"}],LtdLab:[function(t,e,o){"use strict";cc._RF.push(e,"2579eglVShEKbNdG7cIPFGu","LtdLab");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeTipLab=null,e.nodeEdit=null,e.nodeCloseMask=null,e}return i(e,t),e.prototype.onLoad=function(){this.initView(),this.initListener()},e.prototype.onDisable=function(){this.closeMaskEvent()},e.prototype.initView=function(){this.closeMaskEvent()},e.prototype.initListener=function(){this.nodeCloseMask.on(cc.Node.EventType.TOUCH_END,this.closeMaskEvent,this),this.nodeTipLab.on(cc.Node.EventType.TOUCH_END,this.labTouchEvent,this)},e.prototype.closeMaskEvent=function(){this.nodeEdit.active=!1,this.nodeCloseMask.active=!1},e.prototype.labTouchEvent=function(){this.nodeEdit.active=!0,this.nodeEdit.getComponent(cc.EditBox).setFocus(),this.nodeCloseMask.active=!0},n([s({tooltip:"\u63d0\u793a\u6807\u7b7e\u8282\u70b9",type:cc.Node,displayName:"tip"})],e.prototype,"nodeTipLab",void 0),n([s({tooltip:"\u8f93\u5165\u8282\u70b9",type:cc.Node,displayName:"edit"})],e.prototype,"nodeEdit",void 0),n([s({tooltip:"\u5173\u95ed\u8f93\u5165\u906e\u7f69\u8282\u70b9",type:cc.Node,displayName:"closeMask"})],e.prototype,"nodeCloseMask",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],LtdMain:[function(t,e,o){"use strict";cc._RF.push(e,"27b930WCctAJKRDl5MfIR7G","LtdMain");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a,r=t("../../../business/constants/BusinessGlobal"),s=t("../../../business/manager/JudgeManager"),c=t("../../../core/util/StoreUtil");(function(t){t[t.open=0]="open",t[t.set=1]="set"})(a||(a={}));var l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labLtdBtnTip=null,e.nodeLtdBtnTouch=null,e.listSetBtn=[],e.listEditSetBtnContent=[],e.listShow=[],e.labStag=null,e.ltdBtnState=a.open,e}return i(e,t),e.prototype.onLoad=function(){this.initParam(),this.initListener(),this.initView()},e.prototype.initParam=function(){this.node.parent.parent=cc.find("Canvas").parent,cc.game.addPersistRootNode(this.node.parent),this.node.parent.zIndex=10001},e.prototype.initListener=function(){this.nodeLtdBtnTouch.on(cc.Node.EventType.TOUCH_END,this.ltdBtnTouch,this)},e.prototype.initView=function(){var t=this;this.listSetBtn.forEach(function(e,o){0===o?t.listEditSetBtnContent[0].string=String(r.BusinessGlobal.ltd):1===o?t.listEditSetBtnContent[1].string=String(r.BusinessGlobal.ltdScale):2===o&&(t.listEditSetBtnContent[2].string=String(r.BusinessGlobal.ltdSaveDay)),e.active=!1}),this.listShow.forEach(function(t){t.active=!0}),this.setShow()},e.prototype.ltdBtnTouch=function(){var t=this;this.ltdBtnState===a.open?(this.ltdBtnState=a.set,this.listSetBtn.forEach(function(e,o){0===o?r.BusinessGlobal.ltd=Number(t.listEditSetBtnContent[0].string):1===o?r.BusinessGlobal.ltdScale=Number(t.listEditSetBtnContent[1].string):2===o&&(r.BusinessGlobal.ltdSaveDay=Number(t.listEditSetBtnContent[2].string),c.default.set("G8888_LTD_SAVE_DAY",String(r.BusinessGlobal.ltdSaveDay))),e.active=!1,s.judgeManager.setLtdStage()}),this.listShow.forEach(function(t){t.active=!0}),this.labLtdBtnTip.string="\u5c55\u5f00"):this.ltdBtnState===a.set&&(this.ltdBtnState=a.open,this.listSetBtn.forEach(function(e,o){0===o?t.listEditSetBtnContent[0].string=String(r.BusinessGlobal.ltd):1===o?t.listEditSetBtnContent[1].string=String(r.BusinessGlobal.ltdScale):2===o&&(t.listEditSetBtnContent[2].string=String(r.BusinessGlobal.ltdSaveDay)),e.active=!0}),this.listShow.forEach(function(t){t.active=!1}),this.labLtdBtnTip.string="\u8bbe\u7f6e"),this.setShow()},e.prototype.setShow=function(){this.listShow[0].getChildByName("show").getComponent(cc.Label).string=String(r.BusinessGlobal.ltd),this.listShow[1].getChildByName("show").getComponent(cc.Label).string=String(r.BusinessGlobal.ltdScale),this.listShow[2].getChildByName("show").getComponent(cc.Label).string=String(r.BusinessGlobal.ltdSaveDay),this.labStag.string=["\u524d\u671f","\u4e2d\u671f","\u672b\u671f"][s.judgeManager.getLtdStage()]},n([d({tooltip:"ltd\u5f00\u5173\u6807\u8bed\u6807\u7b7e",type:cc.Label,displayName:"tip"})],e.prototype,"labLtdBtnTip",void 0),n([d({tooltip:"ltd\u5f00\u5173\u6807\u8bed\u70b9\u51fb\u533a\u57df\u8282\u70b9",type:cc.Node,displayName:"touch"})],e.prototype,"nodeLtdBtnTouch",void 0),n([d({tooltip:"\u4e09\u4e2a\u8bbe\u7f6e\u6309\u94ae\u8282\u70b9",type:[cc.Node],displayName:"\u8bbe\u7f6e\u6309\u94ae"})],e.prototype,"listSetBtn",void 0),n([d({tooltip:"\u4e09\u4e2a\u8bbe\u7f6e\u6309\u94ae\u8282\u70b9\u5185\u5bb9",type:[cc.EditBox],displayName:"\u8bbe\u7f6e\u6309\u94ae\u5185\u5bb9"})],e.prototype,"listEditSetBtnContent",void 0),n([d({tooltip:"\u4e09\u4e2a\u5c55\u793a\u5185\u5bb9\u8282\u70b9",type:[cc.Node],displayName:"\u5c55\u793a\u5185\u5bb9"})],e.prototype,"listShow",void 0),n([d({tooltip:"\u9636\u6bb5\u663e\u793a",type:cc.Label,displayName:"\u9636\u6bb5\u6807\u7b7e"})],e.prototype,"labStag",void 0),e=n([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/manager/JudgeManager":"JudgeManager","../../../core/util/StoreUtil":"StoreUtil"}],MaskCustomShape:[function(t,e,o){"use strict";cc._RF.push(e,"ff089dk8I5LMr2zCuwQ+TGC","MaskCustomShape");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc.Enum({RECT:0,ELLIPSE:1,IMAGE_STENCIL:2}),r=cc.Enum({RectHvaeEdges:0}),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myType=r.RectHvaeEdges,e.usingNormalType=!0,e.edgesR=0,e.custormPoints=[],e.circlepoints=[],e.precision=600,e}return i(e,t),e.prototype.calculateRectHvaeEdges=function(){var t=this.edgesR/this.precision;this.custormPoints.length=0;for(var e=.5*this.node.width-this.edgesR,o=.5*this.node.height-this.edgesR,i=0;i<=4*this.precision;i++)if(i===this.precision)this.custormPoints.push(cc.v2(-e,this.edgesR+o)),this.custormPoints.push(cc.v2(e,this.edgesR+o));else if(i===2*this.precision)this.custormPoints.push(cc.v2(e+this.edgesR,o)),this.custormPoints.push(cc.v2(e+this.edgesR,-o));else if(i===3*this.precision)this.custormPoints.push(cc.v2(e,-this.edgesR-o)),this.custormPoints.push(cc.v2(-e,-this.edgesR-o));else if(i===4*this.precision)this.custormPoints.push(cc.v2(-e-this.edgesR,-o)),this.custormPoints.push(cc.v2(-e-this.edgesR,o));else{var n=t*(i%this.precision),a=null;if(i<this.precision){var r=Math.sqrt(Math.pow(this.edgesR,2)-Math.pow(this.edgesR-n,2));a=cc.v2(-this.edgesR+n-e,r+o)}else if(this.precision<i&&i<2*this.precision){r=Math.sqrt(Math.pow(this.edgesR,2)-Math.pow(n,2));a=cc.v2(n+e,r+o)}else if(this.precision<i&&i<3*this.precision){n=t*(this.precision-i%this.precision);r=Math.sqrt(Math.pow(this.edgesR,2)-Math.pow(n,2));a=cc.v2(n+e,-r-o)}else if(3*this.precision<i&&i<4*this.precision){r=Math.sqrt(Math.pow(this.edgesR,2)-Math.pow(n,2));a=cc.v2(-n-e,-r-o)}a&&this.custormPoints.push(a)}return this.custormPoints},e.prototype._calculateCircle=function(t,e,o){this.circlepoints.length=0;for(var i=2*Math.PI/o,n=0;n<o;++n)this.circlepoints.push(cc.v2(e.x*Math.cos(i*n)+t.x,e.y*Math.sin(i*n)+t.y));return this.circlepoints},e.prototype._updateGraphics=function(){this.usingNormalType?this.normalDeal():this.speciallyDeal()},e.prototype.normalDeal=function(){var t=this.node,e=this._graphics;e.clear(!1);var o=t._contentSize.width,i=t._contentSize.height,n=-o*t._anchorPoint.x,r=-i*t._anchorPoint.y;if(this._type===a.RECT)e.rect(n,r,o,i);else if(this._type===a.ELLIPSE){for(var s=cc.v2(n+o/2,r+i/2),c={x:o/2,y:i/2},l=this._calculateCircle(s,c,this._segments),u=0;u<l.length;++u){var d=l[u];0===u?e.moveTo(d.x,d.y):e.lineTo(d.x,d.y)}e.close()}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?e.stroke():e.fill()},e.prototype.speciallyDeal=function(){var t=this._graphics;if(t.clear(!1),this.myType===r.RectHvaeEdges){for(var e=this.calculateRectHvaeEdges(),o=0;o<e.length;++o){var i=e[o];0===o?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)}t.close()}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},n([l({tooltip:"\u6211\u7684\u906e\u7f69\u7c7b\u578b",type:r})],e.prototype,"myType",void 0),n([l({tooltip:"\u542f\u7528\u539f\u7c7b\u578b"})],e.prototype,"usingNormalType",void 0),n([l({tooltip:"\u5012\u89d2\u534a\u5f84"})],e.prototype,"edgesR",void 0),e=n([c],e)}(cc.Mask);o.default=u,cc._RF.pop()},{}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"3167919/PRP9ICeVsD3esPc","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.randomMutiple=function(t,e,o){return Math.floor(Math.random()*(e-t+1)/o)*o+t},t.randomBoolean=function(){return Math.random()>=.5},t.randomPositiveOrNegative=function(){return Math.random()>=.5?1:-1},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.limit=function(t,e,o){return t>o?o:t<e?e:t},t}();o.default=i,cc._RF.pop()},{}],MediaManager:[function(t,e,o){"use strict";cc._RF.push(e,"feb05xR5lJLsq6y4woKBnBF","MediaManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/BusinessGlobal"),n=t("./PluginManager"),a=t("../../core/util/DateUtil"),r=t("../../core/util/PlatformUtil"),s=t("./NativeAdManager"),c=t("./AnalyticsManager"),l=t("../constants/PublicAnalyticsKey"),u=t("../../core/util/LogUtil"),d=function(){function t(){this.lastTime=-1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.showShareBtn=function(){if(i.BusinessGlobal.shareBtnCanShow=!0,i.BusinessGlobal.shareBtn)try{i.BusinessGlobal.shareBtn.node.active=!0}catch(t){console.log(t)}},t.prototype.hideShareBtn=function(){if(i.BusinessGlobal.shareBtnCanShow=!1,i.BusinessGlobal.shareBtn)try{i.BusinessGlobal.shareBtn.node.active=!1}catch(t){console.log(t)}},t.prototype.showLeftMedia=function(){if(i.BusinessGlobal.leftMediaCanShow=!0,i.BusinessGlobal.leftMedia)try{i.BusinessGlobal.leftMedia.node.active=!0}catch(t){console.log(t)}},t.prototype.hideLeftMedia=function(){if(i.BusinessGlobal.leftMediaCanShow=!1,i.BusinessGlobal.leftMedia)try{i.BusinessGlobal.leftMedia.node.active=!1}catch(t){console.log(t)}},t.prototype.showRightSideBar=function(){if(i.BusinessGlobal.rightSidebarCanShow=!0,i.BusinessGlobal.rightSidebar)try{i.BusinessGlobal.rightSidebar.node.active=!0}catch(t){console.log(t)}},t.prototype.hideRightSideBar=function(){if(i.BusinessGlobal.rightSidebarCanShow=!1,i.BusinessGlobal.rightSidebar)try{i.BusinessGlobal.rightSidebar.node.active=!1}catch(t){console.log(t)}},t.prototype.showQiqi=function(){if(i.BusinessGlobal.libQiqi)try{i.BusinessGlobal.libQiqi.node.active=!0,i.BusinessGlobal.libQiqi.breath()}catch(t){console.log(t)}},t.prototype.hideQiqi=function(){if(i.BusinessGlobal.libQiqi)try{i.BusinessGlobal.libQiqi.node.active=!1}catch(t){console.log(t)}},t.prototype.canClick=function(){var t=a.default.getTimeStamp();return!(t-this.lastTime<1e3)&&(this.lastTime=t,!0)},t.prototype.showNewRecommend=function(){return new Promise(function(t,e){n.pluginManager.loadNewRecommend(i.BusinessGlobal.sceneRootNode).catch(function(){e()})})},t.prototype.showCustomerService=function(){return new Promise(function(t,e){n.pluginManager.loadCustomerService(i.BusinessGlobal.sceneRootNode).catch(function(){e()})})},t.prototype.showBackDialog=function(t,e){void 0===e&&(e=!0),this.canClick()&&(i.BusinessGlobal.back2SelectTimes=i.BusinessGlobal.back2SelectRealTimes+1,i.BusinessGlobal.backCB=t,r.default.isWechatGame()||r.default.isWxSimulatePlatform()||r.default.isBaiduGame()||r.default.isBaiduSimulatePlatform()?n.pluginManager.loadGuessDialog(i.BusinessGlobal.sceneRootNode,e):n.pluginManager.loadBackDialogV2(i.BusinessGlobal.sceneRootNode,e))},t.prototype.showGamePageRecommend=function(){i.BusinessGlobal.gamePageCanShow=!0,i.BusinessGlobal.gamePageRecommend&&(i.BusinessGlobal.dialogShowCount>0||(i.BusinessGlobal.gamePageRecommend.node.active=!0))},t.prototype.hideGamePageRecommend=function(){i.BusinessGlobal.gamePageCanShow=!1,i.BusinessGlobal.gamePageRecommend&&(i.BusinessGlobal.gamePageRecommend.node.active=!1)},t.prototype.showGameIcons=function(){i.BusinessGlobal.gameIconsCanShow=!0,i.BusinessGlobal.gameIcons&&(i.BusinessGlobal.dialogShowCount>0||(i.BusinessGlobal.gameIcons.node.active=!0,i.BusinessGlobal.gameIcons.openComponent()))},t.prototype.hideGameIcons=function(){i.BusinessGlobal.gameIconsCanShow=!1,i.BusinessGlobal.gameIcons&&(i.BusinessGlobal.gameIcons.node.active=!1,i.BusinessGlobal.gameIcons.gameIcon&&i.BusinessGlobal.gameIcons.gameIcon.hide())},t.prototype.showDrawerV1=function(t,e,o,n){void 0===t&&(t=1),void 0===e&&(e=1),void 0===o&&(o=0),void 0===n&&(n=!0),i.BusinessGlobal.drawerV1CanShow=!0,i.BusinessGlobal.drawerV1&&(n||i.BusinessGlobal.drawerV1.initParams(t,e,o),i.BusinessGlobal.dialogShowCount>0||i.BusinessGlobal.drawerV1.show())},t.prototype.hideDrawerV1=function(){i.BusinessGlobal.drawerV1CanShow=!1,i.BusinessGlobal.drawerV1&&i.BusinessGlobal.drawerV1.hide()},t.prototype.showCustomBanner=function(){r.default.isOppo()||r.default.isVivo()?s.nativeAdManager.adList&&0!==s.nativeAdManager.adList.length?i.BusinessGlobal.customBanner&&!i.BusinessGlobal.customBanner.getIntiativeCloseState()&&(i.BusinessGlobal.dialogShowCount>0?console.log("\u5f39\u7a97\u5728\u5c55\u793a\uff0c\u4e0d\u5c55\u793acustomerBanner"):i.BusinessGlobal.customBanner.show()):console.log("mediamanager customerbanner\u539f\u751f\u5e7f\u544a\u6570\u636e\u4e3a\u7a7a"):r.default.isWechatGame()||r.default.isBaiduGame()?i.BusinessGlobal.customBanner&&!i.BusinessGlobal.customBanner.getIntiativeCloseState()&&(i.BusinessGlobal.dialogShowCount>0||i.BusinessGlobal.customBanner.show()):(r.default.isOppoSimulatePlatform()||r.default.isVivoSimulatePlatform()||r.default.isBaiduSimulatePlatform()||r.default.isWxSimulatePlatform())&&i.BusinessGlobal.customBanner&&!i.BusinessGlobal.customBanner.getIntiativeCloseState()&&i.BusinessGlobal.customBanner.show()},t.prototype.hideCustomBanner=function(){i.BusinessGlobal.customBanner&&i.BusinessGlobal.customBanner.hide()},t.prototype.showRecommendMore=function(){i.BusinessGlobal.recommendMore&&i.BusinessGlobal.recommendMoreIsShow&&(i.BusinessGlobal.dialogShowCount>0||i.BusinessGlobal.recommendMore.show())},t.prototype.hideRecommendMore=function(){i.BusinessGlobal.recommendMore&&i.BusinessGlobal.recommendMore.hide()},t.prototype.showMoreRecommend=function(){i.BusinessGlobal.moreRecommend&&i.BusinessGlobal.moreRecommend.show()},t.prototype.hideMoreRecommend=function(){i.BusinessGlobal.moreRecommend&&i.BusinessGlobal.moreRecommend.hide()},t.prototype.showAddToDesk=function(t){if(r.default.isOppo()||r.default.isVivo()){var e=this;qg.hasShortcutInstalled({success:function(o){!1===o?qg.installShortcut({success:function(){c.analyticsManager.recordEvent(l.default.ADD_TO_DEST_SHOW),u.default.managerLog(e,"\u6dfb\u52a0\u5230\u684c\u9762\u65b9\u6cd5\u8c03\u7528\u6210\u529f")},fail:function(){u.default.errorLog("\u6dfb\u52a0\u5230\u684c\u9762\u65b9\u6cd5\u8c03\u7528\u5931\u8d25","\u56de\u8c03\u5931\u8d25")},complete:function(){t()}}):t()},fail:function(){},complete:function(){u.default.errorLog("\u6dfb\u52a0\u5230\u684c\u9762\u65b9\u6cd5\u8c03\u7528\u5931\u8d25","\u56de\u8c03\u5931\u8d25")}})}},t.prototype.showAddToDeskTip=function(){n.pluginManager.loadAddToDeskTip(cc.find("Canvas"))},t.INSTANCE=null,t}();o.default=d,o.mediaManager=d.getInstance(),cc._RF.pop()},{"../../core/util/DateUtil":"DateUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","./AnalyticsManager":"AnalyticsManager","./NativeAdManager":"NativeAdManager","./PluginManager":"PluginManager"}],MoreRecommendDialog:[function(t,e,o){"use strict";cc._RF.push(e,"7d513y7/o9JZp2raDSTjtCp","MoreRecommendDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/manager/AudioManager"),r=t("../../business/manager/CustomAdManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClick=null,e.nodeMask=null,e.nodeBg=null,e.nodeClose=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.nodeMask.on(cc.Node.EventType.TOUCH_END,function(){a.audioManager.playEffect(t.audioClick),t.hideDialog()}),this.nodeBg.on(cc.Node.EventType.TOUCH_END,function(){}),this.nodeClose.on(cc.Node.EventType.TOUCH_END,function(){a.audioManager.playEffect(t.audioClick),t.hideDialog()})},e.prototype.showDialog=function(){this.node.active=!0},e.prototype.hideDialog=function(){r.customAdManager.hide(),this.node.active=!1},n([l({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"audioClick",void 0),n([l({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"nodeMask",void 0),n([l({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"nodeBg",void 0),n([l({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"nodeClose",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../business/manager/AudioManager":"AudioManager","../../business/manager/CustomAdManager":"CustomAdManager"}],MoreRecommendManager:[function(t,e,o){"use strict";cc._RF.push(e,"9f01fef91dAuKnuVO2GVOY7","MoreRecommendManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/AppConfig"),n=t("../../core/util/PlatformUtil"),a=t("../../core/util/ToastUtil"),r=t("../constants/PublicAnalyticsKey"),s=t("./AnalyticsManager"),c=t("./BannerManager"),l=t("./SwitchManager"),u=function(){function t(){this.isPortalLoaded=!1,this.needToShow=!1,this.gamePortalAd=null,this.cb=null,this.gameBannerAd=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.loadPortal()},t.prototype.getPortalId=function(){return n.default.isOppo()?i.default.quickgameRecommendPortalID:null},t.prototype.getBannerId=function(){return n.default.isOppo()?i.default.quickgameRecommendBannerID:null},t.prototype.canPortalUse=function(){if(n.default.isOppo()){if(void 0===qg.createGamePortalAd||null===qg.createGamePortalAd)return!1;var t=this.getPortalId();return console.log("canPortalUse222:"+t),void 0!==t&&null!==t&&""!==t}return!!n.default.isOppoSimulatePlatform()},t.prototype.initPortalAd=function(t){var e=this;this.canPortalUse()&&n.default.isOppo()&&(this.gamePortalAd=qg.createGamePortalAd({adUnitId:t}),s.analyticsManager.recordEvent(r.default.OPPO_SLICED_MODULE,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.gamePortalAd.onLoad(function(){s.analyticsManager.recordEvent(r.default.RECOMMEND_DIALOG,t,"\u52a0\u8f7d\u6210\u529f\u6570"),e.isPortalLoaded=!0,e.needToShow&&(e.isPortalLoaded=!1,s.analyticsManager.recordEvent(r.default.RECOMMEND_DIALOG,t,"\u5c55\u793a\u6570"),e.gamePortalAd.show(),s.analyticsManager.recordEvent(r.default.OPPO_SLICED_COUNT,"\u66dd\u5149"))}),this.gamePortalAd.onError(function(o){e.needToShow&&a.default.toastShort("\u52a0\u8f7d\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002"),s.analyticsManager.recordEvent(r.default.OPPO_SLICED_MODULE,t,o),console.log("load fail with:"+o.errCode+","+o.errMsg),s.analyticsManager.recordEvent(r.default.RECOMMEND_DIALOG,t,o.errCode+":"+o.errMsg),e.cb&&e.cb.onError&&(e.cb.onError(),e.cb=null)}),this.gamePortalAd.onClose(function(){e.needToShow=!1,e.cb&&e.cb.onClose&&(e.cb.onClose(),e.cb=null),s.analyticsManager.recordEvent(r.default.OPPO_SLICED_COUNT,"\u5b8c\u6210"),console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u5173\u95ed"),e.loadPortal()}))},t.prototype.loadPortal=function(){if(this.canPortalUse()){var t=this.getPortalId();(this.gamePortalAd||(this.initPortalAd(t),this.gamePortalAd))&&(s.analyticsManager.recordEvent(r.default.RECOMMEND_DIALOG,t,"\u8bf7\u6c42\u6570"),this.gamePortalAd.load())}},t.prototype.showPortal=function(t){if(void 0===t&&(t=null),this.cb=t,this.isPortalLoaded&&this.gamePortalAd){this.needToShow=!1,this.isPortalLoaded=!1;var e=this.getPortalId();s.analyticsManager.recordEvent(r.default.RECOMMEND_DIALOG,e,"\u5c55\u793a\u6570"),this.gamePortalAd.show(),s.analyticsManager.recordEvent(r.default.OPPO_SLICED_COUNT,"\u66dd\u5149")}else this.needToShow=!0,this.loadPortal()},t.prototype.canRecommendBannerUse=function(){if(!l.switchManager.isBannerOpen())return!1;if(!n.default.isOppo()||void 0===qg.createGameBannerAd||null===qg.createGameBannerAd)return!1;var t=this.getBannerId();return void 0!==t&&null!==t&&""!==t},t.prototype.showRecommendBanner=function(){var t=this.getBannerId();if(!this.canRecommendBannerUse())return l.switchManager.isBannerOpen()?void 0===qg.createGameBannerAd||null===qg.createGameBannerAd?s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,"\u65e0\u5bf9\u5e94api\uff1a"+qg.getSystemInfoSync().platformVersionCode):s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,"\u5176\u4ed6"):s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,"\u5f00\u5173\u5173\u95ed"),void c.bannerManager.show();this.hideRecommendBanner(),s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,"\u8bf7\u6c42\u6570");var e=qg.createGameBannerAd({adUnitId:t});e.show(),e.onLoad(function(){s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,"\u66dd\u5149\u6570"),console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),e.onError(function(e){s.analyticsManager.recordEvent(r.default.RECOMMEND_BANNER,t,e.errCode+":"+e.errMsg),console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a"+e.errCode+":"+e.errMsg)}),this.gameBannerAd=e},t.prototype.hideRecommendBanner=function(){c.bannerManager.hide(),this.gameBannerAd&&(this.gameBannerAd.destroy&&this.gameBannerAd.destroy(),this.gameBannerAd=null)},t.INSTANCE=null,t}();o.default=u,o.moreRecommendManager=u.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","./AnalyticsManager":"AnalyticsManager","./BannerManager":"BannerManager","./SwitchManager":"SwitchManager"}],MoreRecommend:[function(t,e,o){"use strict";cc._RF.push(e,"d9fdc3K6TNIj4FaOR796Hs3","MoreRecommend");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/constants/BusinessGlobal"),r=t("../../business/constants/PublicAnalyticsKey"),s=t("../../business/manager/AnalyticsManager"),c=t("../../business/manager/AudioManager"),l=t("../../business/manager/CustomAdManager"),u=t("../../business/manager/DialogManager"),d=t("../../business/manager/LoadManager"),p=t("../../business/manager/MoreRecommendManager"),h=t("../../core/util/DateUtil"),f=t("../../core/util/PlatformUtil"),g=t("../../core/util/ToastUtil"),_=t("./MoreRecommendDialog"),y=cc._decorator,m=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClick=null,e.spriteContent=null,e.arrFrameContent=[],e.nodeBox=null,e.nodeClose=null,e.prefabMoreRecommenndDialog=null,e.moreRecommendDialog=null,e.frameIndex=0,e.lastTime=-1,e.clickLock=!1,e}return i(e,t),e.prototype.canClick=function(){var t=h.default.getTimeStamp();return!(t-this.lastTime<1e3)&&(this.lastTime=t,!0)},e.prototype.getMoreRecommendDialog=function(){if(!this.moreRecommendDialog){var t=cc.instantiate(this.prefabMoreRecommenndDialog);this.node.parent.addChild(t),this.moreRecommendDialog=t.getComponent(_.default)}return this.moreRecommendDialog},e.prototype.onLoad=function(){var t=this;a.BusinessGlobal.moreRecommend=this,s.analyticsManager.recordEvent(r.default.RECOMMEND_BTN_SHOW,"\u5c55\u793a\u6210\u529f"),this.nodeBox.on(cc.Node.EventType.TOUCH_END,function(){if(t.canClick())if(s.analyticsManager.recordEvent(r.default.RECOMMEND_BTN_CLICK),c.audioManager.playEffect(t.audioClick),f.default.isOppo())p.moreRecommendManager.showPortal();else if(f.default.isWechatGame()){if(t.clickLock)return;t.clickLock=!0,d.loadManager.showLoadingWithMask(),l.customAdManager.load().then(function(){t.getMoreRecommendDialog().showDialog(),d.loadManager.hideLoading(),t.clickLock=!1,l.customAdManager.show()}).catch(function(e){t.getMoreRecommendDialog().hideDialog(),d.loadManager.hideLoading(),t.clickLock=!1,e&&setTimeout(function(){g.default.toastShort("\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},500)})}}),this.nodeClose.active=f.default.isWechatGame()||f.default.isWxSimulatePlatform(),this.nodeClose.on(cc.Node.EventType.TOUCH_END,function(){console.log("TOUCH close"),c.audioManager.playEffect(t.audioClick),t.node.active=!1}),this.playAni(),this.node.active=!u.dialogManager.isDialogShow()},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.onDestroy=function(){l.customAdManager.hide(),l.customAdManager.createAd(),a.BusinessGlobal.moreRecommend=null},e.prototype.playAni=function(){var t=this;this.spriteContent.node.runAction(cc.repeatForever(cc.sequence(cc.jumpTo(1,cc.v2(0,0),50,1),cc.callFunc(function(){++t.frameIndex>=t.arrFrameContent.length&&(t.frameIndex=0);var e=t.arrFrameContent[t.frameIndex];t.spriteContent.spriteFrame=e}))))},n([v({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"audioClick",void 0),n([v({tooltip:"\u5185\u90e8\u52a8\u753b\u7cbe\u7075",type:cc.Sprite})],e.prototype,"spriteContent",void 0),n([v({tooltip:"\u5185\u90e8\u52a8\u753b\u7cbe\u7075",type:[cc.SpriteFrame]})],e.prototype,"arrFrameContent",void 0),n([v({tooltip:"\u5e95\u90e8\u76d2\u5b50",type:cc.Node})],e.prototype,"nodeBox",void 0),n([v({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"nodeClose",void 0),n([v({tooltip:"\u66f4\u591a\u63a8\u8350\u5f39\u7a97\u9884\u7f6e\u4f53",type:cc.Prefab})],e.prototype,"prefabMoreRecommenndDialog",void 0),e=n([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AnalyticsManager":"AnalyticsManager","../../business/manager/AudioManager":"AudioManager","../../business/manager/CustomAdManager":"CustomAdManager","../../business/manager/DialogManager":"DialogManager","../../business/manager/LoadManager":"LoadManager","../../business/manager/MoreRecommendManager":"MoreRecommendManager","../../core/util/DateUtil":"DateUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","./MoreRecommendDialog":"MoreRecommendDialog"}],MyPageView:[function(t,e,o){"use strict";cc._RF.push(e,"bd210b9L31Ne6vo2/TUVJcI","MyPageView");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../core/util/MathUtil"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent=null,e.arrNodeItem=[],e.sfIndicatorNormal=null,e.sfIndicatorShow=null,e.nodeIndicator=null,e.curPage=0,e.startContentX=0,e.startTouchX=0,e.adapter=null,e}return i(e,t),e.prototype.onLoad=function(){this.nodeContent.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.nodeContent.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.nodeContent.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.nodeContent.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.setAdapter=function(t){this.adapter=t,this.curPage=0,this.resetIndicator(),this.drawPage(),this.startAutoChangeTask()},e.prototype.endAutoChangeTask=function(){this.node.stopAllActions()},e.prototype.startAutoChangeTask=function(){var t=this;this.endAutoChangeTask(),this.adapter&&this.adapter.getCount()<=1||this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(4),cc.callFunc(function(){t.toNextPage()}))))},e.prototype.resetIndicator=function(){if(this.adapter){this.nodeIndicator.removeAllChildren();for(var t=0;t<this.adapter.getCount();t++){var e=new cc.Node;e.addComponent(cc.Sprite).spriteFrame=this.sfIndicatorNormal,this.nodeIndicator.addChild(e)}}},e.prototype.touchStart=function(t){t.stopPropagation(),this.startContentX=this.nodeContent.x,this.startTouchX=t.getLocationX(),this.endAutoChangeTask()},e.prototype.touchMove=function(t){var e=t.getLocationX()-this.startTouchX;e=a.default.limit(e,-405,405),this.nodeContent.x=this.startContentX+e},e.prototype.onItemClick=function(){this.adapter&&this.adapter.onItemClick&&this.adapter.onItemClick(this.curPage)},e.prototype.touchEnd=function(t){var e=t.getLocationX()-this.startTouchX;Math.abs(e)<25&&this.onItemClick(),e<-121.5?this.toNextPage():e>121.5?this.toLastPage():this.resetPage(),this.startAutoChangeTask()},e.prototype.moveItems=function(t){var e=this;this.nodeContent.x=0,this.arrNodeItem.forEach(function(o){e.moveItem(o,t)}),this.updateIndicator()},e.prototype.moveItem=function(t,e){var o=t.x+e;o<-405?(o=405,this.adapter&&this.adapter.drawItem(t,this.getNextPageIndex())):o>405&&(o=-405,this.adapter&&this.adapter.drawItem(t,this.getLastPageIndex())),t.x=o},e.prototype.toNextPage=function(){var t=this;this.nodeContent.stopAllActions(),this.nodeContent.runAction(cc.sequence(cc.moveTo(.3,cc.v2(-405,0)),cc.callFunc(function(){t.curPage=t.getNextPageIndex(),t.moveItems(-405)})))},e.prototype.toLastPage=function(){var t=this;this.nodeContent.stopAllActions(),this.nodeContent.runAction(cc.sequence(cc.moveTo(.3,cc.v2(405,0)),cc.callFunc(function(){t.curPage=t.getLastPageIndex(),t.moveItems(405)})))},e.prototype.resetPage=function(){var t=this;this.nodeContent.stopAllActions(),this.nodeContent.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,0)),cc.callFunc(function(){t.nodeContent.x=0})))},e.prototype.getNextPageIndex=function(){if(!this.adapter)return 0;var t=this.curPage+1;return t>=this.adapter.getCount()?0:t},e.prototype.getLastPageIndex=function(){if(!this.adapter)return 0;var t=this.curPage-1;return t<0?this.adapter.getCount()-1:t},e.prototype.drawPage=function(){this.adapter&&(this.adapter.drawItem(this.arrNodeItem[1],this.curPage),this.adapter.drawItem(this.arrNodeItem[0],this.getLastPageIndex()),this.adapter.drawItem(this.arrNodeItem[2],this.getNextPageIndex()),this.updateIndicator())},e.prototype.updateIndicator=function(){var t=this;this.adapter&&(this.nodeIndicator.children.forEach(function(e,o){e.getComponent(cc.Sprite).spriteFrame=o===t.curPage?t.sfIndicatorShow:t.sfIndicatorNormal}),this.adapter.onPageChange(this.curPage))},n([c(cc.Node)],e.prototype,"nodeContent",void 0),n([c([cc.Node])],e.prototype,"arrNodeItem",void 0),n([c(cc.SpriteFrame)],e.prototype,"sfIndicatorNormal",void 0),n([c(cc.SpriteFrame)],e.prototype,"sfIndicatorShow",void 0),n([c(cc.Node)],e.prototype,"nodeIndicator",void 0),e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../core/util/MathUtil":"MathUtil"}],NativeAdDIalog:[function(t,e,o){"use strict";cc._RF.push(e,"9b461CeYZRG4pwiAUpLhoum","NativeAdDIalog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/base/BBDialog"),r=t("../../business/manager/AudioManager"),s=t("../../business/manager/LoadManager"),c=t("../../business/manager/NativeAdManager"),l=t("../../core/util/ImageUtil"),u=t("../../core/util/LogUtil"),d=t("../../core/util/PlatformUtil"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteAppIcon=null,e.btnContinue=null,e.btnJump=null,e.adcTouch=null,e.labelAppName=null,e.labelAppDesclear=null,e.name="NativeAdDIalog",e.reject=null,e.resolve=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.showDialog(),this.refreshView(),this.openListen()},e.prototype.onDestroy=function(){c.nativeAdManager.reload()},e.prototype.init=function(t,e){u.default.sdkComponentLog(this,"\u539f\u751f\u5e7f\u544a\u5f39\u7a97,\u6211\u521d\u59cb\u5316\u6210\u529f\u4e86"),this.resolve=t,this.reject=e},e.prototype.openListen=function(){this.btnContinue.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.continueEvent,this)},e.prototype.continueEvent=function(){this.baseContinueEvent()},e.prototype.refreshView=function(){if(!d.default.isOppoSimulatePlatform())if(c.nativeAdManager.isValid()){var t=c.nativeAdManager.getAdInfo();u.default.sdkComponentLog(this,"\u6570\u636e\u5b58\u5728,\u5c55\u793a\u5f39\u7a97!"),this.node.active=!0,this.paintNative(t),s.loadManager.hideLoading()}else u.default.sdkComponentLog(this,"\u6570\u636e\u4e0d\u5b58\u5728,\u9500\u6bc1\u5f39\u7a97!"),this.hideDialog(),this.reject&&this.reject(),this.node.destroy()},e.prototype.paintNative=function(t){var e=this;this.node.active=!0;var o=t.icon;!t.icon&&t.imgUrlList.length>0&&(o=t.imgUrlList[0]),this.drawIcon(o,t.creativeType),this.labelAppName.string=t.title,this.labelAppDesclear.string=t.desc,c.nativeAdManager.reportAdShow(t.adId),this.btnJump.getChildByName("touch").off(cc.Node.EventType.TOUCH_END),this.btnJump.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,function(){c.nativeAdManager.hasClick=!0,e.playAdcTouch(),c.nativeAdManager.reportAdClick(t.adId),e.hideDialog(),e.resolve&&(e.resolve(),e.resolve=null)})},e.prototype.drawIcon=function(t,e){var o=this;void 0===e&&(e=0),7===e&&d.default.isOppo()&&(this.spriteAppIcon.node.scale=.75,this.spriteAppIcon.node.position=cc.v2(0,0),this.btnJump.getChildByName("touch").position=cc.v2(0,63),this.btnJump.getChildByName("touch").setContentSize(240,200)),this.spriteAppIcon.spriteFrame=null,t&&l.default.loadSpriteFrame(t).then(function(t){o.spriteAppIcon.spriteFrame=t,o.spriteAppIcon.node.setContentSize(128,128),7===e&&d.default.isOppo()?o.spriteAppIcon.node.setContentSize(320,210):o.spriteAppIcon.node.setContentSize(128,128)}).catch(function(){})},e.prototype.playAdcTouch=function(){r.audioManager.playEffect(this.adcTouch)},e.prototype.baseContinueEvent=function(){this.playAdcTouch(),this.hideDialog(),this.resolve&&(this.resolve(),this.resolve=null),this.node.destroy()},n([f({tooltip:"appIcon\u56fe\u6807",type:cc.Sprite})],e.prototype,"spriteAppIcon",void 0),n([f({tooltip:"\u7ee7\u7eed\u6309\u94ae",type:cc.Node})],e.prototype,"btnContinue",void 0),n([f({tooltip:"\u8df3\u8f6c\u6309\u94ae",type:cc.Node})],e.prototype,"btnJump",void 0),n([f({tooltip:"\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"adcTouch",void 0),n([f({tooltip:"app\u540d\u79f0",type:cc.Label})],e.prototype,"labelAppName",void 0),n([f({tooltip:"app\u8bf4\u660e",type:cc.Label})],e.prototype,"labelAppDesclear",void 0),e=n([h],e)}(a.default);o.default=g,cc._RF.pop()},{"../../business/base/BBDialog":"BBDialog","../../business/manager/AudioManager":"AudioManager","../../business/manager/LoadManager":"LoadManager","../../business/manager/NativeAdManager":"NativeAdManager","../../core/util/ImageUtil":"ImageUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil"}],NativeAdManager:[function(t,e,o){"use strict";cc._RF.push(e,"9522cjYab5KZ6z3tgpR6t9W","NativeAdManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=t("../../../Config/AppConfig"),a=t("../../core/util/LogUtil"),r=t("../constants/PublicConst"),s=t("./SwitchManager"),c=t("./AnalyticsManager"),l=t("../constants/PublicAnalyticsKey"),u=function(){function t(){this.nativeAd=null,this.adList=null,this.hasClick=!1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){a.default.managerLog(r.ManagerName.NativeAdManager,"init"),this.simulateDataSet(),this.oppoInit(),this.vivoInit()},t.prototype.simulateDataSet=function(){(i.default.isOppoSimulatePlatform()||i.default.isVivoSimulatePlatform())&&(this.adList=[{adId:"string",title:"string",desc:"string",icon:"string",logoUrl:"string",clickBtnTxt:"string",imgUrlList:[" Array < string >"],creativeType:0,interactionType:0}])},t.prototype.oppoInit=function(){var t=this;if(n.default.quickgameNativeUnitID)if(i.default.isOppo()&&qg.createNativeAd){this.hasClick=!1;var e=qg.createNativeAd({adUnitId:n.default.quickgameNativeUnitID});e.onLoad(function(e){a.default.managerLog(r.ManagerName.NativeAdManager,"onLoaded date",e,e.adList),a.default.necessaryLog("\u7ba1\u7406\u8005 - \u539f\u751f\u5e7f\u544a\u6570\u636e\u662f:",e.adList),t.adList=e.adList}),e.onError(function(t){a.default.errorLog("nativeAd onError",t),c.analyticsManager.recordEvent(l.default.NATIVE_AD_MODULE,n.default.qgameNativeUnitID,t)}),e.load(),this.nativeAd=e}else c.analyticsManager.recordEvent(l.default.NATIVE_AD_MODULE,n.default.qgameNativeUnitID,"\u975eoppo\u5e73\u53f0\u6216\u4e0d\u5b58\u5728\u521b\u5efa\u539f\u751f\u5e7f\u544a\u7684\u65b9\u6cd5")},t.prototype.vivoInit=function(){var t=this;if(n.default.qgameNativeUnitID)if(i.default.isVivo()&&qg.createNativeAd){this.hasClick=!1;var e=qg.createNativeAd({adUnitId:n.default.qgameNativeUnitID});e.onLoad(function(e){a.default.managerLog(r.ManagerName.NativeAdManager,"onLoaded date",e.adList),a.default.necessaryLog("\u539f\u751f\u5e7f\u544a\u6570\u636e\u662f:",e.adList),t.adList=e.adList}),e.onError(function(t){c.analyticsManager.recordEvent(l.default.NATIVE_AD_MODULE,n.default.qgameNativeUnitID,t),a.default.errorLog("nativeAd onError",t)}),e.load(),this.nativeAd=e}else c.analyticsManager.recordEvent(l.default.NATIVE_AD_MODULE,n.default.qgameNativeUnitID,"\u975evivo\u5e73\u53f0\u6216\u4e0d\u5b58\u5728\u521b\u5efa\u539f\u751f\u5e7f\u544a\u7684\u65b9\u6cd5")},t.prototype.isValid=function(){return!!(void 0!==this.adList&&null!==this.adList&&this.adList.length>0&&s.switchManager.isNativeOpen())||(a.default.necessaryLog("'\u7ba1\u7406\u8005 - \u539f\u751f\u5e7f\u544a\u672a\u586b\u5145\n-\u5224\u65ad\u6570\u636e:'"+this.adList),!1)},t.prototype.getAdBean=function(){return this.isValid()?this.adList[0]:null},t.prototype.reload=function(){(i.default.isOppo()||i.default.isVivo())&&(this.hasClick=!1,this.nativeAd?this.nativeAd.load():this.init())},t.prototype.reportAdShow=function(t){i.default.isOppo()&&this.nativeAd&&this.nativeAd.reportAdShow({adId:t}),i.default.isVivo()&&this.nativeAd&&this.nativeAd.reportAdShow({adId:t}),c.analyticsManager.recordEvent(l.default.NATIVE_AD_COUNT,"\u66dd\u5149")},t.prototype.reportAdClick=function(t){i.default.isOppo()&&this.nativeAd&&this.nativeAd.reportAdClick({adId:t}),i.default.isVivo()&&this.nativeAd&&this.nativeAd.reportAdClick({adId:t}),c.analyticsManager.recordEvent(l.default.NATIVE_AD_COUNT,"\u70b9\u51fb")},t.prototype.getAdInfo=function(){return this.adList[0]},t.INSTANCE=null,t}();o.nativeAdManager=u.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","./AnalyticsManager":"AnalyticsManager","./SwitchManager":"SwitchManager"}],NetManager:[function(t,e,o){"use strict";cc._RF.push(e,"f31fdvLCRhGyY3zadqh3STs","NetManager"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../core/util/LogUtil"),a=t("../constants/PublicConst");(function(t){t[t.PlatformError=-900]="PlatformError",t[t.LinkServerError=-901]="LinkServerError",t[t.ProcessDataError=-902]="ProcessDataError",t[t.RequestTimeOut=-903]="RequestTimeOut",t[t.RequestError=-904]="RequestError"})(i||(i={}));var r=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.request=function(t,e,o,a){var r=this;void 0===a&&(a=null);var s=this;return new Promise(function(c,l){var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4===u.readyState)if(u.status>=200&&u.status<400)try{var t=JSON.parse(u.responseText);c(t)}catch(t){n.default.errorLog("process data error",t),s.errorCallback(l,i.PlatformError,"process data error:"+t.string)}else s.errorCallback(l,u.status,"statusCode error")},u.onerror=function(){r.errorCallback(l,i.RequestError,"request error"),u.abort()},u.ontimeout=function(){r.errorCallback(l,i.RequestTimeOut,"request timeout"),u.abort()},u.open(e,t,!0),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","application/json"),a&&Object.keys(a).forEach(function(t){u.setRequestHeader(t,a[t])}),u.send(o)})},t.prototype.errorCallback=function(t,e,o){var i={errCode:e,errMsg:o};try{t(i)}catch(t){console.error("NetManager deal reject error",t)}},t.prototype.get=function(t){return this.request(t,"GET",null)},t.prototype.post=function(t,e,o){return void 0===o&&(o=null),this.request(t,"POST",JSON.stringify(e),o)},t.prototype.getServerTime=function(){var t=this;return new Promise(function(e,o){t.get("https://api.m.taobao.com/rest/api3.do?api=mtop.common.getTimestamp").then(function(t){n.default.managerLog(a.ManagerName.NetManager,"server time is "+t),t.data&&t.data.t?e(t.data.t):o()}).catch(function(t){o(t)})})},t.prototype.get2=function(t){return this.request2(t,"GET",null)},t.prototype.request2=function(t,e,o,a){var r=this;void 0===a&&(a=null);var s=this;return new Promise(function(c,l){var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4===u.readyState)if(u.status>=200&&u.status<400)try{c(u.responseText)}catch(t){n.default.errorLog("process data error",t),s.errorCallback(l,i.PlatformError,"process data error:"+t.string)}else s.errorCallback(l,u.status,"statusCode error")},u.onerror=function(){r.errorCallback(l,i.RequestError,"request error"),u.abort()},u.ontimeout=function(){r.errorCallback(l,i.RequestTimeOut,"request timeout"),u.abort()},u.open(e,t,!0),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("Accept","application/json/text"),a&&Object.keys(a).forEach(function(t){u.setRequestHeader(t,a[t])}),u.send(o)})},t.INSTANCE=null,t}();o.netManager=r.getInstance(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../constants/PublicConst":"PublicConst"}],NetStoreManager:[function(t,e,o){"use strict";cc._RF.push(e,"3d63d77wNlImZMI2r9wqJeb","NetStoreManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/ArrayUtil"),n=t("../../core/util/StoreUtil"),a=t("../constants/PublickStoreKey"),r=t("./ApiManager"),s=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.getStoreKey=function(t){return a.default.NET_STORE_PRE+t},t.prototype.get=function(t,e){var o=this.getStoreKey(t),i=n.default.get(o,e);return console.log("===ApiManager===","get",t," ",o," ",i),i},t.prototype.set=function(t,e){var o=this.getStoreKey(t);n.default.set(o,e);try{var s=r.apiManager.isSendingSaveData?a.default.NET_STORE_CHANGE_KEYS_TEMP:a.default.NET_STORE_CHANGE_KEYS;if(!r.apiManager.isEnableReportData())return;var c=n.default.get(s,"[]"),l=JSON.parse(c);i.default.contain(l,t)||(l.push(t),n.default.set(s,JSON.stringify(l)))}catch(t){}},t.INSTANCE=void 0,t}();o.NetStoreManager=s,o.netStoreManager=s.getInstance(),cc._RF.pop()},{"../../core/util/ArrayUtil":"ArrayUtil","../../core/util/StoreUtil":"StoreUtil","../constants/PublickStoreKey":"PublickStoreKey","./ApiManager":"ApiManager"}],NetUtil:[function(t,e,o){"use strict";cc._RF.push(e,"923801iAHRFIJQz5FWqvPTJ","NetUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PlatformUtil"),n=t("./ArrayUtil"),a=function(){function t(){}return t.WIFI="wifi",t.G2="2g",t.G3="3g",t.G4="4g",t.UNKNOW="unknown",t.NONE="none",t.OTHER="other",t}();o.NetType=a;var r=function(){function t(){this.isActive=!0,this.type="",this.arrayCallBack=[]}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.addCallBack=function(t){this.arrayCallBack.push(t)},t.prototype.getRewardNetState=function(){return i.default.isOppo()?this.getNetState():new Promise(function(t,e){t(null)})},t.prototype.getNetState=function(){return new Promise(function(t,e){i.default.isWechatGame()||i.default.isTouTiao()?wx.getNetworkType?wx.getNetworkType({success:function(o){o&&o.networkType!==a.NONE?t(null):e()},fail:function(){t(null)}}):t(null):i.default.isBaiduGame()?swan.getNetworkType?swan.getNetworkType({success:function(o){o&&o.networkType!==a.NONE?t(null):e()},fail:function(){t(null)}}):t(null):i.default.isOppo()&&qg.getNetworkType?qg.getNetworkType({success:function(o){console.log("\u8bf7\u6c42\u7f51\u7edc\u72b6\u6001\u6210\u529f!,\u72b6\u6001\u4e3a",o.networkType),o&&o.networkType!==a.NONE?t(null):e()},fail:function(){console.log("\u8bf7\u6c42\u7f51\u7edc\u72b6\u6001\u5931\u8d25!"),t(null)}}):t(null)})},t.prototype.getWifiState=function(){return new Promise(function(t,e){i.default.isWechatGame()||i.default.isTouTiao()?wx.getNetworkType?wx.getNetworkType({success:function(o){o&&o.networkType===a.WIFI?t(null):e()},fail:function(){e()}}):t(null):i.default.isBaiduGame()&&swan.getNetworkType?swan.getNetworkType({success:function(o){o&&o.networkType===a.WIFI?t(null):e()},fail:function(){e()}}):t(null)})},t.prototype.isNetActive=function(){return this.isActive},t.prototype.isWifiActive=function(){return this.isActive&&this.getNetType()===a.WIFI},t.prototype.getNetType=function(){return this.type},t.prototype.init=function(){var t=this;console.log("NetUtil init"),i.default.isWechatGame()||i.default.isTouTiao()?(wx.getNetworkType&&wx.getNetworkType({success:function(e){console.log("NetUtil getNetworkType\uff1a",e),t.isActive="none"!==e.networkType,t.type=e.networkType}}),wx.onNetworkStatusChange&&(console.log("NetUtil onNetworkStatusChange"),wx.onNetworkStatusChange(function(e){e?(console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0",e.networkType,e.isConnected),t.isActive=e.isConnected,t.type=e.networkType,t.callback()):console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0 res null")}))):i.default.isBaiduGame()?(swan.getNetworkType&&swan.getNetworkType({success:function(e){console.log("NetUtil getNetworkType\uff1a",e),t.isActive="none"!==e.networkType,t.type=e.networkType}}),swan.onNetworkStatusChange&&swan.onNetworkStatusChange(function(e){e?(console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0",e.networkType,e.isConnected),t.isActive=e.isConnected,t.type=e.networkType,t.callback()):console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0 res null")})):(i.default.isOppo()||i.default.isVivo())&&(qg.getNetworkType&&qg.getNetworkType({success:function(e){console.log("NetUtil getNetworkType\uff1a",e),t.isActive="none"!==e.networkType,t.type=e.networkType}}),qg.onNetworkStatusChange&&qg.onNetworkStatusChange(function(e){e?(console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0",e.networkType,e.isConnected),t.isActive=e.isConnected,t.type=e.networkType,t.callback()):console.log("NetUtil \u7f51\u7edc\u72b6\u6001\u66f4\u65b0 res null")}))},t.prototype.callback=function(){var t=this;n.default.isNull(this.arrayCallBack)||this.arrayCallBack.forEach(function(e){e(t.isActive,t.type)})},t.INSTANCE=null,t}();o.netUtil=r.getInstance(),cc._RF.pop()},{"./ArrayUtil":"ArrayUtil","./PlatformUtil":"PlatformUtil"}],NewRecommendDialogV2:[function(t,e,o){"use strict";cc._RF.push(e,"91bdbxv00RMsJX2J6EX5sYW","NewRecommendDialogV2");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/manager/GuideManager"),r=t("../../../core/util/ImageUtil"),s=t("../../../business/manager/JumpManager"),c=t("../../../business/constants/PublicAnalyticsKey"),l=t("../../../business/manager/AudioManager"),u=t("../../../business/manager/TagManager"),d=t("../../../business/constants/GuideId"),p=t("../../../business/constants/PublicConst"),h=t("../../../business/base/BaseWelcomeDialog"),f=t("../../../business/manager/DialogManager"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnJump=null,e.arrBtnIcon=[],e.acTouch=null,e.sprteBg=null,e.labTip=null,e.appData=null,e.jumpCooling=!1,e.laterTime=0,e.name="NewRecommendDialogV2",e}return i(e,t),e.prototype.onLoad=function(){this.welcomeDialogNumber=p.WelcomeDialogNumber.newRecommend,f.dialogManager.setFirstShowNewRecommend(),t.prototype.onLoad.call(this),this.initParams(),this.initListener(),this.refreshView()},e.prototype.initParams=function(){this.node.zIndex=9999,this.appData=a.guideManager.getDataByWeight(d.default.GAME_WELCOME_DIALOG,1)[0],this.appData||this.hideDialog(),s.jumpManager.buttonShow(this.appData,c.default.GM_WELCOME_DIALOG,1),this.btnClose.active=!1,this.arrBtnIcon[0].active=!1,this.arrBtnIcon[1].active=!1},e.prototype.initListener=function(){this.btnClose.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.closeEvent,this),this.btnJump.getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.jumpEvent,this),this.appData.iconPoz&&(this.arrBtnIcon[Number(this.appData.iconPoz)-1].active=!0,this.arrBtnIcon[Number(this.appData.iconPoz)-1].getChildByName("touch").on(cc.Node.EventType.TOUCH_END,this.jumpEvent,this))},e.prototype.refreshView=function(){this.drawBg(),this.drawIcon(),this.loadCloseBtn(),this.autoHideDialog()},e.prototype.drawIcon=function(){var t=this;r.default.loadSpriteFrame(this.appData.logo).then(function(e){if(e){var o=t.arrBtnIcon[Number(t.appData.iconPoz)-1].getChildByName("touch").getChildByName("icon").getComponent(cc.Sprite);o.spriteFrame=e,o.node.setContentSize(69,69)}}).catch(function(){})},e.prototype.drawBg=function(){var t=this;r.default.loadSpriteFrame(this.appData.startUpImg).then(function(e){e&&(t.sprteBg.spriteFrame=e,t.sprteBg.node.setContentSize(640,310))}).catch(function(){})},e.prototype.loadCloseBtn=function(){this.laterTime=0,this.unschedule(this.hideCloseBtn),this.schedule(this.hideCloseBtn,1)},e.prototype.autoHideDialog=function(){var t=this,e=10,o=function(){0===(e-=1)&&(t.unschedule(o),t.hideDialog())};this.schedule(o,1)},e.prototype.hideCloseBtn=function(){this.laterTime++,this.labTip.string="("+(3-this.laterTime)+")",3===this.laterTime&&(this.labTip.node.active=!1,this.unschedule(this.hideCloseBtn),this.btnClose.active=!0)},e.prototype.jumpEvent=function(){if(l.audioManager.playEffect(this.acTouch),!this.jumpCooling&&(this.jumpCooling=!0,this.appData)){var t=this;a.guideManager.addBeanBlack(d.default.GAME_WELCOME_DIALOG,t.appData),s.jumpManager.navigateToApp(this.appData,c.default.GM_WELCOME_DIALOG,d.default.GAME_WELCOME_DIALOG,1).then(function(e){t&&(u.tagManager.recordNewRecommend(),t.hideDialog())}).catch(function(){t&&(t.jumpCooling=!1)})}},e.prototype.closeEvent=function(){l.audioManager.playEffect(this.acTouch),this.hideDialog()},e.prototype.hideDialog=function(){this.node.active=!1,this.node.parent=null,this.destroy()},n([y({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"btnClose",void 0),n([y({tooltip:"\u8df3\u8f6c\u6309\u94ae",type:cc.Node})],e.prototype,"btnJump",void 0),n([y({tooltip:"\u56fe\u6807\u6309\u94ae\u7ec4",type:[cc.Node]})],e.prototype,"arrBtnIcon",void 0),n([y({tooltip:"\u6309\u952e\u70b9\u51fb\u97f3\u6548",type:cc.AudioClip})],e.prototype,"acTouch",void 0),n([y({tooltip:"bg\u7cbe\u7075\u7ec4\u4ef6",type:cc.Sprite})],e.prototype,"sprteBg",void 0),n([y({tooltip:"\u63d0\u793a\u6807\u7b7e",type:cc.Label})],e.prototype,"labTip",void 0),e=n([_],e)}(h.default);o.default=m,cc._RF.pop()},{"../../../business/base/BaseWelcomeDialog":"BaseWelcomeDialog","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/constants/PublicConst":"PublicConst","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/DialogManager":"DialogManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/TagManager":"TagManager","../../../core/util/ImageUtil":"ImageUtil"}],NewRecommendDialog:[function(t,e,o){"use strict";cc._RF.push(e,"14f201kEjNC4pay56hlcCCE","NewRecommendDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./MyPageView"),r=t("../../../business/manager/GuideManager"),s=t("../../../core/util/ImageUtil"),c=t("../../../business/manager/JumpManager"),l=t("../../../business/constants/PublicAnalyticsKey"),u=t("../../../business/manager/AudioManager"),d=t("../../../business/manager/TagManager"),p=t("../../../business/constants/GuideId"),h=cc._decorator,f=h.ccclass,g=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnCancel=null,e.btnTry=null,e.nodeFrame=null,e.nodeBg=null,e.pv=null,e.sfDefault=null,e.acTouch=null,e.curBean=null,e.curIndex=0,e.name="NewRecommendDialog",e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=9999,this.refreshView(),this.initListener(),this.nodeFrame.scale=.5,this.nodeFrame.runAction(cc.scaleTo(.2,1))},e.prototype.initListener=function(){var t=this;this.btnCancel.on(cc.Node.EventType.TOUCH_END,function(){u.audioManager.playEffect(t.acTouch),t.hideDialog()}),this.nodeBg.on(cc.Node.EventType.TOUCH_END,function(){u.audioManager.playEffect(t.acTouch),t.hideDialog()}),this.nodeFrame.on(cc.Node.EventType.TOUCH_END,function(){}),this.btnTry.on(cc.Node.EventType.TOUCH_END,function(){u.audioManager.playEffect(t.acTouch),t.curBean&&t.clickItem(t.curBean,t.curIndex+1)})},e.prototype.clickItem=function(t,e){u.audioManager.playEffect(this.acTouch),t&&(r.guideManager.addBeanBlack(p.default.GAME_WELCOME_DIALOG,t),c.jumpManager.navigateToApp(t,l.default.GM_WELCOME_DIALOG,p.default.GAME_WELCOME_DIALOG,e).then(function(){d.tagManager.recordNewRecommend()}).catch(function(){}))},e.prototype.hideDialog=function(){this.node.active=!1,this.node.parent=null,this.destroy()},e.prototype.refreshView=function(){var t=r.guideManager.getDataByWeight(p.default.GAME_WELCOME_DIALOG,1),e=this;if(t){var o={getCount:function(){return t?t.length:0},onPageChange:function(o){var i=t[o];c.jumpManager.buttonShow(i,l.default.GM_WELCOME_DIALOG,o+1),e.curIndex=o,e.curBean=i},drawItem:function(o,i){var n=t[i],a=o.getComponent(cc.Sprite);a.spriteFrame=e.sfDefault,s.default.loadSpriteFrame(n.maxPic).then(function(t){t&&(a.spriteFrame=t)}).catch(function(){})},onItemClick:function(o){var i=t[o];e.clickItem(i,o+1)}};this.pv.setAdapter(o)}else this.node.active=!1},n([g(cc.Node)],e.prototype,"btnCancel",void 0),n([g(cc.Node)],e.prototype,"btnTry",void 0),n([g(cc.Node)],e.prototype,"nodeFrame",void 0),n([g(cc.Node)],e.prototype,"nodeBg",void 0),n([g(a.default)],e.prototype,"pv",void 0),n([g(cc.SpriteFrame)],e.prototype,"sfDefault",void 0),n([g({type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([f],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/TagManager":"TagManager","../../../core/util/ImageUtil":"ImageUtil","./MyPageView":"MyPageView"}],NodeAssetAnalyzer:[function(t,e,o){"use strict";cc._RF.push(e,"22aa1F0eLJLA7aKNpQ1xAa9","NodeAssetAnalyzer"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.visitAsset=function(t,e){for(var o=cc.loader.getDependsRecursively(t),i=0;i<o.length;i++){var n=o[i];n&&e.push(n)}},t.visitComponent=function(e,o){for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var a=e[i[n]];if("object"==typeof a&&a)if(Array.isArray(a))for(var r=0;r<a.length;r++){(c=a[r])instanceof cc.RawAsset&&t.visitAsset(c,o)}else if(a.constructor&&a.constructor!==Object)a instanceof cc.RawAsset&&t.visitAsset(a,o);else{var s=Object.getOwnPropertyNames(a);for(r=0;r<s.length;r++){var c;(c=a[s[r]])instanceof cc.RawAsset&&t.visitAsset(c,o)}}}},t.getNodeDependencies=function(e,o){Array.isArray(o)||(o=[]);for(var i=e._components,n=0;n<i.length;n++)t.visitComponent(i[n],o);for(n=0;n<e.childrenCount;n++)t.getNodeDependencies(e.children[n],o);return o},t}();o.default=i,cc._RF.pop()},{}],NodeUtil:[function(t,e,o){"use strict";cc._RF.push(e,"706deRFzjVH6IUMloTrRxGD","NodeUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./ArrayUtil"),n=function(){function t(){}return t.modifyAnchorTo=function(t,e,o){var n=t.position,a=t.anchorX,r=t.anchorY;t.anchorX=e,t.anchorY=o;var s=(e-a)*t.width*t.scaleX,c=(o-r)*t.height*t.scaleY;t.position=cc.v2(n.x+s,n.y+c);var l=t.children;i.default.isNotNull(l)&&l.forEach(function(t){t.x-=s,t.y-=c})},t.modifyParent=function(t,e,o){void 0===o&&(o=null);var i=t.parent.convertToWorldSpaceAR(t.position),n=e.convertToNodeSpaceAR(i),a=t.parent.scale/e.scale;t.parent=e,t.position=n,t.scale*=a,t.zIndex=o||1},t.changeNodeColor=function(e,o){e.color=o,e.children&&e.children.length>0&&e.children.forEach(function(e){t.changeNodeColor(e,o)})},t.isInNode=function(t,e){var o=t.convertToNodeSpaceAR(e);return!(o.x>t.width*Math.abs(t.scaleX)/2||o.x<-t.width*Math.abs(t.scaleX)/2)&&!(o.y>t.height*Math.abs(t.scaleY)/2||o.y<-t.height*Math.abs(t.scaleY)/2)},t.playFileAnimation=function(t,e,o,i,n){n=n||"Normal";var a=cc.AnimationClip.createWithSpriteFrames(e,1/i);a.name=o,a.wrapMode=cc.WrapMode[n];var r=t.addComponent(cc.Animation);r.addClip(a),r.play(o).duration=e.length*i},t.detectCollision=function(t){var e,o,i,n,a,r,s,c,l=t.node1,u=t.node2,d=t.factorNode1?t.factorNode1:1,p=t.factorNode2?t.factorNode2:1,h=!!t.factorNodeParent1&&t.factorNodeParent1,f=!!t.factorNodeParent2&&t.factorNodeParent2,g=!t.isPointToWorld||t.isPointToWorld;if(e=l.getBoundingBox(),o=u.getBoundingBox(),"number"==typeof d&&1!==d&&(i=cc.v2(e.x,e.y),a=(n=new cc.Size(e.width,e.height)).width,r=n.height,h?(s=i.x,c=i.y):(s=i.x+a*(1-d)*.5,c=i.y+r*(1-d)*.5),e=new cc.Rect(s,c,a*d,r*d)),"number"==typeof p&&1!==p&&(i=cc.v2(o.x,o.y),a=(n=new cc.Size(o.width,o.height)).width,r=n.height,f?(s=i.x,c=i.y):(s=i.x+a*(1-p)*.5,c=i.y+r*(1-p)*.5),o=new cc.Rect(s,c,a*Math.abs(p),r*Math.abs(p))),g){var _=void 0;_=l.parent.convertToWorldSpaceAR(cc.v2(e.x,e.y)),e=new cc.Rect(_.x,_.y,e.width,e.height),_=u.parent.convertToWorldSpaceAR(cc.v2(o.x,o.y)),o=new cc.Rect(_.x,_.y,o.width,o.height)}return e.intersects(o)},t.isInRect=function(t,e){var o=e.x,i=e.x+e.width,n=e.y,a=e.y+e.height;return t.x>=o&&t.x<=i&&t.y>=n&&t.y<=a},t.convertFromLuaPoint=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!1);var i={x:cc.winSize.width/2-480,y:cc.winSize.height/2-270},n=e?0:i.x,a=o?0:i.y;return t.add(cc.v2(-480-n,-270-a))},t.createNode=function(t){var e=new cc.Node("node");if(e.name=t.name?t.name:"node",e.scale=null!=t.scale?t.scale:1,e.scaleX=null!=t.scaleX?t.scaleX:e.scale,e.scaleY=null!=t.scaleY?t.scaleY:e.scale,e.zIndex=null!=t.zIndex?t.zIndex:0,e.anchorX=null!=t.anchorX?t.anchorX:.5,e.anchorY=null!=t.anchorY?t.anchorY:.5,e.angle=null!=t.angle?-t.angle:0,e.opacity=null!=t.opacity?t.opacity:255,t.parent&&(e.parent=t.parent),t.position&&e.setPosition(t.position),t.spriteFrame){var o=e.addComponent(cc.Sprite);o.spriteFrame=t.spriteFrame,o.srcBlendFactor=t.premultiplyAlpha?cc.macro.ONE:cc.macro.SRC_ALPHA,t.sizeMode&&(o.sizeMode=cc.Sprite.SizeMode.RAW,o.trim=!1)}return e},t.createNoTrimNode=function(t,e,o,i){void 0===e&&(e=""),void 0===o&&(o=!1),void 0===i&&(i=!1),e||(e=t.name);var n=new cc.Node(e),a=n.addComponent(cc.Sprite);return a.spriteFrame=t,i||(a.trim=!1,a.sizeMode=cc.Sprite.SizeMode.RAW),o&&(a.srcBlendFactor=cc.macro.BlendFactor.ONE),n},t.quadRadian=function(t,e){var o=t.x-e.x,i=t.y-e.y;return 180*Math.atan2(o,i)/Math.PI+270},t.quadAngle=function(t,e){var o=null,i=t.x-e.x,n=t.y-e.y;for(o=180*Math.atan2(i,n)/Math.PI-90;o<0;)o+=360;return o},t.ccpDistanceOver=function(t,e,o){return Math.abs(t.sub(e).mag())>=o},t.rectIntersectsRect=function(t,e){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},t.checkBoundary=function(t){var e=cc.winSize,o=t.anchorX,i=t.anchorY;t.x<t.width*o?t.x=t.width*o:t.x>e.width-t.width*(1-o)&&(t.x=e.width-t.width*(1-o)),t.y<t.height*i?t.y=t.height*i:t.y>e.height-t.height*(1-i)&&(t.y=e.height-t.height*(1-i))},t.proportion=function(){return cc.view.getFrameSize().width/cc.view.getFrameSize().height<16/9?cc.view.getFrameSize().width/cc.winSize.width:cc.view.getFrameSize().height/cc.winSize.height},t.getPlatformNodeInfo=function(t){var e=this.proportion(),o=t.parent.convertToWorldSpaceAR(t.position),i=cc.v2(o.x,cc.view.getVisibleSize().height-o.y).sub(cc.v2(t.width/2,t.height/2));return{left:Math.floor(i.x*e),top:i.y*e,width:t.width*e,height:t.height*e}},t}();o.default=n,cc._RF.pop()},{"./ArrayUtil":"ArrayUtil"}],OppoBannerHelper:[function(t,e,o){"use strict";cc._RF.push(e,"58349xDVxlDroCRb4YIL0uF","OppoBannerHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../manager/AnalyticsManager"),a=t("../../core/util/PlatformUtil"),r=t("../../core/util/LogUtil"),s=function(){function t(){this.bannerAd=null,this.canClose=!1,this.isShow=!1}return t.prototype.createBanner=function(t){var e=this;if(!a.default.isOppo()||!t||!qg.createBannerAd)return null;var o=qg.createBannerAd({posId:t});return this.bannerAd=o,n.analyticsManager.recordEvent(i.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.bannerAd.onLoad(function(e){n.analyticsManager.recordEvent(i.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570")}),o.onError(function(e){var o=e?e.errCode:"-999";n.analyticsManager.recordEvent(i.default.BANNER,t,o),console.log("OppoBannerHelper onError ",e)}),o.onShow(function(){e.canClose=!0,e.isShow?n.analyticsManager.recordEvent(i.default.BANNER_COUNT,"\u66dd\u5149"):e.hide()}),o},t.prototype.show=function(t){var e=this;return r.default.fLog("oppobannerhelper",t),this.isShow=!0,this.canClose=!1,new Promise(function(o,a){var r=e.createBanner(t);r&&(r.show(),n.analyticsManager.recordEvent(i.default.BANNER_COUNT,"\u66dd\u5149"),setTimeout(function(){e.isShow||e.hide()},1e3),setTimeout(function(){e.isShow||e.hide()},3e3),setTimeout(function(){e.isShow||e.hide()},5e3))})},t.prototype.hide=function(){try{this.isShow=!1;var t=this.bannerAd;if(!t)return;try{t.hide(),t.destroy(),this.bannerAd=null}catch(t){console.log(t)}}catch(t){console.log(t)}},t}();o.default=s,cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],OppoInterstitialHelper:[function(t,e,o){"use strict";cc._RF.push(e,"a90d6Gd7ctMNrq/S12+mlwA","OppoInterstitialHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.interstitialAd=null,this.isLoaded=!1,this.oppoUnitId=null}return t.prototype.init=function(t){},t.prototype.show=function(){},t}();o.default=i,cc._RF.pop()},{}],OppoRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"e4f7d/OzOlCGqbrQf+1Uppa","OppoRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=t("../../../Config/AppConfig"),s=t("../../core/util/NetUtil"),c=t("../../core/util/LogUtil"),l=function(){function t(){this.rewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.rewardUnitId=null,this.hasInitAdService=!1,this.oppoTimer=null}return t.prototype.init=function(t){this.initAdService(r.default.quickgameAppID,t),this.listenerSet()},t.prototype.listenerSet=function(){var t=this;c.default.gameLog("\u6211\u6267\u884c\u4e86oppo\u76d1\u542c\u521d\u59cb\u5316"),n.default.isOppo()&&qg.onShow(function(e){c.default.gameLog("oppo\u5c55\u793a\u56de\u8c03,\u53c2\u6570\u662f",t.rewardAd)})},t.prototype.initAdService=function(t,e){var o=this;n.default.isOppo()&&n.default.isOppo()&&qg.initAdService&&!this.hasInitAdService&&(console.log("oppo init 111"),qg.initAdService({appId:t,isDebug:!1,success:function(t){console.log("oppo init success"),o.hasInitAdService=!0,o.initReward(e)},fail:function(t){console.log("oppo init fail "+t.code+t.msg)}}),this.hasInitAdService=!0)},t.prototype.isValid=function(){return this.isLoaded},t.prototype.initReward=function(t){var e=this;t&&this.hasInitAdService&&(this.rewardUnitId=t,n.default.isOppo()&&qg.createRewardedVideoAd?(this.rewardAd=qg.createRewardedVideoAd({posId:this.rewardUnitId}),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)),this.rewardAd.onVideoStart(function(t){e.oppoTimer&&clearTimeout(e.oppoTimer),e.oppoTimer=setTimeout(function(){e.reject&&(e.reject(),e.resolve=null,e.reject=null),clearTimeout(e.oppoTimer)},1e3),c.default.gameLog("onVideoStart\u7ed3\u679c\u662f",t)}),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()):console.log("opporewardhelper initReward fail no api"))},t.prototype.onLoad=function(){a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),this.errorTimes=0,this.isLoaded=!0},t.prototype.onError=function(t){var e=this;++this.errorTimes,console.log("opporewardhelper onError:",this.errorTimes,t);var o=t?t.errCode:"-999";console.log("opporewardhelper onError 222:",o,t),console.log(t),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)},t.prototype.activeLoad=function(){console.log("activeLoad "),this.getRewardAd()&&(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),console.log("activeLoad2"),this.getRewardAd().load())},t.prototype.show=function(){var t=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),new Promise(function(e,o){t.resolve=e,t.reject=o,s.netUtil.getNetState().then(function(){t.getRewardAd()&&t.isLoaded?(t.isLoaded=!1,t.getRewardAd().show()):o()}).catch(function(){o()})})},t.prototype.getRewardAd=function(){return this.rewardUnitId?(this.rewardAd||this.initReward(this.rewardUnitId),console.log("opporewardhelper rewardAd:",this.rewardAd),this.rewardAd):null},t.prototype.onClose=function(t){this.oppoTimer&&clearTimeout(this.oppoTimer),void 0===t||t&&t.isEnded?(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u5b8c\u6210\u6b21\u6570"),this.resolve&&(console.log("opporewardhelper kanwan 2222"),this.resolve())):(console.log("weikanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\u6b21\u6570"),this.reject&&this.reject()),this.resolve=null,this.reject=null,a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()},t}();o.default=l,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],PBManager:[function(t,e,o){"use strict";cc._RF.push(e,"0b032Zt8+ZGa54IrdZXcDCU","PBManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../report/babybus/network/ajax"),n=t("../../../Config/AppConfig"),a=t("../../report/babybus/network/signature"),r=t("../../report/babybus/network/userAgent"),s=t("../../core/util/PlatformUtil"),c=t("../constants/PublicUrl"),l=t("./NetManager"),u=t("../../core/util/LogUtil"),d=t("./DebugManager"),p=t("../constants/PublicConst"),h=t("../constants/BusinessGlobal"),f="https://activity-api.sim.babybus.com",g="https://activity-api.babybus.com",_=function(){function t(){this.ajax=null}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.getHost=function(){return u.default.managerLog(p.ManagerName.PBManager,"getHost",d.debugManager.debug?f:g),d.debugManager.debug?f:g},t.prototype.getActivityUrl=function(){return this.getHost()+"/program/getConf"},t.prototype.getAjax=function(){if(!this.ajax){var t={ProductID:"3642",VerID:n.default.versionCode,VerCode:n.default.versionName,ProjectID:15},e=new a.default("VR1BtITxk1oNSh4nQUVdlKUgJTg4sQOp","TVYo5XPpl7ckK4MfCmCkCsR88hqilrDG"),o=new r.default(t);this.ajax=new i.default(e,o)}return this.ajax},t.prototype.getAppId=function(){return s.default.isBaiduGame()?n.default.baidugameAppID:s.default.isOppo()?n.default.quickgameAppID:s.default.isTouTiao()?n.default.toutiaoAppID:s.default.isVivo()?n.default.qgameAppID:s.default.isWechatGame()?n.default.wechatgameAppID:null},t.prototype.getChannelID=function(){return s.default.isBaiduGame()?"2":s.default.isOppo()?"5":s.default.isTouTiao()?"3":s.default.isVivo()?"6":s.default.isWechatGame()?"1":"0"},t.prototype.getWhiteList=function(){var t=this;return new Promise(function(e,o){var i=t.getAppId(),n=t.getChannelID();if(i){var a=c.publicUrl.getWhiteList();t.getAjax().post(a,{AppID:i,ChannelID:n}).then(function(t){try{e(t),Object.keys(t).forEach(function(e){u.default.managerLog(p.ManagerName.PBManager,"getWhiteList success",t[e])})}catch(t){try{u.default.errorLog("getWhiteList fail",t),o()}catch(t){u.default.errorLog("getWhiteList fail",t)}}}).catch(function(t){try{u.default.errorLog("getWhiteList fail",t),o()}catch(t){u.default.errorLog("getWhiteList fail",t)}})}else o()})},t.prototype.getAdSwitch=function(){var t=this;return new Promise(function(e,o){var i=t.getAppId(),n=t.getChannelID();u.default.managerLog(p.ManagerName.PBManager,"getAdSwitch appid:"+i),i&&t.getAjax().post(c.publicUrl.getAdSwitch(),{AppID:i,ChannelID:n}).then(function(t){try{e(t),u.default.managerLog(p.ManagerName.PBManager,"getAdSwitch success",t)}catch(t){try{u.default.errorLog("getAdSwitch fail",t),o()}catch(t){u.default.errorLog("getAdSwitch fail",t)}}}).catch(function(t){try{u.default.errorLog("getAdSwitch fail",t),o()}catch(t){u.default.errorLog("getAdSwitch fail",t)}})})},t.prototype.getGameParams=function(){var t=this;return new Promise(function(e,o){var i=t.getAppId(),n={AppID:i,ChannelID:t.getChannelID()};if(i){var a=c.publicUrl.getGameParams(),r=function(t){return 1===t.configType?String(t.configValue):2===t.configType?"1"===t.configValue:3===t.configType?Number(t.configValue):null};t.getAjax().post(a,n).then(function(t){try{u.default.managerLog(p.ManagerName.PBManager,"getGameParams success",t);var i={};return t.forEach(function(t){var e=r(t);i[t.configKey]=e}),void e(i)}catch(t){u.default.errorLog("getGameParams fail",t),o()}}).catch(function(t){try{return u.default.errorLog("getGameParams fail",t),void o()}catch(t){u.default.errorLog("getGameParams fail",t),o()}})}else o()})},t.prototype.getGlobalConfig=function(){var t=this;return new Promise(function(e,o){var i=c.publicUrl.getGlobalConfig(),n=t.getChannelID();t.getAjax().post(i,{ChannelID:n}).then(function(t){try{return console.log(p.ManagerName.PBManager,"getGlobalConfig success",t),h.BusinessGlobal.globalParams=t.globalConfigs,void e(t)}catch(t){u.default.errorLog("getGlobalConfig fail",t),o()}}).catch(function(t){try{return u.default.errorLog("getGlobalConfig fail",t),void o()}catch(t){u.default.errorLog("getGlobalConfig fail",t),o()}})})},t.prototype.getActivityParams=function(){var t=this;return new Promise(function(e,o){var i=t.getActivityUrl(),n=t.getAppId();n?l.netManager.post(i,{appid:n}).then(function(t){1===Number(t.status)?(u.default.managerLog(p.ManagerName.PBManager,"getActivityParams success",t.data),e(t.data)):(u.default.errorLog("getActivityParams fail",t.info),o()),e(null)}).catch(function(t){u.default.errorLog("getActivityParams fail",t),o()}):o()})},t.prototype.getShareList=function(){var t=this;return new Promise(function(e,o){var i=c.publicUrl.getShareList(),n=t.getAppId();n?t.getAjax().post(i,{AppID:n}).then(function(t){try{return u.default.managerLog(p.ManagerName.PBManager,"getShareList success",t),void e(t)}catch(t){u.default.errorLog("getShareList fail",t)}}).catch(function(t){try{return u.default.errorLog("getShareList fail",t),void o()}catch(t){u.default.errorLog("getShareList fail",t),o()}}):o()})},t.INSTANCE=null,t}();o.PBManager=_,o.pbManager=_.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../report/babybus/network/ajax":"ajax","../../report/babybus/network/signature":"signature","../../report/babybus/network/userAgent":"userAgent","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicConst":"PublicConst","../constants/PublicUrl":"PublicUrl","./DebugManager":"DebugManager","./NetManager":"NetManager"}],PlatformUtil:[function(t,e,o){"use strict";cc._RF.push(e,"c7fcb9P0n5Pbadc0UiEtVKJ","PlatformUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../../Config/FrameworkConfig"),a=t("../../business/constants/BusinessGlobal");(function(t){t[t.wx=0]="wx",t[t.baidu=1]="baidu",t[t.tt=2]="tt",t[t.oppo=3]="oppo",t[t.vivo=4]="vivo",t[t.xiaomi=5]="xiaomi",t[t.kugou=6]="kugou",t[t.bbmg=7]="bbmg",t[t.web=8]="web"})(i=o.SimulatePlatform||(o.SimulatePlatform={}));var r=function(){function t(){}return t.isWechatGame=function(){return cc.sys.platform===cc.sys.WECHAT_GAME&&!t.isTouTiao()&&!t.isKwaigame()&&void 0!==window.wx},t.isBaiduGame=function(){return cc.sys.platform===cc.sys.BAIDU_GAME&&void 0!==window.swan},t.isKwaigame=function(){return null!==window.ks&&void 0!==window.ks},t.isAndorid=function(){return cc.sys.os===cc.sys.OS_ANDROID},t.isIos=function(){return cc.sys.os===cc.sys.OS_IOS},t.isBrowser=function(){return cc.sys.isBrowser&&!0},t.isTouTiao=function(){return void 0!==window.tt},t.isOppo=function(){return cc.sys.platform===cc.sys.OPPO_GAME&&void 0!==window.qg},t.isVivo=function(){return cc.sys.platform===cc.sys.VIVO_GAME&&void 0!==window.qg},t.isXiaoMi=function(){return cc.sys.platform===cc.sys.XIAOMI_GAME&&void 0!==window.qg},t.getLanguage=function(){return n.default.i18n},t.uploadFile=function(e){t.isWechatGame()?wx.uploadFile(e):t.isBaiduGame()?swan.uploadFile(e):console.log("uploadFile error:no support platform")},t.saveFile=function(e){t.isWechatGame()?wx.getFileSystemManager().saveFile(e):t.isBaiduGame()?swan.getFileSystemManager().saveFile(e):console.log("saveFile error:no support platform")},t.showFavoriteGuide=function(e){void 0===e&&(e="tip"),t.isBaiduGame()&&swan.showFavoriteGuide&&swan.showFavoriteGuide({type:e,success:function(t){console.log("\u6dfb\u52a0\u6210\u529f\uff1a",t)},fail:function(t){console.log("\u6dfb\u52a0\u5931\u8d25\uff1a",t)}})},t.isWxSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.wx},t.isBaiduSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.baidu},t.isTouTiaoSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.tt},t.isOppoSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.oppo},t.isVivoSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.vivo},t.isXiaomiSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.xiaomi},t.isKuGouSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.kugou},t.isBBMGSimulatePlatform=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.bbmg},t.isWeb=function(){return this.isBrowser()&&a.BusinessGlobal.simulatePlatform===i.web},t.isPure=function(){return this.isBBMGSimulatePlatform()||this.isWeb()},t.setSimulatePlatform=function(t){a.BusinessGlobal.simulatePlatform=t},t}();o.default=r,cc._RF.pop()},{"../../../Config/FrameworkConfig":"FrameworkConfig","../../business/constants/BusinessGlobal":"BusinessGlobal"}],PluginManager:[function(t,e,o){"use strict";cc._RF.push(e,"d9bb88h9F5G4LzMBgAHOTJ+","PluginManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/BusinessGlobal"),n=t("./LoadManager"),a=t("../../core/util/ToastUtil"),r=t("./JudgeManager"),s=t("../../core/util/LogUtil"),c=t("../constants/PublicConst"),l=t("./GuideManager"),u=t("../constants/GuideId"),d=t("../../core/util/PlatformUtil"),p="PluginManager",h=function(){function t(){this.name="pluginManager"}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.loadAddToDeskTip=function(t){if(r.judgeManager.satisfyAddToDeskTipDemand()){var e=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/AddDeskTip/prefab/AddDeskTip",cc.Prefab,function(o,n){if(o||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)s.default.managerLog(c.ManagerName.PluginManager,"\u6dfb\u52a0\u5230\u684c\u9762\u63d0\u793a,\u521b\u5efa\u9884\u5236\u4f53\u5931\u8d25",o);else{var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}},t.prototype.loadNativeAdDialog=function(t,e){return void 0===e&&(e=!1),new Promise(function(o,n){if(r.judgeManager.satisfyNativeAdDialogDemand(e)){var a=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/NativeAdDialog/prefab/NativeAdDIalog",cc.Prefab,function(e,r){if(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==a)return s.default.managerLog(c.ManagerName.PluginManager,"oppo,\u539f\u751f\u5e7f\u544a\u5f39\u7a97,\u521b\u5efa\u9884\u5236\u4f53\u5931\u8d25",e),void n();var l=cc.instantiate(r);l.getComponent("NativeAdDIalog").init(o,n);var u=cc.find("sdkComponentParent");u?u.addChild(l):t.addChild(l)})}else n()})},t.prototype.loadLeftMedia=function(t){if(r.judgeManager.canLoadLeftMedia()){var e=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/LeftMedia/prefab/LeftMedia",cc.Prefab,function(o,n){if(!(o||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}},t.prototype.loadMoreRecommend=function(t,e){var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/MoreRecommend/prefab/MoreRecommend",cc.Prefab,function(n,a){if(!(n||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)){var r=cc.instantiate(a),s=cc.find("sdkComponentParent");s?s.addChild(r):t.addChild(r),r.position=e}})},t.prototype.loadDrawer=function(t,e,o,n){void 0===e&&(e=1),void 0===o&&(o=1),void 0===n&&(n=0);var a=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/Drawer/prefab/drawerV1/DrawerV1",cc.Prefab,function(r,s){if(r||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==a)t(null);else{var c=cc.instantiate(s),l=cc.find("sdkComponentParent");l?l.addChild(c):cc.find("Canvas").addChild(c),i.BusinessGlobal.drawerV1=c.getComponent("DrawerV1"),i.BusinessGlobal.drawerV1.initParams(e,o,n,!1),t&&t(c)}})},t.prototype.loadCustomBanner=function(t){var e=i.BusinessGlobal.curSceneName;return s.default.fLog(p,"loadCustomBanner"),new Promise(function(o,n){r.judgeManager.canLoadCustomBanner()?(s.default.fLog(p,"loadCustomBanner 222"),cc.loader.loadRes("lib/Plugins/Banner/prefab/CustomBanner",cc.Prefab,function(a,r){if(a)return s.default.fLog(p,"CustomBanner \u52a0\u8f7d\u5931\u8d25"),void n();if(i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)return s.default.fLog(p,"CustomBanner \u9700\u8981\u52a0\u8f7d\u7684\u573a\u666f\u5df2\u8fc7"),void o(null);s.default.fLog(p,"loadCustomBanner 333");var c=cc.instantiate(r),h=cc.find("sdkComponentParent");h?h.addChild(c):t.addChild(c);var f=c.getComponent("CustomBanner");if(f&&f.show)if(d.default.isOppo()&&d.default.isVivo())s.default.fLog(p,"loadCustomBanner 444 1"),f.show(null);else{var g=l.guideManager.getDataByWeight(u.default.BANNER,1);s.default.fLog(p,"loadCustomBanner 444 2",g[0]),f.show(g[0])}s.default.fLog(p,"loadCustomBanner 555",f.show),o(null)})):n()})},t.prototype.loadQiqi=function(t){var e=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/Qiqi/prefab/LibQiqi",cc.Prefab,function(o,n){if(!(o||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})},t.prototype.loadMoreGame=function(t,e,o,n){if(void 0===n&&(n=!1),r.judgeManager.satisfyLoadMoreGameDemand(n)){var a=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/Interstitial/prefab/RecommendMore",cc.Prefab,function(n,r){if(!(n||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==a)){var s=cc.instantiate(r),c=cc.find("sdkComponentParent");c?c.addChild(s):t.addChild(s),s.position=e;var l=s.getComponent("RecommendMore");l&&l.setType(o)}})}},t.prototype.loadBackDialogV2=function(t,e){if(void 0===e&&(e=!1),r.judgeManager.satisfyBackDialogV2Demand(e)){var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/NewRecommend/prefab/BackDIalogV2",cc.Prefab,function(e,n){if(!(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}else i.BusinessGlobal.backCB&&i.BusinessGlobal.backCB()},t.prototype.loadMediaDialog=function(t,e){if(void 0===e&&(e=!1),r.judgeManager.satisfyMediaDialogDemand(e)){var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/Dialog/prefab/DialogExtra",cc.Prefab,function(e,n){if(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)t(null);else{var a=cc.instantiate(n);t&&t(a)}})}},t.prototype.loadRightSideBar=function(t,e){if(void 0===e&&(e=!1),r.judgeManager.satisfyRightSideBarDemand(e)){var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/SideBar/prefab/RightSideBar",cc.Prefab,function(e,n){if(!(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}},t.prototype.loadGamePageRecommend=function(t){if(s.default.fLog(p,"loadGamePageRecommend"),r.judgeManager.canLoadGamePageRecommend()){s.default.fLog(p,"loadGamePageRecommend 222"),i.BusinessGlobal.gamePageCanShow=!0;var e=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/GamePage/prefab/GamePageRecommend",cc.Prefab,function(o,n){if(!(o||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}},t.prototype.loadGameIcons=function(t){return s.default.fLog(p,"loadGameIcons"),new Promise(function(e,o){if(r.judgeManager.canLoadGameIcon()){var n=i.BusinessGlobal.curSceneName;i.BusinessGlobal.gameIconsCanShow=!0,cc.loader.loadRes("lib/Plugins/GameIcons/prefab/GameIcons",cc.Prefab,function(a,r){if(a)return s.default.fLog(p,"GameIcons \u52a0\u8f7d\u5931\u8d25"),void o();if(i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==n)return s.default.fLog(p,"GameIcons \u9700\u8981\u52a0\u8f7d\u7684\u573a\u666f\u5df2\u8fc7"),void e(null);var c=cc.instantiate(r);c.getComponent("GameIcons").init(e,o);var l=cc.find("sdkComponentParent");l?l.addChild(c):t.addChild(c)})}else o()})},t.prototype.isBusSceneEffect=function(t){return void 0===t&&(t=!0),r.judgeManager.satisfyBusSceneDemand(t)},t.prototype.loadRecordBtn=function(t,e,o){void 0===o&&(o=!1),cc.loader.loadRes("lib/Plugins/Record/prefab/RecordBtn",cc.Prefab,function(o,i){if(!o){var n=cc.instantiate(i);t.addChild(n),console.log("loadRecordBtn",e.x,e.y),n.position=e}})},t.prototype.loadInterstitialDialog=function(t,e){void 0===e&&(e=!1),r.judgeManager.satisfyInterstitialDialogDemand(e)&&cc.loader.loadRes("lib/Plugins/Interstitial/prefab/InterstitialDialog",cc.Prefab,function(e,o){if(!e){var i=cc.instantiate(o);t.addChild(i)}})},t.prototype.loadShare=function(t,e){void 0===e&&(e=!1);var o=i.BusinessGlobal.curSceneName;r.judgeManager.satisfyShareBtnDemand(e).then(function(){cc.loader.loadRes("lib/Plugins/Share/prefab/ShareBtn",cc.Prefab,function(e,n){if(!(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}).catch(function(){})},t.prototype.loadBusScene=function(t){void 0===t&&(t=!1),n.loadManager.showLoadingWithMask(),cc.director.preloadScene("SdkTrain",null,function(t){t?(n.loadManager.hideLoading(),a.default.toastShort("\u52a0\u8f7d\u5931\u8d25")):(n.loadManager.hideLoading(),cc.director.loadScene("SdkTrain"))})},t.prototype.loadCustomerService=function(t,e){return void 0===e&&(e=!0),new Promise(function(o,a){n.loadManager.showLoadingWithMask();var s=i.BusinessGlobal.curSceneName;r.judgeManager.satisfyCustomerServiceDialogDemand(e).then(function(){cc.loader.loadRes("lib/Plugins/CustomerService/prefab/CustomerServiceDialog",cc.Prefab,function(e,o){if(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==s)a();else{var n=cc.instantiate(o),r=cc.find("sdkComponentParent");r?r.addChild(n):t.addChild(n)}})}).catch(function(){a()})})},t.prototype.loadNewRecommend=function(t,e){return void 0===e&&(e=!0),new Promise(function(o,n){if(r.judgeManager.satisfyNewRecommendDemand(e)){var a=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/NewRecommend/prefab/NewRecommendDialogV2",cc.Prefab,function(e,o){if(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==a)return s.default.errorLog("\u4e0d\u6ee1\u8db3\u52a0\u8f7d\u65b0\u54c1\u63a8\u8350\u5f39\u7a97","\u52a0\u8f7d\u5230\u7b2c\u4e8c\u4e2a\u573a\u666f\u53bb\u4e86"),n(),!1;var r=cc.instantiate(o),c=cc.find("sdkComponentParent");return c?c.addChild(r):t.addChild(r),!0})}else n()})},t.prototype.loadGuessDialog=function(t,e){if(void 0===e&&(e=!1),r.judgeManager.satisfyGuessDialogDemand(e)){var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/NewRecommend/prefab/GuessDialog",cc.Prefab,function(e,n){if(!(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)){var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)}})}else i.BusinessGlobal.backCB&&i.BusinessGlobal.backCB()},t.prototype.loadToast=function(t,e){if(void 0===e&&(e=!1),!r.judgeManager.satisfyToastDemand())return i.BusinessGlobal.webToastAdd=!1,void console.log("loadToast 000");console.log("loadToast 111");var o=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/WebToast/prefab/Toast",cc.Prefab,function(e,n){if(e||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==o)return i.BusinessGlobal.webToastAdd=!1,void console.log("loadToast 222",e);console.log("loadToast 333");var a=cc.instantiate(n),r=cc.find("sdkComponentParent");r?r.addChild(a):t.addChild(a)})},t.prototype.hasEffectMvData=function(t){return void 0===t&&(t=!0),r.judgeManager.satisfyMvDemand(t)},t.prototype.loadPrivacyDialog=function(t){var e=i.BusinessGlobal.curSceneName;cc.loader.loadRes("lib/Plugins/Privacy/prefab/PrivacyDialog",cc.Prefab,function(t,o){if(t||i.BusinessGlobal.lastSceneName&&i.BusinessGlobal.curSceneName!==e)s.default.managerLog(c.ManagerName.PluginManager,"\u521b\u5efa\u9690\u5f39\u7a97\u5931\u8d25",t);else{var n=cc.instantiate(o);cc.find("sdkComponentParent").addChild(n)}})},t.INSTANCE=void 0,t}();o.pluginManager=h.getInstance(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/GuideId":"GuideId","../constants/PublicConst":"PublicConst","./GuideManager":"GuideManager","./JudgeManager":"JudgeManager","./LoadManager":"LoadManager"}],PosUtil:[function(t,e,o){"use strict";cc._RF.push(e,"daa8eK+RlhHZZcCJDUcps2a","PosUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.addPos=function(t,e){return cc.v2(t.x+e.x,t.y+e.y)},t.add=function(t,e,o){return cc.v2(t.x+e,t.y+o)},t}();o.default=i,cc._RF.pop()},{}],PreloadManager:[function(t,e,o){"use strict";cc._RF.push(e,"1427dWB2yROV4nhRVqzoEDP","PreloadManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./NodeAssetAnalyzer"),n=function(){function t(){}return t.onPreloadFinished=function(e,o,i){if(o)return console.error("PLM \u9884\u52a0\u8f7d\u6e38\u620f\u5931\u8d25"),console.error("PLM",o),void(i&&t.release(i));cc.director.getScene().name!==i.scene.name?t.sNextGame&&t.sNextGame.scene===e?t.sNextGame.asset=i:(console.debug("PLM \u9884\u52a0\u8f7d\u5b8c\u6210\u592a\u665a\uff0c\u91ca\u653e\u573a\u666f "+i.scene.name),t.release(i)):console.debug("PLM \u9884\u52a0\u8f7d\u5b8c\u6210\u7684\u662f\u5f53\u524d\u573a\u666f "+i.scene.name+"\uff0c\u65e0\u9700\u5904\u7406")},t.preloadGame=function(e){null!==t.sPreloadTimer&&(clearTimeout(t.sPreloadTimer),t.sPreloadTimer=null),e?(t.sNextGame={scene:e},t.sPreloadTimer=setTimeout(function(){t.sPreloadTimer=null,cc.director.preloadScene(e,void 0,function(o,i){t.onPreloadFinished(e,o,i)})},1e3)):t.sNextGame=null},t.exitGame=function(){t.sNextGame&&(t.sNextGame.asset&&(console.debug("PLM \u91ca\u653e\u5df2\u9884\u52a0\u8f7d\u597d\u7684\u6e38\u620f\u573a\u666f "+t.sNextGame.scene+" "+t.sNextGame.asset),t.release(t.sNextGame.asset)),t.sNextGame=null)},t.release=function(e){for(var o=cc.loader.getDependsRecursively(e),i=cc.director.getScene().dependAssets,n=t.getPersistNodeDependencies(),a=[],r=0;r<o.length;r++){var s=o[r];i.indexOf(s)>=0?console.debug("\u5f53\u524d\u573a\u666f\u4f9d\u8d56\u8d44\u6e90\uff0c\u4e0d\u91ca\u653e "+s):n.indexOf(s)>=0?console.debug("\u5e38\u9a7b\u8282\u70b9\u4f9d\u8d56\u8d44\u6e90\uff0c\u4e0d\u91ca\u653e "+s):a.push(s)}cc.loader.release(a)},t.getPersistNodeDependencies=function(){for(var t=cc.find("Canvas"),e=t.parent.children.filter(function(e){return e!==t&&cc.game.isPersistRootNode(e)}),o=[],n=0;n<e.length;n++){var a=e[n];i.default.getNodeDependencies(a,o)}return o},t.sNextGame=null,t.sPreloadTimer=null,t}();o.default=n,cc._RF.pop()},{"./NodeAssetAnalyzer":"NodeAssetAnalyzer"}],PrivacyDialog:[function(t,e,o){"use strict";cc._RF.push(e,"4cae6plCb1N16/jML2aN6Tp","PrivacyDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/manager/NetManager"),r=t("../../business/manager/PrivacyManager"),s=t("../../core/util/PlatformUtil"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeContent1=null,e.nodeMask=null,e.nodeTouch=null,e.btnAgree1=null,e.btnDisagree1=null,e.btnPrivacy=null,e.nodeContent2=null,e.btnAgree2=null,e.btnDisagree2=null,e.btnConfirm=null,e.labelTitle=null,e.labelContent=null,e.nodeLayout=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=10025,this.initListener(),this.requestData()},e.prototype.start=function(){this.updateContent()},e.prototype.updateContent=function(){this.nodeMask.active=!0,r.privacyManager.hasAgree()?this.showContent(2):this.showContent(1)},e.prototype.initListener=function(){var t=this;this.nodeTouch.on(cc.Node.EventType.TOUCH_END,function(){t.updateContent()}),this.btnAgree1.on(cc.Node.EventType.TOUCH_END,function(){r.privacyManager.recordAgree(),t.closeDialog()}),this.btnAgree1.on(cc.Node.EventType.TOUCH_END,function(){r.privacyManager.recordAgree(),t.closeDialog()}),this.btnAgree2.on(cc.Node.EventType.TOUCH_END,function(){r.privacyManager.recordAgree(),t.closeDialog()}),this.btnConfirm.on(cc.Node.EventType.TOUCH_END,function(){t.closeDialog()}),this.btnDisagree1.on(cc.Node.EventType.TOUCH_END,function(){qg.exitApplication?s.default.isVivo()?qg.exitApplication():qg.exitApplication({data:null,success:null,fail:null,complete:null}):t.hideDialog()}),this.btnDisagree2.on(cc.Node.EventType.TOUCH_END,function(){t.showContent(1)}),this.btnPrivacy.on(cc.Node.EventType.TOUCH_END,function(){t.showContent(2)})},e.prototype.closeDialog=function(){this.node.destroy()},e.prototype.hideDialog=function(){this.nodeMask.active=!1,this.nodeContent1.active=!1,this.nodeContent2.active=!1},e.prototype.showContent=function(t){this.nodeContent1.active=1==t,this.nodeContent2.active=2==t,2==t&&this.changeContent2Btn()},e.prototype.changeContent2Btn=function(){var t=r.privacyManager.hasAgree();this.btnAgree2.active=!t,this.btnDisagree2.active=!t,this.btnConfirm.active=t},e.prototype.rendererContent=function(t){for(var e=this,o="",i=0;i<t.length;i++)o+=t[i];var n=this.createAnyStringLabel(o),a=[],r=function(t){0!=t?s.scheduleOnce(function(){a.push(e.addContentLable(n[t])),t==n.length-1&&e.endDealWholeLength(a)},.3*t):(s.labelContent.string=n[t],s.labelContent.node.active=!0,a.push(s.labelContent.node))},s=this;for(i=0;i<n.length;i++)r(i)},e.prototype.endDealWholeLength=function(t){var e=this;this.scheduleOnce(function(){var o=[],i=0;t.forEach(function(t){t.width>i&&(i=t.width);var n="";t.getComponent(cc.Label).string.split("\n").forEach(function(t){e.getStringBate(t)>e.getStringBate(n)&&(n=t)}),o.push(t.getComponent(cc.Label).string.indexOf(n)+n.length)}),t.forEach(function(t,e){if(t.width<i){for(var n=Math.floor((i-t.width)/11.3),a="",r=0;r<n;r++)a+=" ";var s=t.getComponent(cc.Label).string;s=s.slice(0,o[e])+a+s.slice(o[e]),t.getComponent(cc.Label).string=s}})},.1)},e.prototype.addContentLable=function(t){var e=cc.instantiate(this.labelContent.node);return e.getComponent(cc.Label).string=t,e.parent=this.labelContent.node.parent,e.active=!0,e},e.prototype.createAnyStringLabel=function(t){for(var e=0,o=1,i=[],n="",a=this.getFilter(),r=0;r<t.length;r++){var s=!1;"\n"==t[r]?s=!0:(e+=this.getAddLineCount(a,t[r]),n+=t[r]),(s||e>=1)&&(o+=1,n+="\n",e=0),18!=o||(n=n.substring(0,n.length-1),i.push(n),n="",o=1)}return i.push(n),i},e.prototype.getFilter=function(){return[new RegExp("[\u4e00-\u9fa5]+"),new RegExp("[\u3001|\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]"),new RegExp("`~!@#$^&*()=|':;',\\\\.<>\u300a\u300b/?~\uff01@#\uffe5\u2026\u2026&*\uff08\uff09\u2014\u2014|\u2018\uff1b\uff1a\u201d\u201c'\u3002\uff0c\u3001\uff1f ")]},e.prototype.getAddLineCount=function(t,e){return t[0].test(e)||t[1].test(e)?1/38:t[2].test(e)?1/130:1/76},e.prototype.requestData=function(){var t=this;a.netManager.get2("https://wxgamers.babybus.com/afw/privacy2.txt").then(function(e){t.rendererContent(e)}).catch(function(t){console.log("get url1 error",t)}),a.netManager.get("https://wxgamers.babybus.com/afw/privacy2.json").then(function(e){t.labelTitle.string=e.title,t.labelContent.node.height=e.height}).catch(function(t){console.log("get url2 error",t)})},e.prototype.getStringBate=function(t,e){void 0===e&&(e="utf-8");var o,i,n,a=0;if("utf-16"===(e=e?e.toLowerCase():"")||"utf16"===e)for(i=0,n=t.length;i<n;i++)a+=(o=t.charCodeAt(i))<=65535?2:4;else for(i=0,n=t.length;i<n;i++)a+=(o=t.charCodeAt(i))<=127?1:o<=2047?2:o<=65535?3:4;return a},n([u({tooltip:"\u7b2c\u4e00\u90e8\u5206\u5185\u5bb9\uff08\u63d0\u793a\u5f39\u7a97\uff09",type:cc.Node})],e.prototype,"nodeContent1",void 0),n([u({tooltip:"",type:cc.Node})],e.prototype,"nodeMask",void 0),n([u({tooltip:"",type:cc.Node})],e.prototype,"nodeTouch",void 0),n([u({tooltip:"\u540c\u610f\u6309\u94ae",type:cc.Node})],e.prototype,"btnAgree1",void 0),n([u({tooltip:"\u4e0d\u540c\u610f\u6309\u94ae",type:cc.Node})],e.prototype,"btnDisagree1",void 0),n([u({tooltip:"\u9690\u85cf\u653f\u7b56\u6309\u94ae",type:cc.Node})],e.prototype,"btnPrivacy",void 0),n([u({tooltip:"\u7b2c\u4e8c\u90e8\u5206\u5185\u5bb9\uff08\u9690\u79c1\u653f\u7b56\uff09",type:cc.Node})],e.prototype,"nodeContent2",void 0),n([u({tooltip:"\u540c\u610f\u6309\u94ae2",type:cc.Node})],e.prototype,"btnAgree2",void 0),n([u({tooltip:"\u4e0d\u540c\u610f\u6309\u94ae2",type:cc.Node})],e.prototype,"btnDisagree2",void 0),n([u({tooltip:"\u786e\u8ba4\u6309\u94ae",type:cc.Node})],e.prototype,"btnConfirm",void 0),n([u({tooltip:"\u6807\u9898",type:cc.Label})],e.prototype,"labelTitle",void 0),n([u({tooltip:"\u5185\u5bb9",type:cc.Label})],e.prototype,"labelContent",void 0),n([u({tooltip:"",type:cc.Node})],e.prototype,"nodeLayout",void 0),e=n([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../business/manager/NetManager":"NetManager","../../business/manager/PrivacyManager":"PrivacyManager","../../core/util/PlatformUtil":"PlatformUtil"}],PrivacyManager:[function(t,e,o){"use strict";cc._RF.push(e,"bdb3cz8/i5AKY/HQqSmQBWJ","PrivacyManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/StoreUtil"),n=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.hasAgree=function(){return"1"==i.default.get("FW_PRIVACY","0")},t.prototype.recordAgree=function(){i.default.set("FW_PRIVACY","1")},t.INSTANCE=void 0,t}();o.privacyManager=n.getInstance(),cc._RF.pop()},{"../../core/util/StoreUtil":"StoreUtil"}],PublicAnalyticsKey:[function(t,e,o){"use strict";cc._RF.push(e,"2b1daZM9L1Kgomisiwmmke7","PublicAnalyticsKey"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.ACTIVITY_ICON_SHOW={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8icon-\u66dd\u5149",id:"O695433B8_92C9_AF17_9818_52FD80F85734"},t.ACTIVITY_ICON_HIT={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8icon-\u70b9\u51fb",id:"Z5ACAC4D7_CCB3_6D76_C952_98937DFC30D6"},t.ACTIVITY_ICON_SHOW_JUMP_SERVICE={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8-icon\u5ba2\u670d\u6d88\u606f\u5f39\u7a97\u786e\u8ba4",id:"F5FF1F55D_29F5_CDE5_91FF_B4F03E312A0D"},t.ACTIVITY_ICON_JUMP_ITEM={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8-icon\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\u786e\u8ba4",id:"T8E148238_7C90_E58B_04A5_0CBD4456278E"},t.ACTIVITY_PLANE_SHOW_JUMP_SERVICE={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8\u5c0f\u98de\u673a-\u5ba2\u670d\u6d88\u606f\u5f39\u7a97\u786e\u8ba4",id:"C12845C0D_28DC_4A7B_F269_DB44B6FE874C"},t.ACTIVITY_PLANE_JUMP_ITEM={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8\u5c0f\u98de\u673a-\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\u786e\u8ba4",id:"N03ACF155_37D4_C6A7_AA91_D0D5E1D69E7E"},t.ACTIVITY_WINDOW_SHOW_JUMP_SERVICE={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8banner\u5ba2\u670d\u6d88\u606f\u5f39\u7a97-\u786e\u8ba4",id:"S764944B1_EF8F_BF28_5CC9_763C12470EE6"},t.ACTIVITY_WINDOW_JUMP_ITEM={name:"\u516c\u5171\u8ba1\u6570-\u6d3b\u52a8banner-\u5c0f\u7a0b\u5e8f\u8df3\u8f6c\u786e\u8ba4",id:"Z25141390_EE4B_B782_56D9_7442B23446DF"},t.ACTIVITY_WINDOW_SHOW={name:"\u5176\u4ed6\u2014\u6d3b\u52a8\u5f39\u7a97\u2014\u66dd\u5149",id:"951d6093-061f-42d8-b925-fa1d4c990015"},t.ACTIVITY_WINDOW_CLICK={name:"\u5176\u4ed6\u2014\u6d3b\u52a8\u5f39\u7a97\u2014\u70b9\u51fb",id:"380a328a-9991-4da4-a1d9-61936466822a"},t.BUS_BANNER_CLICK={name:"\u5176\u4ed6\u2014\u5df4\u58eb\u8f66\u6a2a\u5e45\u2014\u70b9\u51fb",id:"72a1a9cb-2b9c-4b7e-a8e3-dae044007afc"},t.BUS_BANNER_SHOW={name:"\u5176\u4ed6\u2014\u5df4\u58eb\u8f66\u6a2a\u5e45\u2014\u66dd\u5149",id:"e7175bf4-4a16-451f-ba62-071261cf6341"},t.ADD_TO_DEST_SHOW={name:"\u5176\u4ed6\u2014\u6dfb\u52a0\u81f3\u684c\u9762\u2014\u66dd\u5149",id:"L1E9E28C2_4853_1EAF_03A5_1762695A0433"},t.AUTHORIZATION_LOGIC_IN_NOT_ALLOW={name:"\u5176\u4ed6\u2014\u6388\u6743\u767b\u5f55\u2014\u53d6\u6d88",id:"J9206E263_0FA7_7F33_5952_F1DA18E47959"},t.AUTHORIZATION_LOGIC_IN_ALLOW={name:"\u5176\u4ed6\u2014\u6388\u6743\u767b\u5f55\u2014\u5141\u8bb8",id:"BDE770943_575D_C193_AAD4_83551D468035"},t.GAME_ICON_HIT={name:"\u5176\u4ed6\u2014\u63a8\u8350\u7ec4\u4ef6\u2014\u70b9\u51fb",id:"S6733E953_6F10_DC48_3170_F91B25AFCD3F"},t.LOAD_RESOURCE={name:"\u516c\u5171\u8ba1\u6570-\u8d44\u6e90\u52a0\u8f7d",id:"52e77d75-094e-4d67-ba76-ab3dc565fc8b"},t.LOAD_RESOURCE_SUCCESS={name:"\u516c\u5171\u8ba1\u65f6-\u8d44\u6e90\u52a0\u8f7d\u6210\u529f",id:"7a07f7d5-8c76-46a0-9302-d32b1879c361"},t.LOAD_RESOURCE_FAIL={name:"\u516c\u5171\u8ba1\u6570-\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25",id:"fc2085ec-cf80-4271-a14d-36557d30a865"},t.GAME_MODULAR={name:"\u516c\u5171\u8ba1\u6570-\u6e38\u620f\u6a21\u5757",id:"bef9bfb6-57c8-42e6-95f5-fc9bc8607814"},t.SCENCE_EXIT={name:"\u516c\u5171\u8ba1\u65f6-\u573a\u666f\u9000\u51fa",id:"83ac2f8f-6d48-40db-9279-c57a0a1b0990"},t.SCENCE_COMPLETE={name:"\u516c\u5171\u8ba1\u65f6-\u573a\u666f\u5b8c\u6210",id:"371aad1b-aa18-4c51-a17a-bbaf2323e381"},t.REWARD_BUTTON={name:"\u516c\u5171\u8ba1\u6570-\u6fc0\u52b1\u89c6\u9891\u66dd\u5149\u70b9\u51fb",id:"0586d84d-c6da-44fd-8fe3-aae0755d8617"},t.SHARE_BUTTON={name:"\u516c\u5171\u8ba1\u6570-\u5206\u4eab\u66dd\u5149\u70b9\u51fb",id:"b196c20d-f7bb-428e-854c-8c5f7034cf87"},t.SHARE={name:"\u516c\u5171\u8ba1\u6570-\u5206\u4eab\u70b9\u51fb\u5bfc\u91cf",id:"0e342f7d-3536-4324-b183-9754f49efefd"},t.BANNER={name:"\u516c\u5171\u8ba1\u6570-Banner\u5e7f\u544a\u6a21\u5757",id:"21bb0492-9f77-4793-89d9-ee45424d3d17"},t.INTERSTITIAL={name:"\u516c\u5171\u8ba1\u6570-\u63d2\u5c4f\u5e7f\u544a\u5e7f\u544a\u6a21\u5757",id:"abcd"},t.REQUEST_SWITCH={name:"\u516c\u5171\u8ba1\u6570-\u8bf7\u6c42\u5e7f\u544a\u5f00\u5173",id:"rswitch"},t.REWARD={name:"\u516c\u5171\u8ba1\u6570-\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6a21\u5757",id:"4e6533e4-2a16-4e2b-bad8-3bf23ffb8285"},t.RECOMMEND_BTN_SHOW={name:"\u516c\u5171\u8ba1\u6570-\u4e92\u63a8\u4e5d\u5bab\u683c-\u5165\u53e3\u66dd\u5149",id:"V70C62B7F_65D3_DD85_D746_C4A5E59B704E"},t.RECOMMEND_BTN_CLICK={name:"\u516c\u5171\u8ba1\u6570-\u4e92\u63a8\u4e5d\u5bab\u683c-\u5165\u53e3\u70b9\u51fb",id:"AC96D39C1_C481_8DF7_E7A4_E4B6482E85F1"},t.RECOMMEND_DIALOG={name:"\u516c\u5171\u8ba1\u6570-\u4e92\u63a8\u4e5d\u5bab\u683c\u6a21\u5757",id:"S56230C48_4A39_ED7A_6CA0_EEBB3EE19697"},t.RECOMMEND_BANNER={name:"\u516c\u5171\u7edf\u8ba1-\u4e92\u63a8\u6a2a\u5e45\u6a21\u5757",id:"A59E5EA48_2D06_7863_C098_EFC98BFB30CE"},t.VERSION_UPDATE={name:"\u516c\u5171\u8ba1\u6570-\u7248\u672c\u5f3a\u5236\u66f4\u65b0",id:"7BAA06B6-F2C7-8791-9567-E41FD199B765"},t.MEDIA_MV={name:"\u516c\u5171\u8ba1\u6570-\u81ea\u5a92\u4f53-MV\u5165\u53e3",id:"3AEEEDCC-4F86-B69E-DC05-A9A81C036F3E"},t.FW_WARN={name:"\u6846\u67b6\u8ba1\u6570-\u5185\u5b58\u544a\u8b66",id:"123"},t.FW_LEFT_MEDIA_REQUEST={name:"\u6846\u67b6\u8ba1\u6570-\u5de6\u4e0b\u89d2\u8bf7\u6c42\u72b6\u6001\u7edf\u8ba1",id:"456"},t.FW_GUIDE_REQUEST={name:"\u6846\u67b6\u8ba1\u6570-\u63a8\u8350\u4f4d\u8bf7\u6c42\u72b6\u6001\u7edf\u8ba1",id:"456"},t.CATCH_ERROR={name:"\u6846\u67b6\u8ba1\u6570-\u81ea\u5b9a\u4e49\u9519\u8bef",id:"5ADA7473-24D0-3AB0-B289-4541BB7CFF6E"},t.JUMP_BACK={name:"\u516c\u5171\u8ba1\u6570-\u5bfc\u91cf\u65e0\u6548\u56de\u6d41\u6570\u636e\u7edf\u8ba1",id:"46CE0001-FD41-2300-1577-1CE00EEB5110"},t.JUMP_BACK_10={name:"\u516c\u5171\u8ba1\u6570-\u5bfc\u91cf\u6709\u6548\u56de\u6d41\u6570\u636e\u7edf\u8ba1",id:"FC325F41-A66B-870A-0F7B-E86FB477A158"},t.SDK_JUMP={name:"SDK-JUMP_NULL",id:"66"},t.ANTI_ADDICTION={name:"SDK-ANTI_ADDICTION",id:"36886C12-3847-E6F8-A4DF-FC0378DA5303"},t.BANNER_COUNT={name:"\u516c\u5171\u8ba1\u6570-banner\u5e7f\u544a\u66dd\u5149\u70b9\u51fb",id:"XEDA96C30_4726_B503_A99A_A19BC6D0533F"},t.NATIVE_AD_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u539f\u751f\u5e7f\u544a\u66dd\u5149\u70b9\u51fb",id:"P9E52D2C1_B984_B4A1_F701_D6C7DDC754CA"},t.NATIVE_AD_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u539f\u751f\u5e7f\u544a\u6a21\u5757",id:"X6A72A1A9_1D01_5210_BF0D_C4612331C254"},t.RECOMMEND_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u63a8\u8350\u7ec4\u4ef6\u66dd\u5149\u70b9\u51fb",id:"M8BDB3622_BB06_8E7F_3DE4_1093A49A0477"},t.RECOMMEND_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u63a8\u8350\u7ec4\u4ef6\u6a21\u5757",id:"WEFE22E92_9BD0_9DA1_2022_BA5E24EE49DD"},t.INTERSTITIAL_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u63d2\u5c4f\u5e7f\u544a\u66dd\u5149\u70b9\u51fb",id:"W51CF944B_DD6F_BD4D_3D1B_609291E31296"},t.INTERSTITIAL_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u63d2\u5c4f\u5e7f\u544a\u6a21\u5757",id:"J874A9F34_E838_61E0_7786_93B64637C265"},t.OPPO_SLICED_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u4e5d\u5bab\u683c\u66dd\u5149\u70b9\u51fb",id:"EFB2C5175_7709_138F_A836_31BDB0DE3CD1"},t.OPPO_SLICED_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u4e5d\u5bab\u683c\u6a21\u5757",id:"S56230C48_4A39_ED7A_6CA0_EEBB3EE19697"},t.VIVO_BOX_AD_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u76d2\u5b50\u5e7f\u544a\u66dd\u5149\u70b9\u51fb",id:"KAA08A8F6_C123_A313_DFBE_A8B12F63C688"},t.VIVO_BOX_AD_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u76d2\u5b50\u5e7f\u544a\u6a21\u5757",id:"BCA1E29E0_965D_DAD7_B534_F500FE8D6895"},t.TT_GAME_CENTER_COUNT={name:"\u516c\u5171\u8ba1\u6570-\u5c0f\u6e38\u620f\u4e2d\u5fc3\u66dd\u5149\u70b9\u51fb",id:"NBCF4258C_A9B0_BAF0_07E1_FC9E660C6D4C"},t.TT_GAME_CENTER_MODULE={name:"\u516c\u5171\u8ba1\u6570-\u5c0f\u6e38\u620f\u4e2d\u5fc3\u6a21\u5757",id:"RB86A8C91_5FD4_5FDB_9855_AB14183A0287"},t.MEDIA_ENTRANCE_SHOW={name:"\u81ea\u5a92\u4f53\u2014UI\u70b9\u51fb\u7387\u2014\u66dd\u5149",id:"59D9FD87-B39A-C525-88FD-A3BEC18EE0C7"},t.MEDIA_ENTRANCE_CLICK={name:"\u81ea\u5a92\u4f53\u2014UI\u70b9\u51fb\u7387\u2014\u70b9\u51fb",id:"B8824D7A-2D81-5F2F-2F33-3B0F3B3E00FA"},t.MEDIA_BANNER_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u9876\u90e8banner\u2014\u66dd\u5149",id:"B0B5CAF7-B581-9F06-EE2D-945515C99696"},t.MEDIA_BANNER_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u9876\u90e8banner\u2014\u70b9\u51fb",id:"34CCD553-2F1C-A2B1-CACB-4FC45B115721"},t.MEDIA_BANNER_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u9876\u90e8banner\u2014\u4fc3\u6d3b",id:"F427B0C6-1DD0-E3C6-9359-A6209A0E86BB"},t.MEDIA_WELCOME_LB_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u5de6\u4e0b\u89d2\u2014\u66dd\u5149",id:"BA1E4CCF-3877-8F3B-396F-6E04019A8997"},t.MEDIA_WELCOME_LB_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u5de6\u4e0b\u89d2\u2014\u70b9\u51fb",id:"4D83C142-23BE-97BC-FEF9-DAB191817B11"},t.MEDIA_WELCOME_LB_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u5de6\u4e0b\u89d2\u2014\u4fc3\u6d3b",id:"52A2CA24-E144-31E8-1166-7DD71C32E07E"},t.MEDIA_WELCOME_DRAWER_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u66dd\u5149",id:"EAA0DC478_C527_C955_0294_7C9140E6A2A6"},t.MEDIA_WELCOME_DRAWER_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u70b9\u51fb",id:"UE3E81AD8_72DC_CEC8_FAFC_EF39D987D7AA"},t.MEDIA_WELCOME_DRAWER_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u4fc3\u6d3b",id:"BBA30199F_8435_6323_37C1_1C600913EED3"},t.MEDIA_BUS_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u2014\u66dd\u5149",id:"191BDDAD-F65F-E4DC-8B3A-1253C91408CA"},t.MEDIA_BUS_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u2014\u70b9\u51fb",id:"D848A232-A3E2-D9A1-0370-25ECA3924D74"},t.MEDIA_BUS_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u2014\u4fc3\u6d3b",id:"AA2AC21C-6E30-EB41-6537-C50320E941FE"},t.MEDIA_BUS_COL_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u6c47\u603b\u9875\u2014\u66dd\u5149",id:"F25EFC20-CEDF-1DAD-7DCE-6FD85C2934EF"},t.MEDIA_BUS_COL_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u6c47\u603b\u9875\u2014\u70b9\u51fb",id:"F33FED43-122D-68E2-DE15-412E8A96CDAA"},t.MEDIA_BUS_COL_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u6c47\u603b\u9875\u2014\u4fc3\u6d3b",id:"67AFABBA-248D-6CB8-65A1-341A02F94684"},t.MEDIA_MORE_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u66f4\u591a\u597d\u73a9\u2014\u66dd\u5149",id:"CAD3B3C7-18E1-A871-CFDC-A45380AF2953"},t.MEDIA_MORE_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u66f4\u591a\u597d\u73a9\u2014\u70b9\u51fb",id:"8FD4F59C-8D8E-6CCA-F20D-41EF33F7FFB3"},t.MEDIA_MORE_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u66f4\u591a\u597d\u73a9\u2014\u4fc3\u6d3b",id:"F24EC8E6-36FD-26E8-0AD9-36B23DC5DF22"},t.MEDIA_DIALOG_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u5f39\u7a97\u4fa7\u8fb9\u680f\u2014\u66dd\u5149",id:"606CA574-49ED-132F-895F-FE172577AB9F"},t.MEDIA_DIALOG_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u5f39\u7a97\u4fa7\u8fb9\u680f\u2014\u70b9\u51fb",id:"8F8565DA-29E4-6C5E-0743-9AB4700B2983"},t.MEDIA_DIALOG_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u5f39\u7a97\u4fa7\u8fb9\u680f\u2014\u4fc3\u6d3b",id:"493B8D05-828D-9F24-FC67-DCA4AF254EBB"},t.MEDIA_RIGHT_SB_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u53f3\u4fa7\u8fb9\u680f\u2014\u66dd\u5149",id:"H9CFF3B5D_A917_2B71_0A2D_0FF0A1ACA565"},t.MEDIA_RIGHT_SB_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u53f3\u4fa7\u8fb9\u680f\u2014\u70b9\u51fb",id:"U7AF2C509_B89B_B75E_3A7E_A3B661251915"},t.MEDIA_RIGHT_SB_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u53f3\u4fa7\u8fb9\u680f\u2014\u4fc3\u6d3b",id:"L47F2FFE5_236E_743E_E5BC_69A9A4707CF4"},t.MEDIA_BACK_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u8fd4\u56de\u6309\u94ae\u2014\u66dd\u5149",id:"U87C6C8E2_417B_BA2D_A0FF_1FA77DC3D15D"},t.MEDIA_BACK_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u8fd4\u56de\u6309\u94ae\u2014\u70b9\u51fb",id:"M7C28918F_A3C9_5A08_36F4_51F3A94F453E"},t.MEDIA_BACK_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u6e38\u620f\u8fd4\u56de\u6309\u94ae\u2014\u4fc3\u6d3b",id:"MA0B884AC_5A9A_4CD7_9F38_0248475AAD15"},t.MEDIA_WELCOME_DIALOG_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u6b22\u8fce\u9875\u9762\u5f39\u7a97\u2014\u66dd\u5149",id:"ZF12799ED_63FF_C2B0_A24B_E4BEE73018F6"},t.MEDIA_WELCOME_DIALOG_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u6b22\u8fce\u9875\u9762\u5f39\u7a97\u2014\u70b9\u51fb",id:"Q05E2C122_BF65_1E7A_558D_4BCE2E029635"},t.MEDIA_WELCOME_DIALOG_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u6b22\u8fce\u9875\u9762\u5f39\u7a97\u2014\u4fc3\u6d3b",id:"R1665F234_F0E6_D432_69DB_7AB494B3416F"},t.MEDIA_TOTAL={name:"\u516c\u5171\u8ba1\u6570-\u767d\u540d\u5355\u6e38\u620f-\u4fc3\u6d3b\u7387",id:"7de79d36-0dcb-4472-a5ba-1c0d177c41ef"},t.MEDIA_MV_SHOW={name:"\u81ea\u5a92\u4f53\u2014MV\u6309\u94ae\u2014\u66dd\u5149",id:"BC7175E90_D1D5_4C3D_565C_7109A1FDEC75"},t.MEDIA_MV_CLICK={name:"\u81ea\u5a92\u4f53\u2014MV\u6309\u94ae\u2014\u70b9\u51fb",id:"T1B4815FD_D471_11B2_09F1_20CE2969E2AF"},t.MEDIA_MV_JUMP={name:"\u81ea\u5a92\u4f53\u2014MV\u6309\u94ae\u2014\u4fc3\u6d3b",id:"YF473C352_DB4B_C2F5_C4F4_E15FDC16AD3F"},t.MEDIA_TOP_CION_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u5c0f\u6e38\u620f\u9876\u90e8\u56fe\u6807\u2014\u4fc3\u6d3b",id:"K927443E5_83C5_056C_ED05_8CF421201953"},t.MEDIA_TOP_CION_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u5c0f\u6e38\u620f\u9876\u90e8\u56fe\u6807\u2014\u70b9\u51fb",id:"U1D219C79_265D_086B_14D3_9B8CD30357F4"},t.MEDIA_TOP_CION_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u5c0f\u6e38\u620f\u9876\u90e8\u56fe\u6807\u2014\u66dd\u5149",id:"T4766F331_797B_74A8_FC73_29AD6B99A150"},t.MEDIA_OPPO_DRAWER_SHOW={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u66dd\u5149",id:"V9B6C81E7_B864_DD22_DB41_92442B8E7599"},t.MEDIA_OPPO_DRAWER_CLICK={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u70b9\u51fb",id:"NA7B4E3D1_B983_538C_9F55_CDDBEF57F3EA"},t.MEDIA_OPPO_DRAWER_JUMP={name:"\u81ea\u5a92\u4f53\u2014\u62bd\u5c49\u2014\u4fc3\u6d3b",id:"P8CEE302C_9125_552C_B9DB_CEECB945F270"},t.QIQI_SHOW={name:"\u5176\u4ed6\u2014\u5947\u5947\u5f62\u8c61\u2014\u66dd\u5149",id:"fe60fc6c-b569-4c4f-bf14-25965ab228b6"},t.QIQI_CLICK={name:"\u5176\u4ed6\u2014\u5947\u5947\u5f62\u8c61\u2014\u70b9\u51fb",id:"97e7e806-e5f3-4090-9d76-5e5bd5a3e4b2"},t.GM_BANNER={show:t.MEDIA_BANNER_SHOW,click:t.MEDIA_BANNER_CLICK,jump:t.MEDIA_BANNER_JUMP},t.GM_LB={show:t.MEDIA_WELCOME_LB_SHOW,click:t.MEDIA_WELCOME_LB_CLICK,jump:t.MEDIA_WELCOME_LB_JUMP},t.GM_DRAWER={show:t.MEDIA_WELCOME_DRAWER_SHOW,click:t.MEDIA_WELCOME_DRAWER_CLICK,jump:t.MEDIA_WELCOME_DRAWER_JUMP},t.QIQI_RECOMEND={show:{name:"\u81ea\u5a92\u4f53\u2014\u5947\u5947\u63a8\u8350\u2014\u66dd\u5149",id:"5c4a32fb-62c1-4e8d-9869-306c54c3d049"},click:{name:"\u81ea\u5a92\u4f53\u2014\u5947\u5947\u63a8\u8350\u2014\u70b9\u51fb",id:"205bb649-0740-4ccf-9708-fbe6c2ff0238"},jump:{name:"\u81ea\u5a92\u4f53\u2014\u5947\u5947\u63a8\u8350\u2014\u4fc3\u6d3b",id:"824c02ca-0cf3-4df0-a160-f15ae7df5021"}},t.GM_BUS={show:t.MEDIA_BUS_SHOW,click:t.MEDIA_BUS_CLICK,jump:t.MEDIA_BUS_JUMP},t.GM_BUS_COL={show:t.MEDIA_BUS_COL_SHOW,click:t.MEDIA_BUS_COL_CLICK,jump:t.MEDIA_BUS_COL_JUMP},t.GM_MORE={show:t.MEDIA_MORE_SHOW,click:t.MEDIA_MORE_CLICK,jump:t.MEDIA_MORE_JUMP},t.GM_DIALOG={show:t.MEDIA_DIALOG_SHOW,click:t.MEDIA_DIALOG_CLICK,jump:t.MEDIA_DIALOG_JUMP},t.GM_RIGHT_SB={show:t.MEDIA_RIGHT_SB_SHOW,click:t.MEDIA_RIGHT_SB_CLICK,jump:t.MEDIA_RIGHT_SB_JUMP},t.GM_MV={show:t.MEDIA_MV_SHOW,click:t.MEDIA_MV_CLICK,jump:t.MEDIA_MV_JUMP},t.GM_BACK={show:t.MEDIA_BACK_SHOW,click:t.MEDIA_BACK_CLICK,jump:t.MEDIA_BACK_JUMP},t.GM_WELCOME_DIALOG={show:t.MEDIA_WELCOME_DIALOG_SHOW,click:t.MEDIA_WELCOME_DIALOG_CLICK,jump:t.MEDIA_WELCOME_DIALOG_JUMP},t.MEDIA_BUS_PLANE={name:"\u81ea\u5a92\u4f53\u2014\u5df4\u58eb\u8f66\u98de\u673a",id:"B111"},t.GM_TOP_ICON={show:t.MEDIA_TOP_CION_SHOW,click:t.MEDIA_TOP_CION_CLICK,jump:t.MEDIA_TOP_CION_JUMP},t.GM_OPPO_DRAWER={show:t.MEDIA_OPPO_DRAWER_SHOW,click:t.MEDIA_OPPO_DRAWER_CLICK,jump:t.MEDIA_OPPO_DRAWER_JUMP},t}();o.default=i,cc._RF.pop()},{}],PublicConst:[function(t,e,o){"use strict";cc._RF.push(e,"a0b24/mL5FFd7D14Gh1SIQj","PublicConst"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.newRecommend=0]="newRecommend",t[t.customerService=1]="customerService"}(o.WelcomeDialogNumber||(o.WelcomeDialogNumber={})),o.ManagerName={ActivityManager:"activityManager",AnalyticsManager:"analyticsManager",AudioManager:"audioManager",BannerManager:"bannerManager",DebugManager:"debugManager",DialogManager:"dialogManager",GuideManager:"guideManager",InterstitialManager:"interstitialManager",JudgeManager:"judgeManager",JumpManager:"jumpManager",LoadManager:"loadManager",LoginManager:"loginManager",MediaManager:"mediaManager",NativeAdManager:"nativeAdManager",NetManager:"netManager",PBManager:"pbManager",PluginManager:"pluginManager",RecommendManager:"recommendManager",RewardManager:"rewardManager",ShareManager:"shareManager",SwitchManager:"switchManager",TagManager:"tagManager",VersionManager:"versionManager",VideoRecorderManager:"videoRecorderManager"},cc._RF.pop()},{}],PublicEventName:[function(t,e,o){"use strict";cc._RF.push(e,"6e7d2vbFMNORLcb2AzMGT/h","PublicEventName"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.STOP_INTERSTITIAL="STOP_INTERSTITIAL",t.OPEN_INTERSTITIAL="OPEN_INTERSTITIAL",t.SDK_DIALOG_SHOW="SDK_DIALOG_HIDE",t.SDK_DIALOG_HIDE="SDK_DIALOG_SHOW",t.WELCOME_DIALOG_ALL_CLOSE="WELCOME_DIALOG_ALL_CLOSE",t.SET_SIGN_PARAMS="SET_SIGN_PARAMS",t}();o.default=i,cc._RF.pop()},{}],PublicStoreKey:[function(t,e,o){"use strict";cc._RF.push(e,"281f2VY3G5McqF2wIuJRaRI","PublicStoreKey"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.LEFT_MEDIA="FW_SK_1",t.GUIDE="FW_SK_2",t.LAST_JUMP_TIME="FW_SK_3",t.LAST_JUMP_APP_NAME="FW_SK_4",t.MORE_GAME_NO_SHOW_TIME="FW_SK_5",t.MORE_GAME_SHOW_PRE="FW_SK_6_",t.MORE_GAME_RECORD_DAY="FW_SK_7",t.MORE_GAME_RECORD_CLICK="FW_SK_8",t.DIALOG_V_SHOW_PRE="FW_SK_9_",t.DIALOG_H_SHOW_PRE="FW_SK_10_",t.RIGHT_SIDEBAR="FW_SK_11_",t.LEFT_SIDEBAR="FW_SK_12_",t.GAME_PAGE_RECOMMEND="FW_SK_13_",t.GAME_NEW_RECOMMEND="FW_SK_15",t.BLACK_LIST_DATA="FW_SK_16_2",t.BLACK_LIST_DAY="FW_SK_16_1",t.MORE_DATA="FW_SK_16_3",t.DAY_FIRST_SHOW="FW_SK_17",t.FIRST_SHOW="FW_SK_18",t.CAN_SHOW_MV="FW_SK_19",t}();o.default=i,cc._RF.pop()},{}],PublicUrl:[function(t,e,o){"use strict";cc._RF.push(e,"31d50IvrUpGqpA4wrR62JJd","PublicUrl"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/StoreUtil"),n=t("../../debug/plugins/codeLock/LibDebug"),a=t("../manager/DebugManager"),r=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.getHost=function(){return a.debugManager.debug?t.TEST_HOST:t.HOST},t.prototype.getWhiteList=function(){return this.getHost()+"Flow/Index/GetWeightFlowList"},t.prototype.getAdSwitch=function(){return this.getHost()+"AD/Switch/GetSwitchInfo"},t.prototype.getUnionId=function(){return"https://activity.beta.baby-bus.com/applet/getUnionId"},t.prototype.getGameParams=function(){return this.getHost()+"Record/VersionParams/GetConfigParamsList"},t.prototype.getGlobalConfig=function(){return this.getHost()+"MiniProgram/Global/GetConfig"},t.prototype.getShareList=function(){return this.getHost()+"Record/Share/GetList"},t.prototype.getGlobalHost=function(){return"1"===i.default.get(n.default.debugStroyString,"0")?t.TEST_GLOBAL_HOST:t.GLOBAL_HOST},t.prototype.getAuthorize=function(){return this.getGlobalHost()+"integration/authorize"},t.prototype.getSaveGameData=function(){return this.getGlobalHost()+"integration/saveGameData"},t.prototype.getGameData=function(){return this.getGlobalHost()+"integration/getGameData"},t.HOST="https://spg.babybus.com/",t.TEST_HOST="https://spg.Development.platform.babybus.com/",t.LOOK_HOST="https://spg.Staging.platform.babybus.com",t.INSTANCE=null,t.GLOBAL_HOST="https://activity-api.babybus.com/",t.TEST_GLOBAL_HOST="https://activity.beta.baby-bus.com/",t}();o.PublicUrl=r,o.publicUrl=r.getInstance(),cc._RF.pop()},{"../../core/util/StoreUtil":"StoreUtil","../../debug/plugins/codeLock/LibDebug":"LibDebug","../manager/DebugManager":"DebugManager"}],PublickStoreKey:[function(t,e,o){"use strict";cc._RF.push(e,"6276dKvhLJKLIFSRxy1bVT3","PublickStoreKey"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.LEFT_MEDIA="FW_SK_1",t.GUIDE="FW_SK_2",t.LAST_JUMP_TIME="FW_SK_3",t.LAST_JUMP_APP_NAME="FW_SK_4",t.MORE_GAME_NO_SHOW_TIME="FW_SK_5",t.MORE_GAME_SHOW_PRE="FW_SK_6_",t.MORE_GAME_RECORD_DAY="FW_SK_7",t.MORE_GAME_RECORD_CLICK="FW_SK_8",t.DIALOG_V_SHOW_PRE="FW_SK_9_",t.DIALOG_H_SHOW_PRE="FW_SK_10_",t.RIGHT_SIDEBAR="FW_SK_11_",t.LEFT_SIDEBAR="FW_SK_12_",t.GAME_PAGE_RECOMMEND="FW_SK_13_",t.GAME_NEW_RECOMMEND="FW_SK_15",t.BLACK_LIST_DATA="FW_SK_16_2",t.BLACK_LIST_DAY="FW_SK_16_1",t.MORE_DATA="FW_SK_16_3",t.DAY_FIRST_SHOW="FW_SK_17",t.FIRST_SHOW="FW_SK_18",t.NET_TOKEN="FW_NET_1",t.NET_STORE_CHANGE_KEYS="FW_NET_2",t.NET_STORE_CHANGE_KEYS_TEMP="FW_NET_3",t.NET_HAS_LOCAL_DATA="FW_NET_4",t.NET_STORE_PRE="FWNS_",t.AD_PRE="FW_AD_",t}();o.default=i,cc._RF.pop()},{}],QiqiGiftDialog:[function(t,e,o){"use strict";cc._RF.push(e,"790e5D8nlVI8p+SrcbQMRQE","QiqiGiftDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/base/BBDialog"),r=t("../../business/constants/GuideId"),s=t("../../business/constants/PublicAnalyticsKey"),c=t("../../business/manager/AudioManager"),l=t("../../business/manager/GuideManager"),u=t("../../business/manager/JumpManager"),d=t("../../core/util/DateUtil"),p=t("../../core/util/DeviceUtil"),h=t("../../core/util/ImageUtil"),f=cc._decorator,g=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteIcon=null,e.nodeBox=null,e.animCaidai=null,e.nodeBoxLid=null,e.nodeLight=null,e.nodeClose=null,e.audio107=null,e.lastTime=-1,e.cb=null,e}return i(e,t),e.prototype.canClick=function(){var t=d.default.getTimeStamp();return!(t-this.lastTime<500)&&(this.lastTime=t,!0)},e.prototype.reset=function(){var t=this;this.nodeBox.position=cc.v2(333+.5*p.deviceUtil.getExtraWidth(),-200-.5*p.deviceUtil.getExtraHeight()),this.nodeBox.scale=.25,this.nodeBox.rotation=-10,this.nodeClose.active=!1,this.spriteIcon.node.active=!1,this.nodeLight.active=!1,this.animCaidai.node.active=!1,this.nodeBoxLid.active=!0,this.nodeBoxLid.rotation=0,this.nodeBoxLid.position=cc.v2(0,210),c.audioManager.playLine(this.audio107);var e=l.guideManager.getDataByWeight(r.default.QIQI_RECOMEND,1)[0];h.default.loadSpriteFrame(e.logo).then(function(e){t.spriteIcon.spriteFrame=e}).catch(function(){}),l.guideManager.addBeanBlack(r.default.QIQI_RECOMEND,e),u.jumpManager.buttonShow(e,s.default.QIQI_RECOMEND,1),this.spriteIcon.node.off(cc.Node.EventType.TOUCH_START),this.spriteIcon.node.on(cc.Node.EventType.TOUCH_START,function(){t.canClick()&&u.jumpManager.navigateToApp(e,s.default.QIQI_RECOMEND,r.default.QIQI_RECOMEND,1).then(function(){}).catch(function(){})})},e.prototype.initListener=function(){var t=this;this.nodeClose.on(cc.Node.EventType.TOUCH_END,function(){t.hide()})},e.prototype.show=function(e){t.prototype.showDialog.call(this),this.cb=e,this.nodeBox.active=!0,this.reset(),this.openBox()},e.prototype.hide=function(){t.prototype.hideDialog.call(this),this.cb&&(this.cb(),this.cb=null)},e.prototype.openBox=function(){var t=this;cc.tween(this.nodeBox).to(1,{position:cc.v2(0,-100),rotation:0,scale:.8}).to(.25,{rotation:-10}).to(.5,{rotation:10}).to(.5,{rotation:-10}).to(.25,{rotation:0}).to(.2,{position:cc.v2(0,-250)}).to(.1,{scaleY:.7*.8}).to(.1,{scaleY:1.144}).call(function(){t.openBoxLid(),t.showIcon()}).to(.1,{scaleY:.8}).start()},e.prototype.openBoxLid=function(){var t=this;cc.tween(this.nodeBoxLid).by(.7,{rotation:360,x:750,y:375}).call(function(){t.nodeBoxLid.active=!1}).start()},e.prototype.showIcon=function(){var t=this;this.spriteIcon.node.active=!0,this.spriteIcon.node.scale=0,this.spriteIcon.node.y=0,this.animCaidai.node.active=!0,this.animCaidai.play(),this.spriteIcon.node.stopAllActions(),cc.tween(this.spriteIcon.node).to(1,{scale:1,y:250}).call(function(){t.showLight(),t.nodeClose.active=!0}).delay(.2).call(function(){t.animCaidai.node.active=!1}).start()},e.prototype.showLight=function(){this.nodeLight.active=!0,this.nodeLight.stopAllActions(),cc.tween(this.nodeLight).by(2,{rotation:360}).repeatForever().start()},n([_({tooltip:"\u56fe\u6807\u7cbe\u7075",type:cc.Sprite})],e.prototype,"spriteIcon",void 0),n([_({tooltip:"\u76d2\u5b50",type:cc.Node})],e.prototype,"nodeBox",void 0),n([_({tooltip:"\u5f69\u5e26",type:cc.Animation})],e.prototype,"animCaidai",void 0),n([_({tooltip:"\u76d6\u5b50",type:cc.Node})],e.prototype,"nodeBoxLid",void 0),n([_({tooltip:"\u5149\u6548",type:cc.Node})],e.prototype,"nodeLight",void 0),n([_({tooltip:"\u5173\u95ed\u6309\u94ae",type:cc.Node})],e.prototype,"nodeClose",void 0),n([_({tooltip:"\u597d\u5f00\u5fc3\u5440",type:cc.AudioClip})],e.prototype,"audio107",void 0),e=n([g],e)}(a.default);o.default=y,cc._RF.pop()},{"../../business/base/BBDialog":"BBDialog","../../business/constants/GuideId":"GuideId","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AudioManager":"AudioManager","../../business/manager/GuideManager":"GuideManager","../../business/manager/JumpManager":"JumpManager","../../core/util/DateUtil":"DateUtil","../../core/util/DeviceUtil":"DeviceUtil","../../core/util/ImageUtil":"ImageUtil"}],RecommendManager:[function(t,e,o){"use strict";cc._RF.push(e,"32d3c6GzGZEKaCUadAuLrZQ","RecommendManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=t("../../core/util/DeviceUtil"),a=t("../../core/util/LogUtil"),r=t("../constants/PublicConst"),s=function(){function t(){this.recommendationButton=null,this.name="recommendManager"}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.show=function(){var t=this;if(a.default.managerLog(r.ManagerName.RecommendManager,"show"),this.hide(),i.default.isBaiduGame()&&!n.deviceUtil.isHostBabybus()){var e=swan.getSystemInfoSync();if(swan&&swan.createRecommendationButton&&!this.recommendationButton){var o=swan.createRecommendationButton({type:"list",style:{left:e.screenWidth-50-8,top:e.screenHeight-52.5-8}});o.onError(function(t){a.default.errorLog("onError",t)}),o.onLoad(function(){a.default.managerLog(r.ManagerName.RecommendManager,"onLoad"),t.recommendationButton&&t.recommendationButton===o&&(o.show(),a.default.managerLog(t,"width: "+o.style.width+" ,height:"+o.style.height),o.style.left=e.screenWidth-o.style.width-8,o.style.top=e.screenHeight-o.style.height-8)}),o.load(),this.recommendationButton=o}}},t.prototype.hide=function(){if(a.default.managerLog(r.ManagerName.RecommendManager,"hide"),this.recommendationButton)try{this.recommendationButton.hide(),this.recommendationButton.destory(),this.recommendationButton=null}catch(t){a.default.errorLog("\u9690\u85cf\u5931\u8d25",t),this.recommendationButton=null}},t.INSTANCE=null,t}();o.RecommendManager=s,o.recommendManager=s.getInstance(),cc._RF.pop()},{"../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicConst":"PublicConst"}],RecommendMore:[function(t,e,o){"use strict";cc._RF.push(e,"885ed0YS8dJ/ZhA5uQu6sAb","RecommendMore");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/constants/BusinessGlobal"),r=t("../../../core/util/PlatformUtil"),s=t("../../../core/util/AppUtil"),c=t("../../../business/manager/TagManager"),l=t("../../../business/manager/GuideManager"),u=t("../../../core/util/ArrayUtil"),d=t("../../../core/util/DateUtil"),p=t("../../../core/util/StoreUtil"),h=t("../../../business/manager/InterstitialManager"),f=t("../../../business/manager/AudioManager"),g=t("../../../business/constants/GuideId"),_=t("../../../business/manager/DialogManager"),y=t("../../../business/manager/BoxAdManager"),m=cc._decorator,v=m.ccclass,b=m.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnMore=null,e.spriteMore=null,e.nodeRed=null,e.nodeTop=null,e.spriteTip=null,e.arrSfTip=[],e.sfLeft=null,e.sfRight=null,e.acTouch=null,e.saveToday=null,e.saveOldToday=null,e.name="RecommendMore",e}return i(e,t),e.prototype.onLoad=function(){if(console.log("RecommendMore onload 111"),r.default.isTouTiao()){if(!s.default.canUseTouTiaoMoreGame())return this.node.active=!1,void(a.BusinessGlobal.recommendMore=null)}else if(r.default.isVivo()){if(!y.boxAdManager.canBoxPortalAdUse())return this.node.active=!1,void(a.BusinessGlobal.recommendMore=null)}else if(!this.canShowRecommendMore())return this.node.active=!1,void(a.BusinessGlobal.recommendMore=null);a.BusinessGlobal.recommendMore=this,_.dialogManager.isDialogShow()?this.node.active=!1:this.node.active=a.BusinessGlobal.recommendMoreIsShow,this.node.zIndex=9996,this.initListener(),this.startTipTask()},e.prototype.canShowRecommendMore=function(){return l.guideManager.hasEffectData(g.default.MORE)},e.prototype.startTipTask=function(){var t=this;this.spriteTip.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,0),cc.callFunc(function(){t.spriteTip.spriteFrame=u.default.getRandomItem(t.arrSfTip)}),cc.scaleTo(.2,1),cc.delayTime(3),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.delayTime(3),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.delayTime(3),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.rotateTo(.1,-5),cc.rotateTo(.1,0),cc.rotateTo(.1,5),cc.rotateTo(.1,0),cc.delayTime(3))))},e.prototype.setType=function(t){1===t?(this.nodeTop.active=!1,this.spriteMore.spriteFrame=this.sfLeft,this.nodeRed.position=cc.v2(43,30),this.spriteTip.node.position=cc.v2(8,7)):2===t&&(this.nodeTop.active=!1,this.spriteMore.spriteFrame=this.sfRight,this.nodeRed.position=cc.v2(-43,30),this.spriteTip.node.position=cc.v2(-8,7))},e.prototype.show=function(){return this.node.active=!0,!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.start=function(){if(this.saveToday=d.default.todayZeroTimestamp()+"_Check",""===p.default.get(this.saveToday,""))p.default.set("saveCheckShow","1"),p.default.set(this.saveToday,"1"),a.BusinessGlobal.touchCloseNum=0,a.BusinessGlobal.openCloseControl=!0,p.default.get("oldToday","-1")!==d.default.todayZeroTimestamp()+"_Check"&&p.default.remove(p.default.get("oldToday","-1")),this.saveOldToday=this.saveToday,p.default.set("oldToday",this.saveOldToday);else{var t=Number(p.default.get("saveCheckShow","1"));a.BusinessGlobal.openCloseControl=1===t}},e.prototype.onDestroy=function(){a.BusinessGlobal.recommendMore=null,a.BusinessGlobal.recommendMoreIsShow=!1},e.prototype.initListener=function(){var t=this;this.btnMore.off(cc.Node.EventType.TOUCH_END),this.btnMore.off(cc.Node.EventType.TOUCH_MOVE),this.btnMore.off(cc.Node.EventType.TOUCH_START),this.btnMore.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.btnMore.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),this.btnMore.on(cc.Node.EventType.TOUCH_END,function(e){t.btnMore.stopAllActions(),f.audioManager.playEffect(t.acTouch),t.btnMore.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){c.tagManager.hasMoreGameRedPoint=!1,t.nodeRed.active=!1,r.default.isTouTiao()?t.showTouTiaoMoreGame():h.interstitialManager.showCustom(!0,!0)}))),e.stopPropagation()})},e.prototype.showTouTiaoMoreGame=function(){s.default.showTouTiaoMoreGame()},n([b(cc.Node)],e.prototype,"btnMore",void 0),n([b(cc.Sprite)],e.prototype,"spriteMore",void 0),n([b(cc.Node)],e.prototype,"nodeRed",void 0),n([b(cc.Node)],e.prototype,"nodeTop",void 0),n([b(cc.Sprite)],e.prototype,"spriteTip",void 0),n([b([cc.SpriteFrame])],e.prototype,"arrSfTip",void 0),n([b(cc.SpriteFrame)],e.prototype,"sfLeft",void 0),n([b(cc.SpriteFrame)],e.prototype,"sfRight",void 0),n([b({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([v],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/BoxAdManager":"BoxAdManager","../../../business/manager/DialogManager":"DialogManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/InterstitialManager":"InterstitialManager","../../../business/manager/TagManager":"TagManager","../../../core/util/AppUtil":"AppUtil","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/DateUtil":"DateUtil","../../../core/util/PlatformUtil":"PlatformUtil","../../../core/util/StoreUtil":"StoreUtil"}],RecordBtn:[function(t,e,o){"use strict";cc._RF.push(e,"ff8f6GG7llMnagdzsVC8+C0","RecordBtn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/manager/VideoRecorderManager"),r=t("../../../core/util/MathUtil"),s=t("../../../core/util/DeviceUtil"),c=t("../../../core/util/ToastUtil"),l=t("../../../business/manager/ShareManager"),u=t("../../../business/constants/BusinessGlobal"),d=t("../../../core/util/DateUtil"),p=t("../../../core/util/NetUtil"),h=t("../../../business/manager/KwaiRecorderHelper"),f=t("../../../core/util/PlatformUtil"),g=cc._decorator,_=g.ccclass,y=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfRecord=null,e.sfStopRecord=null,e.sfSucceedRecord=null,e.labelTime=null,e.nodeLight=null,e.bones=null,e.rootNomalGroup=null,e.touchControll=!0,e.name="RecordBtn",e.startP=cc.v2(0,0),e.touchStartP=cc.v2(0,0),e.lastTime=0,e.activeRecord=!1,e}return i(e,t),e.prototype.onEnable=function(){null==this.rootNomalGroup&&(this.rootNomalGroup=this.node.group),null!=cc.find("Canvas/sdkCamera")?this.node.group="sdkCamera":this.node.group=this.rootNomalGroup},e.prototype.onLoad=function(){var t=this;this.init(),this.toStateStart(),this.rootNomalGroup=this.node.group,this.node.zIndex=1e4,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.labelTime.node.active=!1,a.videoRecorderManager.setCallBack(function(){console.log("recordStart")},function(){console.log("recordstop"),t.toState()})},e.prototype.update=function(t){var e;this.isRecording()&&(f.default.isKwaigame()?h.kwaiRecorderHelper.time>0&&(h.kwaiRecorderHelper.time-=t,(e=Math.ceil(h.kwaiRecorderHelper.time))>0?this.labelTime.string=e+"S":(f.default.isKwaigame()&&(h.kwaiRecorderHelper.time=0,this.stopRecord()),this.toStateSuccess())):a.videoRecorderManager.time>0&&(a.videoRecorderManager.time-=t,(e=Math.ceil(a.videoRecorderManager.time))>0?this.labelTime.string=e+"S":(a.videoRecorderManager.time=0,this.toStateSuccess())))},e.prototype.onDestroy=function(){u.BusinessGlobal.recordBtn=null},e.prototype.init=function(){this.node&&(a.videoRecorderManager.canUse()?(this.node.active=!0,cc.game.addPersistRootNode(this.node),u.BusinessGlobal.recordBtn=this):this.node.active=!1)},e.prototype.isStateSuccess=function(){return f.default.isKwaigame()?h.kwaiRecorderHelper.getVideoID()>=0&&!h.kwaiRecorderHelper.hasShare:a.videoRecorderManager.getVideoPath()&&!a.videoRecorderManager.hasShare},e.prototype.isRecording=function(){return f.default.isKwaigame()?h.kwaiRecorderHelper.isRecording:a.videoRecorderManager.isRecording},e.prototype.toState=function(){this.isStateSuccess()?this.toStateSuccess():this.isRecording()?this.toStateStop():this.toStateStart()},e.prototype.touchStart=function(t){this.startP=this.node.position,this.touchStartP=this.node.parent.convertToNodeSpaceAR(t.getLocation())},e.prototype.touchMove=function(t){var e=this.node.parent.convertToNodeSpaceAR(t.getLocation()),o=cc.v2(e.x-this.touchStartP.x,e.y-this.touchStartP.y);this.node.position=this.getMovePos(o)},e.prototype.touchEnd=function(t){if(r.default.distance(this.startP,this.node.position)<5){if(console.log("touchEnd:",this.touchControll,a.videoRecorderManager.stopAutoRecordCallBack),!this.touchControll||a.videoRecorderManager.stopAutoRecordCallBack)return;this.touchControll=!1,this.touchDelayTime(),this.dealRecord()}},e.prototype.getMovePos=function(t){var e=r.default.limit(this.startP.x+t.x,30,s.deviceUtil.getScreneWidth()-30),o=r.default.limit(this.startP.y+t.y,30,s.deviceUtil.getScreneHeight()-30);return cc.v2(e,o)},e.prototype.touchDelayTime=function(){var t=this,e=new cc.Node;e&&e.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.touchControll=!0,e.destroy()})))},e.prototype.toStateStart=function(){this.getComponent(cc.Sprite).spriteFrame=this.sfRecord,this.labelTime.node.active=!1,this.bones.node.active=!1,this.nodeLight.active=!1},e.prototype.toStateSuccess=function(){this.getComponent(cc.Sprite).spriteFrame=null,this.labelTime.node.active=!1,this.nodeLight.active=!1,this.bones.node.active=!0,this.nodeLight.stopAllActions(),this.nodeLight.runAction(this.getLightAction1()),this.bones.node.runAction(this.getBoneAction1())},e.prototype.getLightAction1=function(){return cc.repeatForever(cc.sequence(cc.rotateBy(5,360),cc.callFunc(function(){})))},e.prototype.getBoneAction1=function(){var t=this;return cc.repeatForever(cc.sequence(cc.callFunc(function(){Math.random()<.5?t.bones.playAnimation("ds_dj1",-1):t.bones.playAnimation("ds_dj2",-1)}),cc.delayTime(2),cc.callFunc(function(){t.bones.playAnimation("ds_hx",-1)}),cc.delayTime(3)))},e.prototype.toStateStop=function(){this.getComponent(cc.Sprite).spriteFrame=this.sfStopRecord,this.labelTime.node.active=!0},e.prototype.stopRecord=function(){if(f.default.isKwaigame()){if(!h.kwaiRecorderHelper.isRecording)return;h.kwaiRecorderHelper.stopRecord()?this.toStateSuccess():(c.default.toastShort("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed"),this.toState())}else a.videoRecorderManager.isRecording&&(a.videoRecorderManager.stopRecord()?this.toStateSuccess():(c.default.toastShort("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed"),this.toState()))},e.prototype.canDeal=function(){var t=d.default.getTimeStamp(),e=f.default.isKwaigame()?500:1500;return!(t-this.lastTime<e)&&(this.lastTime=t,!0)},e.prototype.dealKwaiRecord=function(){var t=h.kwaiRecorderHelper.getVideoID();if(console.log("=== dealKwaiRecord:",t,h.kwaiRecorderHelper.hasShare,h.kwaiRecorderHelper.isRecording),!h.kwaiRecorderHelper.hasShare&&t>=0)return h.kwaiRecorderHelper.publishVideo(),this.toStateStart(),h.kwaiRecorderHelper.videoID=-1,void(h.kwaiRecorderHelper.hasShare=!0);h.kwaiRecorderHelper.isRecording?(console.log("=== dealRecord stopRecord"),this.activeRecord=!1,this.stopRecord()):(console.log("=== dealRecord startRecord"),this.activeRecord=!0,a.videoRecorderManager.startRecord(),this.toState())},e.prototype.dealRecord=function(){var t=this;if(console.log("=== dealRecord: 000"),this.canDeal())if(f.default.isKwaigame())this.dealKwaiRecord();else{var e=a.videoRecorderManager.getVideoPath();console.log("=== dealRecord:",e,a.videoRecorderManager.hasShare,a.videoRecorderManager.isRecording),a.videoRecorderManager.hasShare||!e?a.videoRecorderManager.isRecording?(console.log("=== dealRecord stopRecord"),this.activeRecord=!1,this.stopRecord()):(console.log("=== dealRecord startRecord"),this.activeRecord=!0,a.videoRecorderManager.startRecord(),this.toState()):p.netUtil.getNetState().then(function(){l.shareManager.shareVideo(e),console.log("=== dealRecord share"),a.videoRecorderManager.videoPath="",a.videoRecorderManager.hasShare=!0,t.toStateStart()}).catch(function(){console.log("=== dealRecord share no net"),c.default.toastShort("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u68c0\u67e5\u91cd\u8bd5")})}},n([y({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfRecord",void 0),n([y({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfStopRecord",void 0),n([y({tooltip:"",type:cc.SpriteFrame})],e.prototype,"sfSucceedRecord",void 0),n([y({tooltip:"",type:cc.Label})],e.prototype,"labelTime",void 0),n([y({tooltip:"",type:cc.Node})],e.prototype,"nodeLight",void 0),n([y({tooltip:"",type:dragonBones.ArmatureDisplay})],e.prototype,"bones",void 0),e=n([_],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/manager/KwaiRecorderHelper":"KwaiRecorderHelper","../../../business/manager/ShareManager":"ShareManager","../../../business/manager/VideoRecorderManager":"VideoRecorderManager","../../../core/util/DateUtil":"DateUtil","../../../core/util/DeviceUtil":"DeviceUtil","../../../core/util/MathUtil":"MathUtil","../../../core/util/NetUtil":"NetUtil","../../../core/util/PlatformUtil":"PlatformUtil","../../../core/util/ToastUtil":"ToastUtil"}],ReportMain:[function(t,e,o){"use strict";cc._RF.push(e,"126abn8141I5oFPqBsF5vg6","ReportMain"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Config/AppConfig"),n=t("./babybus/network/service/userService"),a=t("../../Config/DataAnalysisConfig"),r=t("./babybus/dataAnalysis/reporter"),s=t("./babybus/dataAnalysis/babybusReporterAdapter"),c=t("./babybus/network/service/analysisService"),l=t("../core/util/DeviceUtil"),u=t("../core/util/PlatformUtil");(function(){if(u.default.isBaiduGame()&&(n.default.getInstance().init(i.default.productId,i.default.signKey,i.default.xxTeaKey),a.default.babybusConfig)){console.debug("[APP] \u9700\u8981\u4e0a\u62a5\u5230\u5206\u6790\u7cfb\u7edf");var t=r.default.getInstance();t.addDelegator(new s.default),c.default.getInstance().lateDeviceInit();var e=l.deviceUtil.host?l.deviceUtil.host:"\u767e\u5ea6";t.reportAnalytics("\u542f\u52a8",[i.default.appName,e])}})(),cc._RF.pop()},{"../../Config/AppConfig":"AppConfig","../../Config/DataAnalysisConfig":"DataAnalysisConfig","../core/util/DeviceUtil":"DeviceUtil","../core/util/PlatformUtil":"PlatformUtil","./babybus/dataAnalysis/babybusReporterAdapter":"babybusReporterAdapter","./babybus/dataAnalysis/reporter":"reporter","./babybus/network/service/analysisService":"analysisService","./babybus/network/service/userService":"userService"}],ReportUtil:[function(t,e,o){"use strict";cc._RF.push(e,"054caiBMdJAKIZlZkfcSQRv","ReportUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../report/BabybusNavigator"),n=function(){function t(){this.navigator=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){i.default.supportNavigate()&&(this.navigator=new i.default)},t.prototype.reportMedia=function(t,e,o,i,n){console.log("=====reportMedia",n),this.navigator?(this.navigator.init(t,e,o,i,!0,!1),this.navigator.report(n)):console.log("reportMedia fail")},t.INSTANCE=void 0,t}();o.ReportUtil=n,o.reportUtil=n.get(),cc._RF.pop()},{"../../report/BabybusNavigator":"BabybusNavigator"}],RestScene:[function(t,e,o){"use strict";cc._RF.push(e,"8affdt2vWpDGZYuDb0jEGnV","RestScene");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../core/util/DateUtil"),r=t("../../core/util/PlatformUtil"),s=t("../../business/base/BBScene"),c=t("../../business/manager/AnalyticsManager"),l=t("../../business/constants/PublicAnalyticsKey"),u=t("../../business/constants/BusinessGlobal"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelDate=null,e.labelTime=null,e.labelNextDay=null,e.labelTip=null,e.btnRest=null,e.spriteNight=null,e.sfNight=null,e}return i(e,t),e.prototype.toNight=function(){this.spriteNight.spriteFrame=this.sfNight,this.labelTip.string="       \u3010\u591c\u95f4\u63d0\u793a\u3011\u73b0\u5728\u5df2\u7ecf\u5f88\u665a\u54af\uff0c\u53ef\u4ee5\u7761\u89c9\u4e86\uff0c\u8bf7\u660e\u5929\u518d\u6765\u5427\u3002\n        \u60a8\u4e0b\u6b21\u53ef\u6e38\u620f\u65f6\u95f4\u4e3a"},e.prototype.onLoad=function(){var t=this;c.analyticsManager.recordEvent(l.default.ANTI_ADDICTION,"\u6253\u5f00\u573a\u666f"),this.labelDate.string=a.default.date(),this.labelNextDay.string=this.nextDay(),10003===u.BusinessGlobal.antiAddictionState&&this.toNight(),this.btnRest.on(cc.Node.EventType.TOUCH_END,function(){t.btnRest.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){r.default.isBaiduGame()&&swan.exit()})))})},e.prototype.nextDay=function(){var t=new Date;return t.setTime(t.getTime()+864e5),t.getFullYear()+"\u5e74"+(t.getMonth()+1)+"\u6708"+t.getDate()+"\u65e508\u65f600\u5206"},e.prototype.update=function(){this.labelTime.string=a.default.time()},n([h(cc.Label)],e.prototype,"labelDate",void 0),n([h(cc.Label)],e.prototype,"labelTime",void 0),n([h(cc.Label)],e.prototype,"labelNextDay",void 0),n([h(cc.Label)],e.prototype,"labelTip",void 0),n([h(cc.Node)],e.prototype,"btnRest",void 0),n([h(cc.Sprite)],e.prototype,"spriteNight",void 0),n([h(cc.SpriteFrame)],e.prototype,"sfNight",void 0),e=n([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../business/base/BBScene":"BBScene","../../business/constants/BusinessGlobal":"BusinessGlobal","../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../business/manager/AnalyticsManager":"AnalyticsManager","../../core/util/DateUtil":"DateUtil","../../core/util/PlatformUtil":"PlatformUtil"}],RewardAdSetPatch:[function(t,e,o){"use strict";cc._RF.push(e,"1639db1dJdIWJeRhjts3ZP5","RewardAdSetPatch");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/constants/PublicConst"),r=t("../../business/manager/RewardManager"),s=t("../../business/manager/SwitchManager"),c=t("../../core/util/LogUtil"),l=t("../../core/util/NetUtil"),u=t("../../core/util/PlatformUtil"),d=t("../../core/util/ToastUtil"),p=cc._decorator.ccclass,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.rewardSets=function(t){var e=this;s.switchManager.isRewardOpen()?l.netUtil.getNetState().then(function(){r.rewardManager.checkVideo().then(function(){t.rewardValid.bind(t),r.rewardManager.show(t.path).then(t.rewardSuccess.bind(t.whichScp)).catch(function(e){t.rewardFail.bind(t.whichScp).length>=1?t.rewardFail.bind(t.whichScp)(e):t.rewardFail.bind(t.whichScp)()})}).catch(function(){u.default.isOppo()&&(d.default.toastShort("\u6682\u65e0\u53ef\u89c2\u770b\u89c6\u9891"),t.playBtn.active=!1,t.speciallyBtn.active=!0,t.speciallyBtn.off(cc.Node.EventType.TOUCH_END),t.speciallyBtn.on(cc.Node.EventType.TOUCH_END,function(){c.default.managerLog(a.ManagerName.RewardManager,"\u6211\u70b9\u51fb\u4e86oppo\u7279\u6b8a\u7684\u586b\u5145\u5931\u8d25\u6309\u94ae!"),r.rewardManager.oppoRewardNotValidEvent(t.rewardSuccess,t.oppoRewardIsNotValidFail,t.whichScp)},e)),t.rewardIsNotValid.bind(t.whichScp)()})}).catch(function(){u.default.isBaiduGame()?t.baiduNoWifeDeal.bind(t.whichScp)():u.default.isOppo()?t.oppoNoWifeDeal.bind(t.whichScp)():u.default.isTouTiao()?t.toutiaoNoWifeDeal.bind(t.whichScp)():r.rewardManager.checkVideo().then(function(){t.rewardValid.bind(t),r.rewardManager.show(t.path).then(t.rewardSuccess.bind(t.whichScp)).catch(function(e){t.rewardFail.bind(t.whichScp)(e)})}).catch(function(){t.rewardIsNotValid.bind(t.whichScp)()})}):t.rewardIsSwitchClose.bind(t.whichScp)()},e=n([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../business/constants/PublicConst":"PublicConst","../../business/manager/RewardManager":"RewardManager","../../business/manager/SwitchManager":"SwitchManager","../../core/util/LogUtil":"LogUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil"}],RewardManager:[function(t,e,o){"use strict";cc._RF.push(e,"c0509RUABhIx5vsTq0a/xWf","RewardManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AnalyticsManager"),n=t("../constants/PublicAnalyticsKey"),a=t("../helper/BaiduRewardHelper"),r=t("../helper/WxRewardHelper"),s=t("../../core/util/NetUtil"),c=t("../helper/VivoRewardHelper"),l=t("../helper/XiaoMiRewardHelper"),u=t("../helper/OppoRewardHelper"),d=t("./SwitchManager"),p=t("./AudioManager"),h=t("./LoadManager"),f=t("./PluginManager"),g=t("../../core/util/LogUtil"),_=t("../constants/PublicEventName"),y=t("../constants/PublicConst"),m=t("../../core/util/PlatformUtil"),v=t("../../core/util/StoreUtil"),b=t("../../debug/plugins/codeLock/LibDebug"),S=t("../helper/KwaiRewardHelper"),w=t("../constants/BusinessGlobal"),A=function(){function t(){this.hasInit=!1,this.isDebug=!1,this.helper=null,this.rewardIsShow=!1,this.videoTimer=null}return t.get=function(){if(!t.INSTANCE){t.INSTANCE=new t;var e=v.default.get(b.default.debugStroyString,"0");t.INSTANCE.isDebug="1"===e}return t.INSTANCE},t.prototype.init=function(t){var e=this;console.log("=== rewardmanager init",t,this.hasInit),t&&(this.hasInit||(this.hasInit=!0,m.default.isWechatGame()||m.default.isTouTiao()?this.helper=new r.default:m.default.isBaiduGame()?this.helper=new a.default:m.default.isOppo()?this.helper=new u.default:m.default.isVivo()?this.helper=new c.default:m.default.isXiaoMi()?this.helper=new l.default:m.default.isKwaigame()&&(console.log("=== rewardmanager init uc"),this.helper=new S.default),this.helper&&(this.helper.init(t),s.netUtil.addCallBack(function(t){t&&!e.isValid()&&e.activeLoad()}))))},t.prototype.isValid=function(){return this.isDebug?w.BusinessGlobal.debugComponent.debugData.isValid:!!d.switchManager.isRewardOpen()&&(!!this.helper&&this.helper.isValid())},t.prototype.buttonShow=function(t){i.analyticsManager.recordEvent(n.default.REWARD_BUTTON,"\u66dd\u5149",t)},t.prototype.show=function(t){var e=this;return this.isDebug?new Promise(function(t,e){return w.BusinessGlobal.debugComponent.debugData.rewardReturn?t(null):e()}):(i.analyticsManager.recordEvent(n.default.REWARD_BUTTON,"\u70b9\u51fb",t),this.rewardIsShow=!0,m.default.isKwaigame()&&cc.sys.os!==cc.sys.OS_IOS||p.audioManager.close(),d.switchManager.isRewardOpen()&&this.helper?(cc.systemEvent.emit(_.default.STOP_INTERSTITIAL),new Promise(function(o,i){e.showVideo(t,o,i)})):new Promise(function(t,o){e.comeShowFail(),o(null)}))},t.prototype.showVideo=function(t,e,o){var i=this;this.helper.show(t).then(function(){i.rewardIsShow=!1,p.audioManager.fornt=!0,cc.systemEvent.emit(_.default.OPEN_INTERSTITIAL),p.audioManager.open(),e(null)}).catch(function(t){i.comeShowFail(),o(t)})},t.prototype.comeShowFail=function(){this.rewardIsShow=!1,p.audioManager.fornt=!0,cc.systemEvent.emit(_.default.OPEN_INTERSTITIAL),p.audioManager.open()},t.prototype.activeLoad=function(){this.helper&&this.helper.activeLoad()},t.prototype.oppoRewardNotValidEvent=function(t,e,o){g.default.managerLog(y.ManagerName.RewardManager,"oppo\u7279\u6b8a\u7684\u539f\u751f\u5e7f\u544a\u5f39\u7a97,\u6211\u5c55\u793a\u4e86\u906e\u7f69!"),h.loadManager.showLoadingWithMask(),f.pluginManager.loadNativeAdDialog(cc.find("Canvas")).then(function(){g.default.managerLog(y.ManagerName.RewardManager,"oppo\u7279\u6b8a\u7684\u539f\u751f\u5e7f\u544a\u5f39\u7a97\u52a0\u8f7d\u6210\u529f\u4e86!"),t.bind(o)()}).catch(function(){g.default.errorLog("oppo\u7279\u6b8a\u7684\u539f\u751f\u5e7f\u544a\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25\u4e86!"),h.loadManager.hideLoading(),e.bind(o)()})},t.prototype.checkVideo=function(){var t=this;if(this.isValid())return new Promise(function(t,e){t(null)});var e=function(){t.videoTimer&&(clearInterval(t.videoTimer),t.videoTimer=null)},o=0;return new Promise(function(i,n){h.loadManager.showLoadingWithMask("\u89c6\u9891\u52a0\u8f7d\u4e2d\u2026"),t.videoTimer=setInterval(function(){if(++o,console.log("\u89c6\u9891\u67e5\u8be2\u6b21\u6570",o),t.isValid())return h.loadManager.hideLoading(),e(),void i(null);o>=5&&(h.loadManager.hideLoading(),e(),n())},1e3)})},t.INSTANCE=void 0,t}();o.RewardManager=A,o.rewardManager=A.get(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../../debug/plugins/codeLock/LibDebug":"LibDebug","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","../constants/PublicEventName":"PublicEventName","../helper/BaiduRewardHelper":"BaiduRewardHelper","../helper/KwaiRewardHelper":"KwaiRewardHelper","../helper/OppoRewardHelper":"OppoRewardHelper","../helper/VivoRewardHelper":"VivoRewardHelper","../helper/WxRewardHelper":"WxRewardHelper","../helper/XiaoMiRewardHelper":"XiaoMiRewardHelper","./AnalyticsManager":"AnalyticsManager","./AudioManager":"AudioManager","./LoadManager":"LoadManager","./PluginManager":"PluginManager","./SwitchManager":"SwitchManager"}],RightSideBar:[function(t,e,o){"use strict";cc._RF.push(e,"0b3c2+stMlI/IGJDRIdOCOx","RightSideBar");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SideBarItem"),r=t("../../../core/util/DeviceUtil"),s=t("../../../business/manager/GuideManager"),c=t("../../../core/util/ArrayUtil"),l=t("../../../core/util/ImageUtil"),u=t("../../../business/manager/JumpManager"),d=t("../../../business/constants/PublicAnalyticsKey"),p=t("../../../business/manager/TagManager"),h=t("../../../business/manager/AudioManager"),f=t("../../../business/constants/BusinessGlobal"),g=t("../../../core/util/LogUtil"),_=t("../../../business/constants/GuideId"),y=cc._decorator,m=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRight=null,e.nodeRightBg=null,e.sfNew=null,e.sfHot=null,e.sfAd=null,e.prefabItemH=null,e.acTouch=null,e.arrItem=[],e.name="RightSideBar",e}return i(e,t),e.prototype.onLoad=function(){this.adapterView(),this.createItems(),this.node.zIndex=9997,f.BusinessGlobal.rightSidebar=this,this.node.active=f.BusinessGlobal.rightSidebarCanShow},e.prototype.onDestroy=function(){f.BusinessGlobal.rightSidebar=null,f.BusinessGlobal.rightSidebarCanShow=!0},e.prototype.createItems=function(){this.nodeRight.removeAllChildren(),this.arrItem=[];for(var t=0;t<3;t++){var e=cc.instantiate(this.prefabItemH);e.y=t%3==0?150:t%3==1?0:-150,this.nodeRight.addChild(e);var o=e.getComponent(a.default);this.arrItem.push(o)}},e.prototype.onEnable=function(){var t=this.getX(),e=t+500;this.nodeRight.stopAllActions(),this.nodeRightBg.stopAllActions(),this.refreshView()&&this.startTask(),this.nodeRight.x=e,this.nodeRightBg.x=e,this.nodeRight.runAction(cc.moveTo(.5,cc.v2(t,0))),this.nodeRightBg.runAction(cc.moveTo(.5,cc.v2(t,0)))},e.prototype.onDisable=function(){this.stopTask()},e.prototype.startTask=function(){var t=this;this.stopTask(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(5),cc.callFunc(function(){t.refreshView()}))))},e.prototype.stopTask=function(){this.node.stopAllActions()},e.prototype.getX=function(){return 390+.35*(r.deviceUtil.getScreneWidth()-960)},e.prototype.adapterView=function(){var t=r.deviceUtil.getScreneWidth()-960,e=180+.3*t;this.nodeRightBg.width=e,this.nodeRight.x=390+.35*t,this.nodeRightBg.x=390+.35*t},e.prototype.refreshView=function(){g.default.sdkComponentLog(this,"======refreshView");var t=s.guideManager.getDataByWeight(_.default.RIGHT_SIDEBAR,3),e=this.dealArr(t);return!e||e.length<0?(this.node.active=!1,!1):(this.initView(e),t.length>3)},e.prototype.initView=function(t){var e=this;c.default.isNull(t)?this.node.active=!1:this.arrItem.forEach(function(o,i){var n=t[i];n?(o.node.active=!0,e.initNodeItem(o,n,i)):o.node.active=!1})},e.prototype.initNodeItem=function(t,e,o){try{this.setItemTagHotOrNew(t,e),this.setItemListener(t,e,o);var i;if(!(i=c.default.getRandomItem(e.horizontalMaterials)))return;this.setItemSlogan(t.labelSlogon,i.slogan),this.setItemPic(t,i)}catch(t){console.log(t)}},e.prototype.setItemSlogan=function(t,e){try{e=e||"",t&&e&&(t.string=e)}catch(t){g.default.errorLog("RightSideBar setItemSlogon error",t)}},e.prototype.setItemTagHotOrNew=function(t,e){t.spriteTagHotOrNew&&(e.isNew?t.spriteTagHotOrNew.spriteFrame=this.sfNew:e.isHot?t.spriteTagHotOrNew.spriteFrame=this.sfHot:"2"===e.productType?t.spriteTagHotOrNew.spriteFrame=this.sfAd:t.spriteTagHotOrNew.node.active=!1)},e.prototype.setItemPic=function(t,e){c.default.isNotNull(e.picList)&&(e.picList.length>1?(t.spriteIcon.spriteFrame=null,t.spriteIcon.node.active=!1,t.nodeAni.active=!0,l.default.createAniByUrls(t.nodeAni,e.picList)):(t.spriteIcon.spriteFrame=null,t.nodeAni.removeComponent(cc.Animation),t.spriteIcon.node.active=!0,t.nodeAni.active=!1,l.default.loadSpriteFrame(e.picList[0]).then(function(e){t.spriteIcon.spriteFrame=e}).catch(function(){})))},e.prototype.setItemListener=function(t,e,o){var i=this,n=t.node;u.jumpManager.buttonShow(e,d.default.GM_RIGHT_SB,o+1),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_MOVE),n.off(cc.Node.EventType.TOUCH_START),n.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),n.on(cc.Node.EventType.TOUCH_END,function(t){h.audioManager.playEffect(i.acTouch),n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,.9),cc.scaleTo(.1,1),cc.callFunc(function(){s.guideManager.addBeanBlack(_.default.RIGHT_SIDEBAR,e),u.jumpManager.navigateToApp(e,d.default.GM_RIGHT_SB,_.default.RIGHT_SIDEBAR,o+1).then(function(){})}))),t.stopPropagation()})},e.prototype.dealArr=function(t){if(c.default.isNull(t))return null;if(t.length<=3)return t;var e=p.tagManager.getRightSidebarIndex()+1,o=Math.ceil(t.length/3),i=0,n=3;if(e<0)return p.tagManager.recordRightSidebarIndex(0),t.slice(i,n);if(e>=o)return p.tagManager.recordRightSidebarIndex(0),t.slice(i,n);if(e===o-1){if(p.tagManager.recordRightSidebarIndex(e),i=3*e,n=3*e+3,t.length>=n)return t.slice(i,n);for(var a=t.slice(i,t.length),r=0;a.length<3&&r<3;){r++;var s=c.default.getItemNoInArray(t,a);a.push(s)}return a}return i=3*e,n=3*e+3,p.tagManager.recordRightSidebarIndex(e),t.slice(i,n)},n([v(cc.Node)],e.prototype,"nodeRight",void 0),n([v(cc.Node)],e.prototype,"nodeRightBg",void 0),n([v(cc.SpriteFrame)],e.prototype,"sfNew",void 0),n([v(cc.SpriteFrame)],e.prototype,"sfHot",void 0),n([v(cc.SpriteFrame)],e.prototype,"sfAd",void 0),n([v(cc.Prefab)],e.prototype,"prefabItemH",void 0),n([v({tooltip:"",type:cc.AudioClip})],e.prototype,"acTouch",void 0),e=n([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/GuideId":"GuideId","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/AudioManager":"AudioManager","../../../business/manager/GuideManager":"GuideManager","../../../business/manager/JumpManager":"JumpManager","../../../business/manager/TagManager":"TagManager","../../../core/util/ArrayUtil":"ArrayUtil","../../../core/util/DeviceUtil":"DeviceUtil","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil","./SideBarItem":"SideBarItem"}],SceneConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d8ce3copTpL35CH+bns1cYV","SceneConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={G35_Welcome:"\u6b22\u8fce",G35_Select:"\u9009\u62e9",G35_Ready:"\u51c6\u5907",G35_Loading:"\u52a0\u8f7d",G35_Mainloading:"\u52a0\u8f7d",G35_Icehole:"\u94bb\u51b0\u6d1e",G35_Icepackage:"\u7ec4\u88c5\u9c7c\u7aff",G35_Seabedfind:"\u627e\u9c7c",G35_Seabedfishing:"\u6355\u9c7c",G35_Seabedready:"\u6c27\u6c14\u74f6\u8865\u7ed9",G35_Seabedreturn:"\u8fd4\u56de",G35_Seabedstart:"\u5f00\u573a",G35_Pondclear:"\u6e05\u7406\u6c60\u5858",G35_Pondfeed:"\u6295\u653e\u98df\u9975",G35_Pondput:"\u51c6\u5907\u9c7c\u98df",G35_Seasurfacefishing:"\u6492\u7f51\u6355\u9c7c",G35_Seasurfacelocation:"\u5b9a\u4f4d\u9c7c\u7fa4",G35_Seasurfaceready:"\u4fee\u8865\u6e14\u7f51",G35_Seasurfaceseek:"\u5f00\u8239\u627e\u9c7c",G35_Seasurfacestart:"\u5f00\u573a"},cc._RF.pop()},{}],ScenesPreloadHelper:[function(t,e,o){"use strict";cc._RF.push(e,"307e8CQI1tCur7HtuIfinZe","ScenesPreloadHelper");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Utils/LoadTimeout"),a=t("./PreloadManager"),r=function(){function t(){}return t.preloadScenes=function(e,o){if(t.sCurrentTask){if(!t.sCurrentTask.isCancelled)throw new Error("[SPH] \u672a\u53d6\u6d88\uff0c\u672a\u6d88\u8d39\u6389\uff0c\u4e0d\u5141\u8bb8\u91cd\u590d\u9884\u52a0\u8f7d\u573a\u666f");return console.debug("[SPH] \u7b49\u5f85\u4e0a\u4e00\u4e2a\u4efb\u52a1\u53d6\u6d88\u5b8c\u6bd5\u540e\u6267\u884c\u9884\u52a0\u8f7d"),void(t.sPendingTask={scenes:e,callback:o,totalProgress:t.calculateTotalProgress(e)})}console.debug("[SPH] \u5f00\u59cb\u6267\u884c\u9884\u52a0\u8f7d\u4efb\u52a1"),t.sCurrentTask={scenes:e,callback:o,totalProgress:t.calculateTotalProgress(e)},t.processCurrentTask(0)},t.calculateTotalProgress=function(t){return t.map(function(t){var e=100;return t.dynamicResName&&(e+=30),e}).reduce(function(t,e){return t+e},0)},t.processCurrentTask=function(e,o){void 0===o&&(o=0);var i=t.sCurrentTask,a=i.scenes[e],r=100+(a.dynamicResName?30:0),s=e+1,c=n.default.getInstance().start();cc.director.preloadScene(a.scene,function(e,n){t.sCurrentTask!==i||i.isCancelled||i.callback.onProgress(o+(n>0?100*e/n:0),i.totalProgress)},function(e,l){if(n.default.getInstance().end(c),e)return console.error("[SPH] \u573a\u666f\u9884\u52a0\u8f7d\u5931\u8d25"),void t.onLoadFailed(i,e,l);i.isCancelled?t.onLoadCancel(i,l):a.dynamicResName?cc.loader.loadRes(a.dynamicResName,cc.Prefab,function(e,n){t.sCurrentTask!==i||i.isCancelled||i.callback.onProgress(o+100+(n>0?30*e/n:0),i.totalProgress)},function(e,n){if(e)return console.error("[SPH] \u52a8\u6001\u8d44\u6e90\u9884\u52a0\u8f7d\u5931\u8d25"),void t.onLoadFailed(i,e,l,n);i.isCancelled?t.onLoadCancel(i,l,n):t.onSingleSceneTaskFinished({index:s,startProgress:o+r},i,l,n)}):t.onSingleSceneTaskFinished({index:s,startProgress:o+r},i,l)})},t.onLoadFailed=function(e,o,n,r){if(console.error(o),n&&a.default.release(n),r&&cc.loader.release(cc.loader.getDependsRecursively(r)),e.isCancelled)console.debug("[SPH] \u52a0\u8f7d\u5931\u8d25\u65f6\u4efb\u52a1\u5df2\u53d6\u6d88");else{var s=i({},o);setTimeout(function(){e.callback.onLoaded(s)},1)}if(t.sCurrentTask!==e)throw new Error("[SPH] \u52a0\u8f7d\u5931\u8d25\u65f6\uff0c\u5931\u8d25\u7684\u4efb\u52a1\u4e0e\u5f53\u524d\u4efb\u52a1\u4e0d\u4e00\u81f4");t.sCurrentTask=null,t.checkPendingTask()},t.onLoadCancel=function(e,o,i){if(console.debug("[SPH] \u9884\u52a0\u8f7d\u4efb\u52a1\u5df2\u53d6\u6d88\uff0c\u91ca\u653e\u8d44\u6e90"),o&&a.default.release(o),i&&cc.loader.release(cc.loader.getDependsRecursively(i)),t.sCurrentTask!==e)throw new Error("[SPH] \u52a0\u8f7d\u53d6\u6d88\u65f6\uff0c\u4efb\u52a1\u4e0e\u5f53\u524d\u4efb\u52a1\u4e0d\u4e00\u81f4");t.sCurrentTask=null,t.checkPendingTask()},t.onSingleSceneTaskFinished=function(e,o,i,n){e.index<o.scenes.length?(i&&a.default.release(i),n&&cc.loader.release(cc.loader.getDependsRecursively(n)),t.processCurrentTask(e.index,e.startProgress)):(o.isFinished=!0,o.lastSceneAsset=i,o.lastDynamicRes=n,setTimeout(function(){o.callback.onProgress(o.totalProgress,o.totalProgress),o.callback.onLoaded(null,{asset:i,dynamicRes:n})},1))},t.checkPendingTask=function(){t.sPendingTask&&(console.debug("[SPH] \u6709\u4e0b\u4e00\u4e2a\u4efb\u52a1\uff0c\u5f00\u59cb\u6267\u884c"),t.sCurrentTask=t.sPendingTask,t.sPendingTask=null,t.processCurrentTask(0))},t.cancel=function(){if(t.sPendingTask)return t.sPendingTask=null,void console.debug("[SPH] \u5f85\u6267\u884c\u7684\u9884\u52a0\u8f7d\u4efb\u52a1\u53d6\u6d88\u5b8c\u6bd5");if(!t.sCurrentTask)throw new Error("[SPH] \u6ca1\u6709\u5f53\u524d\u9884\u52a0\u8f7d\u4efb\u52a1\uff0c\u5374\u8c03\u7528\u4e86cancel");if(t.sCurrentTask.isCancelled)throw new Error("[SPH] \u91cd\u590d\u53d6\u6d88\u5f53\u524d\u9884\u52a0\u8f7d\u4efb\u52a1");if(!t.sCurrentTask.isFinished)return t.sCurrentTask.isCancelled=!0,void console.debug("[SPH] \u9884\u52a0\u8f7d\u4efb\u52a1\u6b63\u5728\u6267\u884c\u4e2d\uff0c\u6807\u8bb0\u4e3a\u5df2\u53d6\u6d88");a.default.release(t.sCurrentTask.lastSceneAsset),console.debug("[SPH] \u573a\u666f\u8d44\u6e90\u91ca\u653e\u5b8c\u6bd5"),t.sCurrentTask.lastDynamicRes&&(cc.loader.release(cc.loader.getDependsRecursively(t.sCurrentTask.lastDynamicRes)),console.debug("[SPH] \u52a8\u6001\u8d44\u6e90\u91ca\u653e\u5b8c\u6bd5")),t.sCurrentTask=null,console.debug("[SPH] \u9884\u52a0\u8f7d\u4efb\u52a1\u53d6\u6d88\u5b8c\u6bd5")},t.consume=function(){if(t.sPendingTask)throw new Error("[SPH] \u6709\u672a\u5b8c\u6210\u7684\u4efb\u52a1\uff0c\u5374\u8c03\u7528\u4e86consume");if(t.sCurrentTask)return t.sCurrentTask=null,void console.debug("[SPH] \u9884\u52a0\u8f7d\u4efb\u52a1\u5df2\u6d88\u8d39");console.warn("[SPH] \u8c03\u7528consume\u65f6\uff0c\u6ca1\u6709\u9884\u52a0\u8f7d\u4efb\u52a1")},t}();o.default=r,cc._RF.pop()},{"../../Utils/LoadTimeout":"LoadTimeout","./PreloadManager":"PreloadManager"}],ShareBtn:[function(t,e,o){"use strict";cc._RF.push(e,"7381dlgm1lFvJnHEJULnoKa","ShareBtn");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/constants/BusinessGlobal"),r=t("../../../business/manager/AnalyticsManager"),s=t("../../../business/constants/PublicAnalyticsKey"),c=t("../../../business/manager/ActivityManager"),l=t("../../../core/util/ImageUtil"),u=t("../../../core/util/LogUtil"),d=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sharePosData=null,e.activityPos=c.ActivityPosition.ShareBtn,e.name="ShareBtn",e}return i(e,t),e.prototype.onLoad=function(){this.node.active=!1,this.sharePosData=c.activityManager.getMyPosData(c.ActivityList.ACTIVITY_BACKSTAGE_SUPPORTER,this.activityPos),this.node.zIndex=9995,this.drawBg(),a.BusinessGlobal.shareBtn=this,r.analyticsManager.recordEvent(s.default.ACTIVITY_ICON_SHOW),this.node.on(cc.Node.EventType.TOUCH_END,this.touchShare,this),this.node.active=!0,this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(2.2,cc.v2(0,40)).easing(cc.easeInOut(2.2)),cc.moveBy(2.2,cc.v2(0,-40)).easing(cc.easeInOut(2.2))))),this.node.active=a.BusinessGlobal.shareBtnCanShow},e.prototype.onDestroy=function(){a.BusinessGlobal.shareBtn=null,a.BusinessGlobal.shareBtnCanShow=!0},e.prototype.touchShare=function(){u.default.sdkComponentLog(this,"touchShare"),r.analyticsManager.recordEvent(s.default.ACTIVITY_ICON_HIT),c.activityManager.backstageSupporterDataDeal(this.sharePosData,this.activityPos)},e.prototype.drawBg=function(){var t=this;l.default.loadSpriteFrame(this.sharePosData.img_url).then(function(e){if(e){var o=t.node.getComponent(cc.Sprite);o.spriteFrame=e,o.node.setContentSize(e.getOriginalSize())}}).catch(function(){t.node.active=!1})},e=n([d],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../business/constants/BusinessGlobal":"BusinessGlobal","../../../business/constants/PublicAnalyticsKey":"PublicAnalyticsKey","../../../business/manager/ActivityManager":"ActivityManager","../../../business/manager/AnalyticsManager":"AnalyticsManager","../../../core/util/ImageUtil":"ImageUtil","../../../core/util/LogUtil":"LogUtil"}],ShareConfig:[function(t,e,o){"use strict";cc._RF.push(e,"cbeefyTI3BK54bwvdU+Q4bp","ShareConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={menu:[{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u6d77\u6d0b\u77e5\u8bc6\u79d1\u666e\uff01\u4e00\u8d77\u4e0b\u6f5c1\u5343\u7c73\uff0c\u63a2\u7d22\u795e\u79d8\u7684\u6d77\u5e95\u4e16\u754c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u9ca8\u9c7c\u8ffd\u9010\u6218\u5f00\u59cb\u5566\uff01\u5feb\u70b9\u51fb\u5c0f\u9c7c\uff0c\u5f15\u5bfc\u5b83\u201c\u9ca8\u53e3\u201d\u9003\u751f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u8da3\u5473\u5c0f\u95ee\u7b54\uff1a\u9ca8\u9c7c\u5403\u9c7c\u65f6\uff0c\u4e5f\u9700\u8981\u5410\u9c7c\u523a\u5417\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u957f\u8fbe18\u7c73\uff0c\u67096\u5c42\u697c\u9ad8\u7684\u8fd9\u79cd\u9c7c\uff0c\u4f60\u80af\u5b9a\u6ca1\u89c1\u8fc7"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u6d77\u6d0b\u77e5\u8bc6\u7ade\u7b54\uff1a\u9ca8\u9c7c\u6709\u51e0\u9897\u7259\u9f7f\uff1f\u70b9\u5f00\u5927\u56fe\u6570\u6570\u5427\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u6c42\u52a9\uff01\u9ca8\u9c7c\u9ad8\u70e740\u2103\uff0c\u8be5\u600e\u4e48\u505a\u624d\u80fd\u964d\u6e29\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u9ca8\u9c7c\u751f\u75c5\u4e86\u600e\u4e48\u529e\uff1f\u5b83\u4eec\u4e5f\u9700\u8981\u770b\u533b\u751f\u5417\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u51f6\u731b\u7684\u5927\u9ca8\u9c7c\u611f\u5192\u4e86\uff0c\u539f\u56e0\u7adf\u7136\u662f\u2026\u2026"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u8111\u7b4b\u6025\u8f6c\u5f2f\uff1a\u4e3a\u4ec0\u4e48\u9ca8\u9c7c\u7741\u773c\u7761\u89c9\uff0c\u4f1a\u5bfc\u81f4\u611f\u5192\uff1f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u9493\u9c7c\u8fbe\u4eba\u4e0d\u613f\u610f\u5206\u4eab\u76843\u5927\u79d8\u8bc0\uff0c\u4f60\u77e5\u9053\u51e0\u4e2a\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u8fd92\u79cd\u7f55\u89c1\u9c7c\u7c7b\uff0c\u6355\u83b7\u5b83\u4eec\u7684\u51e0\u7387\u6bd4\u4e2d500\u4e07\u8fd8\u5c0f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u9493\u9c7c\u53ea\u662f\u8001\u5e74\u4eba\u7684\u6d3b\u52a8\uff1f\u4f60OUT\u4e86\uff01\u4e0d\u4fe1\u770b\u770b\u8fd9\u4e2a\u6f6e\u6d41\u9493\u9c7c\u6cd5\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u5b69\u5b50\u6ce8\u610f\u529b\u4e0d\u96c6\u4e2d\uff1f\u8fd9\u4e2a\u8bad\u7ec3\u65b9\u6cd5\uff0c\u5bb6\u957f\u4eec\u4e00\u5b9a\u4e0d\u80fd\u9519\u8fc7\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u79d1\u666e\u65f6\u95f4\uff01\u5b54\u96c0\u9c7c\u5c5e\u4e8e\u51b7\u6c34\u9c7c\u8fd8\u662f\u70ed\u5e26\u9c7c\uff1f\u70b9\u8fdb\u6765\u6709\u7b54\u6848\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u4f60\u4ece\u6ca1\u89c1\u8fc7\u7684\u9c7c\u7c7b\uff0c99%\u7684\u4eba\u8ba4\u4e0d\u51fa\u8fd9\u79cd\u9c7c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u989c\u503c\u7206\u8868\u76844\u79cd\u73cd\u7a00\u9c7c\u7c7b\uff0c\u8bf4\u51fa\u540d\u5b57\uff0c\u5c31\u80fd\u628a\u5b83\u4eec\u5e26\u56de\u5bb6\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u5b54\u96c0\u9c7c\u4f1a\u5f00\u5c4f\u5417\uff1f\u72d7\u9c7c\u957f\u4ec0\u4e48\u6837\uff1f\u70b9\u8fdb\u6765\u770b\u770b\u5c31\u77e5\u9053\u4e86\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u4f60\u4ece\u6ca1\u89c1\u8fc7\u7684\u9c7c\u7c7b\uff0c99%\u7684\u4eba\u4e0d\u8ba4\u8bc6\u8fd9\u79cd\u9c7c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u79d1\u666e\u65f6\u95f4\uff01\u5b54\u96c0\u9c7c\u5c5e\u4e8e\u70ed\u5e26\u9c7c\u8fd8\u662f\u51b7\u6c34\u9c7c\uff1f\u70b9\u8fdb\u6765\u6709\u7b54\u6848\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u5b54\u96c0\u9c7c\u957f\u5f97\u50cf\u5b54\u96c0\u5417\uff1f\u72d7\u9c7c\u957f\u4ec0\u4e48\u6837\uff1f\u5feb\u70b9\u8fdb\u6765\u770b\u770b\uff01"}],share:[{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u6d77\u6d0b\u77e5\u8bc6\u79d1\u666e\uff01\u4e00\u8d77\u4e0b\u6f5c1\u5343\u7c73\uff0c\u63a2\u7d22\u795e\u79d8\u7684\u6d77\u5e95\u4e16\u754c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u9ca8\u9c7c\u8ffd\u9010\u6218\u5f00\u59cb\u5566\uff01\u5feb\u70b9\u51fb\u5c0f\u9c7c\uff0c\u5f15\u5bfc\u5b83\u201c\u9ca8\u53e3\u201d\u9003\u751f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u8da3\u5473\u5c0f\u95ee\u7b54\uff1a\u9ca8\u9c7c\u5403\u9c7c\u65f6\uff0c\u4e5f\u9700\u8981\u5410\u9c7c\u523a\u5417\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u957f\u8fbe18\u7c73\uff0c\u67096\u5c42\u697c\u9ad8\u7684\u8fd9\u79cd\u9c7c\uff0c\u4f60\u80af\u5b9a\u6ca1\u89c1\u8fc7"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/1.png",title:"\u6d77\u6d0b\u77e5\u8bc6\u7ade\u7b54\uff1a\u9ca8\u9c7c\u6709\u51e0\u9897\u7259\u9f7f\uff1f\u70b9\u5f00\u5927\u56fe\u6570\u6570\u5427\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u6c42\u52a9\uff01\u9ca8\u9c7c\u9ad8\u70e740\u2103\uff0c\u8be5\u600e\u4e48\u505a\u624d\u80fd\u964d\u6e29\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u9ca8\u9c7c\u751f\u75c5\u4e86\u600e\u4e48\u529e\uff1f\u5b83\u4eec\u4e5f\u9700\u8981\u770b\u533b\u751f\u5417\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u51f6\u731b\u7684\u5927\u9ca8\u9c7c\u611f\u5192\u4e86\uff0c\u539f\u56e0\u7adf\u7136\u662f\u2026\u2026"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/2.png",title:"\u8111\u7b4b\u6025\u8f6c\u5f2f\uff1a\u4e3a\u4ec0\u4e48\u9ca8\u9c7c\u7741\u773c\u7761\u89c9\uff0c\u4f1a\u5bfc\u81f4\u611f\u5192\uff1f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u9493\u9c7c\u8fbe\u4eba\u4e0d\u613f\u610f\u5206\u4eab\u76843\u5927\u79d8\u8bc0\uff0c\u4f60\u77e5\u9053\u51e0\u4e2a\uff1f"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u8fd92\u79cd\u7f55\u89c1\u9c7c\u7c7b\uff0c\u6355\u83b7\u5b83\u4eec\u7684\u51e0\u7387\u6bd4\u4e2d500\u4e07\u8fd8\u5c0f\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u9493\u9c7c\u53ea\u662f\u8001\u5e74\u4eba\u7684\u6d3b\u52a8\uff1f\u4f60OUT\u4e86\uff01\u4e0d\u4fe1\u770b\u770b\u8fd9\u4e2a\u6f6e\u6d41\u9493\u9c7c\u6cd5\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/3.png",title:"\u5b69\u5b50\u6ce8\u610f\u529b\u4e0d\u96c6\u4e2d\uff1f\u8fd9\u4e2a\u8bad\u7ec3\u65b9\u6cd5\uff0c\u5bb6\u957f\u4eec\u4e00\u5b9a\u4e0d\u80fd\u9519\u8fc7\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u79d1\u666e\u65f6\u95f4\uff01\u5b54\u96c0\u9c7c\u5c5e\u4e8e\u51b7\u6c34\u9c7c\u8fd8\u662f\u70ed\u5e26\u9c7c\uff1f\u70b9\u8fdb\u6765\u6709\u7b54\u6848\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u4f60\u4ece\u6ca1\u89c1\u8fc7\u7684\u9c7c\u7c7b\uff0c99%\u7684\u4eba\u8ba4\u4e0d\u51fa\u8fd9\u79cd\u9c7c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u989c\u503c\u7206\u8868\u76844\u79cd\u73cd\u7a00\u9c7c\u7c7b\uff0c\u8bf4\u51fa\u540d\u5b57\uff0c\u5c31\u80fd\u628a\u5b83\u4eec\u5e26\u56de\u5bb6\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/4.png",title:"\u5b54\u96c0\u9c7c\u4f1a\u5f00\u5c4f\u5417\uff1f\u72d7\u9c7c\u957f\u4ec0\u4e48\u6837\uff1f\u70b9\u8fdb\u6765\u770b\u770b\u5c31\u77e5\u9053\u4e86\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u4f60\u4ece\u6ca1\u89c1\u8fc7\u7684\u9c7c\u7c7b\uff0c99%\u7684\u4eba\u4e0d\u8ba4\u8bc6\u8fd9\u79cd\u9c7c\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u79d1\u666e\u65f6\u95f4\uff01\u5b54\u96c0\u9c7c\u5c5e\u4e8e\u70ed\u5e26\u9c7c\u8fd8\u662f\u51b7\u6c34\u9c7c\uff1f\u70b9\u8fdb\u6765\u6709\u7b54\u6848\uff01"},{imageUrl:"https://wxgamers.babybus.com/minigame.babybus.seaworld/images/share/5.png",title:"\u5b54\u96c0\u9c7c\u957f\u5f97\u50cf\u5b54\u96c0\u5417\uff1f\u72d7\u9c7c\u957f\u4ec0\u4e48\u6837\uff1f\u5feb\u70b9\u8fdb\u6765\u770b\u770b\uff01"}]},cc._RF.pop()},{}],ShareManager:[function(t,e,o){"use strict";cc._RF.push(e,"55033raRORBj5uoxJFITDUV","ShareManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./AnalyticsManager"),n=t("../../core/util/PlatformUtil"),a=t("../constants/PublicAnalyticsKey"),r=t("../../core/util/ShareUtil"),s=t("../../core/util/ArrayUtil"),c=t("../constants/BusinessGlobal"),l=t("../../../Config/ShareConfig"),u=t("./AudioManager"),d=t("../../core/util/MathUtil"),p=t("./PBManager"),h=t("../../core/util/LogUtil"),f=t("../../core/util/NetUtil"),g=t("../../core/util/ToastUtil"),_=t("../constants/PublicConst"),y={imageUrl:"https://wxgamers.babybus.com/com.sinyee.babybus.puzzle/images/share/v1/menu1.jpg",title:"3\u5c81\u4e4b\u524d\uff0c\u5b69\u5b50\u4e00\u5b9a\u8981\u8ba4\u8bc6\u8fd9\u4e9b\u65e5\u5e38\u7269\u54c1\uff01"},m=function(){function t(){this.shareConfig=null,this.shareList=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init(),console.log("test")),t.INSTANCE},t.prototype.init=function(){var t=this;if(this.shareConfig=l.default,n.default.isWechatGame())try{this.updateShareMenu("menu","\u53f3\u4e0a\u89d2");var e=wx.getLaunchOptionsSync();if(e&&e.query&&e.query.BBParams){var o=JSON.parse(e.query.BBParams),r=o.shareTitle;h.default.managerLog(_.ManagerName.ShareManager,"\u5fae\u4fe1\u53f3\u4e0a\u89d2\u53c2\u6570",o),h.default.managerLog(_.ManagerName.ShareManager,"\u5fae\u4fe1\u5206\u4eab\u6807\u9898"+r),r&&i.analyticsManager.recordEvent(a.default.SHARE,"\u5bfc\u91cf",r)}}catch(t){h.default.errorLog(_.ManagerName.ShareManager,"\u8bbe\u7f6e\u5fae\u4fe1\u53f3\u4e0a\u89d2\u53c2\u6570\u51fa\u9519","init\u65b9\u6cd5\u51fa\u9519"),i.analyticsManager.recordEvent(a.default.CATCH_ERROR,"BBParams format error")}n.default.isTouTiao()&&p.pbManager.getShareList().then(function(e){t.shareList=e}),h.default.managerLog(_.ManagerName.ShareManager,"\u521d\u59cb\u5316\u7ed3\u675f")},t.prototype.randomGetOneShareMessage=function(){return this.shareList&&0!==this.shareList.length?this.shareList[d.default.random(0,this.shareList.length-1)]:null},t.prototype.setShareConfig=function(t){this.shareConfig=t},t.prototype.updateShareMenu=function(t,e,o){void 0===o&&(o=null),r.default.get().showShareMenu(),r.default.get().updateShareMenu(this.onShareAppMessage.bind(this,t,e,o))},t.prototype.onShareAppMessage=function(t,e,o){void 0===o&&(o=null);var n=this.getShareItemByChanel(t),r={arg1:e,arg2:n.title},s={shareTitle:n.title};return n.query=this.getQuery(t,r,s,o),i.analyticsManager.recordEvent(a.default.SHARE,"\u70b9\u51fb",n.title),n},t.prototype.buttonShow=function(t){i.analyticsManager.recordEvent(a.default.SHARE_BUTTON,"\u66dd\u5149",t)},t.prototype.shareApp=function(t,e,o,n,s){var c=this;return void 0===o&&(o=null),void 0===n&&(n=null),void 0===s&&(s=1),i.analyticsManager.recordEvent(a.default.SHARE_BUTTON,"\u70b9\u51fb",e),new Promise(function(l,d){f.netUtil.getNetState().then(function(){o||(o=c.getShareItemByChanel(t));var p={arg1:e,arg2:o.title},h={shareTitle:o.title};i.analyticsManager.recordEvent(a.default.SHARE,"\u70b9\u51fb",o.title),u.audioManager.close(),r.default.get().shareApp(o.title,o.imageUrl,c.getQuery(t,p,h,n),s).then(function(){u.audioManager.fornt=!0,u.audioManager.open(),l(null)}).catch(function(){u.audioManager.fornt=!0,u.audioManager.open(),d()})}).catch(function(){g.default.toastShort("\u8bf7\u8fde\u63a5\u7f51\u7edc\u540e\u5206\u4eab"),d(new Error("no net"))})})},t.prototype.shareVideo=function(t){var e=this;return new Promise(function(o,i){if(n.default.isBaiduGame()&&swan.shareVideo)swan.shareVideo({videoPath:t,success:function(){h.default.managerLog(this,"\u5206\u4eab\u6210\u529f"),o(null)},fail:function(){h.default.managerLog(this,"\u5206\u4eab\u5931\u8d25"),i()}});else if(n.default.isTouTiao()&&tt.shareAppMessage){var a=e.randomGetOneShareMessage(),r={title:"",imageUrl:""};a&&(r.title=a.shareContent,r.imageUrl=a.sharePic),console.log("shareapp start",t),tt.shareAppMessage({channel:"video",title:r.title,imageUrl:r.imageUrl,query:"",extra:{videoPath:t,videoTopics:[],withVideoId:!0},success:function(){h.default.managerLog(this,"\u5206\u4eab\u89c6\u9891\u6210\u529f"),o(null)},fail:function(t){h.default.managerLog(this,"\u5206\u4eab\u89c6\u9891\u5931\u8d25"),console.log("shareapp fail",t),i(t)}})}else o(null)})},t.prototype.getShareItemByChanel=function(t){h.default.managerLog(_.ManagerName.ShareManager,"getShareItemByChanel:"+t);var e=this.shareConfig?this.shareConfig[t]:null,o=null;if(s.default.isNull(e))o=y;else{var i=s.default.getRandomItem(e);o=i&&i.title&&i.imageUrl?i:y}return n.default.isBaiduGame()&&c.BusinessGlobal.appIconPath&&(o.imageUrl=c.BusinessGlobal.appIconPath),o},t.prototype.getQuery=function(t,e,o,i){var n="TDChannelId="+t+"&AChannelId="+t+"&AParams="+JSON.stringify(e)+"&BBParams="+JSON.stringify(o);return i&&Object.keys(i).forEach(function(t){n+="&"+t+"="+i[t]}),n},t.INSTANCE=void 0,t}();o.ShareManager=m,o.shareManager=m.get(),cc._RF.pop()},{"../../../Config/ShareConfig":"ShareConfig","../../core/util/ArrayUtil":"ArrayUtil","../../core/util/LogUtil":"LogUtil","../../core/util/MathUtil":"MathUtil","../../core/util/NetUtil":"NetUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ShareUtil":"ShareUtil","../../core/util/ToastUtil":"ToastUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","./AnalyticsManager":"AnalyticsManager","./AudioManager":"AudioManager","./PBManager":"PBManager"}],ShareUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a979csifVJPJ5sqww1Cz7HY","ShareUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PlatformUtil"),n=t("./DateUtil"),a=function(){function t(){this.resolve=void 0,this.reject=void 0,this.hideTimeStamp=-1,this.successNeedTime=1}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){console.log("shareutil init"),i.default.isWechatGame()?(wx.onShow(this.onWxShow.bind(this)),wx.onHide(this.onWxHide.bind(this))):i.default.isBaiduGame()?(swan.onShow(this.onBaiduShow.bind(this)),swan.onHide(this.onBaiduHide.bind(this))):i.default.isTouTiao()&&(tt.onShow(this.onWxShow.bind(this)),tt.onHide(this.onWxHide.bind(this)))},t.prototype.onBaiduShow=function(){},t.prototype.onBaiduHide=function(){},t.prototype.setSuccessTime=function(t){this.successNeedTime=t},t.prototype.onWxShow=function(){var t=n.default.getTimeStamp()-this.hideTimeStamp;console.log("ShareUtil onWxShow",t,t>1e3*this.successNeedTime),t>1e3*this.successNeedTime?this.resolve&&(this.successNeedTime=1,this.resolve()):this.reject&&(this.successNeedTime=1,this.reject()),this.resolve=void 0,this.reject=void 0},t.prototype.onWxHide=function(){this.hideTimeStamp=n.default.getTimeStamp(),console.log("ShareUtil onWxHide:"+this.hideTimeStamp)},t.prototype.shareApp=function(t,e,o,n){var a=this;return void 0===n&&(n=1),console.log("shareApp:",t,e),new Promise(function(r,s){window.wx&&wx.shareAppMessage?(wx.shareAppMessage({title:t,imageUrl:e,query:o}),i.default.isWechatGame()?(a.setSuccessTime(n),a.resolve=r,a.reject=s):r(null)):i.default.isBaiduGame()?(swan.shareAppMessage({title:t,imageUrl:e,query:o}),r(null)):r(null)})},t.prototype.updateShareMenu=function(t){i.default.isWechatGame()&&wx.onShareAppMessage?wx.onShareAppMessage(t):i.default.isBaiduGame()?swan.onShareAppMessage(t):i.default.isTouTiao()&&tt.onShareAppMessage&&tt.onShareAppMessage(t)},t.prototype.showShareMenu=function(){i.default.isWechatGame()&&wx.showShareMenu({withShareTicket:!1})},t.INSTANCE=void 0,t}();o.default=a,cc._RF.pop()},{"./DateUtil":"DateUtil","./PlatformUtil":"PlatformUtil"}],ShowI18nToast:[function(t,e,o){"use strict";cc._RF.push(e,"1fe37D6fElAt6dhILi1q4QF","ShowI18nToast");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../business/helper/LoadStringHelper"),r=t("../../../core/util/ToastUtil"),s=cc._decorator.ccclass,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listToast=[],e.nowIndex=0,e.showCooling=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;try{Object.keys(a.loadStringHelper.getStrJson).forEach(function(e){t.listToast.push(a.loadStringHelper.getStrJson[e])})}catch(e){t.node.active=!1}},e.prototype.showEvent=function(){this.showCooling||(this.showCooling=!0,r.default.toastShort(this.listToast[this.nowIndex]),this.nowIndex>=this.listToast.length-1?this.nowIndex=0:this.nowIndex+=1,this.showCooling=!1)},e=n([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../business/helper/LoadStringHelper":"LoadStringHelper","../../../core/util/ToastUtil":"ToastUtil"}],SideBarItem:[function(t,e,o){"use strict";cc._RF.push(e,"bb3b3xrLY1B26xI9t9Q3Jpz","SideBarItem");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteIcon=null,e.nodeAni=null,e.spriteTagHotOrNew=null,e.labelSlogon=null,e}return i(e,t),n([s(cc.Sprite)],e.prototype,"spriteIcon",void 0),n([s(cc.Node)],e.prototype,"nodeAni",void 0),n([s(cc.Sprite)],e.prototype,"spriteTagHotOrNew",void 0),n([s(cc.Label)],e.prototype,"labelSlogon",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],SplashScene:[function(t,e,o){"use strict";cc._RF.push(e,"6b024jzM89HKoovP/gN+sWE","SplashScene");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Config/LibConfig"),r=t("./SplashUtil"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadNum=0,e.pb=null,e.nodePic=null,e.nodeBottom=null,e.nodeTop=null,e.labelLoading=null,e.labelEndYear=null,e.nodeHelth=null,e.listLabI18n=[],e.maxProgress=0,e.curProgress=0,e.needLoadConfig=null,e.hasLoad=!1,e}return i(e,t),e.prototype.startLoad=function(){var t=this;this.pb.progress=0,console.log("startLoad:"+cc.sys.platform);var e=null;if(r.default.isBaiduGame()&&swan.loadSubpackage)console.log("startLoad 1111"),e=this.baiduLoad();else if(r.default.isWechatGame()&&wx.loadSubpackage)console.log("startLoad 2222"),e=this.wechatLoad();else{if(!r.default.isOppo()||!qg.loadSubpackage||a.default.IsOPPOAttachAudioFile)return console.log("startLoad 4444"),void this.scheduleOnce(function(){t.setProgress(.5),t.startPreload()},2);console.log("startLoad 3333"),e=this.qgLoad()}e.onProgressUpdate&&e.onProgressUpdate(function(e){var o=0;try{var i=e.progress.replace(/[^0-9]/gi,"");o=.01*Number(i)*.5}catch(t){o=0}t.setProgress(o),console.log("onProgressUpdate Script",o)})},e.prototype.start=function(){var t=this;this.initView(),this.adapterView2(),this.adapterView(),this.startUpdateLoadingTask(),this.dealOppo(),this.setLoadingProgress(0);var e=0,o=function(){++e,t.setLoadingProgress(++e)};this.schedule(o,.01),this.scheduleOnce(function(){t.unschedule(o),t.setLoadingProgress(100),t.setLoadingComplete(),t.startLoad()},.5)},e.prototype.update=function(t){this.maxProgress+=.5*t;var e=this.maxProgress;e>1&&(e=1),this.maxProgress=e,this.updateProgress(),this.startPreload()},e.prototype.updateProgress=function(){var t=Math.min(this.maxProgress,this.curProgress);this.pb.progress=t},e.prototype.setProgress=function(t){t<this.curProgress||(this.curProgress=t,this.updateProgress())},e.prototype.setLoadingProgress=function(t){r.default.isOppo()&&qg.setLoadingProgress&&(t<0&&(t=0),t>100&&(t=100),qg.setLoadingProgress({progress:t}))},e.prototype.setLoadingComplete=function(){r.default.isOppo()&&qg.loadingComplete&&qg.loadingComplete({complete:function(t){console.log("setLoadingComplete complete",t)}})},e.prototype.dealOppo=function(){if(r.default.isOppo())try{qg.reportMonitor&&qg.reportMonitor("game_scene",0)}catch(t){console.log("dealOppo error")}},e.prototype.startPreload=function(){this.maxProgress<1||this.curProgress<.5||this.hasLoad||(this.hasLoad=!0,console.log("startPreload 222"),this.preloadRes())},e.prototype.onLoaded=function(t){var e=this;t?this.scheduleOnce(function(){e.preloadScene()},.3):(this.setProgress(1),cc.director.loadScene(r.default.getNextSceneName()))},e.prototype.baiduLoad=function(){var t=this;return console.log("startLoad 1111"),swan.loadSubpackage({name:"Script",success:function(){console.log("\u52a0\u8f7d\u6210\u529f"),t.scheduleOnce(function(){t.setProgress(.5),t.startPreload()},.1)},fail:function(){console.log("load Script fail"),t.scheduleOnce(function(){t.startLoad()},.3)}})},e.prototype.wechatLoad=function(){var t=this;return wx.loadSubpackage({name:"Script",success:function(){console.log("\u52a0\u8f7d\u6210\u529f"),t.scheduleOnce(function(){t.setProgress(.5),t.startPreload()},.1)},fail:function(e){console.log("load Script fail",e),t.scheduleOnce(function(){t.startLoad()},.3)}})},e.prototype.qgLoad=function(){var t=this;return qg.loadSubpackage({name:"Script",success:function(){console.log("\u52a0\u8f7d\u6210\u529f"),t.scheduleOnce(function(){t.setProgress(.5),t.startPreload()},.1)},fail:function(e){console.log("load Script fail",e),t.scheduleOnce(function(){t.startLoad()},.3)}})},e.prototype.initView=function(){"zh"===r.default.getLanguage()&&r.default.isTouTiao()||(this.nodeHelth.active=!1,this.listLabI18n[0].string="loading"),this.labelEndYear.string="Copyright\xa9 2010-"+String(r.default.getYear())+" BabyBus Co.,LTD,All Rights Reserved."},e.prototype.adapterView2=function(){var t=cc.find("Canvas"),e=t?t.getComponent(cc.Canvas):void 0;if(e){var o=e.designResolution,i=cc.view.getFrameSize();i.height/i.width-o.height/o.width>.01?(e.fitWidth=!0,e.fitHeight=!1,console.debug("\u6bd4\u8bbe\u8ba1\u66f4\u9ad8\uff0c\u6309\u5bbd\u9002\u914d")):(e.fitWidth=!1,e.fitHeight=!0,console.debug("\u6309\u9ad8\u9002\u914d"))}else console.error("\u672a\u627e\u5230Canvas\u8282\u70b9\u6216\u7ec4\u4ef6",t,e)},e.prototype.adapterView=function(){var t=cc.view.getFrameSize(),e=t.width,o=t.height,i=e/o;if(i>16/9){console.log("\u957f\u5c4f\u624b\u673a");var n=540/o;this.nodePic.width=e*n;var a=e*n/(960/450);this.nodePic.height=a,this.nodePic.y=.5*-(a-540),this.pb.node.scaleX=e*n/960,this.nodeTop.active=!1}else if(i===16/9)this.nodeTop.active=!1;else{console.log("\u5bbd\u5c4f\u624b\u673a");var r=o*(i=960/e)-540;this.nodeBottom.height+=.5*r,this.nodeTop.active=!0,this.nodeTop.height=.5*r}},e.prototype.startUpdateLoadingTask=function(){var t=this;this.schedule(function(){var e="\u6b63\u5728\u8f7d\u5165 ";"zh"!==r.default.getLanguage()&&(e="loading"),t.loadNum=(t.loadNum+1)%4;for(var o=0;o<t.loadNum;o++)e+=".";t.labelLoading.string=e},1)},e.prototype.preloadScene=function(){cc.director.preloadScene(r.default.getNextSceneName(),this.onProgress.bind(this),this.onLoaded.bind(this))},e.prototype.loadConfig=function(t){var e=this,o=this,i="/"+a.default.gameNo+"/soundConfig/"+t;return console.log("loadSoundConfig",i),new Promise(function(t,n){e.loadRes(i,cc.JsonAsset).then(function(e){o.needLoadConfig=e.json,console.log("loadSoundConfig success"),t()}).catch(function(t){console.log("loadSoundConfig fail",t),n()})})},e.prototype.loadImage=function(){var t=this;return new Promise(function(e,o){var i=0;if(t.needLoadConfig.publicImage&&(i+=t.needLoadConfig.publicImage.length),t.needLoadConfig.image&&(i+=t.needLoadConfig.image.length),0===i)return console.log("loadHelper config length 0"),void e(null);var n=0,a=!1,s=function(r,s){t.loadRes(r,cc.SpriteFrame).then(function(s){if(console.log("\u56fe\u7247\u52a0\u8f7d\u6210\u529f",r),!a){var c=(n+=1)/i;t.onProgressImage(c),n>=i&&(console.log("--------------\u56fe\u7247\u52a0\u8f7d\u5b8c\u6210,\u5171"+n+"\u4e2a------------------"),e&&(e(null),o=null,e=null))}}).catch(function(t){a=!0,console.error("\u56fe\u7247\u52a0\u8f7d\u9519\u8bef",r,s,t),o&&(o(),o=null,e=null)})};if(t.needLoadConfig.publicImage)for(var c=0;c<t.needLoadConfig.publicImage.length;c++){var l=t.needLoadConfig.publicImage[c];s(r.default.getComImagePath(l),l)}if(t.needLoadConfig.image)for(c=0;c<t.needLoadConfig.image.length;c++){l=t.needLoadConfig.image[c];s(r.default.getImagePath(l),l)}})},e.prototype.loadSound=function(){var t=this;return new Promise(function(e,o){var i=0;if(t.needLoadConfig.effect&&(i+=t.needLoadConfig.effect.length),t.needLoadConfig.word&&(i+=t.needLoadConfig.word.length),0===i)return console.log("loadHelper config length 0"),void e(null);for(var n=0,a=!1,s=function(r,s){t.loadRes(r,cc.AudioClip).then(function(s){if(console.log("\u97f3\u9891\u52a0\u8f7d\u6210\u529f",r),!a){var c=(n+=1)/i;t.onProgressSound(c),n>=i&&(console.log("--------------\u97f3\u9891\u52a0\u8f7d\u5b8c\u6210,\u5171"+n+"\u4e2a------------------"),e&&(e(null),o=null,e=null))}}).catch(function(t){a=!0,console.error("\u97f3\u9891\u52a0\u8f7d\u9519\u8bef",r,s,t),o&&(o(),o=null,e=null)})},c=0;c<t.needLoadConfig.effect.length;c++){var l=t.needLoadConfig.effect[c];s(r.default.getEffectPath(l),l)}for(c=0;c<t.needLoadConfig.word.length;c++){l=t.needLoadConfig.word[c];s(r.default.getLinePath(l),l)}})},e.prototype.preloadRes=function(){var t=this,e=this,o=r.default.getNextSceneName();console.log("preloadSound start:"+o),this.loadConfig(o).then(function(){console.log("preloadConfig success:"+o),t.loadSound().then(function(){console.log("preloadSound success:"+o),e.loadImage().then(function(){console.log("preloadImage success:"+o),e.preloadScene()}).catch(function(){console.log("preloadImage fail :"+o),e.preloadScene()})}).catch(function(){console.log("preloadSound fail "+o),t.preloadScene()})}).catch(function(){console.log("preloadSoundConfig fail "+o),t.preloadScene()})},e.prototype.loadRes=function(t,e){return new Promise(function(o,i){cc.loader.loadRes(t,e,function(t,e){t?i(t):o(e)})})},e.prototype.onProgressSound=function(t){this.setProgress(.1*t+.5)},e.prototype.onProgressImage=function(t){this.setProgress(.1*t+.6)},e.prototype.onProgress=function(t,e){var o=0===e?0:t/e;o*=.45,this.setProgress(o+.7)},n([l(cc.ProgressBar)],e.prototype,"pb",void 0),n([l(cc.Node)],e.prototype,"nodePic",void 0),n([l(cc.Node)],e.prototype,"nodeBottom",void 0),n([l(cc.Node)],e.prototype,"nodeTop",void 0),n([l(cc.Label)],e.prototype,"labelLoading",void 0),n([l(cc.Label)],e.prototype,"labelEndYear",void 0),n([l({tooltip:"\u5065\u5eb7\u5fe0\u544a\u8282\u70b9",type:cc.Node})],e.prototype,"nodeHelth",void 0),n([l({tooltip:"i18n\u6807\u7b7e\u7ec4",type:[cc.Label]})],e.prototype,"listLabI18n",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../Config/LibConfig":"LibConfig","./SplashUtil":"SplashUtil"}],SplashUtil:[function(t,e,o){"use strict";cc._RF.push(e,"5c2baaGnH9LmonOnnQ0BvS0","SplashUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Config/LibConfig"),n=function(){function t(){}return t.getNextSceneName=function(){return i.default&&i.default.gameNo?i.default.gameNo+"_Welcome":"Welcome"},t.getEffectPath=function(t){return i.default.gameNo+"/snd/"+t},t.getLanguage=function(){return i.default.i18n},t.getLinePath=function(t){return i.default.gameNo+"/i18n/"+this.getLanguage()+"/snd/"+t},t.getComImagePath=function(t){return i.default.gameNo+"/i18n/"+this.getLanguage()+"/com/image/"+t},t.getImagePath=function(t){return i.default.gameNo+"/i18n/"+this.getLanguage()+"/image/"+t},t.isBaiduGame=function(){return cc.sys.platform===cc.sys.BAIDU_GAME&&void 0!==window.swan},t.isWechatGame=function(){return cc.sys.platform===cc.sys.WECHAT_GAME&&!this.isTouTiao()&&!this.isKwaigame()&&void 0!==window.wx},t.isOppo=function(){return cc.sys.platform===cc.sys.OPPO_GAME&&void 0!==window.qg},t.isTouTiao=function(){return void 0!==window.tt},t.getYear=function(){return(new Date).getFullYear()},t.isKwaigame=function(){return null!==window.ks&&void 0!==window.ks},t}();o.default=n,cc._RF.pop()},{"../../../Config/LibConfig":"LibConfig"}],SpritePosition:[function(t,e,o){"use strict";cc._RF.push(e,"8b4a9Jf4AdMHLUIxUeCuHpu","SpritePosition");var i=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,r=n.property,s=function(){function t(){this.sprite=null,this.image=null,this.position=null,this.scale=1}return i([r(cc.Sprite)],t.prototype,"sprite",void 0),i([r(cc.SpriteFrame)],t.prototype,"image",void 0),i([r(cc.Vec2)],t.prototype,"position",void 0),i([r(cc.Float)],t.prototype,"scale",void 0),t=i([a("VipSpritePosition")],t)}();o.default=s,cc._RF.pop()},{}],StoreUtil:[function(t,e,o){"use strict";cc._RF.push(e,"297e2X+N9NP+Y/S8YjVfXuQ","StoreUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.set=function(t,e){try{cc.sys.localStorage.setItem(t,e)}finally{console.log("")}},t.get=function(t,e){try{var o=cc.sys.localStorage.getItem(t);return o||e}catch(t){return e}},t.remove=function(t){try{cc.sys.localStorage.removeItem(t)}finally{console.log("")}},t}();o.default=i,cc._RF.pop()},{}],SwitchManager:[function(t,e,o){"use strict";cc._RF.push(e,"860295V0aRNUYaLuN1/mb3U","SwitchManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/DeviceUtil"),n=t("../../core/util/PlatformUtil"),a=t("../../core/util/StoreUtil"),r=t("../constants/BusinessGlobal"),s=t("../../debug/plugins/codeLock/LibDebug"),c=t("../../core/util/LogUtil"),l=function(){function t(){this.oneMinSwitch=!0,this.isMainSwitch=1,this.isBanner=1,this.isGrid=1,this.isInterstitial=1,this.isRewarded=1,this.isNative=1,this.isRecommend=1,this.isSudoku=1}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){var t=this;if(n.default.isOppo()){this.oneMinSwitch=!1;var e=setTimeout(function(){t.oneMinSwitch=!0,cc.log("\u6211\u4e00\u5206\u949f\u540e\u6062\u590d\u4e86"),clearTimeout(e)},6e4)}},t.prototype.updateAdSwitch=function(t){t&&(void 0!==t.isMainSwitch&&null!==t.isMainSwitch&&(this.isMainSwitch=t.isMainSwitch),this.isBanner=t.isBanner,this.isGrid=t.isGrid,this.isRewarded=t.isRewarded,this.isInterstitial=t.isInterstitial,this.isNative=t.isNative,this.isRecommend=t.isRecommend,this.isSudoku=t.isSudoku)},t.prototype.isLocalPureVer=function(){return n.default.isBBMGSimulatePlatform()||n.default.isWeb()},t.prototype.isRewardOpen=function(){return!this.isLocalPureVer()&&(!i.deviceUtil.isChannelTale()&&(i.deviceUtil.isHostBabybus()?!i.deviceUtil.isRewardClose():r.BusinessGlobal.simulatePlatform!==n.SimulatePlatform.bbmg&&1===this.isRewarded))},t.prototype.isBannerOpen=function(){return!i.deviceUtil.isChannelTale()&&(1===this.isBanner&&this.oneMinSwitch)},t.prototype.isInterstitialOpen=function(){return!i.deviceUtil.isChannelTale()&&1===this.isInterstitial},t.prototype.isGridOpen=function(){return!i.deviceUtil.isChannelTale()&&1===this.isGrid},t.prototype.isNativeOpen=function(){return!(i.deviceUtil.isChannelTale()||i.deviceUtil.isHostBabybus()||1!==this.isNative||!this.oneMinSwitch)||(c.default.necessaryLog("\u7ba1\u7406\u8005 - \u539f\u751f\u5f00\u5173\u5173\u95ed\n\u4e00\u5206\u949f:"+this.oneMinSwitch+"\n-\u5f00\u5173:"+this.isNative),!1)},t.prototype.isSudokuOpen=function(){return!i.deviceUtil.isChannelTale()&&1===this.isSudoku},t.prototype.isAdVersion=function(){return console.log("isAdVersion 000"),!i.deviceUtil.isChannelTale()&&(!i.deviceUtil.isHostBabybus()&&(!this.isLocalPureVer()&&(console.log("isAdVersion 111",this.isMainSwitch),1===this.isMainSwitch)))},t.prototype.isRecommendOpen=function(){return!i.deviceUtil.isChannelTale()&&1===this.isRecommend},t.prototype.setDebug=function(t){void 0===t&&(t=!0),t&&a.default.set(s.default.debugStroyString,"1")},t.prototype.removeDebug=function(){a.default.remove(s.default.debugStroyString)},t.INSTANCE=null,t}();o.SwitchManager=l,o.switchManager=l.getInstance(),cc._RF.pop()},{"../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../../core/util/StoreUtil":"StoreUtil","../../debug/plugins/codeLock/LibDebug":"LibDebug","../constants/BusinessGlobal":"BusinessGlobal"}],TagManager:[function(t,e,o){"use strict";cc._RF.push(e,"a3421W8nLlIRZ4fSQnC44XJ","TagManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicStoreKey"),n=t("../../core/util/StoreUtil"),a=t("../../core/util/DateUtil"),r=function(){function t(){this.hasMoreGameRedPoint=!0}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.resetMoreGameClickRecord()},t.prototype.getMoreGameAppIndex=function(t){var e=i.default.MORE_GAME_SHOW_PRE+t;return Number(n.default.get(e,"-1"))},t.prototype.recordMoreGameAppIndex=function(t,e){var o=i.default.MORE_GAME_SHOW_PRE+t;return n.default.set(o,e)},t.prototype.resetMoreGameClickRecord=function(){var t=n.default.get(i.default.MORE_GAME_RECORD_DAY,""),e=""+a.default.todayZeroTimestamp();t!==e&&(n.default.remove(i.default.MORE_GAME_RECORD_CLICK),n.default.set(i.default.MORE_GAME_RECORD_DAY,e))},t.prototype.recordMoreGameItemClick=function(t){try{var e=JSON.parse(n.default.get(i.default.MORE_GAME_RECORD_CLICK,"{}"));e[t]="1",n.default.set(i.default.MORE_GAME_RECORD_CLICK,JSON.stringify(e))}catch(t){console.log(t)}},t.prototype.hasMoreGameItemClick=function(t){try{return"1"===JSON.parse(n.default.get(i.default.MORE_GAME_RECORD_CLICK,"{}"))[t]}catch(t){return!1}},t.prototype.getDialogAppIndex=function(t){var e=i.default.DIALOG_V_SHOW_PRE+t;return Number(n.default.get(e,"-1"))},t.prototype.recordDialogAppIndex=function(t,e){var o=i.default.DIALOG_V_SHOW_PRE+t;return n.default.set(o,e)},t.prototype.getRightSidebarIndex=function(){var t=i.default.RIGHT_SIDEBAR;return Number(n.default.get(t,"-1"))},t.prototype.recordRightSidebarIndex=function(t){var e=i.default.RIGHT_SIDEBAR;return n.default.set(e,""+t)},t.prototype.getGamePageIndex=function(){var t=i.default.GAME_PAGE_RECOMMEND;return Number(n.default.get(t,"-1"))},t.prototype.recordGamePageIndex=function(t){var e=i.default.GAME_PAGE_RECOMMEND;return n.default.set(e,""+t)},t.prototype.hasNewRecommendEffect=function(){var t=""+a.default.todayZeroTimestamp();return n.default.get(i.default.GAME_NEW_RECOMMEND,"")===t},t.prototype.recordNewRecommend=function(){var t=""+a.default.todayZeroTimestamp();return n.default.set(i.default.GAME_NEW_RECOMMEND,t)},t.INSTANCE=null,t}();o.default=r,o.tagManager=r.getInstance(),cc._RF.pop()},{"../../core/util/DateUtil":"DateUtil","../../core/util/StoreUtil":"StoreUtil","../constants/PublicStoreKey":"PublicStoreKey"}],TdUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b2211Way1ZEzrZGQPEAIKOk","TdUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.sdk=null}return t.get=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){window.GameGlobal&&(this.sdk=window.GameGlobal.tdAppSdk)},t.prototype.recordEvent=function(t,e,o){var i;this.sdk&&(e?this.sdk.event({id:t,label:"",params:(i={},i[e]=o||"\u672a\u8bbe\u7f6e",i)}):this.sdk.event({id:t,label:"",params:{"\u672a\u8bbe\u7f6e":"\u672a\u8bbe\u7f6e"}}))},t.INSTANCE=void 0,t}();o.TdUtil=i,o.tdUtil=i.get(),cc._RF.pop()},{}],ToastUtil:[function(t,e,o){"use strict";cc._RF.push(e,"70679L5dfJGmo5E3WuMm36B","ToastUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PlatformUtil"),n=t("../../business/constants/BusinessGlobal"),a=function(){function t(){}return t.toastShort=function(t){console.log("toastShort 111:"+t),window.wx&&wx.showToast?wx.showToast({title:t,icon:"none",duration:2e3}):i.default.isBaiduGame()?swan.showToast({title:t,icon:"none",duration:2e3}):i.default.isOppo()&&qg.showToast?(console.log("oppo toast bagin:"+t),qg.showToast({title:t,icon:"none",duration:2e3,success:function(){n.BusinessGlobal.toast&&n.BusinessGlobal.toast.showToast(t),console.log("oppo toastShort end :"+t)},fail:function(){console.log("toastShort error:"+t)}})):i.default.isVivo()&&qg.showToast?qg.showToast({message:t}):i.default.isBBMGSimulatePlatform()?BBFramework.deviceService.showToast(t):n.BusinessGlobal.toast?(console.log("toastShort 222:"+t),n.BusinessGlobal.toast.showToast(t)):console.log("toastShort error:"+t)},t}();o.default=a,cc._RF.pop()},{"../../business/constants/BusinessGlobal":"BusinessGlobal","./PlatformUtil":"PlatformUtil"}],Toast:[function(t,e,o){"use strict";cc._RF.push(e,"383d3g7uCNH8pVHGHjofLc3","Toast");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../business/constants/BusinessGlobal"),r=t("../util/DeviceUtil"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelText=null,e}return i(e,t),e.prototype.onLoad=function(){this.node&&(console.log("Toast onload"),this.node.x=.5*r.deviceUtil.getScreneWidth(),this.node.active=!1,this.node.zIndex=9999,cc.game.addPersistRootNode(this.node),a.BusinessGlobal.toast=this)},e.prototype.showToast=function(t){var e=this;this.hideToast(),this.labelText.string=t,this.node.active=!0,this.node.opacity=255,this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeOut(.5),cc.callFunc(function(){e.hideToast()})))},e.prototype.hideToast=function(){this.node.stopAllActions(),this.node.active=!1},n([l(cc.Label)],e.prototype,"labelText",void 0),e=n([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../business/constants/BusinessGlobal":"BusinessGlobal","../util/DeviceUtil":"DeviceUtil"}],UmUtil:[function(t,e,o){"use strict";cc._RF.push(e,"cbd08dJ+H5Mr7PIwbd+lW8w","UmUtil"),cc._RF.pop()},{}],UnlockMode:[function(t,e,o){"use strict";cc._RF.push(e,"99369se3QJFPLhBfiDDB501","UnlockMode"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.NONE="0",t.SHARE="1",t.VIDEO="2",t.TRY="3",t.UNABLE="4",t}();o.default=i,cc._RF.pop()},{}],VersionManager:[function(t,e,o){"use strict";cc._RF.push(e,"fef94b7MmdB3Ln9uJAOnEQD","VersionManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/PlatformUtil"),n=t("./AnalyticsManager"),a=t("../constants/PublicAnalyticsKey"),r=t("../constants/BusinessGlobal"),s=t("../../../Config/AppConfig"),c=t("../../core/util/LogUtil"),l=t("../constants/PublicConst"),u=function(){function t(){}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t,t.INSTANCE.init()),t.INSTANCE},t.prototype.init=function(){this.checkForUpdate(),this.openMemoryWarningListener()},t.prototype.openMemoryWarningListener=function(){i.default.isWechatGame()&&wx.onMemoryWarning&&wx.onMemoryWarning(function(t){c.default.managerLog(l.ManagerName.VersionManager,"\u5fae\u4fe1\u5185\u5b58\u8b66\u544a\u7b49\u7ea7:"+t.level),n.analyticsManager.recordEvent(a.default.FW_WARN,r.BusinessGlobal.curSceneName,""+t.level)})},t.prototype.checkForUpdate=function(){if(c.default.managerLog(l.ManagerName.VersionManager,"check update begin:"),i.default.isWechatGame()&&wx.getUpdateManager){var t=wx.getUpdateManager();t.onCheckForUpdate(function(t){c.default.managerLog(l.ManagerName.VersionManager,"update needUpdate:"+t.hasUpdate)}),t.onUpdateReady(function(){wx.showToast?(wx.showToast({title:"\b\b\u53d1\u73b0\u65b0\u7248\u672c"}),n.analyticsManager.recordEvent(a.default.VERSION_UPDATE,s.default.versionName),setTimeout(function(){t.applyUpdate()},1500)):(n.analyticsManager.recordEvent(a.default.VERSION_UPDATE,s.default.versionName),t.applyUpdate())})}},t.INSTANCE=null,t}();o.VersionManager=u,o.versionManager=u.getInstance(),cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../constants/PublicConst":"PublicConst","./AnalyticsManager":"AnalyticsManager"}],VibrateUtil:[function(t,e,o){"use strict";cc._RF.push(e,"c35536UuRtNoZzRgbIxJTs4","VibrateUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./PlatformUtil"),n=function(){function t(){}return t.vibrateShort=function(){i.default.isWechatGame()&&wx.vibrateShort?wx.vibrateShort():i.default.isBaiduGame()&&swan.vibrateShort?swan.vibrateShort():console.log("vibrateShort error")},t.vibrateLong=function(){i.default.isWechatGame()&&wx.vibrateLong?wx.vibrateLong():i.default.isBaiduGame()&&swan.vibrateLong?swan.vibrateLong():console.log("vibrateLong error")},t}();o.default=n,cc._RF.pop()},{"./PlatformUtil":"PlatformUtil"}],VideoRecorderManager:[function(t,e,o){"use strict";cc._RF.push(e,"b449eF9GSlFjrjVveKZ9CRX","VideoRecorderManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/LogUtil"),n=t("../../core/util/PlatformUtil"),a=t("../constants/BusinessGlobal"),r=t("../constants/PublicConst"),s=t("./KwaiRecorderHelper"),c=t("./ShareManager"),l=function(){function t(){this.recorder=null,this.videoPath="",this.onRecordStart=null,this.onRecordStop=null,this.name="videoRecorderManager",this.time=0,this.isRecording=!1,this.recordValid=!0,this.hasShare=!1,this.stopAutoRecordCallBack=!1,this.canShowRecordBtn=!0,this.isAutoRecording=!1,this.readyToAutoRecord=!1,this.readyToAutoRecordTime=0}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE},t.prototype.showRecordBtn=function(){this.canShowRecordBtn=!0,a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.node.active=!0,a.BusinessGlobal.recordBtn.toState())},t.prototype.hideRecordBtn=function(){this.canShowRecordBtn=!1,a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.node.active=!1)},t.prototype.setCallBack=function(t,e){n.default.isKwaigame()?s.kwaiRecorderHelper.setCallBack(t,e):(this.onRecordStart=t,this.onRecordStop=e)},t.prototype.getRecorder=function(){var t=this,e=this;return!this.recorder&&n.default.isTouTiao()&&tt.getGameRecorderManager&&(this.recorder=tt.getGameRecorderManager(),this.recorder.onStart(function(o){i.default.managerLog(r.ManagerName.VideoRecorderManager,"onStart viedo Path:"+o.microphoneStatus),console.log("=== VideoRecorderManager onStart"),t.onRecordStart&&e.onRecordStart()}),this.recorder.onStop(function(o){console.log("VideoRecorderManager onStop viedo Path:"+o.videoPath),e.recordValid&&(e.videoPath=o.videoPath),e.hasShare=!1,e.isRecording=!1,e.time=0,e.isAutoRecording=!1,e.onRecordStop&&e.onRecordStop(),e.stopAutoRecordCallBack&&(e.stopAutoRecordCallBack=!1),console.log("stopSwitchState",e.stopAutoRecordCallBack),a.BusinessGlobal.recordBtn&&!t.readyToAutoRecord&&(a.BusinessGlobal.recordBtn.node.active=t.canShowRecordBtn),e.readyToAutoRecord&&setTimeout(function(){console.log("=== onStop 222:"+t.readyToAutoRecord+" = "+t.readyToAutoRecordTime),e.startRecord(t.readyToAutoRecordTime),e.isAutoRecording=!0,a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.node.active=!1),t.readyToAutoRecord=!1},500)})),this.recorder},t.prototype.canUse=function(){var t=n.default.isTouTiao()&&null!==tt.getGameRecorderManager,e=n.default.isTouTiaoSimulatePlatform(),o=n.default.isKwaigame()&&null!==ks.getGameRecorder;return t||e||o},t.prototype.startAutoRecord=function(t){n.default.isKwaigame()?s.kwaiRecorderHelper.startAutoRecord(t):this.isRecording?(console.log("startAutoRecord 111"),this.readyToAutoRecord=!0,this.readyToAutoRecordTime=t,this.stopRecord(),a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.node.active=!1)):(console.log("startAutoRecord 222"),this.startRecord(t),this.isAutoRecording=!0,a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.node.active=!1))},t.prototype.stopAutoRecord=function(){console.log("stopAutoRecord 222"),n.default.isKwaigame()?s.kwaiRecorderHelper.stopAutoRecord():this.isRecording&&a.BusinessGlobal.recordBtn&&(a.BusinessGlobal.recordBtn.activeRecord||(this.stopAutoRecordCallBack=!0,a.BusinessGlobal.recordBtn.node.active=this.canShowRecordBtn,this.stopRecord()))},t.prototype.startRecord=function(t){void 0===t&&(t=60),i.default.managerLog(this,"record start"),n.default.isKwaigame()?s.kwaiRecorderHelper.startRecord(t):(this.recordValid=!0,this.videoPath="",this.time=t,this.isRecording=!0,this.getRecorder()&&this.getRecorder().start({duration:t}))},t.prototype.isVideoRecording=function(){return n.default.isKwaigame()?s.kwaiRecorderHelper.isRecording:this.isRecording},t.prototype.stopRecord=function(){if(i.default.managerLog(r.ManagerName.VideoRecorderManager,"record end"),n.default.isKwaigame())return s.kwaiRecorderHelper.stopRecord();this.isRecording=!1;var t=!0;return!this.isAutoRecording&&this.time>55&&(this.recordValid=!1,t=!1),this.time=0,this.getRecorder()&&this.getRecorder().stop(),t},t.prototype.getVideoPath=function(){return console.log("VideoRecorderManager getVideoPath",this.recordValid,this.videoPath),this.recordValid?this.videoPath:""},t.prototype.isShareValid=function(){return n.default.isKwaigame()?s.kwaiRecorderHelper.isShareValid():!!this.getVideoPath()},t.prototype.shareVideo=function(){if(n.default.isKwaigame())return s.kwaiRecorderHelper.publishVideo();var t=this.getVideoPath();return t?c.shareManager.shareVideo(t):new Promise(function(t,e){e()})},t.INSTANCE=null,t}();o.VideoRecorderManager=l,o.videoRecorderManager=l.getInstance(),cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicConst":"PublicConst","./KwaiRecorderHelper":"KwaiRecorderHelper","./ShareManager":"ShareManager"}],VipDialog:[function(t,e,o){"use strict";cc._RF.push(e,"aaf1384qIJGWLylsmz9Hd0e","VipDialog");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../BBChannel"),r=t("../../EventReport/EventReporter"),s=t("../CommonAudio"),c=t("./SpritePosition"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialog=null,e.shadow=null,e.blockInputNode=null,e.inviteOpenAudio=null,e.defaultConfig=[],e.xiaoDuConfig=[],e.tmallGenieConfig=[],e.origDialogScale=1,e.audioId=null,e.isPurchasing=!1,e}return i(e,t),e.prototype.updatePositionAndUI=function(t){var e;switch(t){case a.BBChannelType.XIAODU:e=this.xiaoDuConfig;break;case a.BBChannelType.TMALLGENIE:e=this.tmallGenieConfig;break;case a.BBChannelType.DEFAULT:default:e=this.defaultConfig}for(var o=0;o<e.length;o++){var i=e[o];i.sprite.spriteFrame=i.image,i.sprite.node.scale=i.scale,i.sprite.node.setPosition(i.position.x,i.position.y)}this.origDialogScale=this.dialog.scale},e.prototype.show=function(){var t=this;this.node.active=!0,this.shadow.node.active=!0,this.blockInputNode.active=!0,this.dialog.scale=.5*this.origDialogScale,this.dialog.stopAllActions(),this.dialog.runAction(cc.sequence(cc.scaleTo(.4,this.origDialogScale,this.origDialogScale).easing(cc.easeBackOut()),cc.callFunc(function(){t.blockInputNode.active=!1}))),this.audioId=cc.audioEngine.playEffect(this.inviteOpenAudio,!1),r.default.onVipDialogShow()},e.prototype.reset=function(){this.dialog.stopAllActions(),this.dialog.scale=.5*this.origDialogScale,this.node.active=!1,this.blockInputNode.active=!1,this.shadow.node.active=!1},e.prototype.close=function(t,e){var o=this;this.stopGuideAudio(),s.default.playClick(),this.blockInputNode.active=!0,this.dialog.scale=this.origDialogScale,this.dialog.stopAllActions(),this.dialog.runAction(cc.sequence(cc.scaleTo(.3,0,0).easing(cc.easeSineIn()),cc.callFunc(function(){o.reset()}))),r.default.onVipDialogClose("mask"===e)},e.prototype.onVipBtnClick=function(){var t=this;this.isPurchasing?console.warn("\u6b63\u5728\u6253\u5f00vip\u9875\u9762"):(s.default.playClick(),BBFramework.paymentService&&BBFramework.paymentService.support&&BBFramework.paymentService.support()?(this.isPurchasing=!0,BBFramework.paymentService.showPurchasePage({source:"VIP\u5c0f\u7a0b\u5e8f\u9996\u9875"}).then(function(){console.debug("VIP\u9875\u9762\u8c03\u7528\u6210\u529f"),t.isPurchasing=!1}).catch(function(e){t.isPurchasing=!1,console.error("VIP\u9875\u9762\u8c03\u7528\u5931\u8d25",e)})):BBFramework.deviceService.showToast("\u8bf7\u5728\u4f1a\u5458\u9875\u767b\u5f55\u6216\u8d2d\u4e70\u4f1a\u5458\u540e\u518d\u6765\u4f53\u9a8c"),r.default.onVipPurchaseTrigger())},e.prototype.onDestroy=function(){this.stopGuideAudio()},e.prototype.stopGuideAudio=function(){null!==this.audioId&&(cc.audioEngine.stop(this.audioId),this.audioId=null)},n([d({type:cc.Node,displayName:"\u5bf9\u8bdd\u6846"})],e.prototype,"dialog",void 0),n([d({type:cc.Button,displayName:"\u906e\u7f69"})],e.prototype,"shadow",void 0),n([d({type:cc.Node,displayName:"\u9632\u6b62\u70b9\u51fb\u8282\u70b9"})],e.prototype,"blockInputNode",void 0),n([d({type:cc.AudioClip,displayName:"\u9080\u8bf7\u5f00\u901aVIP\u97f3\u9891"})],e.prototype,"inviteOpenAudio",void 0),n([d({type:c.default})],e.prototype,"defaultConfig",void 0),n([d({type:c.default})],e.prototype,"xiaoDuConfig",void 0),n([d({type:c.default})],e.prototype,"tmallGenieConfig",void 0),e=n([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../BBChannel":"BBChannel","../../EventReport/EventReporter":"EventReporter","../CommonAudio":"CommonAudio","./SpritePosition":"SpritePosition"}],VivoBannerHelper:[function(t,e,o){"use strict";cc._RF.push(e,"22b6f/Z7y1C9ZK8U50MrOvC","VivoBannerHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../manager/AnalyticsManager"),a=t("../../core/util/PlatformUtil"),r=t("../interface/BannerPosition"),s=t("../../core/util/LogUtil"),c=t("../../core/util/DeviceUtil"),l="VivoBannerHelper",u=function(){function t(){this.bannerAd=null,this.isShowing=!1}return t.prototype.show=function(t,e){var o=this;return void 0===e&&(e=r.default.BOTTOM),this.isShowing=!0,new Promise(function(u,d){try{if(!t)return n.analyticsManager.recordEvent(i.default.BANNER,t,"\u4e0d\u5b58\u5728\u5e7f\u544aid"),void d();if(!a.default.isVivo()||!qg.createBannerAd)return n.analyticsManager.recordEvent(i.default.BANNER,t,"\u975evivo\u5e73\u53f0\u6216\u4e0d\u5b58\u5728\u521b\u5efa\u6a2a\u5e45\u5e7f\u544a\u7684\u65b9\u6cd5"),void d();var p=null;e===r.default.TOP?(s.default.fLog(l,"showTOP"),(p=qg.createBannerAd({adUnitId:t,style:{left:.5*(c.deviceUtil.screenWidth-1080),top:0}})).onSize(function(t){p.left=.5*(c.deviceUtil.screenWidth-t.width),s.default.fLog(l,"onSize:"+t.width+" = "+t.height)})):(s.default.fLog(l,"showBottom"),p=qg.createBannerAd({adUnitId:t,style:{}})),n.analyticsManager.recordEvent(i.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),o.bannerAd=p,o.bannerAd.onLoad(function(e){n.analyticsManager.recordEvent(i.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),s.default.fLog(l,"onLoad 111"),p===o.bannerAd&&(s.default.fLog(l,"onLoad 222"),p.show().then(function(){s.default.fLog(l,"show success"),n.analyticsManager.recordEvent(i.default.BANNER_COUNT,"\u66dd\u5149")}).catch(function(e){s.default.fLog(l,"show error:"+JSON.stringify(e)),n.analyticsManager.recordEvent(i.default.BANNER,t,e)}))}),o.bannerAd.onError(function(e){var a=e?e.errCode:"-999";n.analyticsManager.recordEvent(i.default.BANNER,t,a),console.log("showbanner onError ===11===",e.errCode),s.default.fLog(l,"onError 111",e.errCode),p===o.bannerAd&&(s.default.fLog(l,"onError"),d&&(n.analyticsManager.recordEvent(i.default.BANNER,t,e),d(e)))})}catch(t){console.log("showbanner error",JSON.stringify(t))}})},t.prototype.hide=function(t){var e=this;if(void 0===t&&(t=0),s.default.fLog(l,"hide",t),this.isShowing=!1,t<=3&&setTimeout(function(){e.isShowing||e.hide(t+1)},2e3),this.bannerAd)try{this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null}catch(t){console.log(t)}},t}();o.default=u,cc._RF.pop()},{"../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../interface/BannerPosition":"BannerPosition","../manager/AnalyticsManager":"AnalyticsManager"}],VivoInterstitialHelper:[function(t,e,o){"use strict";cc._RF.push(e,"96255bkkBpHxpfpF1xWt1Om","VivoInterstitialHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/LogUtil"),n=t("../../core/util/PlatformUtil"),a=t("../constants/PublicAnalyticsKey"),r=t("../manager/AnalyticsManager"),s="VivoInterstitialHelper",c=function(){function t(){this.interstitialAd=null,this.isLoaded=!1,this.cb=null}return t.prototype.init=function(t,e){this.cb=e,this.initVivoAd(t)},t.prototype.initVivoAd=function(t){var e=this;n.default.isVivo()&&qg.createInterstitialAd?t?(i.default.fLog(s,"createInterstitialAd"),this.isLoaded=!1,this.interstitialAd=qg.createInterstitialAd({adUnitId:t}),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.interstitialAd.onLoad(function(){i.default.fLog(s,"onLoad"),e.isLoaded=!0,r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u6210\u529f")}),this.interstitialAd.onClose(function(){i.default.fLog(s,"onClose"),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5173\u95ed"),e.cb&&e.cb.onClose&&e.cb.onClose();try{e.initVivoAd(t)}catch(t){i.default.fLog(s,"\u91cd\u65b0\u521b\u5efa\u5931\u8d25",t)}}),this.interstitialAd.onError(function(o){i.default.fLog(s,"onError: "+o.errCode+" = "+o.errMsg),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u9519\u8bef:"+o.errCode),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t,o.errCode),e.cb&&e.cb.onError&&e.cb.onError()})):i.default.fLog(s,"\u5e7f\u544aid\u4e3a\u7a7a"):i.default.fLog(s,"\u4e0d\u5b58\u5728createInterstitialAd\u65b9\u6cd5")},t.prototype.show=function(){return this.isLoaded=!1,this.interstitialAd.show(),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_COUNT,"\u66dd\u5149"),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5c55\u793a\u6210\u529f"),!0},t.prototype.isAdLoaded=function(){return this.isLoaded},t}();o.default=c,cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],VivoRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"cf83fFqTxZFQIjvYk/sBS0J","VivoRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=t("../../../Config/AppConfig"),s=function(){function t(){this.rewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.rewardUnitId=null}return t.prototype.isValid=function(){return!r.default.qgameHasAd||this.isLoaded},t.prototype.show=function(){var t=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),r.default.qgameHasAd?new Promise(function(e,o){t.resolve=e,t.reject=o,t.getRewardAd()&&t.isLoaded?(t.isLoaded=!1,console.log("vivorewardhelper show 222"),t.getRewardAd().show().then().catch(function(t){console.log("vivo rewardhelper show Error"),o()})):o()}):new Promise(function(t,e){t(null)})},t.prototype.init=function(t){r.default.qgameHasAd&&this.initReward(t)},t.prototype.initReward=function(t){t&&(this.rewardUnitId=t,n.default.isVivo()&&qg.createRewardedVideoAd&&(console.log("vivorewardhelper initReward"),console.log(this.rewardUnitId),this.rewardAd=qg.createRewardedVideoAd({posId:this.rewardUnitId}),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),console.log("vivorewardhelper initReward2")))},t.prototype.getRewardAd=function(){return this.rewardUnitId?(this.rewardAd||this.initReward(this.rewardUnitId),this.rewardAd):null},t.prototype.activeLoad=function(){this.getRewardAd()&&(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),console.log("activeLoad2"),this.getRewardAd().load())},t.prototype.onError=function(t){var e=this;++this.errorTimes,console.log("onError:"+this.errorTimes),console.log(t);var o=t?t.errCode:"-999";a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)},t.prototype.onLoad=function(){console.log("onLoad:"),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),this.errorTimes=0,this.isLoaded=!0},t.prototype.onClose=function(t){console.log("onClose:"),console.log(t),void 0===t||t&&t.isEnded?(console.log("kanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u5b8c\u6210\u6b21\u6570"),this.resolve&&this.resolve()):(console.log("weikanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\u6b21\u6570"),this.reject&&this.reject()),this.resolve=null,this.reject=null,a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()},t}();o.default=s,cc._RF.pop()},{"../../../Config/AppConfig":"AppConfig","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],WxBannerHelper:[function(t,e,o){"use strict";cc._RF.push(e,"b152fShBNdL9Lg5IelrMorZ","WxBannerHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/DeviceUtil"),n=t("../constants/PublicAnalyticsKey"),a=t("../manager/AnalyticsManager"),r=t("../../core/util/PlatformUtil"),s=t("../manager/SwitchManager"),c=t("../interface/BannerPosition"),l=t("../manager/CustomAdManager"),u=t("../constants/BusinessGlobal"),d=t("../../core/util/LogUtil"),p=r.default.isTouTiao()?185:300,h=9*p/16,f=function(){function t(){this.bannerAd=null}return t.prototype.showCustomPos=function(t,e,o){var c=this;return s.switchManager.isBannerOpen()?new Promise(function(s,l){if(!o)return a.analyticsManager.recordEvent(n.default.BANNER,o,"\u4e0d\u5b58\u5728\u5e7f\u544aid"),void l();if(r.default.isWechatGame()&&i.deviceUtil.isIphoneX())return a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5fae\u4fe1\u5e73\u53f0\u82f9\u679cX\u4e0d\u5c55\u793a"),void l();if(!window.wx||!wx.createBannerAd)return a.analyticsManager.recordEvent(n.default.BANNER,o,"\u975e\u5fae\u4fe1\u5e73\u53f0\u6216\u4e0d\u5b58\u5728\u521b\u5efabanner\u65b9\u6cd5"),void l();var u=i.deviceUtil.screenHeight-h-i.deviceUtil.cocos2Unit(e),d=i.deviceUtil.cocos2Unit(t)-.5*p,f=wx.createBannerAd({adUnitId:o,style:{left:d,top:u,width:p}});a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),c.bannerAd=f,c.bannerAd.onLoad(function(){a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),f===c.bannerAd&&(r.default.isWechatGame()&&(f.style.top=i.deviceUtil.screenHeight-f.style.realHeight-i.deviceUtil.cocos2Unit(e)),f.show().then(function(){if(a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5e7f\u544a\u5c55\u793a\u91cf"),s){var t={height:i.deviceUtil.unit2Cocos(f.style.realHeight),width:i.deviceUtil.unit2Cocos(f.style.realWidth)};a.analyticsManager.recordEvent(n.default.BANNER_COUNT,"\u66dd\u5149"),s(t)}}).catch(function(t){a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(t),l&&(a.analyticsManager.recordEvent(n.default.BANNER,o,t),l(t))}))}),c.bannerAd.onError(function(t){var e=t?t.errCode:"-999";a.analyticsManager.recordEvent(n.default.BANNER,o,e),console.log("onError ===11===",t),f===c.bannerAd&&l&&(a.analyticsManager.recordEvent(n.default.BANNER,o,t),l(t))})}):new Promise(function(t,e){a.analyticsManager.recordEvent(n.default.BANNER,o,"\u5e7f\u544a\u5f00\u5173\u5173\u95ed"),e()})},t.prototype.show=function(t,e){var o=this;return void 0===e&&(e=c.default.TOP),new Promise(function(n,a){if(r.default.isWechatGame()&&i.deviceUtil.isIphoneX())a();else{var s=e===c.default.TOP?"createTopAd":"showBanner";e===c.default.TOP&&l.customAdManager.hideTopAd(),++u.BusinessGlobal.bannerTimes%2==1?o.showBanner(t,e).then(function(t){n(t)}).catch(function(){l.customAdManager[s]().then(function(t){n(t)}).catch(function(t){a(t)})}):l.customAdManager[s]().then(function(t){n(t)}).catch(function(){o.showBanner(t,e).then(function(t){n(t)}).catch(function(t){a(t)})})}})},t.prototype.showBanner=function(t,e){var o=this;return void 0===e&&(e=c.default.TOP),new Promise(function(l,u){if(!s.switchManager.isBannerOpen())return d.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u5c55\u793a\u5931\u8d25:\u5f00\u5173\u5173\u95ed"),void u();if(!t)return d.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u5c55\u793a\u5931\u8d25:\u4e0d\u5b58\u5728\u5355\u5143id"),void u();var f=e===c.default.TOP?0:i.deviceUtil.screenHeight-h;if(!window.wx||!wx.createBannerAd)return d.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u5c55\u793a\u5931\u8d25:\u975e\u5fae\u4fe1/\u4e0d\u5b58\u5728\u521b\u5efa\u65b9\u6cd5"),void u();var g=wx.createBannerAd({adUnitId:t,style:{left:.5*(i.deviceUtil.screenWidth-p),top:f,width:p}});a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),o.bannerAd=g,o.bannerAd.onLoad(function(){a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),g===o.bannerAd&&(r.default.isWechatGame()&&(g.style.top=e===c.default.TOP?0:i.deviceUtil.screenHeight-g.style.realHeight+.1),g.show().then(function(){if(a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u5c55\u793a\u91cf"),l){var e={height:i.deviceUtil.unit2Cocos(g.style.realHeight),width:i.deviceUtil.unit2Cocos(g.style.realWidth)};a.analyticsManager.recordEvent(n.default.BANNER_COUNT,"\u66dd\u5149"),l(e)}}).catch(function(e){a.analyticsManager.recordEvent(n.default.BANNER,t,"\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),d.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u5c55\u793a\u5931\u8d25:",e),u&&u(e)}))}),o.bannerAd.onError(function(e){var i=e?e.errCode:"-999";a.analyticsManager.recordEvent(n.default.BANNER,t,i),console.log("onError ===11===",e),d.default.errorLog("\u6a2a\u5e45\u5e7f\u544a \u5c55\u793a\u5931\u8d25:",e),g===o.bannerAd&&u&&u(e)})})},t.prototype.hideBanner=function(){this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destory&&this.bannerAd.destory(),this.bannerAd.destroy&&this.bannerAd.destroy(),this.bannerAd=null)},t.prototype.hide=function(){this.hideBanner(),l.customAdManager.hideBanner()},t}();o.default=f,cc._RF.pop()},{"../../core/util/DeviceUtil":"DeviceUtil","../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/BusinessGlobal":"BusinessGlobal","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../interface/BannerPosition":"BannerPosition","../manager/AnalyticsManager":"AnalyticsManager","../manager/CustomAdManager":"CustomAdManager","../manager/SwitchManager":"SwitchManager"}],WxInterstitialHelper:[function(t,e,o){"use strict";cc._RF.push(e,"ab174PumshMd42l5ogCd8/T","WxInterstitialHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/util/LogUtil"),n=t("../../core/util/PlatformUtil"),a=t("../constants/PublicAnalyticsKey"),r=t("../manager/AnalyticsManager"),s="WxInterstitialHelper",c=function(){function t(){this.interstitialAd=null,this.isLoaded=!1,this.cb=null,this.unitId=null,this.errorTimes=0}return t.prototype.init=function(t,e){this.cb=e,this.unitId=t,this.initAd(t)},t.prototype.destoryAd=function(){this.interstitialAd&&(this.interstitialAd.destroy(),this.interstitialAd=null)},t.prototype.initAd=function(t){var e=this;window.wx&&wx.createInterstitialAd?t?(i.default.fLog(s,"initWechatAd"),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u521b\u5efa"),this.isLoaded=!1,this.interstitialAd=wx.createInterstitialAd({adUnitId:t}),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.interstitialAd.onLoad(function(){i.default.fLog(s,"onLoad"),e.isLoaded=!0,r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u6210\u529f")}),this.interstitialAd.onClose(function(){i.default.fLog(s,"onClose"),n.default.isTouTiao()&&e.ttReload(),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5173\u95ed"),e.cb&&e.cb.onClose&&e.cb.onClose()}),this.interstitialAd.onError(function(o){i.default.fLog(s,"onError: "+o.errCode+" = "+o.errMsg),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u9519\u8bef:"+o.errCode),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t,o.errCode),e.cb&&e.cb.onError&&e.cb.onError()})):i.default.fLog(s,"\u5e7f\u544aid\u4e3a\u7a7a"):i.default.fLog(s,"\u4e0d\u5b58\u5728wx.createInterstitialAd\u65b9\u6cd5")},t.prototype.show=function(){var t=this;return n.default.isTouTiao()?(this.interstitialAd.show().then(function(){r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5c55\u793a\u6210\u529f"),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_COUNT,"\u66dd\u5149")}).catch(function(e){i.default.fLog(s,"\u5934\u6761\u6253\u5370\u53ef\u80fd\u662f\u6210\u529f\uff0c\u5b9e\u9645\u5c55\u793a\u5931\u8d25 onError: "+e.errCode+" = "+e.errMsg),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t.unitId,e.errCode)}),!1):(this.isLoaded=!1,this.interstitialAd.show(),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_COUNT,"\u66dd\u5149"),!0)},t.prototype.isAdLoaded=function(){return this.isLoaded},t.prototype.ttReload=function(){var t=this,e=this;this.destoryAd(),this.interstitialAd=wx.createInterstitialAd({adUnitId:this.unitId}),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,this.unitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.interstitialAd.onLoad(function(){i.default.fLog(s,"onLoad"),e.isLoaded=!0,r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u6210\u529f")}),this.interstitialAd.onClose(function(){i.default.fLog(s,"onClose"),n.default.isTouTiao()&&e.ttReload(),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u5173\u95ed"),e.cb&&e.cb.onClose&&e.cb.onClose()}),this.interstitialAd.onError(function(o){i.default.fLog(s,"onError: "+o.errCode+" = "+o.errMsg),r.analyticsManager.recordEvent(a.default.INTERSTITIAL,"\u52a0\u8f7d\u9519\u8bef:"+o.errCode),r.analyticsManager.recordEvent(a.default.INTERSTITIAL_MODULE,t.unitId,o.errCode),e.cb&&e.cb.onError&&e.cb.onError()})},t}();o.default=c,cc._RF.pop()},{"../../core/util/LogUtil":"LogUtil","../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],WxNetUtil:[function(t,e,o){"use strict";cc._RF.push(e,"03a2cOOH9xNdpZXFgYXPyp+","WxNetUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.get=function(t){return new Promise(function(e,o){wx.request({url:t,method:"GET",success:function(t){e(t)},fail:function(t){o(t)}})})},t}();o.default=i,cc._RF.pop()},{}],WxRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"16364HEgvlNE4LthxMWEu75","WxRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=function(){function t(){this.wxRewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.path=null,this.rewardUnitId=null}return t.prototype.isValid=function(){return this.isLoaded},t.prototype.show=function(t){var e=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),new Promise(function(o,i){e.resolve=o,e.reject=i,e.path=t,e.getWxRewardAd()&&e.isLoaded?(e.getWxRewardAd().show().then().catch(function(t){e.reject&&(e.reject(t),e.reject=null,e.resolve=null)}),e.isLoaded=!1):i()})},t.prototype.init=function(t){this.initReward(t)},t.prototype.initReward=function(t){t&&(this.rewardUnitId=t,window.wx&&wx.createRewardedVideoAd&&(console.log("wxrewardhelper initReward 333"),this.wxRewardAd=wx.createRewardedVideoAd({adUnitId:this.rewardUnitId}),this.wxRewardAd.onError(this.onWxError.bind(this)),this.wxRewardAd.onLoad(this.onWxLoad.bind(this)),this.wxRewardAd.onClose(this.onWxClose.bind(this)),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()))},t.prototype.getWxRewardAd=function(){return this.rewardUnitId?(this.wxRewardAd||this.initReward(this.rewardUnitId),this.wxRewardAd):null},t.prototype.activeLoad=function(){this.getWxRewardAd()&&(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.getWxRewardAd().load())},t.prototype.onWxError=function(t){var e=this;++this.errorTimes,console.log("onWxError:"+this.errorTimes);var o=t?String(t.errCode):"-999";if(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),"1004"!==o&&"1003"!==o||!n.default.isTouTiao()){switch(o){case"1008":case"1007":case"1006":case"1005":case"1002":case"1001":return}this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)}else this.reject&&(this.reject(t),this.resolve=null,this.reject=null)},t.prototype.onWxLoad=function(){console.log("onWxLoad:"),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),this.errorTimes=0,this.isLoaded=!0},t.prototype.onWxClose=function(t){void 0===t||t&&t.isEnded?(console.log("kanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u5b8c\u6210\u6b21\u6570"),this.resolve&&(a.analyticsManager.recordEvent(i.default.REWARD_BUTTON,"\u5b8c\u6210",this.path),this.resolve())):(console.log("weikanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\u6b21\u6570"),this.reject&&this.reject()),this.resolve=null,this.reject=null,a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()},t}();o.default=r,cc._RF.pop()},{"../../core/util/PlatformUtil":"PlatformUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],XiaoMiRewardHelper:[function(t,e,o){"use strict";cc._RF.push(e,"3adebwQkbhLiZNtYNJXAzL3","XiaoMiRewardHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../constants/PublicAnalyticsKey"),n=t("../../core/util/PlatformUtil"),a=t("../manager/AnalyticsManager"),r=t("../../core/util/ToastUtil"),s=function(){function t(){this.rewardAd=null,this.isLoaded=!1,this.errorTimes=0,this.resolve=null,this.reject=null,this.rewardUnitId=null}return t.prototype.isValid=function(){return this.isLoaded},t.prototype.init=function(t){this.initReward(t)},t.prototype.initReward=function(t){t&&(this.rewardUnitId=t,n.default.isXiaoMi()&&qg.createRewardedVideoAd?(this.rewardAd=qg.createRewardedVideoAd({adUnitId:this.rewardUnitId}),this.rewardAd.onError(this.onError.bind(this)),this.rewardAd.onLoad(this.onLoad.bind(this)),this.rewardAd.onClose(this.onClose.bind(this)),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()):console.log("xiaomirewardhelper initReward fail no api"))},t.prototype.onLoad=function(){console.log("xiaomirewardhelper onLoad:"),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6210\u529f\u6b21\u6570"),this.errorTimes=0,this.isLoaded=!0},t.prototype.onError=function(t){var e=this;++this.errorTimes;var o=t?t.errCode:"-999";a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,o),console.log("xiaomirewardhelper onError:"+o),this.errorTimes<=3?this.activeLoad():this.errorTimes<=6&&setTimeout(function(){e.activeLoad()},3e3)},t.prototype.activeLoad=function(){console.log("activeLoad"),this.getRewardAd()&&(a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),console.log("activeLoad2"),this.getRewardAd().load())},t.prototype.show=function(){var t=this;return a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u6b21\u6570"),new Promise(function(e,o){t.resolve=e,t.reject=o,t.getRewardAd()&&t.isLoaded?qg&&qg.getNetworkType?qg.getNetworkType({success:function(e){var i=e.networkType;console.log("xiaomi getNetworkType success:"+i),"none"!==i?(t.isLoaded=!1,t.getRewardAd().show()):(r.default.toastShort("\u7f51\u7edc\u5f02\u5e38,\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"),o(),console.log("xiaomi show 333"))},fail:function(){console.log("xiaomi getNetworkType fail"),o()}}):(console.log("xiaomi show 222"),o()):o()})},t.prototype.getRewardAd=function(){return this.rewardUnitId?(this.rewardAd||this.initReward(this.rewardUnitId),this.rewardAd):null},t.prototype.onClose=function(t){console.log("xiaomirewardhelper onClose:"),console.log(t),void 0===t||t&&t.isEnded?(console.log("xiaomirewardhelper kanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u5b8c\u6210\u6b21\u6570"),this.resolve&&(console.log("opporewardhelper kanwan 2222"),this.resolve())):(console.log("weikanwan "),a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u64ad\u653e\u4e2d\u9014\u9000\u51fa\u6b21\u6570"),this.reject&&this.reject()),this.resolve=null,this.reject=null,a.analyticsManager.recordEvent(i.default.REWARD,this.rewardUnitId,"\u5e7f\u544a\u8bf7\u6c42\u6b21\u6570"),this.activeLoad()},t}();o.default=s,cc._RF.pop()},{"../../core/util/PlatformUtil":"PlatformUtil","../../core/util/ToastUtil":"ToastUtil","../constants/PublicAnalyticsKey":"PublicAnalyticsKey","../manager/AnalyticsManager":"AnalyticsManager"}],ZIndex:[function(t,e,o){"use strict";cc._RF.push(e,"a51c0LqPQ9JHasnZqtVESiM","ZIndex");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zIndex=0,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=this.zIndex},n([s({tooltip:"",type:cc.Integer})],e.prototype,"zIndex",void 0),e=n([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],"aiolos-conf":[function(t,e,o){"use strict";cc._RF.push(e,"10e02SCvLVK+LNWBpgeIU5y","aiolos-conf"),o.config={appName:"\u5b9d\u5b9d\u9493\u9c7c",versionName:"0.0.1",versionCode:1,release:!0,appType:"web-mobile",wechatgameAppID:"",wechatgameAppKey:"",baidugameAppID:"",baidugameAppKey:"",toutiaoAppID:"",toutiaoAppKey:"",quickgameAppID:"",quickgameAppKey:"",qgameAppID:"",qgameAppKey:"",kwaigameAppID:"",kwaigameAppKey:"",appKey:"00",productID:0,projectID:2754,autoGetOpenID:!0,chCode:"web-mobile",isDebugMode:!1,platform:0,platform2:0,verCode:"0.0.1",verID:1},cc._RF.pop()},{}],aiolosInit:[function(t,e,o){"use strict";cc._RF.push(e,"26ab3n4ERZKwZiAfgp9gPE6","aiolosInit");var i=a(t("./libs/bb-analysis.min")),n=a(t("./libs/aiolos-conf"));function a(t){return t&&t.__esModule?t:{default:t}}(window.wx||window.tt||window.qg||window.swan||window.ks)&&i.default.init(n.default.config),cc._RF.pop()},{"./libs/aiolos-conf":"aiolos-conf","./libs/bb-analysis.min":"bb-analysis.min"}],ajax:[function(t,e,o){"use strict";cc._RF.push(e,"e089d/D4NFPtIMpUG2G8Ih3","ajax");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../babybusUtils"),a=t("../dataAnalysis/reporter"),r=t("./cookieHelper"),s=t("./systemInfo");function c(t,e,o,a){var s=t.concatSortParams(e.getUserAgent()),c=t.encryptXxTea(s),l=t.signMd5(c,!1),u=(+new Date).toString(),d="",p="";if(a){var h=JSON.stringify(a,function(t,e){return null===e?void 0:e});p=t.encryptXxTea(h),d=t.signMd5(p,!1)}var f={ProductID:e.getProductId(),HeaderMD5:l,SignatureStamp:u,EncryptType:1,AccessToken:n.uuidNoSeperator(),ContentMD5:d},g=t.concatSortParams(f),_=t.signMd5(g.toLocaleLowerCase(),!0);f.SignatureMD5=_;var y=t.concatSortParams(f),m={ClientHeaderInfo:c,"Content-Type":"application/octet-stream"},v=r.addCookiesToHeader(o);return v.extraHeader&&(m=i({},m,v.extraHeader)),{url:o+(o.indexOf("?")>-1?"&":"?")+y,data:p,header:m,domain:v.domain}}function l(t,e){a.default.getInstance().reportAnalytics(t,e)}var u=function(){function t(t,e,o){void 0===o&&(o=!0),this.signature=null,this.userAgent=null,this.systemInfo=null,this.reportFail=!0,this.signature=t,this.userAgent=e,this.reportFail=o}return t.prototype.get=function(t,e){var o=this;return void 0===e&&(e={}),this.systemInfo||(this.systemInfo=s.default.getInstance()),new Promise(function(i,n){if(!o.systemInfo.isConnected())return console.debug("\u7f51\u7edc\u5df2\u65ad\u5f00\uff0c"+t+" \u65e0\u9700\u8bf7\u6c42"),void n(new Error("\u5f53\u524d\u7f51\u7edc\u5df2\u65ad\u5f00\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\uff01"));o.request(o.signature,o.userAgent,t,e,"GET","json",i,n)})},t.prototype.post=function(t,e){var o=this;return void 0===e&&(e={}),this.systemInfo||(this.systemInfo=s.default.getInstance()),new Promise(function(i,n){if(!o.systemInfo.isConnected())return console.debug("\u7f51\u7edc\u5df2\u65ad\u5f00\uff0c"+t+" \u65e0\u9700\u8bf7\u6c42"),void n(new Error("\u5f53\u524d\u7f51\u7edc\u5df2\u65ad\u5f00\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\uff01"));o.request(o.signature,o.userAgent,t,e,"POST","json",i,n)})},t.prototype.request=function(t,e,o,i,n,a,r,s){var u=this;void 0===a&&(a="json"),console.debug("#### "+o+" \u5f00\u59cb\u8bf7\u6c42...",i);try{var d=+new Date,p=c(t,e,o,i),h=new XMLHttpRequest;h.onreadystatechange=function(){console.debug("#### "+o+" \u8bf7\u6c42 onreadystatechange\uff1a",h.readyState),4===h.readyState&&(h.status>=200&&h.status<400?u.decrypyResponse(t,h,r,s,o,i,p.domain):(console.error("#### "+o+" \u8bf7\u6c42\u5931\u8d25\uff1a",h.status,h.responseText),u.systemInfo.isConnected()&&u.reportFail&&l("request_failed",{url:o,data:JSON.stringify(i),fail_type:"\u8bf7\u6c42\u5931\u8d25\u72b6\u6001\u56de\u8c03",info:h.responseText}),s&&s(new Error("\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\uff01"))))};var f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error("#### "+o+" \u8bf7\u6c42\u5931\u8d25\uff1a",t),u.systemInfo.isConnected()&&u.reportFail&&l("request_failed",{url:o,data:JSON.stringify(i),fail_type:"\u8bf7\u6c42\u5931\u8d25\u7f51\u7edc\u5f02\u5e38",info:JSON.stringify(t)}),s&&s(new Error("\u7f51\u7edc\u4e0d\u7ed9\u529b\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e\uff01"))},g=function(){console.debug("#### "+o+" \u8bf7\u6c42\u5b8c\u6210\uff01"),console.debug("#### "+o+" \u672c\u6b21\u8bf7\u6c42\u8017\u65f6\uff1a",+new Date-d,"ms"),h.removeEventListener("error",f),h.removeEventListener("loadend",g)};for(var _ in h.addEventListener("error",f),h.addEventListener("loadend",g),h.open(n,p.url,!0),p.header)h.setRequestHeader(_,p.header[_]),console.debug("#### "+o+" header "+_+": "+p.header[_]);h.send(p.data)}catch(t){console.error("#### \u8bf7\u6c42\u5931\u8d25\uff1a",t),this.reportFail&&l("request_failed",{url:o,data:JSON.stringify(i),fail_type:"\u4ee3\u7801\u51fa\u9519",info:JSON.stringify(t)}),s&&s(t)}},t.prototype.decrypyResponse=function(t,e,o,i,n,a,s){try{r.processCookiesFromHeader(e,s)}catch(t){console.error("#### cookie\u89e3\u6790\u5931\u8d25\uff1a",t),this.reportFail&&l("cookie_parse_failed",{url:n,data:JSON.stringify(a),fail_type:"cookie\u89e3\u6790\u5931\u8d25",info:JSON.stringify({result:e.response,error:t})})}try{var c=t.decryptXxTea(e.responseText),u=JSON.parse(c);"0"==u.resultCode?(console.debug("#### \u8bf7\u6c42\u8fd4\u56de\u6570\u636e\uff1a",u.data,o),o&&o(u.data)):(console.error("#### "+n+" \u8bf7\u6c42\u5931\u8d25\uff1a",{resultCode:u.resultCode,resultMessage:u.resultMessage}),this.reportFail&&l("request_failed",{url:n,data:JSON.stringify(a),fail_type:"\u975e0\u7ed3\u679c\u7801",info:JSON.stringify({resultCode:u.resultCode,resultMessage:u.resultMessage})}),i&&i(new Error("\u670d\u52a1\u5668\u9519\u8bef\uff08"+u.resultCode+"\uff09\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")))}catch(t){console.error("#### "+n+" \u89e3\u5bc6\u5931\u8d25\uff1a",t),this.reportFail&&l("request_failed",{url:n,data:JSON.stringify(a),fail_type:"\u89e3\u5bc6\u5931\u8d25",info:JSON.stringify({result:e.response,error:t})}),i&&i(new Error("\u6570\u636e\u89e3\u6790\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01"))}},t}();o.default=u,cc._RF.pop()},{"../babybusUtils":"babybusUtils","../dataAnalysis/reporter":"reporter","./cookieHelper":"cookieHelper","./systemInfo":"systemInfo"}],analysisService:[function(t,e,o){"use strict";cc._RF.push(e,"c51fdSpIxRGhYSloZ0v0Myt","analysisService");var i=this&&this.__rest||function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&(o[i[n]]=t[i[n]])}return o};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../babybusUtils"),a=t("../ajax"),r=t("../signature"),s=t("../usage"),c=t("../userAgent"),l=t("./userService"),u="https://apitj.kidvideo.cn",d={DeviceInit:u+"/ActionData/DeviceInit",Register:u+"/ActionData/Register",EventData:u+"/ActionData/EventData"},p="analysis.data",h=(function(){}(),function(){}(),function(){function t(){this.isDeviceInitCalled=!1,this.isFirstAppOnShowCalled=!1,this.currentPage={prevPath:void 0,path:void 0,startTime:0},this.eventAddTime=0,this.isPersisting=!1,this.continueToPersist=!1,this.autoEventProcessTimer=void 0,this.isUploadingEvent=!1,this.callIdentity=0;try{var t=n.StorageAdapter.getStorageSync(p);if(t&&Array.isArray(t.completedSessions)&&Array.isArray(t.completedEvents)){this.completedSessions=t.completedSessions,this.completedEvents=t.completedEvents,t.currentSession&&t.currentSession.CreateDate>0&&this.completedSessions.push(t.currentSession);var e=new Date;e.setHours(0,0,0,0);var o=e.getTime();return this.completedSessions.filter(function(t){return t.CreateDate>=o}),void this.completedEvents.filter(function(t){return t.CreateDate>=o})}}catch(t){console.error("[AS] \u521d\u59cb\u5316\u5206\u6790\u7cfb\u7edf\u6570\u636e\u5931\u8d25",t)}this.completedSessions=[],this.completedEvents=[]}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.prototype.init=function(t,e,o,i){if(void 0===i&&(i=!0),!this.ajax){if(!t||!e||!o)throw new Error("[AS] \u53c2\u6570\u4e0d\u5168 "+t+" "+e+" "+o);var n=new r.default(e,o),s=new c.default({ProductID:t});return this.ajax=new a.default(n,s,!1),this._sessionStart(!0),i&&this._deviceInit(!1),this}return this},t.prototype.lateDeviceInit=function(){this.isDeviceInitCalled||this._deviceInit(!1)},t.prototype._deviceInit=function(t){var e,o,i=this;return void 0===t&&(t=!0),l.default.getInstance().getOpenId().then(function(){var t;return e=i.completedSessions.slice(),t=(o=i.currentSession)?e.concat(i.currentSession):e,console.debug("[AS] \u8bbe\u5907\u521d\u59cb\u5316"),i.isDeviceInitCalled=!0,i.ajax.post(d.DeviceInit,i._transformSessionForUpload(t))}).then(function(n){n.initdata?(s.default.getInstance().update(n.initdata),o&&(o.hasLaunchReport=!0),console.debug("[AS] \u8bbe\u5907\u521d\u59cb\u5316\u6210\u529f\uff0c\u8fc7\u6ee4\u524d",i.completedSessions),i.completedSessions=i.completedSessions.filter(function(t){return e.indexOf(t)<0}),console.debug("[AS] \u8fc7\u6ee4\u540e",i.completedSessions),t||(i._persist(),i._uploadEventData())):console.warn("[AS] \u8bbe\u5907\u521d\u59cb\u5316\u4f46\u65e0\u6570\u636e\u8fd4\u56de")}).catch(function(e){if(console.error("[AS] \u8bbe\u5907\u521d\u59cb\u5316\u6216\u83b7\u53d6OpenId\u5931\u8d25",e),t)throw new Error("[AS] \u8bbe\u5907\u521d\u59cb\u5316\u63a5\u53e3\u8c03\u7528\u5931\u8d25")})},t.prototype._transformSessionForUpload=function(t){return t.map(function(t){var e=t.isLaunch,o=t.hasLaunchReport,n=i(t,["isLaunch","hasLaunchReport"]);return n.IsUpdate=e&&o?1:0,n})},t.prototype.appOnShow=function(){if(!this.ajax)throw new Error("[AS] \u5e94\u7528\u663e\u793a\u65f6\u5206\u6790\u670d\u52a1\u672a\u521d\u59cb\u5316");console.debug("[AS] \u5e94\u7528\u663e\u793a");var t=Date.now();if(this.currentPage.startTime=t,this.isFirstAppOnShowCalled){if(this.currentSession){if(this.currentSession.CreateDate<=0)return void(this.currentSession.CreateDate=t);throw new Error("[AS] \u975e\u5e94\u7528\u9996\u6b21\u663e\u793a\uff0c\u4f46\u6709\u4f1a\u8bdd\u5b58\u5728\uff0c\u662f\u5426\u672a\u6b63\u5e38\u7ed3\u675f\u6216\u91cd\u590d\u8c03\u7528\uff1f")}this._sessionStart()}else this.isFirstAppOnShowCalled=!0},t.prototype._sessionStart=function(t){if(void 0===t&&(t=!1),this.currentSession){if(this.currentSession.Seconds<=0)throw new Error("[AS] \u65b0\u5efa\u4f1a\u8bdd\u65f6\uff0c\u65e7\u4f1a\u8bdd\u6ca1\u7ed3\u675f");this.completedSessions.push(this.currentSession)}return this.currentSession={SessionID:n.uuidNoSeperator(),CreateDate:Date.now(),Seconds:0,isLaunch:t},t&&(this.currentSession.hasLaunchReport=!1),console.debug("[AS] \u4f1a\u8bdd\u5f00\u59cb",this.currentSession.SessionID),this.currentSession},t.prototype.appOnHide=function(){console.debug("[AS] \u5e94\u7528\u9690\u85cf"),this.currentPage.path&&this._switchPage(this.currentPage.path),this._sessionEnd(),this._persist(),this._uploadSessionData()},t.prototype._sessionEnd=function(){if(!this.currentSession)throw new Error("[AS] \u672a\u5f00\u59cb\u4f1a\u8bdd\u5374\u8981\u7ed3\u675f");if(this.currentSession.Seconds>0)throw new Error("[AS] \u5f53\u524d\u4f1a\u8bdd\u6709\u65f6\u957f\uff0c\u91cd\u590d\u7ed3\u675f");this.currentSession.Seconds=Math.round((Date.now()-this.currentSession.CreateDate)/1e3),this.completedSessions.push(this.currentSession),console.debug("[AS] \u4f1a\u8bdd\u7ed3\u675f "+this.currentSession.SessionID+"\uff0c\u65f6\u957f = "+this.currentSession.Seconds),this.currentSession={SessionID:n.uuidNoSeperator(),CreateDate:0,Seconds:0,isLaunch:!1}},t.prototype.pageOnShow=function(t){if(t||console.error("[AS] \u7f3a\u5c11\u6709\u6548\u9875\u9762\u8def\u5f84\uff0cpath = "+t),console.debug("[AS] \u9875\u9762\u663e\u793a",t),!this.currentPage.path)return this.currentPage.path=t,void(this.currentPage.startTime=Date.now());this.currentPage.path!==t&&this._switchPage(t)},t.prototype._switchPage=function(t){var e=Math.max(Math.round((Date.now()-this.currentPage.startTime)/1e3),0),o=this._transformPageEvent(this.currentPage.path,this.currentPage.startTime,e,this.currentPage.prevPath);this._addEvent(o),console.debug("[AS] \u5207\u6362\u9875\u9762\u8bb0\u5f55\uff0c\u5f53\u524d\u9875\u9762 "+this.currentPage.path+"\uff0c\u65f6\u957f "+e+"\uff0c\u65b0\u9875\u9762 "+t),this.currentPage.prevPath=this.currentPage.path,this.currentPage.path=t,this.currentPage.startTime=Date.now()},t.prototype._transformPageEvent=function(t,e,o,i){if(!t)throw new Error("[AS] \u751f\u6210\u9875\u9762\u8bbf\u95ee\u4e8b\u4ef6\u65f6\uff0c\u9875\u9762\u8def\u5f84\u65e0\u6548 "+t);if(o<0)throw new Error("[AS] \u751f\u6210\u9875\u9762\u8bbf\u95ee\u4e8b\u4ef6\u65f6\uff0c\u65f6\u957f\u65e0\u6548 "+o);var n={SessionID:this.currentSession.SessionID,EventCode:"\u8bbf\u95ee\u9875\u9762",PathData:{Target:{SectionCode:"\u9ed8\u8ba4",PageCode:t}},CreateDate:e,Read:{ReadSecond:o,PageSecond:o},EventArg:{Args:{Arg1:t}}};return i&&(n.PathData.Source={SectionCode:"\u9ed8\u8ba4",PageCode:i}),n},t.prototype.reportSingleEvent=function(t,e,o){if(void 0===o&&(o=this.currentPage.path),!t)throw new Error("[AS] \u4e8b\u4ef6\u540d\u4e3a\u7a7a");console.debug("[AS] \u4e0a\u62a5\u7b80\u5355\u4e8b\u4ef6\uff0c"+t+" "+o,e);var i=this._transformEventArgs(e),n={SessionID:this.currentSession.SessionID,EventCode:t,EventArg:i?{Args:i}:void 0,PathData:o?{Source:{SectionCode:"\u9ed8\u8ba4",PageCode:o}}:void 0,CreateDate:Date.now()};this._addEvent(n)},t.prototype.reportFullEvent=function(t,e,o,i,n){if(!t)throw new Error("[AS]\u4e8b\u4ef6\u540d\u4e3a\u7a7a");var a=o&&(o.sectionCode||o.pageCode||o.areaCode||o.navCode)?{SectionCode:o.sectionCode||void 0,PageCode:o.pageCode||void 0,AreaCode:o.areaCode||void 0,NavCode:o.navCode||void 0}:void 0;a&&(a.AreaCode&&!a.PageCode&&(a.PageCode="\u672a\u6307\u5b9a"),a.PageCode&&!a.SectionCode&&(a.SectionCode="\u672a\u6307\u5b9a"));var r=i&&(i.sectionCode||i.pageCode)?{SectionCode:i.sectionCode||void 0,PageCode:i.pageCode||void 0}:void 0;r&&r.PageCode&&!r.SectionCode&&(r.SectionCode="\u672a\u6307\u5b9a");var s=this._transformEventArgs(e),c=o&&o.data?this._transformEventArgs(o.data):void 0,l=i&&i.data?this._transformEventArgs(i.data):void 0;if(o&&!o.dataCode&&c)throw new Error("[AS] \u6709\u6765\u6e90\u6570\u636e\u4f46\u6ca1\u6570\u636e\u4ee3\u7801");if(i&&!i.dataCode&&l)throw new Error("[AS] \u6709\u76ee\u6807\u6570\u636e\u4f46\u6ca1\u6570\u636e\u4ee3\u7801");var u=n&&("number"==typeof n.readSecond||"number"==typeof n.scrollCount||"number"==typeof n.pageNo||n.state)?{ReadSecond:"number"==typeof n.readSecond?n.readSecond:void 0,ScrollCount:"number"==typeof n.scrollCount?n.scrollCount:void 0,PageNo:"number"==typeof n.pageNo?n.pageNo:void 0,State:n.state||void 0}:void 0;console.debug("[AS] \u4e0a\u62a5\u5b8c\u6574\u4e8b\u4ef6\uff0c"+t,e,o,i,n);var d={SessionID:this.currentSession.SessionID,EventCode:t,EventArg:s?{Args:s}:void 0,PathData:a||r?{Source:a,Target:r}:void 0,DataArgs:o&&o.dataCode||i&&i.dataCode?{Source:o&&o.dataCode?{DataCode:o.dataCode,Args:c}:void 0,Target:i&&i.dataCode?{DataCode:i.dataCode,Args:l}:void 0}:void 0,CreateDate:Date.now(),Read:u};this._addEvent(d)},t.prototype._transformEventArgs=function(t){if(t){if(!Array.isArray(t)&&"object"!=typeof t)throw new Error("[AS] \u4e8b\u4ef6\u53c2\u6570\u7c7b\u578b\u5f02\u5e38\uff0c\u4e0d\u662f\u6570\u7ec4\u4e5f\u4e0d\u662f\u5bf9\u8c61 "+typeof t);if(Array.isArray(t)){if(t.length>10)throw new Error("[AS] \u4e8b\u4ef6\u53c2\u6570\u6570\u91cf\u8d85\u8fc7\u9650\u5236 "+JSON.stringify(t)+"\uff0c\u957f\u5ea6 "+t.length);if(t.length>0){var e={Arg1:void 0},o=0;return t.forEach(function(t,i){void 0!==t&&null!==t?(e["Arg"+(o+1)]="string"!=typeof t?JSON.stringify(t):t,o++):console.warn("[AS] \u6570\u7ec4\u65e0\u6548\u5c5e\u6027 "+i+" "+typeof t+" "+t)}),o>0?e:void 0}}else if("object"==typeof t){var i=Object.keys(t).filter(function(e){return!(!t.hasOwnProperty(e)||"function"==typeof t[e]||void 0===t[e]||null===t[e])||(console.warn("[AS] \u5bf9\u8c61\u65e0\u6548\u5c5e\u6027 "+e+" "+typeof t[e]+" "+t[e]),!1)}).sort();if(i.length>0){if(i.length>10)throw new Error("[AS] \u4e8b\u4ef6\u53c2\u6570\u6570\u91cf\u8d85\u8fc7\u9650\u5236 "+i+"\uff0c\u957f\u5ea6 "+i.length);var n={Arg1:void 0};return i.forEach(function(e,o){var i=t[e];n["Arg"+(o+1)]="string"!=typeof i?JSON.stringify(i):i}),n}}}},t.prototype._addEvent=function(t){console.debug("[AS] \u65b0\u589e\u4e8b\u4ef6",t),this.completedEvents.push(t),this.eventAddTime++,this.eventAddTime>=3&&(this._persist(),this.eventAddTime=0),this.completedEvents.length>=6&&this._uploadEventData()},t.prototype._persist=function(){var t=this;this.isPersisting?this.continueToPersist=!0:(console.debug("[AS] \u5f00\u59cb\u6301\u4e45\u5316"),this.isPersisting=!0,n.StorageAdapter.setStorage({key:p,data:{completedSessions:this.completedSessions,completedEvents:this.completedEvents,currentSession:this.currentSession},complete:function(){console.debug("[AS] \u6301\u4e45\u5316\u5b8c\u6bd5"),t.isPersisting=!1,t.continueToPersist&&(t.continueToPersist=!1,t._persist())}}))},t.prototype._ensureDeviceEverInit=function(){return s.default.getInstance().hasInit()?new Promise(function(t){t(null)}):this._deviceInit()},t.prototype._uploadSessionData=function(){var t=this;this._ensureDeviceEverInit().then(function(){if(t.completedSessions.length>0){console.debug("[AS] \u4e0a\u62a5\u4f1a\u8bdd\u6570\u636e");var e=t.completedSessions.slice();return t.ajax.post(d.Register,t._transformSessionForUpload(e)).then(function(){console.debug("[AS] \u8bbe\u5907\u6ce8\u518c\u63a5\u53e3\u8c03\u7528\u6210\u529f\uff0c\u4f1a\u8bdd\u65f6\u957f\u6570\u636e\u5df2\u4e0a\u62a5"),t.completedSessions=t.completedSessions.filter(function(t){return e.indexOf(t)<0}),t._persist()})}console.debug("[AS] \u65e0\u4f1a\u8bdd\u9700\u8981\u4e0a\u62a5")}).catch(function(t){console.error("[AS] \u4e0a\u62a5\u4f1a\u8bdd\u6570\u636e\u5931\u8d25",t)})},t.prototype._clearEventProcessTimer=function(){this.autoEventProcessTimer&&(console.debug("[AS] \u6e05\u7a7a\u4e8b\u4ef6\u5904\u7406\u8ba1\u65f6\u5668"),clearTimeout(this.autoEventProcessTimer),this.autoEventProcessTimer=void 0)},t.prototype._resetEventProcessTimer=function(){var t=this;this._clearEventProcessTimer(),console.debug("[AS] \u91cd\u7f6e\u4e8b\u4ef6\u5904\u7406\u8ba1\u65f6\u5668"),this.autoEventProcessTimer=setTimeout(function(){console.debug("[AS] \u4e8b\u4ef6\u81ea\u52a8\u5904\u7406\u89e6\u53d1"),t._persist(),t._uploadEventData()},9e4)},t.prototype._uploadEventData=function(){var t=this;this.callIdentity++;var e=this.callIdentity;console.debug("[AS] "+e+" \u8c03\u7528\u4e8b\u4ef6\u6570\u636e\u4e0a\u62a5"),this.isUploadingEvent?console.debug("[AS] "+e+" \u6b63\u5728\u4e0a\u62a5\uff0c\u5f85\u4e0a\u62a5\u5b8c\u6bd5\u540e\u81ea\u52a8\u5904\u7406"):(this.isUploadingEvent=!0,this._clearEventProcessTimer(),this._ensureDeviceEverInit().then(function(){if(t.completedEvents.length>0){var o=t.completedEvents.slice(0,6);return console.debug("[AS] "+e+" \u5f00\u59cb\u4e0a\u62a5\u4e8b\u4ef6\u6570\u636e",o),t.ajax.post(d.EventData,o).then(function(){t.completedEvents=t.completedEvents.filter(function(t){return o.indexOf(t)<0}),console.debug("[AS] "+e+" \u4e8b\u4ef6\u6570\u636e\u63a5\u53e3\u8c03\u7528\u6210\u529f\uff0c\u8fc7\u6ee4\u540e",t.completedEvents),t._persist()})}console.debug("[AS] "+e+" \u65e0\u4e8b\u4ef6\u9700\u8981\u4e0a\u62a5")}).catch(function(t){return console.error("[AS] "+e+" \u4e8b\u4ef6\u6570\u636e\u4e0a\u62a5\u5931\u8d25",t),!0}).then(function(o){if(console.debug("[AS] "+e+" \u4e8b\u4ef6\u4e0a\u62a5\u5904\u7406\u5b8c\u6bd5"),t.isUploadingEvent=!1,t.completedEvents.length>0){if(!o)return console.debug("[AS] "+e+" \u6709\u65b0\u4e8b\u4ef6\u9700\u8981\u7ee7\u7eed\u4e0a\u62a5"),void t._uploadEventData();console.debug("[AS] "+e+" \u5931\u8d25\u540e\u5373\u4f7f\u6709\u6570\u636e\u4e5f\u4e0d\u7ee7\u7eed\u4e0a\u4f20")}t._resetEventProcessTimer()}))},t}());o.default=h,cc._RF.pop()},{"../../babybusUtils":"babybusUtils","../ajax":"ajax","../signature":"signature","../usage":"usage","../userAgent":"userAgent","./userService":"userService"}],audio_duration:[function(t,e,o){"use strict";cc._RF.push(e,"1d0397+3LlIur4lr/5RAqDF","audio_duration"),window.bbf_audio_duration={125101:4.929,125102:2.425,125103:2.686,125104:4.616,125105:3.312,125106:3.39,125107:3.025,228001:2.977,228002:3.322,228003:3.248,228004:2.563,228005:2.875,228006:2.255,228007:3.98,228009:2.668,228010:1.432,228011:1.916,228012:3.94,228013:2.2,228014:3.128,228015:3.214,228016:1.092,228017:2.244,228018:1.247,228019:.928,228020:1.183,228021:1.096,228022:1.034,228023:.955,228024:.93,228025:1.273,228026:1.216,228027:.824,228028:3.152,228029:1.714,228030:1.52,228031:1.18,228032:1.651,228033:1.989,228034:1.279,228035:2.159,228036:2.308,228037:1.857,228038:4.391,228039:1.505,228040:3.219,228041:1.469,228042:4.407,228043:.795,228044:.895,228045:.917,228046:.641,228047:1.186,228048:.94,228049:1.17,228050:1.116,228051:.874,228052:1.16,228053:1.241,228054:.914,228055:1.245,228056:1.435,228057:1.233,228058:1.236,228059:1.204,228060:1.184,228061:1.153,228062:.9,228063:1.146,228064:1.412,228065:1.513,228066:.818,228067:5.35,228068:4.814,228069:4.556,228070:3.704,228071:1.471,228072:1.219,228073:1.653,228074:1.186,228075:1.894,228076:2.555,228077:2.556,228078:2.756,228079:2.109,228080:1.718,228081:1.896,228082:1.282,228083:2.551,228084:3.465,228085:2.317,228086:1.301,228087:2.978,228088:1.608,228089:3.092,228090:1.639,228091:.76,228092:.859,228093:1.177,228094:.737,228095:2.411,228096:1.423,228097:1.054,228098:1.205,228099:3.097,228100:1.546,228101:1.662,228102:1.857,228104:1.361,228106:1.448,228107:2.16,228108:2.659,228109:2.813,228110:2.628,228111:2.392,228112:1.484,228113:2.408,228114:1.606,228115:1.635,228116:1.81,228117:1.836,228118:2.07,228119:1.914,228120:1.758,"touch ":.13},cc._RF.pop()},{}],babybusReporterAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"2e406rpNT5IQLjLFAA0B4wz","babybusReporterAdapter"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../Config/DataAnalysisConfig"),n=t("../network/service/analysisService"),a=function(){function t(){var t=this;if(!i.default.babybusConfig)throw new Error("TD\u672a\u6b63\u5e38\u5f15\u7528\u53ca\u914d\u7f6e\uff08\u4ec5\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883\u652f\u6301\uff09");this.analysisService=n.default.getInstance();var e=i.default.babybusConfig;this.analysisService.init(e.ProductID,e.sign.signKey,e.sign.xxTeaKey,!1),this.analysisService.appOnShow(),cc.game.on(cc.game.EVENT_SHOW,function(){t.analysisService.appOnShow()},this),cc.game.on(cc.game.EVENT_HIDE,function(){t.analysisService.appOnHide()},this)}return t.prototype.pageOnShow=function(t){this.analysisService.pageOnShow(t)},t.prototype.reportAnalytics=function(t,e){"request_failed"!==t&&"cookie_parse_failed"!==t&&this.analysisService.reportSingleEvent(t,e)},t.prototype.reportShare=function(t,e){},t}();o.default=a,cc._RF.pop()},{"../../../../Config/DataAnalysisConfig":"DataAnalysisConfig","../network/service/analysisService":"analysisService"}],babybusUtils:[function(t,e,o){"use strict";cc._RF.push(e,"b74e4i/ZnhFwrwctXVIb0et","babybusUtils"),Object.defineProperty(o,"__esModule",{value:!0});var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx";function a(t){void 0===t&&(t=i);var e="";return e||(e=t.replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),e}o.uuid=a,o.uuidNoSeperator=function(){return a(n)},o.compareVersion=function(t,e){for(var o=t.split("."),i=e.split("."),n=Math.max(o.length,i.length);o.length<n;)o.push("0");for(;i.length<n;)i.push("0");for(var a=0;a<n;a++){var r=parseInt(o[a]),s=parseInt(i[a]);if(r>s)return 1;if(r<s)return-1}return 0};var r=function(){function t(){}return t.setStorage=function(e){setTimeout(function(){try{t.setStorageSync(e.key,e.data),e.success&&e.success()}catch(t){e.fail&&e.fail(t)}finally{e.complete&&e.complete()}},1)},t.getStorage=function(e){setTimeout(function(){try{var o=t.getStorageSync(e.key);e.success&&e.success(o)}catch(t){e.fail&&e.fail(t)}finally{e.complete&&e.complete()}},1)},t.setStorageSync=function(t,e){try{localStorage.setItem(t,JSON.stringify({realData:e}))}catch(t){}},t.getStorageSync=function(t){try{var e=localStorage.getItem(t);return"string"==typeof e&&e.indexOf("realData")>=0?JSON.parse(e).realData:e}catch(t){return null}},t}();o.StorageAdapter=r,cc._RF.pop()},{}],"bb-analysis.min":[function(t,e,o){(function(t){"use strict";cc._RF.push(e,"daed9cvOj9EY72RebnNtXy1","bb-analysis.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){l(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function a(t){return(a="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":o(t)})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,o){return e&&s(t.prototype,e),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){if(e&&("object"==(void 0===e?"undefined":o(e))||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,i=u(t);if(e){var n=u(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return p(this,o)}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var i,n,a=[],r=!0,s=!1;try{for(o=o.call(t);!(r=(i=o.next()).done)&&(a.push(i.value),!e||a.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return a}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return _(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function y(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=g(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function m(){return Date.parse(new Date)/1e3}function v(t){return Math.round(t/1e3)}var b=!1,S=!0;function w(){return"".concat(function(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";if(t instanceof Date)e=t;else{if(!/^-?\d+$/.test(t))return console.error("\u65f6\u95f4\u683c\u5f0f\u5316\u5931\u8d25\uff0c\u53c2\u6570dateOrStamp\u9519\u8bef\uff1a",t),"\u65f6\u95f4\u9519\u8bef";e=new Date(parseInt(t))}var i={yyyy:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),H:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),S:(""+(e.getMilliseconds()+1e3)).substring(1),MM:(""+(e.getMonth()+101)).substring(1),dd:(""+(e.getDate()+100)).substring(1),HH:(""+(e.getHours()+100)).substring(1),mm:(""+(e.getMinutes()+100)).substring(1),ss:(""+(e.getSeconds()+100)).substring(1)};return o.replace(/(y+|M+|d+|H+|s+|m+|S)/g,function(t){return i[t]})}(new Date,"HH:mm:ss")," \u3010BB\u7edf\u8ba1\u3011 ")}var A=["log","info","warn","debug","error"].reduce(function(t,e){return n(n({},t),{},l({},e,function(){var t,o,i,n,a;b||"error"!==e?b&&(""===arguments[0]?"debug"!==e||S?(t=console)[e].apply(t,arguments):(o=console).log.apply(o,arguments):"debug"!==e||S?(i=console)[e].apply(i,[w()].concat(Array.prototype.slice.call(arguments))):(n=console).log.apply(n,[w()].concat(Array.prototype.slice.call(arguments)))):(a=console).error.apply(a,[w()].concat(Array.prototype.slice.call(arguments)))}))},{init:function(t){var e,o;o=t.isConsoleDebugSupport,S=o,e=t.isDebugMode,b=e,A.debug("\u5f00\u542f\u8c03\u8bd5\u6a21\u5f0f...")}});function C(t){return JSON.parse(JSON.stringify(t))}var G="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx";function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),t.replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?o:3&o|8).toString(16)})}function P(t){if(void 0===t||!t&&0!=t||null==t)return!0;if("number"==typeof t)return!1;if(Array.isArray(t))return 0===t.length;for(var e in t)return!1;return!0}function M(){}var I=Array.isArray,N=Object.prototype.toString;function B(t){return"object"===function(t){return N.call(t).slice(8,-1).toLowerCase()}(t)}function R(t){return void 0===t}function E(t){return"string"===a(t)}function O(t){return"function"==typeof t}var D=Object.prototype.hasOwnProperty;function x(t,e){return D.call(t,e)}function k(t){return"object"==a(t)?JSON.stringify(t):t}function U(t){var e;try{e=JSON.parse(t)}catch(o){e=t}return e}function F(t){return null==t||""===t||"null"===t||"undefined"===t}function L(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1}function j(t){return Object.keys(t).sort(L)}function z(t){for(var e,o=j(t),i=[];e=o.shift();)i.push("".concat(e,"=").concat(t[e]));return i.join("&")}var q,H,V={},W={},Y={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return V=n({},t),this.initHeaderInfo(V),this},initHeaderInfo:function(t){W={AppKey:t.appKey,CHCode:t.chCode,HeadVerID:t.headVerID,PackageName:t.appName,PlatForm:t.platform,PlatForm2:t.platform2,ProductID:t.productID,ProjectID:t.projectID,VerCode:t.verCode,VerID:t.verID},null!=t.isDebug&&(W.IsDebug=t.isDebug)},getHeaderInfo:function(){return W},getInfo:function(){return V},addInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(t)?(V=n(n({},V),t),this.initHeaderInfo(V)):A.error('\u4f20\u5165\u7684\u53c2\u6570\u683c\u5f0f\u6709\u8bef\uff0c\u5e94\u4f20\u5165\u5bf9\u8c61\u683c\u5f0f\u5982\uff1a{extraInfo: "extraInfo"}')}},K={resultCode:"-1112",resultMessage:"Multiple request is disallowed",data:null},X="-1114",J="app-06FD55182083A746339AB3528C157389",Q="7431BEA4-F246-D2E1-2A4B-2566EAE07628",Z="F5824285-C87A-2BA8-931C-B934E2343B27",$={deviceInit:{url:"".concat((q={host:{init:"https://tjinit.babybus.com",register:"https://tjinit-register.babybus.com",aiolosEvent:"https://collect.babybus.com",event:"https://tjinit-event.babybus.com",ABTest:"https://abtest.babybus.com"}}).host.init,"/ActionData/DeviceInit"),name:"\u8bbe\u5907\u521d\u59cb\u5316"},register:{url:"".concat(q.host.register,"/ActionData/Register"),name:"\u8bbe\u5907\u62a5\u9053"},wxOpenID:{url:"".concat(q.host.init,"/ActionData/WxAppSessionKey"),name:"\u5fae\u4fe1openID\u83b7\u53d6"},ttOpenID:{url:"".concat(q.host.init,"/ActionData/TTSessionKey"),name:"\u5b57\u8282openID\u83b7\u53d6"},ksOpenID:{url:"".concat(q.host.init,"/ActionData/KuaiShouSessionKey"),name:"\u5feb\u624bopenID\u83b7\u53d6"},qqOpenID:{url:"".concat(q.host.init,"/ActionData/QQSessionKey"),name:"QQ openID\u83b7\u53d6"},loginAction:{url:"".concat(q.host.init,"/ActionData/LoginAction"),name:"\u7528\u6237\u6807\u7b7e\u4fe1\u606f\u83b7\u53d6"},event:{url:"".concat(q.host.event,"/ActionData/EventData"),name:"\u5206\u6790-\u4e8b\u4ef6\u4e0a\u62a5"},aiolosEvent:{url:"".concat(q.host.aiolosEvent,"/eventdata"),name:"\u7ecf\u5206-\u4e8b\u4ef6\u4e0a\u62a5"},ABTest:{url:"".concat(q.host.ABTest,"/api/TestApi/get_version"),name:"\u7ecf\u5206-AB\u6d4b\u8bd5"}},et="appKey\u65e0\u6548",ot="chCode\u65e0\u6548",it="\u521d\u59cb\u5316 SDK \u5931\u8d25\u3002\u8bf7\u53c2\u8003\u6587\u6863\uff0c\u68c0\u67e5\u4f60\u7684\u521d\u59cb\u5316\u914d\u7f6e\u4fe1\u606f\u662f\u5426\u586b\u5199\u6b63\u786e",nt="isDebug\u53ea\u80fd\u662f0\u62161",at="platform\u65e0\u6548",rt="platform2\u65e0\u6548",st="productID\u65e0\u6548",ct="projectID\u65e0\u6548",lt="verCode\u65e0\u6548",ut="verID\u65e0\u6548,",dt=!1,pt="\u8bf7\u5148\u521d\u59cb\u5316\u914d\u7f6e";function ht(){return ft()||gt()}function ft(){if(!dt)throw new Error(pt);return!(21!==H||"undefined"!=typeof window||"undefined"==typeof wx)}function gt(){if(!dt)throw new Error(pt);return!(30!==H||"undefined"==typeof window||!window||!window.wx)}function _t(){return yt()||mt()}function yt(){if(!dt)throw new Error(pt);return!(23!==H||"undefined"!=typeof window||"undefined"==typeof swan)}function mt(){if(!dt)throw new Error(pt);return!(23!==H||"undefined"==typeof window||!window||!window.swan)}function vt(){return bt()||St()}function bt(){if(!dt)throw new Error(pt);return!(25!==H||"undefined"!=typeof window||"undefined"==typeof tt)}function St(){if(!dt)throw new Error(pt);return!(25!==H||"undefined"==typeof window||!window||!window.tt)}function wt(){if(!dt)throw new Error(pt);return!(28!==H||"undefined"==typeof window||!window||!window.qg)}function At(){if(!dt)throw new Error(pt);return!(29!==H||"undefined"==typeof window||!window||!window.qg)}function Ct(){if(!dt)throw new Error(pt);return wt()||At()}function Gt(){if(!dt)throw new Error(pt);return!(22!==H)}function Tt(){if(!dt)throw new Error(pt);return!(26!==H||"undefined"!=typeof window||"undefined"==typeof dd)}function Pt(){if(!dt)throw new Error(pt);return!(33!==H||"undefined"!=typeof window||"undefined"==typeof my)}function Mt(){return It()||Nt()}function It(){if(!dt)throw new Error(pt);return!(24!==H||"undefined"!=typeof window||"undefined"==typeof qq)}function Nt(){if(!dt)throw new Error(pt);return!(24!==H||"undefined"==typeof window||!window||!window.qq)}function Bt(){return Rt()||Et()}function Rt(){if(!dt)throw new Error(pt);return!(32!==H||"undefined"!=typeof window||"undefined"==typeof ks)}function Et(){if(!dt)throw new Error(pt);return!(32!==H||"undefined"==typeof window||!window||!window.ks)}var Ot="H5",Dt="\u652f\u4ed8\u5b9d\u5c0f\u7a0b\u5e8f",xt="\u5fae\u4fe1\u5c0f\u6e38\u620f",kt="\u5fae\u4fe1\u5c0f\u7a0b\u5e8f",Ut="\u9489\u9489\u5c0f\u7a0b\u5e8f",Ft="\u9489\u9489PC",Lt="\u767e\u5ea6\u5c0f\u6e38\u620f",jt="\u767e\u5ea6\u5c0f\u7a0b\u5e8f",zt="\u5b57\u8282\u5c0f\u6e38\u620f",qt="\u5b57\u8282\u5c0f\u7a0b\u5e8f",Ht="oppo\u5c0f\u6e38\u620f",Vt="vivo\u5c0f\u6e38\u620f",Wt="\u5feb\u5e94\u7528",Yt="QQ\u5c0f\u6e38\u620f",Kt="QQ\u5c0f\u7a0b\u5e8f",Xt="\u5feb\u624b\u5c0f\u6e38\u620f",Jt="\u5feb\u624b\u5c0f\u7a0b\u5e8f";function Qt(){var t="";switch(!0){case function(){if(!dt)throw new Error(pt);return!(71!==H||"undefined"==typeof window)}():t=Ot;break;case Pt():t=Dt;break;case ft():t=kt;break;case gt():t=xt;break;case Tt():t=Ut;break;case function(){if(!dt)throw new Error(pt);return!(27!==H||"undefined"==typeof window)}():t=Ft;break;case yt():t=jt;break;case mt():t=Lt;break;case bt():t=qt;break;case St():t=zt;break;case wt():t=Ht;break;case At():t=Vt;break;case Gt():t=Wt;break;case It():t=Kt;break;case Nt():t=Yt;break;case Rt():t=Jt;break;case Et():t=Xt;break;default:t="\u672a\u77e5\u5e73\u53f0"}return t}var Zt={init:function(t){dt=!0,H=t.platform},isAlipayMiniApp:Pt,isWechat:ht,isWechatMiniApp:ft,isWechatMiniGame:gt,isBaidu:_t,isBaiduMiniApp:yt,isBaiduGame:mt,isByteDance:vt,isByteDanceMiniApp:bt,isByteDanceMiniGame:St,isOppoMiniGame:wt,isVivoMiniGame:At,isQuickGame:Ct,isQuickApp:Gt,isDingTalkMiniApp:Tt,isQQ:Mt,isQQMiniApp:It,isQQMiniGame:Nt,isKuaiShou:Bt,isKuaiShouMiniApp:Rt,isKuaiShouMiniGame:Et,getPlatformName:Qt},$t="bb_stat",te={initTime:"".concat($t,"_init_t"),sessionCreateDate:"".concat($t,"_sid_t"),clientHeaderMD5:"".concat($t,"_chm"),abTestData:"".concat($t,"_ab_td"),abTestKey:"".concat($t,"_ab_tk"),openID:"".concat($t,"_open_id"),TTOpenID:"".concat($t,"_tt_open_id"),userInfo:"".concat($t,"_user_info"),loginActionData:"".concat($t,"_l_a"),deviceInitInfo:"".concat($t,"_init_info"),sessionID:"".concat($t,"_sid"),unionID:"".concat($t,"_union_id"),firstLaunchData:"".concat($t,"_fl"),hasLaunch:"".concat($t,"_hl"),fromInfo:"".concat($t,"_fi"),channel:"".concat($t,"_channel"),endTime:"".concat($t,"_end_time"),ten:"".concat($t,"_ten"),cs:"".concat($t,"_cs"),aiolosEvents:"".concat($t,"_aiolos_events"),events:"".concat($t,"_events"),errors:"".concat($t,"_errors"),wxOldDeviceInitInfo:"server.usage",wxOldUserInfo:"user.bb.info"},ee={},oe={};function ie(t){var e="";if(t instanceof Object)if(oe.headers["Content-Type"].indexOf("application/json")>-1)e=k(t);else{var o=[];if(t instanceof Object)for(var i in t)x(t,i)&&o.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));e=o.join("&")}return e}function ne(t){var e,o=new XMLHttpRequest;o.addEventListener("loadstart",function(e){t.beforeSend(o)}),o.addEventListener("load",function(i){var n=o.status;if(n>=200&&n<300||304===n){switch(t.dataType){case"text":e=o.responseText;break;case"json":e=JSON.parse(o.response);break;case"xml":e=o.responseXML;break;default:e=o.response}t.success(e,n,o)}else t.fail(i,n,o)}),o.addEventListener("loadend",function(e){t.complete(o,o.status)}),o.addEventListener("error",function(e){t.fail(e,o.status,o)}),o.addEventListener("timeout",function(e){o.abort(),t.fail(e,X,o)});var i=null;for(var n in"GET"===t.method||"DELETE"===t.method?t.url+=function(t,e){if(!e)return"";var o=e instanceof Object?ie(e):e;return-1!==t.indexOf("?")?o:"?"+o}(t.url,t.data):i=function(t){return t?"string"==typeof t||t instanceof FormData?t:ie(t):null}(t.data),o.open(t.method,t.url,!!t.async),t.headers)x(t.headers,n)&&o.setRequestHeader(n,t.headers[n]);t.async&&t.timeout&&(o.timeout=t.timeout),void 0!==t.withCredentials&&(o.withCredentials=t.withCredentials);try{o.send(i)}catch(e){t.fail(e,o.status,o)}return{data:e,status:o.status,xhr:o}}var ae,re,se,ce,le=Object.freeze({__proto__:null,setStorageSync:function(t,e){Ct()?localStorage.setItem(t,e):ht()?wx.setStorageSync(t,e):vt()?tt.setStorageSync(t,e):_t()?swan.setStorageSync(t,e):Tt()?dd.setStorageSync({key:t,data:e}):Pt()?my.setStorageSync({key:t,data:e}):Mt()?qq.setStorageSync(t,e):Bt()?ks.setStorageSync(t,e):"undefined"!=typeof localStorage&&localStorage.setItem(t,e)},getStorageSync:function(t){return Ct()?localStorage.getItem(t):ht()?wx.getStorageSync(t):vt()?tt.getStorageSync(t):_t()?swan.getStorageSync(t):Tt()?dd.getStorageSync({key:t}).data:Pt()?my.getStorageSync({key:t}).data:Mt()?qq.getStorageSync(t):Bt()?ks.getStorageSync(t):"undefined"!=typeof localStorage?localStorage.getItem(t):void 0},removeStorageSync:function(t){if(Ct())localStorage.removeItem(t);else{if(ht())return wx.removeStorageSync(t);if(vt())return tt.removeStorageSync(t);if(_t())return swan.removeStorageSync(t);if(Tt())return dd.removeStorageSync({key:t});if(Pt())return my.removeStorageSync({key:t});if(Mt())return qq.removeStorageSync(t);if(Bt())return ks.removeStorageSync(t);if("undefined"!=typeof localStorage)return localStorage.removeItem(t)}},clearStorageSync:function(){if(Ct())localStorage.clear();else{if(ht())return wx.clearStorageSync();if(vt())return tt.clearStorageSync();if(_t())return swan.clearStorageSync();if(Pt())my.clearStorageSync();else if(Mt())qq.clearStorageSync();else if(Bt())ks.clearStorageSync();else if("undefined"!=typeof localStorage)return localStorage.clear()}},httpRequest:function(t){oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct()&&(ee={url:location.href,method:"GET",dataType:"text",withCredentials:!1,async:!0,data:null,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},timeout:0,beforeSend:function(t){},success:function(t,e,o){},fail:function(t,e,o){},complete:function(t,e){}});var e,o={};for(var i in t){var a=t[i];if(!(Ct()&&"|beforeSend|success|fail|complete|".indexOf(i)>-1&&"function"!=typeof a)&&x(t,i)&&null!=a)if("headers"===i)if(Ct()){var r=n(n({},ee.headers),t.headers);o.headers=r}else Tt()||Pt()?o.headers=t.headers:o.header=t.headers;else o[i]=a}return(e=Ct()?n(n({},ee),o):n({},o)).method=e.method.toUpperCase(),e}(t),Ct()?ne(oe):ht()?wx.request(oe):vt()?tt.request(oe):_t()?swan.request(oe):Tt()?dd.httpRequest(oe):Mt()?qq.request(oe):Pt()?my.request(oe):Bt()&&ks.request(oe)},getNetworkType:function(t){_t()?swan.getNetworkType(t):ht()?wx.getNetworkType(t):vt()?tt.getNetworkType(t):At()||wt()?qg.getNetworkType(t):Tt()?dd.getNetworkType(t):Pt()?my.getNetworkType(t):Mt()?qq.getNetworkType(t):Bt()?ks.getNetworkType&&ks.getNetworkType(t):O(t.fail)&&t.fail()},getSystemInfoSync:function(){var t={};return _t()?t=swan.getSystemInfoSync():ht()?t=wx.getSystemInfoSync():vt()?t=tt.getSystemInfoSync():wt()||At()?t=qg.getSystemInfoSync():Tt()?t=dd.getSystemInfoSync():Pt()?t=my.getSystemInfoSync():Bt()?t=ks.getSystemInfoSync():Mt()&&(t=qq.getSystemInfoSync()),t}}),ue=function(t,e){null!=e&&le.setStorageSync(t,e)},de=function(t){return le.getStorageSync(t)},pe={init:function(){this.info=de(te.deviceInitInfo),ft()&&P(this.info)&&(this.info=de(te.wxOldDeviceInitInfo)),this.info=U(this.info||"{}")},update:function(t){this.updateInfo(t)},updateInfo:function(t){this.info=t,t&&ue(te.deviceInitInfo,k(t))},getInfo:function(){return this.info||{}},getHeaderInfo:function(){return this.info||{}}},he={SdkVer:"11.05.13",SdkVerID:"11.05.13".split(".").join("")},fe={unknown:"0",others:"0",wifi:"1","2g":"2","3g":"3","4g":"4","5g":"5",wwan:"6",none:"6",notreachable:"6",undefined:"6"},ge={init:function(){var t=ce=le.getSystemInfoSync()||{},e=t.model,o=t.platform,i=void 0===o?"":o,n=t.screenHeight,a=t.screenWidth,r=t.system,s=void 0===r?"":r;re=(ce.language||"").replace("_","-"),se="".concat(a,"*").concat(n),ae={AppLang:re,DeviceModel:e,DeviceType:1,DeviceLang:re,Net:0,OSType:i.toLowerCase().indexOf("ios")>-1?1:2,OSVer:s,Screen:se},le.getNetworkType({success:function(t){ae.Net=+(fe["".concat(t.networkType).toLowerCase()]||fe.undefined)},fail:function(){ae.Net=+fe.unknown}})},getHeaderInfo:function(){return ae},getInfo:function(){return ce},getResolution:function(){return se},getLanguage:function(){return re}},_e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function ye(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var me={exports:{}};!function(t){!function(e){function o(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function i(t,e,i,n,a,r){return o(function(t,e){return t<<a|t>>>32-a}(o(o(e,t),o(n,r))),i)}function n(t,e,o,n,a,r,s){return i(e&o|~e&n,t,e,a,r,s)}function a(t,e,o,n,a,r,s){return i(e&n|o&~n,t,e,a,r,s)}function r(t,e,o,n,a,r,s){return i(e^o^n,t,e,a,r,s)}function s(t,e,o,n,a,r,s){return i(o^(e|~n),t,e,a,r,s)}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var i,c,l,u,d,p=1732584193,h=-271733879,f=-1732584194,g=271733878;for(i=0;i<t.length;i+=16)c=p,l=h,u=f,d=g,h=s(h=s(h=s(h=s(h=r(h=r(h=r(h=r(h=a(h=a(h=a(h=a(h=n(h=n(h=n(h=n(h,f=n(f,g=n(g,p=n(p,h,f,g,t[i],7,-680876936),h,f,t[i+1],12,-389564586),p,h,t[i+2],17,606105819),g,p,t[i+3],22,-1044525330),f=n(f,g=n(g,p=n(p,h,f,g,t[i+4],7,-176418897),h,f,t[i+5],12,1200080426),p,h,t[i+6],17,-1473231341),g,p,t[i+7],22,-45705983),f=n(f,g=n(g,p=n(p,h,f,g,t[i+8],7,1770035416),h,f,t[i+9],12,-1958414417),p,h,t[i+10],17,-42063),g,p,t[i+11],22,-1990404162),f=n(f,g=n(g,p=n(p,h,f,g,t[i+12],7,1804603682),h,f,t[i+13],12,-40341101),p,h,t[i+14],17,-1502002290),g,p,t[i+15],22,1236535329),f=a(f,g=a(g,p=a(p,h,f,g,t[i+1],5,-165796510),h,f,t[i+6],9,-1069501632),p,h,t[i+11],14,643717713),g,p,t[i],20,-373897302),f=a(f,g=a(g,p=a(p,h,f,g,t[i+5],5,-701558691),h,f,t[i+10],9,38016083),p,h,t[i+15],14,-660478335),g,p,t[i+4],20,-405537848),f=a(f,g=a(g,p=a(p,h,f,g,t[i+9],5,568446438),h,f,t[i+14],9,-1019803690),p,h,t[i+3],14,-187363961),g,p,t[i+8],20,1163531501),f=a(f,g=a(g,p=a(p,h,f,g,t[i+13],5,-1444681467),h,f,t[i+2],9,-51403784),p,h,t[i+7],14,1735328473),g,p,t[i+12],20,-1926607734),f=r(f,g=r(g,p=r(p,h,f,g,t[i+5],4,-378558),h,f,t[i+8],11,-2022574463),p,h,t[i+11],16,1839030562),g,p,t[i+14],23,-35309556),f=r(f,g=r(g,p=r(p,h,f,g,t[i+1],4,-1530992060),h,f,t[i+4],11,1272893353),p,h,t[i+7],16,-155497632),g,p,t[i+10],23,-1094730640),f=r(f,g=r(g,p=r(p,h,f,g,t[i+13],4,681279174),h,f,t[i],11,-358537222),p,h,t[i+3],16,-722521979),g,p,t[i+6],23,76029189),f=r(f,g=r(g,p=r(p,h,f,g,t[i+9],4,-640364487),h,f,t[i+12],11,-421815835),p,h,t[i+15],16,530742520),g,p,t[i+2],23,-995338651),f=s(f,g=s(g,p=s(p,h,f,g,t[i],6,-198630844),h,f,t[i+7],10,1126891415),p,h,t[i+14],15,-1416354905),g,p,t[i+5],21,-57434055),f=s(f,g=s(g,p=s(p,h,f,g,t[i+12],6,1700485571),h,f,t[i+3],10,-1894986606),p,h,t[i+10],15,-1051523),g,p,t[i+1],21,-2054922799),f=s(f,g=s(g,p=s(p,h,f,g,t[i+8],6,1873313359),h,f,t[i+15],10,-30611744),p,h,t[i+6],15,-1560198380),g,p,t[i+13],21,1309151649),f=s(f,g=s(g,p=s(p,h,f,g,t[i+4],6,-145523070),h,f,t[i+11],10,-1120210379),p,h,t[i+2],15,718787259),g,p,t[i+9],21,-343485551),p=o(p,c),h=o(h,l),f=o(f,u),g=o(g,d);return[p,h,f,g]}function l(t){var e,o="",i=32*t.length;for(e=0;e<i;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function u(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)o[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return o}function d(t){var e,o,i="";for(o=0;o<t.length;o+=1)e=t.charCodeAt(o),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return i}function p(t){return unescape(encodeURIComponent(t))}function h(t){return function(t){return l(c(u(t),8*t.length))}(p(t))}function f(t,e){return function(t,e){var o,i,n=u(t),a=[],r=[];for(a[15]=r[15]=void 0,n.length>16&&(n=c(n,8*t.length)),o=0;o<16;o+=1)a[o]=909522486^n[o],r[o]=1549556828^n[o];return i=c(a.concat(u(e)),512+8*e.length),l(c(r.concat(i),640))}(p(t),p(e))}function g(t,e,o){return e?o?f(e,t):function(t,e){return d(f(t,e))}(e,t):o?h(t):function(t){return d(h(t))}(t)}t.exports?t.exports=g:e.md5=g}(_e)}(me);var ve=me.exports;function be(t){return ve(t||Math.random().toString(36))}var Se=be,we={exports:{}};function Ae(t,e){try{if(!t)return t;if("[object String]"!==Object.prototype.toString.call(t))return t;var o=we.exports.A.enc.Utf8.parse(e),i=we.exports.A.enc.Utf8.parse(t);return we.exports.A.AES.encrypt(i,o,{mode:we.exports.A.mode.ECB,padding:we.exports.A.pad.Pkcs7}).toString()}catch(e){return console.error(e),t}}function Ce(t){if(!E(t))return A.error("gzip\u538b\u7f29\uff0c\u9700\u4f20\u5165\u5b57\u7b26\u4e32"),t;var e=we.exports.C.gzip(t,{to:"string"});return we.exports.B.btoa(e)}!function(t,e){var o,i,n,r,s,c,l;l=l||function(t,e){var o=Object.create||function(){function t(){}return function(e){var o;return t.prototype=e,o=new t,t.prototype=null,o}}(),i={},n=i.lib={},a=n.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=n.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,o=t.words,i=this.sigBytes,n=t.sigBytes;if(this.clamp(),i%4)for(var a=0;a<n;a++){var r=o[a>>>2]>>>24-a%4*8&255;e[i+a>>>2]|=r<<24-(i+a)%4*8}else for(a=0;a<n;a+=4)e[i+a>>>2]=o[a>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=t.ceil(o/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var o,i=[],n=function(e){e=e;var o=987654321,i=4294967295;return function(){var n=((o=36969*(65535&o)+(o>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},a=0;a<e;a+=4){var s=n(4294967296*(o||t.random()));o=987654071*s(),i.push(4294967296*s()|0)}return new r.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n++){var a=e[n>>>2]>>>24-n%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,o=[],i=0;i<e;i+=2)o[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new r.init(o,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n++){var a=e[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,o=[],i=0;i<e;i++)o[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new r.init(o,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var o=this._data,i=o.words,n=o.sigBytes,a=this.blockSize,s=n/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,l=t.min(4*c,n);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(i,u);var d=i.splice(0,c);o.sigBytes-=l}return new r.init(d,l)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,o){return new t.init(o).finalize(e)}},_createHmacHelper:function(t){return function(e,o){return new p.HMAC.init(t,o).finalize(e)}}});var p=i.algo={};return i}(Math),function(){var t=l,e=t.lib.WordArray;function o(t,o,i){for(var n=[],a=0,r=0;r<o;r++)if(r%4){var s=i[t.charCodeAt(r-1)]<<r%4*2,c=i[t.charCodeAt(r)]>>>6-r%4*2;n[a>>>2]|=(s|c)<<24-a%4*8,a++}return e.create(n,a)}t.enc.Base64={stringify:function(t){var e=t.words,o=t.sigBytes,i=this._map;t.clamp();for(var n=[],a=0;a<o;a+=3)for(var r=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<o;s++)n.push(i.charAt(r>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(t){var e=t.length,i=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var a=0;a<i.length;a++)n[i.charCodeAt(a)]=a}var r=i.charAt(64);if(r){var s=t.indexOf(r);-1!==s&&(e=s)}return o(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){var e=l,o=e.lib,i=o.WordArray,n=o.Hasher,a=e.algo,r=[];!function(){for(var e=0;e<64;e++)r[e]=4294967296*t.abs(t.sin(e+1))|0}();var s=a.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var o=0;o<16;o++){var i=e+o,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var a=this._hash.words,s=t[e+0],l=t[e+1],h=t[e+2],f=t[e+3],g=t[e+4],_=t[e+5],y=t[e+6],m=t[e+7],v=t[e+8],b=t[e+9],S=t[e+10],w=t[e+11],A=t[e+12],C=t[e+13],G=t[e+14],T=t[e+15],P=a[0],M=a[1],I=a[2],N=a[3];P=p(P=d(P=d(P=d(P=d(P=u(P=u(P=u(P=u(P=c(P=c(P=c(P=c(P,M,I,N,s,7,r[0]),M=c(M,I=c(I,N=c(N,P,M,I,l,12,r[1]),P,M,h,17,r[2]),N,P,f,22,r[3]),I,N,g,7,r[4]),M=c(M,I=c(I,N=c(N,P,M,I,_,12,r[5]),P,M,y,17,r[6]),N,P,m,22,r[7]),I,N,v,7,r[8]),M=c(M,I=c(I,N=c(N,P,M,I,b,12,r[9]),P,M,S,17,r[10]),N,P,w,22,r[11]),I,N,A,7,r[12]),M=c(M,I=c(I,N=c(N,P,M,I,C,12,r[13]),P,M,G,17,r[14]),N,P,T,22,r[15]),I,N,l,5,r[16]),M=u(M,I=u(I,N=u(N,P,M,I,y,9,r[17]),P,M,w,14,r[18]),N,P,s,20,r[19]),I,N,_,5,r[20]),M=u(M,I=u(I,N=u(N,P,M,I,S,9,r[21]),P,M,T,14,r[22]),N,P,g,20,r[23]),I,N,b,5,r[24]),M=u(M,I=u(I,N=u(N,P,M,I,G,9,r[25]),P,M,f,14,r[26]),N,P,v,20,r[27]),I,N,C,5,r[28]),M=u(M,I=u(I,N=u(N,P,M,I,h,9,r[29]),P,M,m,14,r[30]),N,P,A,20,r[31]),I,N,_,4,r[32]),M=d(M,I=d(I,N=d(N,P,M,I,v,11,r[33]),P,M,w,16,r[34]),N,P,G,23,r[35]),I,N,l,4,r[36]),M=d(M,I=d(I,N=d(N,P,M,I,g,11,r[37]),P,M,m,16,r[38]),N,P,S,23,r[39]),I,N,C,4,r[40]),M=d(M,I=d(I,N=d(N,P,M,I,s,11,r[41]),P,M,f,16,r[42]),N,P,y,23,r[43]),I,N,b,4,r[44]),M=d(M,I=d(I,N=d(N,P,M,I,A,11,r[45]),P,M,T,16,r[46]),N,P,h,23,r[47]),I,N,s,6,r[48]),M=p(M=p(M=p(M=p(M,I=p(I,N=p(N,P,M,I,m,10,r[49]),P,M,G,15,r[50]),N,P,_,21,r[51]),I=p(I,N=p(N,P=p(P,M,I,N,A,6,r[52]),M,I,f,10,r[53]),P,M,S,15,r[54]),N,P,l,21,r[55]),I=p(I,N=p(N,P=p(P,M,I,N,v,6,r[56]),M,I,T,10,r[57]),P,M,y,15,r[58]),N,P,C,21,r[59]),I=p(I,N=p(N,P=p(P,M,I,N,g,6,r[60]),M,I,w,10,r[61]),P,M,h,15,r[62]),N,P,b,21,r[63]),a[0]=a[0]+P|0,a[1]=a[1]+M|0,a[2]=a[2]+I|0,a[3]=a[3]+N|0},_doFinalize:function(){var e=this._data,o=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;o[n>>>5]|=128<<24-n%32;var a=t.floor(i/4294967296),r=i;o[15+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(o.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,o,i,n,a,r){var s=t+(e&o|~e&i)+n+r;return(s<<a|s>>>32-a)+e}function u(t,e,o,i,n,a,r){var s=t+(e&i|o&~i)+n+r;return(s<<a|s>>>32-a)+e}function d(t,e,o,i,n,a,r){var s=t+(e^o^i)+n+r;return(s<<a|s>>>32-a)+e}function p(t,e,o,i,n,a,r){var s=t+(o^(e|~i))+n+r;return(s<<a|s>>>32-a)+e}e.MD5=n._createHelper(s),e.HmacMD5=n._createHmacHelper(s)}(Math),function(){var t=l,e=t.lib,o=e.WordArray,i=e.Hasher,n=[],a=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],a=o[1],r=o[2],s=o[3],c=o[4],l=0;l<80;l++){if(l<16)n[l]=0|t[e+l];else{var u=n[l-3]^n[l-8]^n[l-14]^n[l-16];n[l]=u<<1|u>>>31}var d=(i<<5|i>>>27)+c+n[l];d+=l<20?1518500249+(a&r|~a&s):l<40?1859775393+(a^r^s):l<60?(a&r|a&s|r&s)-1894007588:(a^r^s)-899497514,c=s,s=r,r=a<<30|a>>>2,a=i,i=d}o[0]=o[0]+i|0,o[1]=o[1]+a|0,o[2]=o[2]+r|0,o[3]=o[3]+s|0,o[4]=o[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(o/4294967296),e[15+(i+64>>>9<<4)]=o,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),function(t){var e=l,o=e.lib,i=o.WordArray,n=o.Hasher,a=e.algo,r=[],s=[];!function(){function e(e){for(var o=t.sqrt(e),i=2;i<=o;i++)if(!(e%i))return!1;return!0}function o(t){return 4294967296*(t-(0|t))|0}for(var i=2,n=0;n<64;)e(i)&&(n<8&&(r[n]=o(t.pow(i,.5))),s[n]=o(t.pow(i,1/3)),n++),i++}();var c=[],u=a.SHA256=n.extend({_doReset:function(){this._hash=new i.init(r.slice(0))},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],a=o[2],r=o[3],l=o[4],u=o[5],d=o[6],p=o[7],h=0;h<64;h++){if(h<16)c[h]=0|t[e+h];else{var f=c[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,_=c[h-2],y=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;c[h]=g+c[h-7]+y+c[h-16]}var m=i&n^i&a^n&a,v=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&d)+s[h]+c[h];p=d,d=u,u=l,l=r+b|0,r=a,a=n,n=i,i=b+(v+m)|0}o[0]=o[0]+i|0,o[1]=o[1]+n|0,o[2]=o[2]+a|0,o[3]=o[3]+r|0,o[4]=o[4]+l|0,o[5]=o[5]+u|0,o[6]=o[6]+d|0,o[7]=o[7]+p|0},_doFinalize:function(){var e=this._data,o=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return o[n>>>5]|=128<<24-n%32,o[14+(n+64>>>9<<4)]=t.floor(i/4294967296),o[15+(n+64>>>9<<4)]=i,e.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=n._createHelper(u),e.HmacSHA256=n._createHmacHelper(u)}(Math),function(){var t=l,e=t.lib.WordArray,o=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}o.Utf16=o.Utf16BE={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n+=2){var a=e[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var o=t.length,i=[],n=0;n<o;n++)i[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return e.create(i,2*o)}},o.Utf16LE={stringify:function(t){for(var e=t.words,o=t.sigBytes,n=[],a=0;a<o;a+=2){var r=i(e[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(r))}return n.join("")},parse:function(t){for(var o=t.length,n=[],a=0;a<o;a++)n[a>>>1]|=i(t.charCodeAt(a)<<16-a%2*16);return e.create(n,2*o)}}}(),function(){if("function"==typeof ArrayBuffer){var t=l.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var o=t.byteLength,i=[],n=0;n<o;n++)i[n>>>2]|=t[n]<<24-n%4*8;e.call(this,i,o)}else e.apply(this,arguments)}).prototype=t}}(),function(t){var e=l,o=e.lib,i=o.WordArray,n=o.Hasher,a=e.algo,r=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=n.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var o=0;o<16;o++){var i=e+o,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var a,l,h,b,S,w,A,C,G,T,P,M=this._hash.words,I=d.words,N=p.words,B=r.words,R=s.words,E=c.words,O=u.words;for(w=a=M[0],A=l=M[1],C=h=M[2],G=b=M[3],T=S=M[4],o=0;o<80;o+=1)P=a+t[e+B[o]]|0,P+=o<16?f(l,h,b)+I[0]:o<32?g(l,h,b)+I[1]:o<48?_(l,h,b)+I[2]:o<64?y(l,h,b)+I[3]:m(l,h,b)+I[4],P=(P=v(P|=0,E[o]))+S|0,a=S,S=b,b=v(h,10),h=l,l=P,P=w+t[e+R[o]]|0,P+=o<16?m(A,C,G)+N[0]:o<32?y(A,C,G)+N[1]:o<48?_(A,C,G)+N[2]:o<64?g(A,C,G)+N[3]:f(A,C,G)+N[4],P=(P=v(P|=0,O[o]))+T|0,w=T,T=G,G=v(C,10),C=A,A=P;P=M[1]+h+G|0,M[1]=M[2]+b+T|0,M[2]=M[3]+S+w|0,M[3]=M[4]+a+A|0,M[4]=M[0]+l+C|0,M[0]=P},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,a=n.words,r=0;r<5;r++){var s=a[r];a[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,o){return t^e^o}function g(t,e,o){return t&e|~t&o}function _(t,e,o){return(t|~e)^o}function y(t,e,o){return t&o|e&~o}function m(t,e,o){return t^(e|~o)}function v(t,e){return t<<e|t>>>32-e}e.RIPEMD160=n._createHelper(h),e.HmacRIPEMD160=n._createHmacHelper(h)}(),function(){var t=l,e=t.lib.Base,o=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),r=this._iKey=e.clone(),s=a.words,c=r.words,l=0;l<i;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=r.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,o=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(o))}})}(),function(){var t=l,e=t.lib,o=e.Base,i=e.WordArray,n=t.algo,a=n.SHA1,r=n.HMAC,s=n.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=this.cfg,n=r.create(o.hasher,t),a=i.create(),s=i.create([1]),c=a.words,l=s.words,u=o.keySize,d=o.iterations;c.length<u;){var p=n.update(e).finalize(s);n.reset();for(var h=p.words,f=h.length,g=p,_=1;_<d;_++){g=n.finalize(g),n.reset();for(var y=g.words,m=0;m<f;m++)h[m]^=y[m]}a.concat(p),l[0]++}return a.sigBytes=4*u,a}});t.PBKDF2=function(t,e,o){return s.create(o).compute(t,e)}}(),function(){var t=l,e=t.lib,o=e.Base,i=e.WordArray,n=t.algo,a=n.MD5,r=n.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=this.cfg,n=o.hasher.create(),a=i.create(),r=a.words,s=o.keySize,c=o.iterations;r.length<s;){l&&n.update(l);var l=n.update(t).finalize(e);n.reset();for(var u=1;u<c;u++)l=n.finalize(l),n.reset();a.concat(l)}return a.sigBytes=4*s,a}});t.EvpKDF=function(t,e,o){return r.create(o).compute(t,e)}}(),function(){var t=l,e=t.lib.WordArray,o=t.algo,i=o.SHA256,n=o.SHA224=i.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=i._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=i._createHelper(n),t.HmacSHA224=i._createHmacHelper(n)}(),function(t){var e=l,o=e.lib,i=o.Base,n=o.WordArray,a=e.x64={};a.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,o=[],i=0;i<e;i++){var a=t[i];o.push(a.high),o.push(a.low)}return n.create(o,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),o=e.length,n=0;n<o;n++)e[n]=e[n].clone();return t}})}(),function(t){var e=l,o=e.lib,i=o.WordArray,n=o.Hasher,a=e.x64.Word,r=e.algo,s=[],c=[],u=[];!function(){for(var t=1,e=0,o=0;o<24;o++){s[t+5*e]=(o+1)*(o+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,r=0;r<24;r++){for(var l=0,d=0,p=0;p<7;p++){if(1&n){var h=(1<<p)-1;h<32?d^=1<<h:l^=1<<h-32}128&n?n=n<<1^113:n<<=1}u[r]=a.create(l,d)}}();var d=[];!function(){for(var t=0;t<25;t++)d[t]=a.create()}();var p=r.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var o=this._state,i=this.blockSize/2,n=0;n<i;n++){var a=t[e+2*n],r=t[e+2*n+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(M=o[n]).high^=r,M.low^=a}for(var l=0;l<24;l++){for(var p=0;p<5;p++){for(var h=0,f=0,g=0;g<5;g++)h^=(M=o[p+5*g]).high,f^=M.low;var _=d[p];_.high=h,_.low=f}for(p=0;p<5;p++){var y=d[(p+4)%5],m=d[(p+1)%5],v=m.high,b=m.low;for(h=y.high^(v<<1|b>>>31),f=y.low^(b<<1|v>>>31),g=0;g<5;g++)(M=o[p+5*g]).high^=h,M.low^=f}for(var S=1;S<25;S++){var w=(M=o[S]).high,A=M.low,C=s[S];C<32?(h=w<<C|A>>>32-C,f=A<<C|w>>>32-C):(h=A<<C-32|w>>>64-C,f=w<<C-32|A>>>64-C);var G=d[c[S]];G.high=h,G.low=f}var T=d[0],P=o[0];for(T.high=P.high,T.low=P.low,p=0;p<5;p++)for(g=0;g<5;g++){var M=o[S=p+5*g],I=d[S],N=d[(p+1)%5+5*g],B=d[(p+2)%5+5*g];M.high=I.high^~N.high&B.high,M.low=I.low^~N.low&B.low}M=o[0];var R=u[l];M.high^=R.high,M.low^=R.low}},_doFinalize:function(){var e=this._data,o=e.words;this._nDataBytes;var n=8*e.sigBytes,a=32*this.blockSize;o[n>>>5]|=1<<24-n%32,o[(t.ceil((n+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*o.length,this._process();for(var r=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=r[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(p)}return new i.init(l,s)},clone:function(){for(var t=n.clone.call(this),e=t._state=this._state.slice(0),o=0;o<25;o++)e[o]=e[o].clone();return t}});e.SHA3=n._createHelper(p),e.HmacSHA3=n._createHmacHelper(p)}(Math),function(){var t=l,e=t.lib.Hasher,o=t.x64,i=o.Word,n=o.WordArray,a=t.algo;function r(){return i.create.apply(i,arguments)}var s=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=r()}();var u=a.SHA512=e.extend({_doReset:function(){this._hash=new n.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],a=o[2],r=o[3],l=o[4],u=o[5],d=o[6],p=o[7],h=i.high,f=i.low,g=n.high,_=n.low,y=a.high,m=a.low,v=r.high,b=r.low,S=l.high,w=l.low,A=u.high,C=u.low,G=d.high,T=d.low,P=p.high,M=p.low,I=h,N=f,B=g,R=_,E=y,O=m,D=v,x=b,k=S,U=w,F=A,L=C,j=G,z=T,q=P,H=M,V=0;V<80;V++){var W=c[V];if(V<16)var Y=W.high=0|t[e+2*V],K=W.low=0|t[e+2*V+1];else{var X=c[V-15],J=X.high,Q=X.low,Z=(J>>>1|Q<<31)^(J>>>8|Q<<24)^J>>>7,$=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),tt=c[V-2],et=tt.high,ot=tt.low,it=(et>>>19|ot<<13)^(et<<3|ot>>>29)^et>>>6,nt=(ot>>>19|et<<13)^(ot<<3|et>>>29)^(ot>>>6|et<<26),at=c[V-7],rt=at.high,st=at.low,ct=c[V-16],lt=ct.high,ut=ct.low;Y=(Y=(Y=Z+rt+((K=$+st)>>>0<$>>>0?1:0))+it+((K+=nt)>>>0<nt>>>0?1:0))+lt+((K+=ut)>>>0<ut>>>0?1:0),W.high=Y,W.low=K}var dt,pt=k&F^~k&j,ht=U&L^~U&z,ft=I&B^I&E^B&E,gt=N&R^N&O^R&O,_t=(I>>>28|N<<4)^(I<<30|N>>>2)^(I<<25|N>>>7),yt=(N>>>28|I<<4)^(N<<30|I>>>2)^(N<<25|I>>>7),mt=(k>>>14|U<<18)^(k>>>18|U<<14)^(k<<23|U>>>9),vt=(U>>>14|k<<18)^(U>>>18|k<<14)^(U<<23|k>>>9),bt=s[V],St=bt.high,wt=bt.low,At=q+mt+((dt=H+vt)>>>0<H>>>0?1:0),Ct=yt+gt;q=j,H=z,j=F,z=L,F=k,L=U,k=D+(At=(At=(At=At+pt+((dt+=ht)>>>0<ht>>>0?1:0))+St+((dt+=wt)>>>0<wt>>>0?1:0))+Y+((dt+=K)>>>0<K>>>0?1:0))+((U=x+dt|0)>>>0<x>>>0?1:0)|0,D=E,x=O,E=B,O=R,B=I,R=N,I=At+(_t+ft+(Ct>>>0<yt>>>0?1:0))+((N=dt+Ct|0)>>>0<dt>>>0?1:0)|0}f=i.low=f+N,i.high=h+I+(f>>>0<N>>>0?1:0),_=n.low=_+R,n.high=g+B+(_>>>0<R>>>0?1:0),m=a.low=m+O,a.high=y+E+(m>>>0<O>>>0?1:0),b=r.low=b+x,r.high=v+D+(b>>>0<x>>>0?1:0),w=l.low=w+U,l.high=S+k+(w>>>0<U>>>0?1:0),C=u.low=C+L,u.high=A+F+(C>>>0<L>>>0?1:0),T=d.low=T+z,d.high=G+j+(T>>>0<z>>>0?1:0),M=p.low=M+H,p.high=P+q+(M>>>0<H>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(o/4294967296),e[31+(i+128>>>10<<5)]=o,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(u),t.HmacSHA512=e._createHmacHelper(u)}(),function(){var t=l,e=t.x64,o=e.Word,i=e.WordArray,n=t.algo,a=n.SHA512,r=n.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=a._createHelper(r),t.HmacSHA384=a._createHmacHelper(r)}(),l.lib.Cipher||function(t){var e=l,o=e.lib,i=o.Base,n=o.WordArray,a=o.BufferedBlockAlgorithm,r=e.enc;r.Utf8;var s=r.Base64,c=e.algo.EvpKDF,u=o.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,o){this.cfg=this.cfg.extend(o),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:y}return function(e){return{encrypt:function(o,i,n){return t(i).encrypt(e,o,i,n)},decrypt:function(o,i,n){return t(i).decrypt(e,o,i,n)}}}}()});o.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var d=e.mode={},p=o.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=d.CBC=function(){var e=p.extend();function o(e,o,i){var n=this._iv;if(n){var a=n;this._iv=t}else a=this._prevBlock;for(var r=0;r<i;r++)e[o+r]^=a[r]}return e.Encryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;o.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),e.Decryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=t.slice(e,e+n);i.decryptBlock(t,e),o.call(this,t,e,n),this._prevBlock=a}}),e}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var o=4*e,i=o-t.sigBytes%o,a=i<<24|i<<16|i<<8|i,r=[],s=0;s<i;s+=4)r.push(a);var c=n.create(r,i);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};o.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,o=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=o.createEncryptor;else i=o.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(o,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var g=o.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),_=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,o=t.salt;if(o)var i=n.create([1398893684,1701076831]).concat(o).concat(e);else i=e;return i.toString(s)},parse:function(t){var e=s.parse(t),o=e.words;if(1398893684==o[0]&&1701076831==o[1]){var i=n.create(o.slice(2,4));o.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:i})}},y=o.SerializableCipher=i.extend({cfg:i.extend({format:_}),encrypt:function(t,e,o,i){i=this.cfg.extend(i);var n=t.createEncryptor(o,i),a=n.finalize(e),r=n.cfg;return g.create({ciphertext:a,key:o,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,o,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(o,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(e.kdf={}).OpenSSL={execute:function(t,e,o,i){i||(i=n.random(8));var a=c.create({keySize:e+o}).compute(t,i),r=n.create(a.words.slice(e),4*o);return a.sigBytes=4*e,g.create({key:a,iv:r,salt:i})}},v=o.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:m}),encrypt:function(t,e,o,i){var n=(i=this.cfg.extend(i)).kdf.execute(o,t.keySize,t.ivSize);i.iv=n.iv;var a=y.encrypt.call(this,t,e,n.key,i);return a.mixIn(n),a},decrypt:function(t,e,o,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var n=i.kdf.execute(o,t.keySize,t.ivSize,e.salt);return i.iv=n.iv,y.decrypt.call(this,t,e,n.key,i)}})}(),l.mode.CFB=function(){var t=l.lib.BlockCipherMode.extend();function e(t,e,o,i){var n=this._iv;if(n){var a=n.slice(0);this._iv=void 0}else a=this._prevBlock;i.encryptBlock(a,0);for(var r=0;r<o;r++)t[e+r]^=a[r]}return t.Encryptor=t.extend({processBlock:function(t,o){var i=this._cipher,n=i.blockSize;e.call(this,t,o,n,i),this._prevBlock=t.slice(o,o+n)}}),t.Decryptor=t.extend({processBlock:function(t,o){var i=this._cipher,n=i.blockSize,a=t.slice(o,o+n);e.call(this,t,o,n,i),this._prevBlock=a}}),t}(),l.mode.ECB=((c=l.lib.BlockCipherMode.extend()).Encryptor=c.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),c.Decryptor=c.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),c),l.pad.AnsiX923={pad:function(t,e){var o=t.sigBytes,i=4*e,n=i-o%i,a=o+n-1;t.clamp(),t.words[a>>>2]|=n<<24-a%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},l.pad.Iso10126={pad:function(t,e){var o=4*e,i=o-t.sigBytes%o;t.concat(l.lib.WordArray.random(i-1)).concat(l.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},l.pad.Iso97971={pad:function(t,e){t.concat(l.lib.WordArray.create([2147483648],1)),l.pad.ZeroPadding.pad(t,e)},unpad:function(t){l.pad.ZeroPadding.unpad(t),t.sigBytes--}},l.mode.OFB=(s=(r=l.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var o=this._cipher,i=o.blockSize,n=this._iv,a=this._keystream;n&&(a=this._keystream=n.slice(0),this._iv=void 0),o.encryptBlock(a,0);for(var r=0;r<i;r++)t[e+r]^=a[r]}}),r.Decryptor=s,r),l.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var e=l,o=e.lib.CipherParams,i=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return o.create({ciphertext:e})}}}(),function(){var t=l,e=t.lib.BlockCipher,o=t.algo,i=[],n=[],a=[],r=[],s=[],c=[],u=[],d=[],p=[],h=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,l=0;for(e=0;e<256;e++){var f=l^l<<1^l<<2^l<<3^l<<4;f=f>>>8^255&f^99,i[o]=f,n[f]=o;var g=t[o],_=t[g],y=t[_],m=257*t[f]^16843008*f;a[o]=m<<24|m>>>8,r[o]=m<<16|m>>>16,s[o]=m<<8|m>>>24,c[o]=m,m=16843009*y^65537*_^257*g^16843008*o,u[f]=m<<24|m>>>8,d[f]=m<<16|m>>>16,p[f]=m<<8|m>>>24,h[f]=m,o?(o=g^t[t[t[y^g]]],l^=t[t[l]]):o=l=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,o=t.sigBytes/4,n=4*((this._nRounds=o+6)+1),a=this._keySchedule=[],r=0;r<n;r++)if(r<o)a[r]=e[r];else{var s=a[r-1];r%o?o>6&&r%o==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[r/o|0]<<24),a[r]=a[r-o]^s}for(var c=this._invKeySchedule=[],l=0;l<n;l++)r=n-l,s=l%4?a[r]:a[r-4],c[l]=l<4||r<=4?s:u[i[s>>>24]]^d[i[s>>>16&255]]^p[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,r,s,c,i)},decryptBlock:function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,u,d,p,h,n),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},_doCryptBlock:function(t,e,o,i,n,a,r,s){for(var c=this._nRounds,l=t[e]^o[0],u=t[e+1]^o[1],d=t[e+2]^o[2],p=t[e+3]^o[3],h=4,f=1;f<c;f++){var g=i[l>>>24]^n[u>>>16&255]^a[d>>>8&255]^r[255&p]^o[h++],_=i[u>>>24]^n[d>>>16&255]^a[p>>>8&255]^r[255&l]^o[h++],y=i[d>>>24]^n[p>>>16&255]^a[l>>>8&255]^r[255&u]^o[h++],m=i[p>>>24]^n[l>>>16&255]^a[u>>>8&255]^r[255&d]^o[h++];l=g,u=_,d=y,p=m}g=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^o[h++],_=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^o[h++],y=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[h++],m=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^o[h++],t[e]=g,t[e+1]=_,t[e+2]=y,t[e+3]=m},keySize:8});t.AES=e._createHelper(g)}(),function(){var t=l,e=t.lib,o=e.WordArray,i=e.BlockCipher,n=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],r=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=n.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],o=0;o<56;o++){var i=a[o]-1;e[o]=t[i>>>5]>>>31-i%32&1}for(var n=this._subKeys=[],c=0;c<16;c++){var l=n[c]=[],u=s[c];for(o=0;o<24;o++)l[o/6|0]|=e[(r[o]-1+u)%28]<<31-o%6,l[4+(o/6|0)]|=e[28+(r[o+24]-1+u)%28]<<31-o%6;for(l[0]=l[0]<<1|l[0]>>>31,o=1;o<7;o++)l[o]=l[o]>>>4*(o-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(o=0;o<16;o++)d[o]=n[15-o]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,o){this._lBlock=t[e],this._rBlock=t[e+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var i=0;i<16;i++){for(var n=o[i],a=this._lBlock,r=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((r^n[l])&u[l])>>>0];this._lBlock=r,this._rBlock=a^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(t,e){var o=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=o,this._lBlock^=o<<t}function h(t,e){var o=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=o,this._rBlock^=o<<t}t.DES=i._createHelper(d);var f=n.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=d.createEncryptor(o.create(t.slice(0,2))),this._des2=d.createEncryptor(o.create(t.slice(2,4))),this._des3=d.createEncryptor(o.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(f)}(),function(){var t=l,e=t.lib.StreamCipher,o=t.algo,i=o.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,o=t.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;n=0;for(var a=0;n<256;n++){var r=n%o,s=e[r>>>2]>>>24-r%4*8&255;a=(a+i[n]+s)%256;var c=i[n];i[n]=i[a],i[a]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var t=this._S,e=this._i,o=this._j,i=0,n=0;n<4;n++){o=(o+t[e=(e+1)%256])%256;var a=t[e];t[e]=t[o],t[o]=a,i|=t[(t[e]+t[o])%256]<<24-8*n}return this._i=e,this._j=o,i}t.RC4=e._createHelper(i);var a=o.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)n.call(this)}});t.RC4Drop=e._createHelper(a)}(),l.mode.CTRGladman=function(){var t=l.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,o=t>>8&255,i=255&t;255===e?(e=0,255===o?(o=0,255===i?i=0:++i):++o):++e,t=0,t+=e<<16,t+=o<<8,t+=i}else t+=1<<24;return t}function o(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var i=t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=this._iv,r=this._counter;a&&(r=this._counter=a.slice(0),this._iv=void 0),o(r);var s=r.slice(0);i.encryptBlock(s,0);for(var c=0;c<n;c++)t[e+c]^=s[c]}});return t.Decryptor=i,t}(),function(){var t=l,e=t.lib.StreamCipher,o=[],i=[],n=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,o=0;o<4;o++)t[o]=16711935&(t[o]<<8|t[o]>>>24)|4278255360&(t[o]<<24|t[o]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,o=0;o<4;o++)r.call(this);for(o=0;o<8;o++)n[o]^=i[o+4&7];if(e){var a=e.words,s=a[0],c=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(n[0]^=l,n[1]^=d,n[2]^=u,n[3]^=p,n[4]^=l,n[5]^=d,n[6]^=u,n[7]^=p,o=0;o<4;o++)r.call(this)}},_doProcessBlock:function(t,e){var i=this._X;r.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function r(){for(var t=this._X,e=this._C,o=0;o<8;o++)i[o]=e[o];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,o=0;o<8;o++){var a=t[o]+e[o],r=65535&a,s=a>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&a)*a|0)+((65535&a)*a|0);n[o]=c^l}t[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,t[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,t[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,t[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,t[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,t[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,t[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,t[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}t.Rabbit=e._createHelper(a)}(),l.mode.CTR=function(){var t=l.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var o=this._cipher,i=o.blockSize,n=this._iv,a=this._counter;n&&(a=this._counter=n.slice(0),this._iv=void 0);var r=a.slice(0);o.encryptBlock(r,0),a[i-1]=a[i-1]+1|0;for(var s=0;s<i;s++)t[e+s]^=r[s]}});return t.Decryptor=e,t}(),function(){var t=l,e=t.lib.StreamCipher,o=[],i=[],n=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)r.call(this);for(n=0;n<8;n++)i[n]^=o[n+4&7];if(e){var a=e.words,s=a[0],c=a[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(i[0]^=l,i[1]^=d,i[2]^=u,i[3]^=p,i[4]^=l,i[5]^=d,i[6]^=u,i[7]^=p,n=0;n<4;n++)r.call(this)}},_doProcessBlock:function(t,e){var i=this._X;r.call(this),o[0]=i[0]^i[5]>>>16^i[3]<<16,o[1]=i[2]^i[7]>>>16^i[5]<<16,o[2]=i[4]^i[1]>>>16^i[7]<<16,o[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),t[e+n]^=o[n]},blockSize:4,ivSize:2});function r(){for(var t=this._X,e=this._C,o=0;o<8;o++)i[o]=e[o];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,o=0;o<8;o++){var a=t[o]+e[o],r=65535&a,s=a>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&a)*a|0)+((65535&a)*a|0);n[o]=c^l}t[0]=n[0]+(n[7]<<16|n[7]>>>16)+(n[6]<<16|n[6]>>>16)|0,t[1]=n[1]+(n[0]<<8|n[0]>>>24)+n[7]|0,t[2]=n[2]+(n[1]<<16|n[1]>>>16)+(n[0]<<16|n[0]>>>16)|0,t[3]=n[3]+(n[2]<<8|n[2]>>>24)+n[1]|0,t[4]=n[4]+(n[3]<<16|n[3]>>>16)+(n[2]<<16|n[2]>>>16)|0,t[5]=n[5]+(n[4]<<8|n[4]>>>24)+n[3]|0,t[6]=n[6]+(n[5]<<16|n[5]>>>16)+(n[4]<<16|n[4]>>>16)|0,t[7]=n[7]+(n[6]<<8|n[6]>>>24)+n[5]|0}t.RabbitLegacy=e._createHelper(a)}(),l.pad.ZeroPadding={pad:function(t,e){var o=4*e;t.clamp(),t.sigBytes+=o-(t.sigBytes%o||o)},unpad:function(t){for(var e=t.words,o=t.sigBytes-1;!(e[o>>>2]>>>24-o%4*8&255);)o--;t.sigBytes=o+1}},o=l;var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";i={btoa:function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("INVALID_CHARACTER_ERR");for(var e,o,i,n=0,a=[];n<t.length;){switch(o=t.charCodeAt(n),i=n%3){case 0:a.push(u.charAt(o>>2));break;case 1:a.push(u.charAt((3&e)<<4|o>>4));break;case 2:a.push(u.charAt((15&e)<<2|o>>6)),a.push(u.charAt(63&o))}e=o,n++}return 0==i?(a.push(u.charAt((3&e)<<4)),a.push("==")):1==i&&(a.push(u.charAt((15&e)<<2)),a.push("=")),a.join("")},atob:function(t){t=t.replace(/\s|=/g,"");for(var e,o,i=0,n=[];i<t.length;){switch(e=u.indexOf(t.charAt(i)),i%4){case 0:break;case 1:n.push(String.fromCharCode(o<<2|e>>4));break;case 2:n.push(String.fromCharCode((15&o)<<4|e>>2));break;case 3:n.push(String.fromCharCode((3&o)<<6|e))}o=e,i++}return n.join("")}},n=function t(e,o,i){function n(r,s){if(!o[r]){if(!e[r]){if(!s&&ye)return ye(r);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return n(e[r][1][t]||t)},l,l.exports,t,e,o,i)}return o[r].exports}for(var a=ye,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,o){function i(t){if(!(this instanceof i))return new i(t);this.options=r.assign({level:p,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var o=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(o!==d)throw new Error(c[o]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(o=a.deflateSetDictionary(this.strm,n))!==d)throw new Error(c[o]);this._dict_set=!0}}function n(t,e){var o=new i(e);if(o.push(t,!0),o.err)throw o.msg;return o.result}var a=t("./zlib/deflate"),r=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,f=8;i.prototype.push=function(t,e){var o,i,n=this.strm,c=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=s.string2buf(t):"[object ArrayBuffer]"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new r.Buf8(c),n.next_out=0,n.avail_out=c),1!==(o=a.deflate(n,i))&&o!==d)return this.onEnd(o),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(n.output,n.next_out))):this.onData(r.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==o);return 4===i?(o=a.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===d):2!==i||(this.onEnd(d),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},o.Deflate=i,o.deflate=n,o.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},o.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,o){function i(t){if(!(this instanceof i))return new i(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var o=a.inflateInit2(this.strm,e.windowBits);if(o!==c.Z_OK)throw new Error(l[o]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function n(t,e){var o=new i(e);if(o.push(t,!0),o.err)throw o.msg;return o.result}var a=t("./zlib/inflate"),r=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(t,e){var o,i,n,l,u,d,h=this.strm,f=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?h.input=s.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(f),h.next_out=0,h.avail_out=f),(o=a.inflate(h,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&g&&(d="string"==typeof g?s.string2buf(g):"[object ArrayBuffer]"===p.call(g)?new Uint8Array(g):g,o=a.inflateSetDictionary(this.strm,d)),o===c.Z_BUF_ERROR&&!0===_&&(o=c.Z_OK,_=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&o!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(n=s.utf8border(h.output,h.next_out),l=h.next_out-n,u=s.buf2string(h.output,n),h.next_out=l,h.avail_out=f-l,l&&r.arraySet(h.output,h.output,n,l,0),this.onData(u)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(_=!0)}while((h.avail_in>0||0===h.avail_out)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},o.Inflate=i,o.inflate=n,o.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},o.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,o){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;o.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var o=e.shift();if(o){if("object"!=a(o))throw new TypeError(o+"must be non-object");for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}}return t},o.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,o,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(o,o+i),n);else for(var a=0;a<i;a++)t[n+a]=e[o+a]},flattenChunks:function(t){var e,o,i,n,a,r;for(i=0,e=0,o=t.length;e<o;e++)i+=t[e].length;for(r=new Uint8Array(i),n=0,e=0,o=t.length;e<o;e++)a=t[e],r.set(a,n),n+=a.length;return r}},r={arraySet:function(t,e,o,i,n){for(var a=0;a<i;a++)t[n+a]=e[o+a]},flattenChunks:function(t){return[].concat.apply([],t)}};o.setTyped=function(t){t?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,n)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],4:[function(t,e,o){function i(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var o="",i=0;i<e;i++)o+=String.fromCharCode(t[i]);return o}var n=t("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var s=new n.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,o.string2buf=function(t){var e,o,i,a,r,s=t.length,c=0;for(a=0;a<s;a++)55296==(64512&(o=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(o=65536+(o-55296<<10)+(i-56320),a++),c+=o<128?1:o<2048?2:o<65536?3:4;for(e=new n.Buf8(c),r=0,a=0;r<c;a++)55296==(64512&(o=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(o=65536+(o-55296<<10)+(i-56320),a++),o<128?e[r++]=o:o<2048?(e[r++]=192|o>>>6,e[r++]=128|63&o):o<65536?(e[r++]=224|o>>>12,e[r++]=128|o>>>6&63,e[r++]=128|63&o):(e[r++]=240|o>>>18,e[r++]=128|o>>>12&63,e[r++]=128|o>>>6&63,e[r++]=128|63&o);return e},o.buf2binstring=function(t){return i(t,t.length)},o.binstring2buf=function(t){for(var e=new n.Buf8(t.length),o=0,i=e.length;o<i;o++)e[o]=t.charCodeAt(o);return e},o.buf2string=function(t,e){var o,n,a,r,c=e||t.length,l=new Array(2*c);for(n=0,o=0;o<c;)if((a=t[o++])<128)l[n++]=a;else if((r=s[a])>4)l[n++]=65533,o+=r-1;else{for(a&=2===r?31:3===r?15:7;r>1&&o<c;)a=a<<6|63&t[o++],r--;r>1?l[n++]=65533:a<65536?l[n++]=a:(a-=65536,l[n++]=55296|a>>10&1023,l[n++]=56320|1023&a)}return i(l,n)},o.utf8border=function(t,e){var o;for((e=e||t.length)>t.length&&(e=t.length),o=e-1;o>=0&&128==(192&t[o]);)o--;return o<0||0===o?e:o+s[t[o]]>e?o:e}},{"./common":3}],5:[function(t,e,o){e.exports=function(t,e,o,i){for(var n=65535&t|0,a=t>>>16&65535|0,r=0;0!==o;){o-=r=o>2e3?2e3:o;do{a=a+(n=n+e[i++]|0)|0}while(--r);n%=65521,a%=65521}return n|a<<16|0}},{}],6:[function(t,e,o){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,o){var i=function(){for(var t,e=[],o=0;o<256;o++){t=o;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[o]=t}return e}();e.exports=function(t,e,o,n){var a=i,r=n+o;t^=-1;for(var s=n;s<r;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,o){function i(t,e){return t.msg=M[e],e}function n(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t){var e=t.state,o=e.pending;o>t.avail_out&&(o=t.avail_out),0!==o&&(C.arraySet(t.output,e.pending_buf,e.pending_out,o,t.next_out),t.next_out+=o,e.pending_out+=o,t.total_out+=o,t.avail_out-=o,e.pending-=o,0===e.pending&&(e.pending_out=0))}function s(t,e){G._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,r(t.strm)}function c(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,o,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,C.arraySet(e,t.input,t.next_in,n,o),1===t.state.wrap?t.adler=T(t.adler,e,n,o):2===t.state.wrap&&(t.adler=P(t.adler,e,n,o)),t.next_in+=n,t.total_in+=n,n)}function d(t,e){var o,i,n=t.max_chain_length,a=t.strstart,r=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-it?t.strstart-(t.w_size-it):0,l=t.window,u=t.w_mask,d=t.prev,p=t.strstart+ot,h=l[a+r-1],f=l[a+r];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(o=e)+r]===f&&l[o+r-1]===h&&l[o]===l[a]&&l[++o]===l[a+1]){a+=2,o++;do{}while(l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&a<p);if(i=ot-(p-a),a=p-ot,i>r){if(t.match_start=e,r=i,i>=s)break;h=l[a+r-1],f=l[a+r]}}}while((e=d[e&u])>c&&0!=--n);return r<=t.lookahead?r:t.lookahead}function p(t){var e,o,i,n,a,r=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-it)){C.arraySet(t.window,t.window,r,r,0),t.match_start-=r,t.strstart-=r,t.block_start-=r,e=o=t.hash_size;do{i=t.head[--e],t.head[e]=i>=r?i-r:0}while(--o);e=o=r;do{i=t.prev[--e],t.prev[e]=i>=r?i-r:0}while(--o);n+=r}if(0===t.strm.avail_in)break;if(o=u(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=o,t.lookahead+t.insert>=et)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+et-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<et)););}while(t.lookahead<it&&0!==t.strm.avail_in)}function h(t,e){for(var o,i;;){if(t.lookahead<it){if(p(t),t.lookahead<it&&e===I)return pt;if(0===t.lookahead)break}if(o=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==o&&t.strstart-o<=t.w_size-it&&(t.match_length=d(t,o)),t.match_length>=et)if(i=G._tr_tally(t,t.strstart-t.match_start,t.match_length-et),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=et){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=t.strstart<et-1?t.strstart:et-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function f(t,e){for(var o,i,n;;){if(t.lookahead<it){if(p(t),t.lookahead<it&&e===I)return pt;if(0===t.lookahead)break}if(o=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=et-1,0!==o&&t.prev_length<t.max_lazy_match&&t.strstart-o<=t.w_size-it&&(t.match_length=d(t,o),t.match_length<=5&&(t.strategy===L||t.match_length===et&&t.strstart-t.match_start>4096)&&(t.match_length=et-1)),t.prev_length>=et&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-et,i=G._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-et),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=et-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return pt}else if(t.match_available){if((i=G._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return pt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=G._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<et-1?t.strstart:et-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function g(t,e){for(var o,i,n,a,r=t.window;;){if(t.lookahead<=ot){if(p(t),t.lookahead<=ot&&e===I)return pt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=et&&t.strstart>0&&(i=r[n=t.strstart-1])===r[++n]&&i===r[++n]&&i===r[++n]){a=t.strstart+ot;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<a);t.match_length=ot-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=et?(o=G._tr_tally(t,1,t.match_length-et),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(o=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),o&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function _(t,e){for(var o;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===I)return pt;break}if(t.match_length=0,o=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,o&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function y(t,e,o,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=o,this.max_chain=i,this.func=n}function m(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=et-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*$),this.dyn_dtree=new C.Buf16(2*(2*Q+1)),this.bl_tree=new C.Buf16(2*(2*Z+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(tt+1),this.heap=new C.Buf16(2*J+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*J+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=V,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?at:ut,t.adler=2===e.wrap?0:1,e.last_flush=I,G._tr_init(e),O):i(t,x)}function S(t){var e=b(t);return e===O&&m(t.state),e}function w(t,e,o,n,a,r){if(!t)return x;var s=1;if(e===F&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>Y||o!==W||n<8||n>15||e<0||e>9||r<0||r>q)return i(t,x);8===n&&(n=9);var c=new v;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+et-1)/et),c.window=new C.Buf8(2*c.w_size),c.head=new C.Buf16(c.hash_size),c.prev=new C.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new C.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=r,c.method=o,S(t)}var A,C=t("../utils/common"),G=t("./trees"),T=t("./adler32"),P=t("./crc32"),M=t("./messages"),I=0,N=1,B=3,R=4,E=5,O=0,D=1,x=-2,k=-3,U=-5,F=-1,L=1,j=2,z=3,q=4,H=0,V=2,W=8,Y=9,K=15,X=8,J=286,Q=30,Z=19,$=2*J+1,tt=15,et=3,ot=258,it=ot+et+1,nt=32,at=42,rt=69,st=73,ct=91,lt=103,ut=113,dt=666,pt=1,ht=2,ft=3,gt=4,_t=3;A=[new y(0,0,0,0,function(t,e){var o=65535;for(o>t.pending_buf_size-5&&(o=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===I)return pt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+o;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return pt;if(t.strstart-t.block_start>=t.w_size-it&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),pt)}),new y(4,4,8,4,h),new y(4,5,16,8,h),new y(4,6,32,32,h),new y(4,4,16,16,f),new y(8,16,32,32,f),new y(8,16,128,128,f),new y(8,32,128,256,f),new y(32,128,258,1024,f),new y(32,258,258,4096,f)],o.deflateInit=function(t,e){return w(t,e,W,K,X,H)},o.deflateInit2=w,o.deflateReset=S,o.deflateResetKeep=b,o.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?x:(t.state.gzhead=e,O):x},o.deflate=function(t,e){var o,s,u,d;if(!t||!t.state||e>E||e<0)return t?i(t,x):x;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===dt&&e!==R)return i(t,0===t.avail_out?U:x);if(s.strm=t,o=s.last_flush,s.last_flush=e,s.status===at)if(2===s.wrap)t.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=j||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=P(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=rt):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=j||s.level<2?4:0),c(s,_t),s.status=ut);else{var p=W+(s.w_bits-8<<4)<<8;p|=(s.strategy>=j||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=nt),p+=31-p%31,s.status=ut,l(s,p),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(s.status===rt)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=st)}else s.status=st;if(s.status===st)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ct)}else s.status=ct;if(s.status===ct)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=lt)}else s.status=lt;if(s.status===lt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&r(t),s.pending+2<=s.pending_buf_size&&(c(s,255&t.adler),c(s,t.adler>>8&255),t.adler=0,s.status=ut)):s.status=ut),0!==s.pending){if(r(t),0===t.avail_out)return s.last_flush=-1,O}else if(0===t.avail_in&&n(e)<=n(o)&&e!==R)return i(t,U);if(s.status===dt&&0!==t.avail_in)return i(t,U);if(0!==t.avail_in||0!==s.lookahead||e!==I&&s.status!==dt){var h=s.strategy===j?_(s,e):s.strategy===z?g(s,e):A[s.level].func(s,e);if(h!==ft&&h!==gt||(s.status=dt),h===pt||h===ft)return 0===t.avail_out&&(s.last_flush=-1),O;if(h===ht&&(e===N?G._tr_align(s):e!==E&&(G._tr_stored_block(s,0,0,!1),e===B&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),r(t),0===t.avail_out))return s.last_flush=-1,O}return e!==R?O:s.wrap<=0?D:(2===s.wrap?(c(s,255&t.adler),c(s,t.adler>>8&255),c(s,t.adler>>16&255),c(s,t.adler>>24&255),c(s,255&t.total_in),c(s,t.total_in>>8&255),c(s,t.total_in>>16&255),c(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),r(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?O:D)},o.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==at&&e!==rt&&e!==st&&e!==ct&&e!==lt&&e!==ut&&e!==dt?i(t,x):(t.state=null,e===ut?i(t,k):O):x},o.deflateSetDictionary=function(t,e){var o,i,n,r,s,c,l,u,d=e.length;if(!t||!t.state)return x;if(2===(r=(o=t.state).wrap)||1===r&&o.status!==at||o.lookahead)return x;for(1===r&&(t.adler=T(t.adler,e,d,0)),o.wrap=0,d>=o.w_size&&(0===r&&(a(o.head),o.strstart=0,o.block_start=0,o.insert=0),u=new C.Buf8(o.w_size),C.arraySet(u,e,d-o.w_size,o.w_size,0),e=u,d=o.w_size),s=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,p(o);o.lookahead>=et;){i=o.strstart,n=o.lookahead-(et-1);do{o.ins_h=(o.ins_h<<o.hash_shift^o.window[i+et-1])&o.hash_mask,o.prev[i&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=i,i++}while(--n);o.strstart=i,o.lookahead=et-1,p(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=et-1,o.match_available=0,t.next_in=c,t.input=l,t.avail_in=s,o.wrap=r,O},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,o){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,o){e.exports=function(t,e){var o,i,n,a,r,s,c,l,u,d,p,h,f,g,_,y,m,v,b,S,w,A,C,G,T;o=t.state,i=t.next_in,G=t.input,n=i+(t.avail_in-5),a=t.next_out,T=t.output,r=a-(e-t.avail_out),s=a+(t.avail_out-257),c=o.dmax,l=o.wsize,u=o.whave,d=o.wnext,p=o.window,h=o.hold,f=o.bits,g=o.lencode,_=o.distcode,y=(1<<o.lenbits)-1,m=(1<<o.distbits)-1;t:do{f<15&&(h+=G[i++]<<f,f+=8,h+=G[i++]<<f,f+=8),v=g[h&y];e:for(;;){if(h>>>=b=v>>>24,f-=b,0==(b=v>>>16&255))T[a++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(h&(1<<b)-1)];continue e}if(32&b){o.mode=12;break t}t.msg="invalid literal/length code",o.mode=30;break t}S=65535&v,(b&=15)&&(f<b&&(h+=G[i++]<<f,f+=8),S+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=G[i++]<<f,f+=8,h+=G[i++]<<f,f+=8),v=_[h&m];o:for(;;){if(h>>>=b=v>>>24,f-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=_[(65535&v)+(h&(1<<b)-1)];continue o}t.msg="invalid distance code",o.mode=30;break t}if(w=65535&v,f<(b&=15)&&(h+=G[i++]<<f,(f+=8)<b&&(h+=G[i++]<<f,f+=8)),(w+=h&(1<<b)-1)>c){t.msg="invalid distance too far back",o.mode=30;break t}if(h>>>=b,f-=b,w>(b=a-r)){if((b=w-b)>u&&o.sane){t.msg="invalid distance too far back",o.mode=30;break t}if(A=0,C=p,0===d){if(A+=l-b,b<S){S-=b;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}}else if(d<b){if(A+=l+d-b,(b-=d)<S){S-=b;do{T[a++]=p[A++]}while(--b);if(A=0,d<S){S-=b=d;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}}}else if(A+=d-b,b<S){S-=b;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}for(;S>2;)T[a++]=C[A++],T[a++]=C[A++],T[a++]=C[A++],S-=3;S&&(T[a++]=C[A++],S>1&&(T[a++]=C[A++]))}else{A=a-w;do{T[a++]=T[A++],T[a++]=T[A++],T[a++]=T[A++],S-=3}while(S>2);S&&(T[a++]=T[A++],S>1&&(T[a++]=T[A++]))}break}}break}}while(i<n&&a<s);i-=S=f>>3,h&=(1<<(f-=S<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<s?s-a+257:257-(a-s),o.hold=h,o.bits=f}},{}],11:[function(t,e,o){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=R,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new h.Buf32(lt),e.distcode=e.distdyn=new h.Buf32(ut),e.sane=1,e.back=-1,C):P}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):P}function s(t,e){var o,i;return t&&t.state?(i=t.state,e<0?(o=0,e=-e):(o=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=o,i.wbits=e,r(t))):P}function c(t,e){var o,i;return t?(i=new n,t.state=i,i.window=null,(o=s(t,e))!==C&&(t.state=null),o):P}function l(t){if(pt){var e;for(d=new h.Buf32(512),p=new h.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(y(v,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;y(b,t.lens,0,32,p,0,t.work,{bits:5}),pt=!1}t.lencode=d,t.lenbits=9,t.distcode=p,t.distbits=5}function u(t,e,o,i){var n,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new h.Buf8(a.wsize)),i>=a.wsize?(h.arraySet(a.window,e,o-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),h.arraySet(a.window,e,o-i,n,a.wnext),(i-=n)?(h.arraySet(a.window,e,o-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}var d,p,h=t("../utils/common"),f=t("./adler32"),g=t("./crc32"),_=t("./inffast"),y=t("./inftrees"),m=0,v=1,b=2,S=4,w=5,A=6,C=0,G=1,T=2,P=-2,M=-3,I=-4,N=-5,B=8,R=1,E=2,O=3,D=4,x=5,k=6,U=7,F=8,L=9,j=10,z=11,q=12,H=13,V=14,W=15,Y=16,K=17,X=18,J=19,Q=20,Z=21,$=22,tt=23,et=24,ot=25,it=26,nt=27,at=28,rt=29,st=30,ct=31,lt=852,ut=592,dt=15,pt=!0;o.inflateReset=r,o.inflateReset2=s,o.inflateResetKeep=a,o.inflateInit=function(t){return c(t,dt)},o.inflateInit2=c,o.inflate=function(t,e){var o,n,a,r,s,c,d,p,lt,ut,dt,pt,ht,ft,gt,_t,yt,mt,vt,bt,St,wt,At,Ct,Gt=0,Tt=new h.Buf8(4),Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;(o=t.state).mode===q&&(o.mode=H),s=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,c=t.avail_in,p=o.hold,lt=o.bits,ut=c,dt=d,wt=C;t:for(;;)switch(o.mode){case R:if(0===o.wrap){o.mode=H;break}for(;lt<16;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(2&o.wrap&&35615===p){o.check=0,Tt[0]=255&p,Tt[1]=p>>>8&255,o.check=g(o.check,Tt,2,0),p=0,lt=0,o.mode=E;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",o.mode=st;break}if((15&p)!==B){t.msg="unknown compression method",o.mode=st;break}if(lt-=4,St=8+(15&(p>>>=4)),0===o.wbits)o.wbits=St;else if(St>o.wbits){t.msg="invalid window size",o.mode=st;break}o.dmax=1<<St,t.adler=o.check=1,o.mode=512&p?j:q,p=0,lt=0;break;case E:for(;lt<16;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(o.flags=p,(255&o.flags)!==B){t.msg="unknown compression method",o.mode=st;break}if(57344&o.flags){t.msg="unknown header flags set",o.mode=st;break}o.head&&(o.head.text=p>>8&1),512&o.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,o.check=g(o.check,Tt,2,0)),p=0,lt=0,o.mode=O;case O:for(;lt<32;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.head&&(o.head.time=p),512&o.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,Tt[2]=p>>>16&255,Tt[3]=p>>>24&255,o.check=g(o.check,Tt,4,0)),p=0,lt=0,o.mode=D;case D:for(;lt<16;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.head&&(o.head.xflags=255&p,o.head.os=p>>8),512&o.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,o.check=g(o.check,Tt,2,0)),p=0,lt=0,o.mode=x;case x:if(1024&o.flags){for(;lt<16;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.length=p,o.head&&(o.head.extra_len=p),512&o.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,o.check=g(o.check,Tt,2,0)),p=0,lt=0}else o.head&&(o.head.extra=null);o.mode=k;case k:if(1024&o.flags&&((pt=o.length)>c&&(pt=c),pt&&(o.head&&(St=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),h.arraySet(o.head.extra,n,r,pt,St)),512&o.flags&&(o.check=g(o.check,n,pt,r)),c-=pt,r+=pt,o.length-=pt),o.length))break t;o.length=0,o.mode=U;case U:if(2048&o.flags){if(0===c)break t;pt=0;do{St=n[r+pt++],o.head&&St&&o.length<65536&&(o.head.name+=String.fromCharCode(St))}while(St&&pt<c);if(512&o.flags&&(o.check=g(o.check,n,pt,r)),c-=pt,r+=pt,St)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=F;case F:if(4096&o.flags){if(0===c)break t;pt=0;do{St=n[r+pt++],o.head&&St&&o.length<65536&&(o.head.comment+=String.fromCharCode(St))}while(St&&pt<c);if(512&o.flags&&(o.check=g(o.check,n,pt,r)),c-=pt,r+=pt,St)break t}else o.head&&(o.head.comment=null);o.mode=L;case L:if(512&o.flags){for(;lt<16;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(p!==(65535&o.check)){t.msg="header crc mismatch",o.mode=st;break}p=0,lt=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),t.adler=o.check=0,o.mode=q;break;case j:for(;lt<32;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}t.adler=o.check=i(p),p=0,lt=0,o.mode=z;case z:if(0===o.havedict)return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=lt,T;t.adler=o.check=1,o.mode=q;case q:if(e===w||e===A)break t;case H:if(o.last){p>>>=7&lt,lt-=7&lt,o.mode=nt;break}for(;lt<3;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}switch(o.last=1&p,lt-=1,3&(p>>>=1)){case 0:o.mode=V;break;case 1:if(l(o),o.mode=Q,e===A){p>>>=2,lt-=2;break t}break;case 2:o.mode=K;break;case 3:t.msg="invalid block type",o.mode=st}p>>>=2,lt-=2;break;case V:for(p>>>=7&lt,lt-=7&lt;lt<32;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if((65535&p)!=(p>>>16^65535)){t.msg="invalid stored block lengths",o.mode=st;break}if(o.length=65535&p,p=0,lt=0,o.mode=W,e===A)break t;case W:o.mode=Y;case Y:if(pt=o.length){if(pt>c&&(pt=c),pt>d&&(pt=d),0===pt)break t;h.arraySet(a,n,r,pt,s),c-=pt,r+=pt,d-=pt,s+=pt,o.length-=pt;break}o.mode=q;break;case K:for(;lt<14;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(o.nlen=257+(31&p),p>>>=5,lt-=5,o.ndist=1+(31&p),p>>>=5,lt-=5,o.ncode=4+(15&p),p>>>=4,lt-=4,o.nlen>286||o.ndist>30){t.msg="too many length or distance symbols",o.mode=st;break}o.have=0,o.mode=X;case X:for(;o.have<o.ncode;){for(;lt<3;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.lens[Pt[o.have++]]=7&p,p>>>=3,lt-=3}for(;o.have<19;)o.lens[Pt[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,At={bits:o.lenbits},wt=y(m,o.lens,0,19,o.lencode,0,o.work,At),o.lenbits=At.bits,wt){t.msg="invalid code lengths set",o.mode=st;break}o.have=0,o.mode=J;case J:for(;o.have<o.nlen+o.ndist;){for(;_t=(Gt=o.lencode[p&(1<<o.lenbits)-1])>>>16&255,yt=65535&Gt,!((gt=Gt>>>24)<=lt);){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(yt<16)p>>>=gt,lt-=gt,o.lens[o.have++]=yt;else{if(16===yt){for(Ct=gt+2;lt<Ct;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(p>>>=gt,lt-=gt,0===o.have){t.msg="invalid bit length repeat",o.mode=st;break}St=o.lens[o.have-1],pt=3+(3&p),p>>>=2,lt-=2}else if(17===yt){for(Ct=gt+3;lt<Ct;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}lt-=gt,St=0,pt=3+(7&(p>>>=gt)),p>>>=3,lt-=3}else{for(Ct=gt+7;lt<Ct;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}lt-=gt,St=0,pt=11+(127&(p>>>=gt)),p>>>=7,lt-=7}if(o.have+pt>o.nlen+o.ndist){t.msg="invalid bit length repeat",o.mode=st;break}for(;pt--;)o.lens[o.have++]=St}}if(o.mode===st)break;if(0===o.lens[256]){t.msg="invalid code -- missing end-of-block",o.mode=st;break}if(o.lenbits=9,At={bits:o.lenbits},wt=y(v,o.lens,0,o.nlen,o.lencode,0,o.work,At),o.lenbits=At.bits,wt){t.msg="invalid literal/lengths set",o.mode=st;break}if(o.distbits=6,o.distcode=o.distdyn,At={bits:o.distbits},wt=y(b,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,At),o.distbits=At.bits,wt){t.msg="invalid distances set",o.mode=st;break}if(o.mode=Q,e===A)break t;case Q:o.mode=Z;case Z:if(c>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=lt,_(t,dt),s=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,c=t.avail_in,p=o.hold,lt=o.bits,o.mode===q&&(o.back=-1);break}for(o.back=0;_t=(Gt=o.lencode[p&(1<<o.lenbits)-1])>>>16&255,yt=65535&Gt,!((gt=Gt>>>24)<=lt);){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(_t&&0==(240&_t)){for(mt=gt,vt=_t,bt=yt;_t=(Gt=o.lencode[bt+((p&(1<<mt+vt)-1)>>mt)])>>>16&255,yt=65535&Gt,!(mt+(gt=Gt>>>24)<=lt);){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}p>>>=mt,lt-=mt,o.back+=mt}if(p>>>=gt,lt-=gt,o.back+=gt,o.length=yt,0===_t){o.mode=it;break}if(32&_t){o.back=-1,o.mode=q;break}if(64&_t){t.msg="invalid literal/length code",o.mode=st;break}o.extra=15&_t,o.mode=$;case $:if(o.extra){for(Ct=o.extra;lt<Ct;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.length+=p&(1<<o.extra)-1,p>>>=o.extra,lt-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=tt;case tt:for(;_t=(Gt=o.distcode[p&(1<<o.distbits)-1])>>>16&255,yt=65535&Gt,!((gt=Gt>>>24)<=lt);){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(0==(240&_t)){for(mt=gt,vt=_t,bt=yt;_t=(Gt=o.distcode[bt+((p&(1<<mt+vt)-1)>>mt)])>>>16&255,yt=65535&Gt,!(mt+(gt=Gt>>>24)<=lt);){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}p>>>=mt,lt-=mt,o.back+=mt}if(p>>>=gt,lt-=gt,o.back+=gt,64&_t){t.msg="invalid distance code",o.mode=st;break}o.offset=yt,o.extra=15&_t,o.mode=et;case et:if(o.extra){for(Ct=o.extra;lt<Ct;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}o.offset+=p&(1<<o.extra)-1,p>>>=o.extra,lt-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){t.msg="invalid distance too far back",o.mode=st;break}o.mode=ot;case ot:if(0===d)break t;if(pt=dt-d,o.offset>pt){if((pt=o.offset-pt)>o.whave&&o.sane){t.msg="invalid distance too far back",o.mode=st;break}pt>o.wnext?(pt-=o.wnext,ht=o.wsize-pt):ht=o.wnext-pt,pt>o.length&&(pt=o.length),ft=o.window}else ft=a,ht=s-o.offset,pt=o.length;pt>d&&(pt=d),d-=pt,o.length-=pt;do{a[s++]=ft[ht++]}while(--pt);0===o.length&&(o.mode=Z);break;case it:if(0===d)break t;a[s++]=o.length,d--,o.mode=Z;break;case nt:if(o.wrap){for(;lt<32;){if(0===c)break t;c--,p|=n[r++]<<lt,lt+=8}if(dt-=d,t.total_out+=dt,o.total+=dt,dt&&(t.adler=o.check=o.flags?g(o.check,a,dt,s-dt):f(o.check,a,dt,s-dt)),dt=d,(o.flags?p:i(p))!==o.check){t.msg="incorrect data check",o.mode=st;break}p=0,lt=0}o.mode=at;case at:if(o.wrap&&o.flags){for(;lt<32;){if(0===c)break t;c--,p+=n[r++]<<lt,lt+=8}if(p!==(4294967295&o.total)){t.msg="incorrect length check",o.mode=st;break}p=0,lt=0}o.mode=rt;case rt:wt=G;break t;case st:wt=M;break t;case ct:return I;default:return P}return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=lt,(o.wsize||dt!==t.avail_out&&o.mode<st&&(o.mode<nt||e!==S))&&u(t,t.output,t.next_out,dt-t.avail_out)?(o.mode=ct,I):(ut-=t.avail_in,dt-=t.avail_out,t.total_in+=ut,t.total_out+=dt,o.total+=dt,o.wrap&&dt&&(t.adler=o.check=o.flags?g(o.check,a,dt,t.next_out-dt):f(o.check,a,dt,t.next_out-dt)),t.data_type=o.bits+(o.last?64:0)+(o.mode===q?128:0)+(o.mode===Q||o.mode===W?256:0),(0===ut&&0===dt||e===S)&&wt===C&&(wt=N),wt)},o.inflateEnd=function(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,C},o.inflateGetHeader=function(t,e){var o;return t&&t.state?0==(2&(o=t.state).wrap)?P:(o.head=e,e.done=!1,C):P},o.inflateSetDictionary=function(t,e){var o,i=e.length;return t&&t.state?0!==(o=t.state).wrap&&o.mode!==z?P:o.mode===z&&f(1,e,i,0)!==o.check?M:u(t,e,i,i)?(o.mode=ct,I):(o.havedict=1,C):P},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,o){var i=t("../utils/common"),n=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,o,l,u,d,p,h){var f,g,_,y,m,v,b,S,w,A=h.bits,C=0,G=0,T=0,P=0,M=0,I=0,N=0,B=0,R=0,E=0,O=null,D=0,x=new i.Buf16(16),k=new i.Buf16(16),U=null,F=0;for(C=0;C<=n;C++)x[C]=0;for(G=0;G<l;G++)x[e[o+G]]++;for(M=A,P=n;P>=1&&0===x[P];P--);if(M>P&&(M=P),0===P)return u[d++]=20971520,u[d++]=20971520,h.bits=1,0;for(T=1;T<P&&0===x[T];T++);for(M<T&&(M=T),B=1,C=1;C<=n;C++)if(B<<=1,(B-=x[C])<0)return-1;if(B>0&&(0===t||1!==P))return-1;for(k[1]=0,C=1;C<n;C++)k[C+1]=k[C]+x[C];for(G=0;G<l;G++)0!==e[o+G]&&(p[k[e[o+G]]++]=G);if(0===t?(O=U=p,v=19):1===t?(O=a,D-=257,U=r,F-=257,v=256):(O=s,U=c,v=-1),E=0,G=0,C=T,m=d,I=M,N=0,_=-1,y=(R=1<<M)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=C-N,p[G]<v?(S=0,w=p[G]):p[G]>v?(S=U[F+p[G]],w=O[D+p[G]]):(S=96,w=0),f=1<<C-N,T=g=1<<I;do{u[m+(E>>N)+(g-=f)]=b<<24|S<<16|w|0}while(0!==g);for(f=1<<C-1;E&f;)f>>=1;if(0!==f?(E&=f-1,E+=f):E=0,G++,0==--x[C]){if(C===P)break;C=e[o+p[G]]}if(C>M&&(E&y)!==_){for(0===N&&(N=M),m+=T,B=1<<(I=C-N);I+N<P&&!((B-=x[I+N])<=0);)I++,B<<=1;if(R+=1<<I,1===t&&R>852||2===t&&R>592)return 1;u[_=E&y]=M<<24|I<<16|m-d|0}}return 0!==E&&(u[m+E]=C-N<<24|64<<16|0),h.bits=M,0}},{"../utils/common":3}],13:[function(t,e,o){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,o){function i(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,o,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=o,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function r(t){return t<256?et[t]:et[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,o){t.bi_valid>q-o?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>q-t.bi_valid,t.bi_valid+=o-q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=o)}function l(t,e,o){c(t,o[2*e],o[2*e+1])}function u(t,e){var o=0;do{o|=1&t,t>>>=1,o<<=1}while(--e>0);return o>>>1}function d(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function p(t,e){var o,i,n,a,r,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(a=0;a<=z;a++)t.bl_count[a]=0;for(c[2*t.heap[t.heap_max]+1]=0,o=t.heap_max+1;o<j;o++)(a=c[2*c[2*(i=t.heap[o])+1]+1]+1)>f&&(a=f,g++),c[2*i+1]=a,i>l||(t.bl_count[a]++,r=0,i>=h&&(r=p[i-h]),s=c[2*i],t.opt_len+=s*(a+r),d&&(t.static_len+=s*(u[2*i+1]+r)));if(0!==g){do{for(a=f-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(a=f;0!==a;a--)for(i=t.bl_count[a];0!==i;)(n=t.heap[--o])>l||(c[2*n+1]!==a&&(t.opt_len+=(a-c[2*n+1])*c[2*n],c[2*n+1]=a),i--)}}function h(t,e,o){var i,n,a=new Array(z+1),r=0;for(i=1;i<=z;i++)a[i]=r=r+o[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=u(a[s]++,s))}}function f(){var t,e,o,i,a,r=new Array(z+1);for(o=0,i=0;i<x-1;i++)for(it[i]=o,t=0;t<1<<X[i];t++)ot[o++]=i;for(ot[o-1]=i,a=0,i=0;i<16;i++)for(nt[i]=a,t=0;t<1<<J[i];t++)et[a++]=i;for(a>>=7;i<F;i++)for(nt[i]=a<<7,t=0;t<1<<J[i]-7;t++)et[256+a++]=i;for(e=0;e<=z;e++)r[e]=0;for(t=0;t<=143;)$[2*t+1]=8,t++,r[8]++;for(;t<=255;)$[2*t+1]=9,t++,r[9]++;for(;t<=279;)$[2*t+1]=7,t++,r[7]++;for(;t<=287;)$[2*t+1]=8,t++,r[8]++;for(h($,U+1,r),t=0;t<F;t++)tt[2*t+1]=5,tt[2*t]=u(t,5);at=new n($,X,k+1,U,z),rt=new n(tt,J,0,F,z),st=new n(new Array(0),Q,0,L,H)}function g(t){var e;for(e=0;e<U;e++)t.dyn_ltree[2*e]=0;for(e=0;e<F;e++)t.dyn_dtree[2*e]=0;for(e=0;e<L;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*V]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,o,i){_(t),i&&(s(t,o),s(t,~o)),M.arraySet(t.pending_buf,t.window,e,o,t.pending),t.pending+=o}function m(t,e,o,i){var n=2*e,a=2*o;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[o]}function v(t,e,o){for(var i=t.heap[o],n=o<<1;n<=t.heap_len&&(n<t.heap_len&&m(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!m(e,i,t.heap[n],t.depth));)t.heap[o]=t.heap[n],o=n,n<<=1;t.heap[o]=i}function b(t,e,o){var i,n,a,s,u=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],n=t.pending_buf[t.l_buf+u],u++,0===i?l(t,n,e):(l(t,(a=ot[n])+k+1,e),0!==(s=X[a])&&c(t,n-=it[a],s),l(t,a=r(--i),o),0!==(s=J[a])&&c(t,i-=nt[a],s))}while(u<t.last_lit);l(t,V,e)}function S(t,e){var o,i,n,a=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=j,o=0;o<c;o++)0!==a[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):a[2*o+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=r[2*n+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)v(t,a,o);n=c;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],v(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=i,a[2*n]=a[2*o]+a[2*i],t.depth[n]=(t.depth[o]>=t.depth[i]?t.depth[o]:t.depth[i])+1,a[2*o+1]=a[2*i+1]=n,t.heap[1]=n++,v(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],p(t,e),h(a,l,t.bl_count)}function w(t,e,o){var i,n,a=-1,r=e[1],s=0,c=7,l=4;for(0===r&&(c=138,l=3),e[2*(o+1)+1]=65535,i=0;i<=o;i++)n=r,r=e[2*(i+1)+1],++s<c&&n===r||(s<l?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*W]++):s<=10?t.bl_tree[2*Y]++:t.bl_tree[2*K]++,s=0,a=n,0===r?(c=138,l=3):n===r?(c=6,l=3):(c=7,l=4))}function A(t,e,o){var i,n,a=-1,r=e[1],s=0,u=7,d=4;for(0===r&&(u=138,d=3),i=0;i<=o;i++)if(n=r,r=e[2*(i+1)+1],!(++s<u&&n===r)){if(s<d)do{l(t,n,t.bl_tree)}while(0!=--s);else 0!==n?(n!==a&&(l(t,n,t.bl_tree),s--),l(t,W,t.bl_tree),c(t,s-3,2)):s<=10?(l(t,Y,t.bl_tree),c(t,s-3,3)):(l(t,K,t.bl_tree),c(t,s-11,7));s=0,a=n,0===r?(u=138,d=3):n===r?(u=6,d=3):(u=7,d=4)}}function C(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),S(t,t.bl_desc),e=L-1;e>=3&&0===t.bl_tree[2*Z[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function G(t,e,o,i){var n;for(c(t,e-257,5),c(t,o-1,5),c(t,i-4,4),n=0;n<i;n++)c(t,t.bl_tree[2*Z[n]+1],3);A(t,t.dyn_ltree,e-1),A(t,t.dyn_dtree,o-1)}function T(t){var e,o=4093624447;for(e=0;e<=31;e++,o>>>=1)if(1&o&&0!==t.dyn_ltree[2*e])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return B;for(e=32;e<k;e++)if(0!==t.dyn_ltree[2*e])return B;return N}function P(t,e,o,i){c(t,(E<<1)+(i?1:0),3),y(t,e,o,!0)}var M=t("../utils/common"),I=4,N=0,B=1,R=2,E=0,O=1,D=2,x=29,k=256,U=k+1+x,F=30,L=19,j=2*U+1,z=15,q=16,H=7,V=256,W=16,Y=17,K=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(U+2));i($);var tt=new Array(2*F);i(tt);var et=new Array(512);i(et);var ot=new Array(256);i(ot);var it=new Array(x);i(it);var nt=new Array(F);i(nt);var at,rt,st,ct=!1;o._tr_init=function(t){ct||(f(),ct=!0),t.l_desc=new a(t.dyn_ltree,at),t.d_desc=new a(t.dyn_dtree,rt),t.bl_desc=new a(t.bl_tree,st),t.bi_buf=0,t.bi_valid=0,g(t)},o._tr_stored_block=P,o._tr_flush_block=function(t,e,o,i){var n,a,r=0;t.level>0?(t.strm.data_type===R&&(t.strm.data_type=T(t)),S(t,t.l_desc),S(t,t.d_desc),r=C(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=o+5,o+4<=n&&-1!==e?P(t,e,o,i):t.strategy===I||a===n?(c(t,(O<<1)+(i?1:0),3),b(t,$,tt)):(c(t,(D<<1)+(i?1:0),3),G(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),b(t,t.dyn_ltree,t.dyn_dtree)),g(t),i&&_(t)},o._tr_tally=function(t,e,o){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&o,t.last_lit++,0===e?t.dyn_ltree[2*o]++:(t.matches++,e--,t.dyn_ltree[2*(ot[o]+k+1)]++,t.dyn_dtree[2*r(e)]++),t.last_lit===t.lit_bufsize-1},o._tr_align=function(t){c(t,O<<1,3),l(t,V,$),d(t)}},{"../utils/common":3}],15:[function(t,e,o){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,o){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/"),t.exports={A:o,B:i,C:n}}(we);var Ge={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.domain=[".babybus.com"],this.cookieDomainWhiteList=[],"string"==typeof t.cookieDomainWhiteList?this.cookieDomainWhiteList=[t.cookieDomainWhiteList]:I(t.cookieDomainWhiteList)&&(this.cookieDomainWhiteList=this.cookieDomainWhiteList.concat(t.cookieDomainWhiteList))},__storageKey:"__cookie_store__",__readFromStorage:function(){return de(this.__storageKey)},getRequestCookies:function(t,e){var o=this.getCookiesArray(t,e);return this.stringify(o)},getCookiesArray:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[],n=y(this.__readFromStorage()||[]);try{for(n.s();!(t=n.n()).done;){var a=t.value;(this.isInDomain(e,a)&&this.isInPath(o,a)||this.cookieDomainWhiteList.indexOf(a.domain)>=0)&&!this.isExpired(a)&&i.push(a)}}catch(t){n.e(t)}finally{n.f()}return i},stringify:function(t){return t.map(function(t){return[t.name,t.value].join("=")}).join("; ")},getCookieScopeDomain:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t)return this.domain;var e=(t=t.replace(/^\.+/gi,"")).split(".").map(function(e){return[".",t.slice(t.indexOf(e))].join("")});return[t].concat(e,this.domain)},isExpired:function(t){var e=t.maxAge?parseInt(t.maxAge):null,o=t.dateTime?new Date(t.dateTime):new Date,i=t.expires?new Date(t.expires):null;return 0===e||(e>0?(Date.now()-o.getTime())/1e3>e:!!(i&&i<new Date))},isInPath:function(t,e){return 0===t.indexOf(e.path||"")||e.path.replace(/\/$/,"")===t},isInDomain:function(t,e){return this.getCookieScopeDomain(t).indexOf(e.domain)>=0},addCookiesToHeader:function(t,e){var o=(e||"").split("/")[2],i=e.split(o).pop(),n=this.getRequestCookies(o,i);n&&(t.Cookie=n,t["X-Requested-With"]="XMLHttpRequest",t.Accept="application/json, text/plain, */*")}};function Te(t,e,o,i){var n=Ct()?i:i.data,a=4===t?function(t,e){try{if(!t)return t;if("[object String]"!==Object.prototype.toString.call(t))return t;var o=we.exports.A.enc.Utf8.parse(e);return we.exports.A.AES.decrypt(t,o,{mode:we.exports.A.mode.ECB,padding:we.exports.A.pad.Pkcs7}).toString(we.exports.A.enc.Utf8)||t}catch(e){return console.error(e),t}}(n,e):n;a=U(a)||{},"function"==typeof o&&o(a)}var Pe=function(t,e,o,i,a,r,s,c){var l=function(t){var e=t.url,o=t.data,i=t.decryptedUserAgent,a=t.e,r=t.a,s=t.s,c=t.headers,l=t.queryRequired,u=t.headerInfoRequired,d=t.needGzip,p={url:e,headers:n({},c),data:o},h=4===a,f=h?Ae(k(i),r):k(i),g="",_="";if(o&&(_=h?Ae(k(o),r):k(o),d&&(_=Ce(_)),g=Se(_)),ft()||Tt())try{Ge.addCookiesToHeader(p.headers,e)}catch(t){console.warn("[cookie\u8bbe\u7f6e\u5f02\u5e38]",t)}if(u&&(p.headers.ClientHeaderInfo=f,p.data={data:_}),l){var y=Se(f),m=(Date.parse(new Date)/1e3).toString(),v={AppKey:i.AppKey,ContentMD5:g,HeaderMD5:y,EncryptType:a,ProductID:i.ProductID,HeaderType:1,SignatureStamp:m},b=function(t,e){return ve(t+s)}(z(v).toLocaleLowerCase());v.SignatureMD5=b,p.url+=(p.url.indexOf("?")>-1?"&":"?")+z(v),p.data={PostContent:_}}return c&&(c["Content-Type"]||c["content-type"]||"").indexOf("application/octet-stream")>-1&&(p.data=_),p}({url:t.url,data:t.data,decryptedUserAgent:e,e:o,a:i,s:a,headers:t.headers,queryRequired:r,headerInfoRequired:s,needGzip:c});return le.httpRequest(n(n({},t),{},{url:l.url,data:l.data,headers:l.headers,beforeSend:t.beforeSend,success:Te.bind(null,o,i,t.success),fail:t.fail,complete:t.complete}))},Me=function(){function t(e,o,i){r(this,t),this.requesting={},this.a=e,this.s=o,this.userAgent=i,this.rejectMiddleware=M}return c(t,[{key:"setRejectMiddleware",value:function(t){"function"==typeof t&&(this.rejectMiddleware=t)}},{key:"ajax",value:function(e){var o=e.url,i=e.method,r=e.data,s=e.dataType,c=e.headers,u=e.async,d=e.e,p=void 0===d?4:d,h=e.queryRequired,f=void 0===h||h,g=e.headerInfoRequired,_=void 0===g||g,y=e.needGzip,m=void 0!==y&&y,v=e.beforeSend,b=e.success,S=e.fail,w=e.complete,G="",T="",P=!0;"object"===a(o)?(G=o.name,T=o.url,void 0!==o.multipleAllowed&&(P=!!o.multipleAllowed)):(T=o,G=o);var M=k(r||{}),I=be(M),N=!!this.requesting[I];if(!P&&N)return A.warn("\u963b\u6b62\u91cd\u590d\u8bf7\u6c42\uff0curl: ",T,M),A.warn(K),this.requesting[I];var R=n(n({},t.userAgent&&t.userAgent.userAgent),this.userAgent),E=this.a||t.a||"",O=this.s||t.s||"";return A.debug("\u3010".concat(G,"\u3011").concat(T,"  \u5f00\u59cb\u8bf7\u6c42...")),A.debug("\u3010".concat(G,"\u3011\u5934\u90e8\u4fe1\u606f\uff1a"),_?C(function(t){return j(t).reduce(function(e,o){return n(n({},e),{},l({},o,t[o]))},{})}(R)):"\u65e0"),A.debug("\u3010".concat(G,"\u3011").concat(i," \u53c2\u6570\uff1a"),r?B(r)?C(r):r:"\u65e0"),A.debug(""),this.requesting[I]=Pe({url:T,method:i,data:r,dataType:s,headers:c,timeout:3e4,async:u,beforeSend:v,success:this.handleSuccessResponse.bind(this,I,G,T,b,S),fail:this.handleErrorResponse.bind(this,I,G,T,S),complete:w},R,p,E,O,f,_,m)}},{key:"handleSuccessResponse",value:function(t,e,o,i,n,a){this.requesting[t]=null,A.debug("\u3010".concat(e,"\u3011\u8bf7\u6c42\u8fd4\u56de\u6570\u636e\uff1a"),a),A.debug(""),"function"==typeof i&&i(a)}},{key:"handleErrorResponse",value:function(e,o,i,n,a,r,s){this.requesting[e]=null,A.error("\u3010".concat(o,"\u3011").concat(i," \u8bf7\u6c42\u5931\u8d25\uff1a"),a),t.reject(a),this.rejectMiddleware(a),"function"==typeof n&&n(a)}}]),t}();Me.reject=M,Me.userAgent=null,Me.a="",Me.s="";var Ie,Ne,Be={_chCodeReady:!0,get chCodeReady(){return this._chCodeReady},set chCodeReady(t){(this._chCodeReady=t)&&this.invokeEventListeners()},_openID:"",get openID(){return this._openID},set openID(t){(this._openID=t)&&this.invokeEventListeners()},unionID:"",userInfo:{},loginActionData:{},eventListeners:[],deviceInitListeners:[],isDeviceInitReady:!1,init:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoGetOpenID;if(this.userInfo=U(de(te.userInfo)||"{}"),this.unionID=de(te.unionID)||"",this.loginActionData=U(de(te.loginActionData)||"{}"),ft()&&P(this.userInfo)&&(this.userInfo=de(te.wxOldUserInfo)||{}),vt()&&(this.TTOpenID=de(te.TTOpenID)||""),t){var e=de(te.openID);e?this.openID=e:this.requestOpenID()}return t&&(ht()||Mt()||Bt())&&this.openID.indexOf("bb-")>-1&&A.error('!!!\u68c0\u6d4b\u5230\u7f13\u5b58\u4e2d\u7684openID\u4e3a\u975e\u5e73\u53f0\u4e13\u6709openID\uff0c\u800c\u662f\u53d6UUID\u515c\u5e95\u4f5c\u4e3a\u8bbe\u5907ID\uff08\u901a\u8fc7\u7f13\u5b58\u5b57\u6bb5bb_stat_open_id\u4e2d\u643a\u5e26"'.concat("bb-",'"\u524d\u7f00\u8fa8\u8bc6\uff09\uff0c\u8bf7\u786e\u8ba4\u914d\u7f6e\u662f\u5426\u6b63\u786e\uff0c\u8be6\u89c1 \u3010\u5b9d\u5b9d\u4e91\u6587\u6863\u3011-\u300aSDK \u96c6\u6210\u300b\u94fe\u63a5\u5730\u5740 http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=9080 \u5bf9\u5e94\u5e73\u53f0\u4e2d\uff0c\u96c6\u6210SDK->\u6ce8\u610f\u4e8b\u9879\u90e8\u5206')),this},invokeEventListeners:function(){var t=this;if(this.openID&&this.chCodeReady){if(this.hasInvoked)return;this.hasInvoked=!0,this.eventListeners.map(function(e){O(e)&&e(t.getOpenID())}),this.eventListeners=[]}},onOpenIDReady:function(t){this.openID&&this.chCodeReady?O(t)&&t(this.getOpenID()):this.eventListeners.push(t)},offOpenIDReady:function(t){this.eventListeners.splice(this.eventListeners.indexOf(t),1)},invokeDeviceInitListeners:function(){var t=this;this.deviceInitListeners.map(function(e){O(e)&&e(t.getOpenID())}),this.deviceInitListeners=[]},onDeviceInitReady:function(t){this.isDeviceInitReady?O(t)&&t():this.deviceInitListeners.push(t)},setDeviceInitReady:function(){this.isDeviceInitReady=!0,this.invokeDeviceInitListeners()},getOpenID:function(){return this.openID||""},setOpenID:function(t){!this.openID&&t&&(this.openID=t,ue(te.openID,t))},getUnionID:function(){return this.unionID||""},setUnionID:function(t){!this.unionID&&t&&(this.unionID=t,ue(te.unionID,t))},getAccountID:function(){return this.userInfo&&this.userInfo.accountID},setAccountID:function(t){t?this.setUserInfo({accountID:t}):this.setUserInfo(null)},clearAccountID:function(){this.setUserInfo(null)},getUserInfo:function(){return this.userInfo||{}},setUserInfo:function(t){var e=this,o={};for(var i in t)o[i.toLowerCase()]=t[i];if(o.accountid){var n=o.accountid,a=o.logincode,r=o.loginstamp,s=o.loginsignature,c=o.accountidsignature,l=o.viprightsid,u=o.viptype,d=o.vipstarttime,p=o.vipendtime;this.userInfo={accountID:n,loginCode:a,loginStamp:r,loginSignature:s,accountIDSignature:c,vipRightsID:l,vipType:u,vipStartTime:d,vipEndTime:p},this.onDeviceInitReady(function(){e.requestLoginActionAsync(function(t){e.setLoginActionData(t)})})}else this.userInfo=null,this.clearLoginActionData();ue(te.userInfo,k(this.userInfo))},clearUserInfo:function(){this.setUserInfo(null)},requestLoginActionAsync:function(t){this.openID&&(new Me).ajax({url:$.loginAction,method:"POST",dataType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},e:4,queryRequired:!0,headerInfoRequired:!0,needGzip:!1,success:function(e){var o=e.resultCode,i=e.data;0==o?"function"==typeof t&&t(i):A.error("\u83b7\u53d6\u7528\u6237\u6807\u7b7e\u4fe1\u606f\u5931\u8d25: ",e)},fail:function(t){A.error("\u7528\u6237\u6807\u7b7e\u4fe1\u606f\u8bf7\u6c42\u5931\u8d25: ",t)}})},getLoginActionData:function(){return this.loginActionData||{}},setLoginActionData:function(t){this.loginActionData=t,ue(te.loginActionData,k(this.loginActionData))},clearLoginActionData:function(){this.setLoginActionData(null)},getHeaderInfo:function(){var t=n({},this.getLoginActionData()),e=this.getUserInfo(),o=e.accountID,i=e.loginCode,a=e.loginStamp,r=e.loginSignature,s=e.accountIDSignature,c=e.vipRightsID,l=e.vipType,u=e.vipStartTime,d=e.vipEndTime;return this.openID&&(t.OpenID=this.openID,t.AnalysisDeviceID=this.openID),this.unionID&&(t.UnionID=this.unionID),o&&(t.AccountID=o),i&&(t.LoginCode=i),a&&(t.LoginStamp=a),r&&(t.LoginSignature=r),s&&(t.AccountIDSignature=s),c&&(t.VipRightsID=c),l&&(t.VipType=l),u&&(t.VipStartTime=u),d&&(t.VipEndTime=d),t},requestOpenIDTimes:0,requestOpenIDStartCb:null,requestOpenIDDoneCb:null,requestOpenIDFailCb:null,getTTOpenID:function(){return this.TTOpenID||""},requestOpenID:function(){var t=this;if(wt()||At()||_t()||vt()||ht()||Gt()||Pt()||Mt()||Bt()){if(this.requestOpenIDTimes>=2)return A.error("!!!\u91cd\u8bd5\u83b7\u53d6openID\u4e24\u6b21\u90fd\u5931\u8d25\uff0c\u53d6UUID\u4f5c\u4e3a\u8bbe\u5907ID"),void this.setOpenID("bb-"+T());if(this.requestOpenIDTimes++,O(this.requestOpenIDStartCb)&&this.requestOpenIDStartCb(),wt()||At()||Pt())this.setOpenID("bb-"+T()),this.dealRequestOpenID(!0,"\u6210\u529f:\u81ea\u52a8\u751f\u6210id");else if(_t())swan.getSwanId({success:function(e){var o=e.data,i=o&&o.swanid;i&&(t.setOpenID(i),t.dealRequestOpenID(!0,"\u6210\u529f"))},fail:function(){t.dealRequestOpenID(!1,"\u5931\u8d25:"+t.requestOpenIDTimes)}});else if(Gt())try{le.getId({type:["device","mac","user"],success:function(e){t.setOpenID(e.user),t.dealRequestOpenID(!0,"\u6210\u529f")},fail:function(){t.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}})}catch(t){this.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}else vt()?(A.debug("requestOpenID start"),tt.login({force:!1,success:function(e){e.code?t.requestOpenIDFromServer({userCode:e.code}):(A.warn("\u7528\u6237\u672a\u767b\u5f55\uff0c\u53d6UUID\u4f5c\u4e3a\u8bbe\u5907ID"),t.dealRequestOpenID(!0,"\u6210\u529f:\u81ea\u52a8\u751f\u6210id"),t.setOpenID("bb-"+T()))},fail:function(){t.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}})):ht()?(A.debug("requestOpenID start"),wx.login({success:function(e){t.requestOpenIDFromServer({userCode:e.code})},fail:function(){t.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}})):Mt()?(A.debug("requestOpenID start"),qq.login({success:function(e){t.requestOpenIDFromServer({userCode:e.code})},fail:function(){t.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}})):Bt()&&(A.debug("requestOpenID start"),ks.login({success:function(e){e.code?t.requestOpenIDFromServer({userCode:e.code}):e.gameUserId?(A.debug("\u5feb\u624b\u5c0f\u6e38\u620f\u767b\u5f55\u6210\u529f\uff0cgameUserId\u503c\u4e3a".concat(e.gameUserId,"\uff0cgameToken\u503c\u4e3a").concat(e.gameToken)),t.dealRequestOpenID(!0,"\u6210\u529f"),t.setOpenID(e.gameUserId)):t.dealRequestOpenID(!1,"code\u6216gameUserId\u4e3a\u7a7a")},fail:function(){t.dealRequestOpenID(!1,"\u767b\u5f55\u5931\u8d25")}}))}else A.error("".concat(Qt(),"\uff0c\u4e0d\u652f\u6301\u7531SDK\u5e2e\u4f60\u83b7\u53d6openID\uff0c\u8bf7\u901a\u8fc7setOpenID\u63a5\u53e3\u8bbe\u7f6e"))},requestOpenIDFromServer:function(t){var e,o=this;ht()?e=$.wxOpenID:vt()?e=$.ttOpenID:Mt()?e=$.qqOpenID:Bt()&&(e=$.ksOpenID),(new Me).ajax({url:e,data:t,dataType:"text",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},e:4,queryRequired:!0,headerInfoRequired:!0,needGzip:!1,success:function(t){var e=t.data,i=(e=void 0===e?{}:e).anonymous_openid,n=e.userCode,a=e.unionID,r=t.resultCode,s=t.resultMessage;0==r?vt()?n?(o.TTOpenID=n,ue(te.TTOpenID,n),o.dealRequestOpenID(!0,"\u6210\u529f"),o.setOpenID(n)):i?(o.dealRequestOpenID(!0,"\u6210\u529f"),o.setOpenID(i)):o.dealRequestOpenID(!1,"openID null"):(o.setUnionID(a),n?(o.dealRequestOpenID(!0,"\u6210\u529f"),o.setOpenID(n)):o.dealRequestOpenID(!1,"openID null")):o.dealRequestOpenID(!1,s)},fail:function(){o.dealRequestOpenID(!1,"\u8bbf\u95ee\u670d\u52a1\u5668\u5f02\u5e38")}})},dealRequestOpenID:function(t,e){t?(A.debug("------ \u83b7\u53d6openID\u6210\u529f ------"),O(this.requestOpenIDDoneCb)&&this.requestOpenIDDoneCb(e)):(A.error("\u83b7\u53d6openID\u5931\u8d25: ",e),O(this.requestOpenIDFailCb)&&this.requestOpenIDFailCb(e),this.requestOpenID())}},Re="",Ee=null,Oe=null,De=null,xe=null,ke=null,Ue={info:{},get userAgent(){return n(n(n(n(n(n({OpenID:Re},De&&De.getHeaderInfo()),Oe),ke&&ke.getHeaderInfo()),Ee&&Ee.getHeaderInfo()),xe&&xe.getHeaderInfo()),this.info)},get originalUserAgent(){return n(n(n(n({OpenID:Re},De&&De.getHeaderInfo()),Oe),Ee&&Ee.getHeaderInfo()),xe&&xe.getHeaderInfo())},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.system,o=t.sdkInfo,i=t.baseInfo,n=t.user,a=t.stat,r=t.openID;return this.setOpenId(r).setSystem(e).setSdkInfo(o).setBaseInfo(i).setUser(n).setStat(a)},setOpenId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Re=t,this},setSdkInfo:function(t){return Oe=t,this},setUser:function(t){return xe=t,this},setSystem:function(t){return Ee=t,this},setStat:function(t){return ke=t,this},setBaseInfo:function(t){return De=t,this},addHeaderInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(t)?this.info=n(n({},this.info),t):A.error('\u4f20\u5165\u7684\u53c2\u6570\u683c\u5f0f\u6709\u8bef\uff0c\u5e94\u4f20\u5165\u5bf9\u8c61\u683c\u5f0f\u5982\uff1a{extraInfo: "extraInfo"}')}},Fe=["MDcwYjhiZTg4ZjA1","NDM0YjkxMGVjYTU","2YWFmODkxNTQ="].join(""),Le=[["VTNFbm9qQ1F","SbEtUOVkwYw=="].join(""),Fe].reverse();Ie=Le,Ne=229,function(t){for(;--t;)Ie.push(Ie.shift())}(++Ne);var je,ze=function t(e,o){var i,n=Le[e-=0];if(void 0===t.yTFAZQ){var a={};void 0!==(i=a)&&i.atob||(i.atob=function(t){for(var e,o,i=String(t).replace(/=+$/,""),n="",a=0,r=0;o=i.charAt(r++);~o&&(e=a%4?64*e+o:o,a++%4)?n+=String.fromCharCode(255&e>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return n}),t.bykzbA=function(t){for(var e=a.atob(t),o=[],i=0,n=e.length;i<n;i++)o+="%"+("00"+e.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(o)},t.oSYjRD={},t.yTFAZQ=!0}var r=t.oSYjRD[e];return void 0===r?(n=t.bykzbA(n),t.oSYjRD[e]=n):n=r,n},qe=ze("0x0"),He=ze("0x1"),Ve={appKey:"",appName:"",autoGetOpenID:!0,chCode:"",headVerID:13,isDebugMode:!1,isDebug:null,platform:0,platform2:0,productID:0,projectID:0,verCode:"",verID:0},We=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var o=e.appKey,i=e.chCode,n=e.isDebug,a=e.platform,s=e.platform2,c=e.productID,l=e.projectID,u=e.verCode,d=e.verID;if(Zt.init(e),P(e))throw new Error(it);if(!Zt.isDingTalkMiniApp()&&(F(o)||P(o)))throw new Error(et);if(F(i)||P(i))throw new Error(ot);if(F(a)||P(a))throw new Error(at);if(F(s)||P(s))throw new Error(rt);if(F(c)||P(c))throw new Error(st);if(F(l)||P(l))throw new Error(ct);if(F(u)||P(u))throw new Error(lt);if(F(d)||P(d))throw new Error(ut);if(void 0!==n&&0!==n&&1!==n)throw new Error(nt);this.options=e||{},this.config=this.overrideConfig(),this.initCore()}return c(t,[{key:"overrideConfig",value:function(){return n(n({},Ve),this.options)}},{key:"initCore",value:function(){var t=!(Zt.isDingTalkMiniApp()&&(le.getSystemInfoSync().platform||"").toLowerCase().indexOf("android")>-1||Zt.isQuickApp()||Zt.isBaiduMiniApp());if(A.init({isDebugMode:!!this.config.isDebugMode,isConsoleDebugSupport:t}),this.config.autoGetOpenID){if(A.warn("autoGetOpenID\u5df2\u5f00\u542f\uff0c\u7531SDK\u5e2e\u4f60\u83b7\u53d6openID"),Zt.isWechat()||Zt.isByteDance()||Zt.isQQ()||Zt.isKuaiShouMiniApp()){var e="";switch(!0){case Zt.isWechatMiniApp():e="http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=9084";break;case Zt.isByteDanceMiniApp():e="http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=10723";break;case Zt.isQQMiniApp():e="http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=11133";break;case Zt.isKuaiShouMiniApp():e="http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=11334";break;default:e="http://v3.bbcloud.babybus.com/library/team_home?team_id=228&doc_id=9082"}A.warn("\u8bf7\u786e\u4fdd\u5728".concat(Zt.getPlatformName(),"\u540e\u53f0\u8bbe\u7f6e\u57df\u540d\u767d\u540d\u5355\uff0c\u4ee5\u53ca\u4e0e\u4ea7\u54c1\u6216\u670d\u52a1\u7aef\u786e\u8ba4\u5b9d\u5b9d\u5df4\u58eb\u540e\u53f0\u662f\u5426\u6b63\u786e\u914d\u7f6e\u4e86AppID(\u5c0f\u7a0b\u5e8fID)\u548cAppSecret(\u5c0f\u7a0b\u5e8f\u5bc6\u94a5)\uff0c\u8be6\u89c1 ").concat(e," \uff0c\u96c6\u6210SDK->\u6ce8\u610f\u4e8b\u9879\u90e8\u5206"))}}else A.warn("autoGetOpenID\u5df2\u5173\u95ed\uff0c\u8bf7\u786e\u4fdd\u901a\u8fc7setOpenID\u63a5\u53e3\u8bbe\u7f6eopenID\uff0c\u5426\u5219\u6570\u636e\u4e0d\u4f1a\u53d1\u9001");Me.userAgent=Ue.init({system:ge,sdkInfo:he,baseInfo:Y,user:Be,stat:pe}),Me.a=qe,Me.s=He,function(){if(Tt())try{var t=dd.corpId;if(t)for(var e in t=":".concat(t),te)te[e]+=t}catch(t){A.error("corpId\u83b7\u53d6\u5931\u8d25")}}(),Y.init(this.config),pe.init(),ge.init(),Ge.init(this.config),Be.init(this.config),this.reporter=new Me}},{key:"initRequest",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.success,a=t.fail;this.reporter.ajax({url:$.deviceInit,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/octet-stream; charset=utf-8"},async:i,e:4,queryRequired:!0,headerInfoRequired:!0,needGzip:!1,success:function(t){var e=t.resultCode,o=t.data;0==e&&o&&o.initdata?(A.warn("------ \u8bbe\u5907\u521d\u59cb\u5316\u6210\u529f ------"),A.debug(""),O(n)&&n(o.initdata)):(A.error("\u8bbe\u5907\u521d\u59cb\u5316\u4e0a\u62a5\u5f02\u5e38",t),O(a)&&a(t))},fail:function(t){A.error("\u8bbe\u5907\u521d\u59cb\u5316\u4e0a\u62a5\u5f02\u5e38",t),O(a)&&a(t)}})}},{key:"registerRequest",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.success,a=t.fail;this.reporter.ajax({url:$.register,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/octet-stream; charset=utf-8"},async:i,e:4,queryRequired:!0,headerInfoRequired:!0,needGzip:!1,success:function(t){0==t.resultCode?(A.debug("------ \u8bbe\u5907\u62a5\u9053\u6210\u529f ------"),A.debug(""),O(n)&&n(t)):(A.error("\u8bbe\u5907\u62a5\u9053\u5931\u8d25: ",t),O(a)&&a(t))},fail:function(t){A.error("\u8bbe\u5907\u62a5\u9053\u5931\u8d25: ",t),O(a)&&a(t)}})}},{key:"eventRequest",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.success,a=t.fail;this.reporter.ajax({url:$.event,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/octet-stream; charset=utf-8"},async:i,e:4,queryRequired:!0,headerInfoRequired:!0,needGzip:!1,success:function(t){0==t.resultCode?(A.debug("------ \u5206\u6790-\u4e8b\u4ef6\u4e0a\u62a5\u6210\u529f ------"),A.debug(""),O(n)&&n(t)):(A.error("\u5206\u6790-\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25: ",t),O(a)&&a(t))},fail:function(t){A.error("\u5206\u6790-\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25"),O(a)&&a(t)}})}},{key:"aiolosEventRequest",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.needGzip,a=void 0===n||n,r=t.success,s=t.fail;this.reporter.ajax({url:$.aiolosEvent,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},async:i,e:4,queryRequired:!1,headerInfoRequired:!0,needGzip:a,success:function(t){0==t.resultCode?(A.debug("------ \u7ecf\u5206-\u4e8b\u4ef6\u4e0a\u62a5\u6210\u529f ------"),A.debug(""),O(r)&&r(t)):(A.error("\u7ecf\u5206-\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25: ",t),O(s)&&s(t))},fail:function(t){A.error("\u7ecf\u5206-\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25"),O(s)&&s(t)}})}},{key:"getABTestData",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.success,a=t.fail;this.reporter.ajax({url:$.ABTest,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},async:i,e:0,queryRequired:!1,headerInfoRequired:!1,needGzip:!1,success:function(t){O(n)&&n(t)},fail:function(t){A.error("ABTest \u5931\u8d25: ",t),O(a)&&a(t)}})}},{key:"uploadABTestData",value:function(t){var e=t.data,o=t.async,i=void 0===o||o,n=t.needGzip,a=void 0===n||n,r=t.success,s=t.fail;this.reporter.ajax({url:$.aiolosEvent,method:"POST",data:e,dataType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},async:i,e:4,queryRequired:!1,headerInfoRequired:!0,needGzip:a,success:function(t){0==t.resultCode?(A.debug("------ ABTest\u6570\u636e\u4e0a\u62a5\u6210\u529f ------"),A.debug(""),O(r)&&r(t)):(A.error("\u4e8b\u4ef6\u4e0a\u62a5\u5931\u8d25: ",t),O(s)&&s(t))},fail:function(t){A.error("ABTest\u6570\u636e\u4e0a\u62a5\u5931\u8d25"),O(s)&&s(t)}})}}]),t}(),Ye={isFirst:!1,isFirstLaunch:function(){var t=this;return new Promise(function(e,o){if(t.isFirst)return e(!0);t.isFirst=!de(te.hasLaunch),t.isFirst&&ue(te.hasLaunch,!0),e(t.isFirst)})},getLaunchTag:function(){var t=this;return new Promise(function(e,o){var i=t.getFirstLaunchDate(),n=t.isFirstLaunch();return Promise.all([i,n]).then(function(t){var o,i,n=f(t,2),a=n[0],r=n[1],s=(o=a,i=Date.now(),parseInt((i-o)/1e3/60/60/24)+1);1==s&&r&&(s=0),e(s)}).catch(function(t){o(t),A.error(t)})})},getFirstLaunchDate:function(){return new Promise(function(t,e){var o=de(te.firstLaunchData)||-1;-1===o&&(o=new Date((new Date).toLocaleDateString()).getTime(),ue(te.firstLaunchData,o)),t(o)})}};function Ke(){this.updateVersion=function(t){A.debug("updateVersion==================");var e=this,o=Be.getOpenID();if(o)if(t.key){var i=Y.getInfo(),n=i.appName,a=i.platform2,r={device:o,app_key:n,test_key:t.key,platform:a,ab_version:"v1.2"},s={data:Ce(JSON.stringify(r)),ab_version:"v1.2"};wx.request({url:$.ABTest,data:s,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(o){A.debug("update ABTest version success");try{if(o&&o.data&&1==o.data.status&&o.data.data){console.log(o.data.data);var i=o.data.data;ue(te.abTestKey,t.key),ue(te.abTestData,k(i)),e.dealCallBack(t)}else e.dealCallBack(t,AB_TEST_FAIL_CODE.requestError),console.log(o.data)}catch(o){e.dealCallBack(t,AB_TEST_FAIL_CODE.requestError)}},fail:function(o){A.debug("update ABTest version fail"),e.dealCallBack(t,AB_TEST_FAIL_CODE.requestError)}})}else t.fail(AB_TEST_FAIL_CODE.configError);else t.fail(AB_TEST_FAIL_CODE.initNotComplete)},this.hasUpdate=!1,this.getABTestValue=function(t){var e=this;Zt.isBaidu()||Zt.isByteDance()?t.fail():e.hasUpdate?e.dealCallBack(t):(e.updateVersion(t),e.hasUpdate=!0)},this.dealCallBack=function(t,e){var o,i=de(te.abTestKey),n=de(te.abTestData);i&&n&&i==t.key&&(o=n[t.tag]),o?t.success(o):e?t.fail(e):t.fail(AB_TEST_FAIL_CODE.noValue)}}Ke.getInstance=function(){return je=je||new Ke};var Xe=Ke.getInstance(),Je=["data","globalData"];function Qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(B(t)){var o=function(o){if(x(e,o))if("function"==typeof e[o])if(I((t[o]||{}).__ext__))t[o].__ext__.push(e[o]);else{var i=t[o];t[o]=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(e[o].apply(this,n),"function"==typeof i)return i.apply(this,n)}}else Je.indexOf(o)>-1?t[o]=n(n({},e[o]),t[o]):t[o]=e[o]};for(var i in e)o(i)}}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(o,We);var e=h(o);function o(t,i){var n;return r(this,o),(n=e.call(this,t)).channel="",n.currentSession={},n.eventWatchTimer=null,n.sessionList=[],n.eventList=U(de(te.events)||"[]"),n.aiolosEventList=U(de(te.aiolosEvents)||"[]"),n.errorEventList=U(de(te.errors)||"[]"),n.aiolosEventMap={},n.hideTime=-1,n.isDeviceInited=!1,n.isOnDeviceInit=!1,n.isShow=!1,n.sessionId="",n.showTime=-1,n.uploadingSessionList=[],n.uploadingAiolosQueue=[],n.uploadingErrorQueue=[],n.uploadingQueue=[],n.deviceInit.count=0,n.bindEvent(),n.handleAppEvents(i),n}return c(o,[{key:"pagePath",get:function(){var t="undefined"!=typeof getCurrentPages&&getCurrentPages();if(t&&t.length>0){var e=t[t.length-1];return e&&e.route}return""}},{key:"init",value:function(){this.hide2Show(),this.setUser(),ht()&&this.dealWxLaunch(),mt()&&this.dealBaiduLaunch()}},{key:"bindEvent",value:function(){this.onOpenIdGot=this.onOpenIdGot.bind(this),this.init=this.init.bind(this),this.appShow=this.appShow.bind(this),this.appHide=this.appHide.bind(this),this.appError=this.appError.bind(this),this.pageShow=this.pageShow.bind(this)}},{key:"handleAppEvents",value:function(t){var e,o=this;ft()||Tt()||Pt()||bt()||It()||Rt()?((e={onLaunch:this.init,onShow:this.appShow,onHide:this.appHide,onError:this.appError,bbAnalysis:t},new Promise(function(t,o){try{var i=App;App=function(t){Qe(t,e),i(t)},t()}catch(t){console.error("App\u91cd\u5199\u5f02\u5e38: ",t),o(t)}})).catch(function(t){setTimeout(function(){o.eventKeyValue({eventId:"App\u91cd\u5199\u5f02\u5e38",eventData:{msg:t}}),ft()?(o.init(),wx.onAppShow(o.appShow),wx.onAppHide(o.appHide),wx.onError(o.appError)):Tt()?(o.init(),dd.onAppShow(o.appShow),dd.onAppHide(o.appHide),dd.onError(o.appError)):Pt()?(o.init(),my.onAppShow(o.appShow),my.onAppHide(o.appHide),my.onError(o.appError)):bt()?(o.init(),tt.onAppShow(o.appShow),tt.onAppHide(o.appHide),tt.onError(o.appError)):It()?(o.init(),qq.onAppShow(o.appShow),qq.onAppHide(o.appHide),qq.onError(o.appError)):Rt()&&(o.init(),ks.onShow(o.appShow),ks.onHide(o.appHide),ks.onError&&ks.onError(o.appError))},1e3)}),function(t){return new Promise(function(e,o){try{var i=Page;Page=function(e){Qe(e,t),i(e)},e()}catch(t){console.error("Page\u91cd\u5199\u5f02\u5e38: ",t),o(t)}})}({onShow:this.pageShow}).catch(function(t){setTimeout(function(){o.eventKeyValue({eventId:"Page\u91cd\u5199\u5f02\u5e38",eventData:{msg:t}})},1e3)})):yt()?(App.after&&App.after({methods:{onLaunch:this.init,onShow:this.appShow,onHide:this.appHide,onError:this.appError}}),Page.after&&Page.after({methods:{onShow:this.pageShow}})):(this.init(),gt()?(wx.onShow(this.appShow),wx.onHide(this.appHide),wx.onError(this.appError)):St()?(tt.onShow(this.appShow),tt.onHide(this.appHide),tt.onError(this.appError)):mt()?(swan.onShow(this.appShow),swan.onHide(this.appHide),swan.onError(this.appError)):At()||wt()?(qg.onShow(this.appShow),qg.onHide(this.appHide),qg.onError(this.appError)):Nt()?(qq.onShow(this.appShow),qq.onHide(this.appHide),qq.onError(this.appError)):Et()&&(ks.onShow(this.appShow),ks.onHide(this.appHide),ks.onError(this.appError)),"undefined"!=typeof window&&(window.GameGlobal?GameGlobal.bbAnalysis=t:window.GameGlobal={bbAnalysis:t}))}},{key:"dealBaiduLaunch",value:function(){try{var t=swan.getLaunchOptionsSync().query,e=t.packageName,o=t.productDeviceID;A.debug("===dealBaiduChannel",e,o),e&&ue(te.channel,e),o&&(Be.setOpenID(o),this.dealRequestOpenId(!0,"\u6210\u529f:\u83b7\u53d6id\u6210\u529f")),this.eventWithArgs({id:J,arg1:e||"default"})}catch(t){}}},{key:"dealWxLaunch",value:function(){try{var t=wx.getLaunchOptionsSync();this.dealChannel(t?t.query:void 0),this.dealFrom(t?t.query:void 0),this.dealShare(t?t.query:void 0),A.debug("scene: "+t.scene+",channel: "+t.query.AChannelId),this.eventWithArgs({id:J,arg1:t.scene})}catch(t){}}},{key:"dealChannel",value:function(t){if(t){var e=t.AChannelId;if(A.debug("dealChannel:"+e),e){var o=de(te.channel);o?this.channel=o:(this.channel=e,ue(te.channel,e))}else this.channel=de(te.channel)||"default"}}},{key:"dealArr",value:function(t){if(!t||t.length<=0)return"";for(var e="",o=0;o<t.length;o++)e+=t[o]+"&";return e.substring(0,e.length-1)}},{key:"dealFrom",value:function(t){if(t){var e=t.AFrom;if(e){var o=U(e);ue(te.fromInfo,k({time:m(),openid:o.oid,uid:o.uid}))}}}},{key:"dealShare",value:function(t){if(t)try{if(A.debug("dealShare:======="),null!=t.AParams){var e=U(t.AParams);this.shareClick(e),this.eventWithArgs({id:Z,arg1:"\u6210\u529f"}),A.debug("\u5206\u4eab\u6210\u529f")}else this.eventWithArgs({id:Z,arg1:"\u65e0\u6570\u636e"});this.eventWithArgs({id:"1579930E-EB3B-78B3-1B14-E9A40BD9EF8B",arg1:t.AParams}),this.eventWithArgs({id:"884FFC7C-1732-17AB-1FDD-DE3C1FE06108",arg1:t.AParams}),this.eventWithArgs({id:"60377A01-7D23-4784-A004-41418A67BDEF",arg1:t.AShareArg1}),this.eventWithArgs({id:"4C00B2D3-633C-5EC2-31A4-83959B7769CD",arg1:t.AShareArg2})}catch(t){this.eventWithArgs({id:Z,arg1:"\u5f02\u5e38"})}}},{key:"shareClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.arg1,o=t.arg2;this.eventWithArgs({id:"app-B06620EC6AAE88EC82E3214D0676FE03",arg1:e,arg2:o})}},{key:"getChannel",value:function(){return this.channel?this.channel:de(te.channel)||"default"}},{key:"appShow",value:function(){A.debug("app onShow"),this.hide2Show()}},{key:"appHide",value:function(){A.debug("app onHide"),this.show2Hide()}},{key:"pageShow",value:function(t){t=!P(t)&&E(t)?t:this.pagePath,A.debug("\u9875\u9762\u663e\u793a",t),t?this.currentPage?this.currentPage.path!==t&&this.switchPage(t):this.currentPage={path:t,startTime:Date.now()}:A.error("\u7f3a\u5c11\u6709\u6548\u9875\u9762\u8def\u5f84\uff0cpath = ".concat(t))}},{key:"appError",value:function(t){var e=t&&t.message||t;if(e&&(A.error("app error: ",e),!Tt())){var o={ctp:"4",cnf:e};this.errorEventList.push(o),this.storeAiolosErrorEvent()}}},{key:"hide2Show",value:function(){if(!this.isShow){A.debug("app hide2Show"),this.isShow=!0;var t=Date.now();this.showTime=t;var e=this.showTime-this.hideTime;if(this.currentPage&&(this.currentPage.startTime=t),this.hideTime>0)for(var o in A.debug("\u5207\u540e\u53f0\u65f6\u957f: ".concat(e,"ms")),this.aiolosEventMap)if(x(this.aiolosEventMap,o)){var i=this.aiolosEventMap[o];i&&!R(i.duration)&&(i.duration+=e)}!this.sessionId||this.hideTime<=0||e>3e4?this.sessionStart():this.currentSession.IsUpdate=1,this.flush()}}},{key:"show2Hide",value:function(){if(this.isShow){A.debug("app show2Hide"),this.isShow=!1;var t=Date.now();this.hideTime=t,ue(te.endTime,t),this.showTime>0&&this.hideTime>this.showTime&&this.recordUseDur(v(this.hideTime-this.showTime)),this.currentPage&&this.currentPage.path&&this.switchPage(this.currentPage.path),this.sessionEnd(),this.flush(),this.stopEventWatch()}}},{key:"sessionStart",value:function(){this.hideTime=-1,this.createSession(),A.debug("============sessionStart: "+this.sessionId),this.eventWithArgs({id:"app-83453d9998a24a0f821b456ecb907b78"})}},{key:"createSession",value:function(){this.sessionId=T(),this.currentSession={CreateDate:Date.now(),IsUpdate:0,Seconds:0,SessionID:this.sessionId,TotalSeconds:0}}},{key:"sessionEnd",value:function(){if(P(this.currentSession))A.error("\u672a\u5f00\u59cb\u4f1a\u8bdd\u5374\u8981\u7ed3\u675f");else if(this.showTime>0&&this.hideTime>this.showTime){var t=v(this.hideTime-this.showTime);this.currentSession.Seconds=t,this.currentSession.TotalSeconds+=t,this.sessionList.push(C(this.currentSession)),A.debug("\u5f53\u524d\u4f1a\u8bdd\u7ed3\u675f\uff1a",this.currentSession)}else A.error("\u6539\u65f6\u95f4\u4e86\uff0c\u4f1a\u8bdd\u65f6\u957f\u65e0\u6548"),this.currentSession.CreateDate=Date.now(),this.currentSession.Seconds=0,this.currentSession.TotalSeconds=0,this.currentSession.IsUpdate=0}},{key:"recordUseDur",value:function(t){this.eventWithArgs({id:"app-234e475b42244c488f7b7c6c6a16dc6c",time:t}),this.storeFirstLaunchDurTag(t)}},{key:"storeFirstLaunchDurTag",value:function(t){var e=de(te.ten)||"-1";"-1"==e&&(e=t>10?"1":"0",ue(te.ten,e))}},{key:"addEvent",value:function(t){this.eventList.push(t),this.storeEvent(),this.eventList.length>=5&&this.flush()}},{key:"storeEvent",value:function(){ue(te.events,k(this.eventList))}},{key:"addAiolosEvent",value:function(t){this.aiolosEventList.push(t),this.storeAiolosEvent(),this.aiolosEventList.length>=5&&this.flush()}},{key:"addAiolosEventList",value:function(t){this.aiolosEventList.push(t),this.storeAiolosEvent()}},{key:"storeAiolosEvent",value:function(){var t=this.aiolosEventList.length;t>200&&(this.aiolosEventList=this.aiolosEventList.slice(t-200)),ue(te.aiolosEvents,k(this.aiolosEventList))}},{key:"storeAiolosErrorEvent",value:function(){ue(te.errors,k(this.errorEventList))}},{key:"sendSession",value:function(){var t,e=this;this.uploadingSessionList=this.sessionList.slice(),this.sessionList=[],this.uploadingSessionList.length&&this.registerRequest({data:{Sessions:this.uploadingSessionList},async:!0,success:function(){e.flush()},fail:(t=this.uploadingSessionList,function(){e.sessionList=t.concat(e.sessionList),e.watchEvent()})})}},{key:"checkNetwork",value:function(){return new Promise(function(t,e){le.getNetworkType({success:function(o){"none"!=o.networkType?t():(A.debug("sendData error: no net"),e())},fail:function(){A.debug("sendData error: get network type error"),e()}})})}},{key:"sendAiolosEventData",value:function(){var t=this;this.uploadingAiolosQueue=this.aiolosEventList.splice(0,30),this.uploadingErrorQueue=this.errorEventList.slice(),this.errorEventList=[],(this.uploadingAiolosQueue.length>0||this.uploadingErrorQueue.length>0)&&this.getAiolosFinalData().then(function(e){var o,i;t.aiolosEventRequest({data:e,async:!0,needGzip:!0,success:function(){t.storeAiolosEvent(),t.storeAiolosErrorEvent(),t.flush()},fail:(o=t.uploadingQueue,i=t.uploadingErrorQueue,function(){t.aiolosEventList=o.concat(t.aiolosEventList),t.errorEventList=i.concat(t.errorEventList),t.storeAiolosEvent(),t.storeAiolosErrorEvent(),t.watchEvent()})})}).catch(function(t){A.error(t)})}},{key:"sendEventData",value:function(){var t,e=this;this.uploadingQueue=this.eventList.splice(0,30),this.uploadingQueue.length>0&&this.eventRequest({data:this.uploadingQueue,async:!0,success:function(){e.storeEvent(),e.flush()},fail:(t=this.uploadingQueue,function(){e.eventList=t.concat(e.eventList),e.storeEvent(),e.watchEvent()})})}},{key:"getAiolosFinalData",value:function(){var t=this;return new Promise(function(e,o){var i,n;t.getCSData().then(function(a){a&&(i={data:[a]},n=a.tag);var r=ge.getInfo(),s=r.model,c=r.system;r.osVersionName,r.osVersionCode;var l=t.getFromStore(),u=vt()?Be.getTTOpenID():void 0,d=wt()||At()?7:6,p=Y.getInfo(),h=p.appName,f=p.appKey,g=p.chCode,_=p.platform2,y={ach:g,aky:f,apk:h,ave:p.verCode,bid:d,crash:t.uploadingErrorQueue,dbr:s,data:t.uploadingAiolosQueue,did:Be.getOpenID(),dla:ge.getLanguage(),dre:ge.getResolution(),dve:c,dvt:String(_),ntp:m(),oid:u,parent:i,sty:0,sve:he.SdkVerID,tag:n,ten:"0",uid:Be.getUnionID(),wod:l?l.openid:"",wud:l?l.uid:""};Ye.getLaunchTag().then(function(t){y.sty=t,y.ten=de(te.ten)||"0",e(y)}).catch(function(t){A.error(t),o(t)})}).catch(function(t){A.error(t),o(t)})})}},{key:"getFromStore",value:function(){return U(de(te.fromInfo))||{}}},{key:"formatSimpleEvent",value:function(t){var e=t.eventId,o=t.eventData,i=t.path;i="/"==i[0]?i.substring(1):i;var n=this.transformEventArgs(o);return C({SessionID:this.sessionId,EventCode:e,EventArg:n?{Args:n}:void 0,PathData:i?{Source:{SectionCode:"\u9ed8\u8ba4",PageCode:i}}:void 0,CreateDate:Date.now()})}},{key:"formatFullEvent",value:function(t){var e=t.eventId,o=t.eventData,i=t.sourceInfo,n=t.targetInfo,a=t.readInfo,r=i&&(i.sectionCode||i.pageCode||i.areaCode||i.navCode)?{SectionCode:i.sectionCode||void 0,PageCode:i.pageCode||void 0,AreaCode:i.areaCode||void 0,NavCode:i.navCode||void 0}:void 0;r&&(r.AreaCode&&!r.PageCode&&(r.PageCode=PAGE_UNSPECIFIED),r.PageCode&&!r.SectionCode&&(r.SectionCode=SECTION_UNSPECIFIED));var s=n&&(n.sectionCode||n.pageCode)?{SectionCode:n.sectionCode||void 0,PageCode:n.pageCode||void 0}:void 0;s&&s.PageCode&&!s.SectionCode&&(s.SectionCode=PAGE_UNSPECIFIED);var c=this.transformEventArgs(o),l=i&&i.data?this.transformEventArgs(i.data):void 0,u=n&&n.data?this.transformEventArgs(n.data):void 0;i&&!i.dataCode&&l&&A.error("\u6709\u6765\u6e90\u6570\u636e\u4f46\u6ca1\u6570\u636e\u4ee3\u7801"),n&&!n.dataCode&&u&&A.error("\u6709\u76ee\u6807\u6570\u636e\u4f46\u6ca1\u6570\u636e\u4ee3\u7801");var d=a&&("number"==typeof a.readSecond||"number"==typeof a.scrollCount||"number"==typeof a.pageNo||a.state)?{ReadSecond:"number"==typeof a.readSecond?a.readSecond:void 0,ScrollCount:"number"==typeof a.scrollCount?a.scrollCount:void 0,PageNo:"number"==typeof a.pageNo?a.pageNo:void 0,State:a.state||void 0}:void 0;return C({SessionID:this.sessionId,EventCode:e,EventArg:c?{Args:c}:void 0,PathData:r||s?{Source:r,Target:s}:void 0,DataArgs:i&&i.dataCode||n&&n.dataCode?{Source:i&&i.dataCode?{DataCode:i.dataCode,Args:l}:void 0,Target:n&&n.dataCode?{DataCode:n.dataCode,Args:u}:void 0}:void 0,CreateDate:Date.now(),Read:d})}},{key:"formatAiolosEvent",value:function(t){var e,o=t.id,i=t.arg1,n=void 0===i?"\u672a\u8bbe\u7f6e":i,a=t.arg2,r=void 0===a?"\u672a\u8bbe\u7f6e":a,s=t.time;s&&s>0?(s+="",e="10"):(s="0",e="0");var c=Y.getInfo().verCode;return{eid:o,eud:this.sessionId,etp:e,eva:m(),eex:s,ea1:n,ea2:r,ave:c}}},{key:"transformEventArgs",value:function(t){return I(t)?this.arrayToEventArgs(t):B(t)?this.objectToEventArgs(t):void A.error("\u4e8b\u4ef6\u53c2\u6570\u7c7b\u578b\u5f02\u5e38\uff0c\u4e0d\u662f\u6570\u7ec4\u4e5f\u4e0d\u662f\u5bf9\u8c61 ".concat(a(t)))}},{key:"arrayToEventArgs",value:function(t){if(t.length>30&&(A.warn("\u4e8b\u4ef6\u53c2\u6570\u6570\u91cf\u8d85\u8fc7\u9650\u5236 ".concat(k(t),"\uff0c\u957f\u5ea6 ").concat(t.length,"\uff0c\u4e22\u5f03\u591a\u4f59key arg")),t=t.slice(0,30)),t.length>0){var e={},o=0;return t.forEach(function(t,i){null!=t&&"function"!=typeof t?e["Arg".concat(++o)]=k(t):A.warn("\u6570\u7ec4\u65e0\u6548\u5c5e\u6027 ".concat(i," ").concat(a(t)," ").concat(t))}),o>0?e:void 0}}},{key:"objectToEventArgs",value:function(t){var e=Object.keys(t).sort();if(!P(e))return e.length>30&&(A.warn("\u4e8b\u4ef6\u53c2\u6570\u6570\u91cf\u8d85\u8fc7\u9650\u5236 ".concat(e,"\uff0c\u957f\u5ea6 ").concat(e.length,"\uff0c\u4e22\u5f03\u591a\u4f59key arg")),e=e.slice(0,30)),e.reduce(function(e,o){var i=t[o];return null!=i&&"function"!=typeof i&&(e[o]=k(i)),e},{})}},{key:"transformPageEvent",value:function(t,e,o,i){if(t){if(!(o<0)){var n={SessionID:this.sessionId,EventCode:"\u8bbf\u95ee\u9875\u9762",PathData:{Target:{SectionCode:"\u9ed8\u8ba4",PageCode:t}},CreateDate:e,Read:{ReadSecond:o,PageSecond:o}};return i&&(n.PathData.Source={SectionCode:"\u9ed8\u8ba4",PageCode:i}),n}A.error("\u751f\u6210\u9875\u9762\u8bbf\u95ee\u4e8b\u4ef6\u65f6\uff0c\u65f6\u957f\u65e0\u6548 ".concat(o))}else A.error("\u751f\u6210\u9875\u9762\u8bbf\u95ee\u4e8b\u4ef6\u65f6\uff0c\u9875\u9762\u8def\u5f84\u65e0\u6548 ".concat(t))}},{key:"eventKeyValue",value:function(t){var e=t.eventId,o=t.eventData,i=t.path,n=void 0===i?this.pagePath:i;if(e){this.sessionId||this.createSession(),A.debug("\u5206\u6790-event: ",C({eventId:e,eventData:o,path:n}));var a=this.formatSimpleEvent({eventId:e,eventData:o,path:n});this.addEvent(a)}else A.error("\u5206\u6790-event: \u4e8b\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"fullEventKeyValue",value:function(t){var e=t.eventId,o=t.eventData,i=t.sourceInfo,n=t.targetInfo,a=t.readInfo;if(e){this.sessionId||this.createSession(),A.debug("\u5206\u6790-fullEvent: ",C({eventId:e,eventData:o,sourceInfo:i,targetInfo:n,readInfo:a}));var r=this.formatFullEvent({eventId:e,eventData:o,sourceInfo:i,targetInfo:n,readInfo:a});this.addEvent(r)}else A.error("\u5206\u6790-fullEvent: \u4e8b\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"eventWithArgs",value:function(t){var e=t.id,o=t.arg1,i=t.arg2,n=t.time;if(!Tt())if(e){this.sessionId||this.createSession(),A.debug("\u7ecf\u5206-event: ",C({id:e,arg1:o,arg2:i,time:n}));var a=this.formatAiolosEvent({id:e,arg1:o,arg2:i,time:n});this.addAiolosEvent(a)}else A.error("\u7ecf\u5206-event: \u4e8b\u4ef6id\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"recordEventList",value:function(t){if(t&&t.length&&0!=t.length){this.sessionId||this.createSession();var e=[],o=Y.getInfo().verCode;for(var i in t){var n=t[i];if(n&&n.id){var a=n.arg2?n.arg1:n.arg2,r=n.arg2?n.arg2:n.arg1,s={eid:n.id,eud:this.sessionId,etp:"0",eva:m(),eex:"0",ea1:a,ea2:r,ave:o};e.push(s)}}e.length>0?this.addAiolosEventList(e):A.error("\u7ecf\u5206-recordEventList params error")}else A.error("\u7ecf\u5206-recordEventList params error")}},{key:"eventWithArgsStart",value:function(t){var e=t.id,o=t.arg1,i=t.arg2;e?(this.aiolosEventMap[e]={startTime:Date.now(),duration:0,arg1:o,arg2:i},A.debug("\u7ecf\u5206-\u8ba1\u65f6\u4e8b\u4ef6\u5f00\u59cb\uff0cid: ".concat(e))):A.error("\u7ecf\u5206-startEvent: \u4e8b\u4ef6id\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"eventWithArgsEnd",value:function(t){var e=t.id;if(e){var o=this.aiolosEventMap[e]||{},i=o.startTime,n=o.duration,a=o.arg1,r=o.arg2;if(i){var s=v(Date.now()-i-n);A.debug("\u7ecf\u5206-\u8ba1\u65f6\u4e8b\u4ef6\u7ed3\u675f\uff0cid: ".concat(e,", \u65f6\u957f: ").concat(s,"s")),this.eventWithArgs({id:e,time:s,arg1:a,arg2:r}),this.aiolosEventMap[e]=null,A.debug("\u7ecf\u5206-endEvent: "+e)}}else A.error("\u7ecf\u5206-endEvent: \u4e8b\u4ef6id\u4e0d\u80fd\u4e3a\u7a7a")}},{key:"switchPage",value:function(t){if(this.currentPage){var e=Math.max(v(Date.now()-this.currentPage.startTime),0),o=this.transformPageEvent(this.currentPage.path,this.currentPage.startTime,e,this.currentPage.prevPath);this.addEvent(o),A.debug("\u5207\u6362\u9875\u9762\u8bb0\u5f55\uff0c\u5f53\u524d\u9875\u9762 ".concat(this.currentPage.path,"\uff0c\u65f6\u957f ").concat(e,"s\uff0c\u76ee\u6807\u9875\u9762 ").concat(t)),this.currentPage.prevPath=this.currentPage.path,this.currentPage.path=t,this.currentPage.startTime=Date.now()}}},{key:"exit",value:function(){ue(te.endTime,Date.now())}},{key:"share",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.arg1,o=t.arg2;this.eventWithArgs({id:"app-4EB0861E3746B8C725D595DF3A1EAE5E",arg1:e,arg2:o})}},{key:"dealSharePath",value:function(t){if(!t)return"";var e=t||{},o=e.pkg,i=e.path,n=[];return n.push("AFrom={'oid':'"+Be.getOpenID()+"','uid':'"+Be.getUnionID()+"'}"),o&&n.push("TDChannelId=".concat(o),"AChannelId=".concat(o)),i?i.indexOf("?")>=0?i.endsWith("?")||i.endsWith("&")?i+this.dealArr(n):i+"&"+this.dealArr(n):i+"?"+this.dealArr(n):"?"+this.dealArr(n)}},{key:"setCS",value:function(t){if(t){var e=t||{},o=e.account,i=e.accountPower,n=e.accountType,a=e.babyBirthday,r=e.babyName,s=e.babyPlayDuration,c=e.babyRestDuration,l=e.babySex,u=e.babySleepTime,d=e.babyWeakupTime,p=e.paid,h=e.payTime,f=e.payType,g=e.phone,_=e.registTime,y=e.sex,m=e.subscription,v=e.tag;this.getCSData().then(function(t){t=t||{},o&&(t.uco=o),i&&(t.pow=i),n&&(t.uct=n),a&&(t.bym=a),r&&(t.bna=r),s&&(t.eut=s),c&&(t.ert=c),l&&(t.bsx=l),u&&(t.nst=u),d&&(t.net=d),p&&(t.pay=p),h&&(t.pat=h),f&&(t.pap=f),g&&(t.pho=g),_&&(t.ret=_),y&&(t.sex=y),m&&(t.cls=m),v&&(t.tag=v),ue(te.cs,k(t)),A.debug("setCS:",t)}).catch(function(t){A.error(t)})}}},{key:"getCSData",value:function(){return new Promise(function(t,e){t(U(de(te.cs)))})}},{key:"getABTestValue",value:function(t){return Xe.getABTestValue(t)}},{key:"setUser",value:function(){var t=this;Be.offOpenIDReady(this.onOpenIdGot),O(Be.onOpenIDReady)&&Be.onOpenIDReady(this.onOpenIdGot),Be.requestOpenIDStartCb=function(){t.eventWithArgs({id:Q,arg1:"\u5f00\u59cb"})},Be.requestOpenIDDoneCb=function(e){t.eventWithArgs({id:"6F38B149-1122-CC69-E1B9-9E6FA01192ED",arg1:e}),t.eventWithArgs({id:Q,arg1:e})},Be.requestOpenIDFailCb=function(e){t.eventWithArgs({id:"FD658A22-2486-4771-24F2-23EEBAA8946A",arg1:e})}}},{key:"onOpenIdGot",value:function(t){A.debug(""),A.warn("------ SDK\u96c6\u6210\u6210\u529f ------"),A.debug(""),this.deviceInit()}},{key:"deviceInit",value:function(){var t=this;if(!this.isOnDeviceInit&&!this.isDeviceInited){this.isOnDeviceInit=!0,this.sessionId||this.createSession();var e=this.sessionList.slice();this.currentSession&&e.push(this.currentSession),this.initRequest({data:{Sessions:e},async:!0,success:function(i){t.isOnDeviceInit=!1,t.isDeviceInited=!0,pe.update(i),o.onDeviceInitReady(i),Be.setDeviceInitReady(),t.currentSession.IsUpdate=1,t.sessionList=t.sessionList.filter(function(t){return e.indexOf(t)<0}),t.flush()},fail:function(){var e=pe.getInfo();P(e)?(t.isOnDeviceInit=!1,t.deviceInit.count++<2&&setTimeout(function(){A.debug("\u91cd\u8bd5\u8bbe\u5907\u521d\u59cb\u5316"),t.deviceInit()},3e3)):(A.debug("\u4e4b\u524d\u6709\u6210\u529f\u83b7\u53d6\u8fc7\uff0c\u4e0d\u7528\u518d\u91cd\u8bd5\u4e86"),t.isOnDeviceInit=!1,t.isDeviceInited=!0,o.onDeviceInitReady(e),Be.setDeviceInitReady(),t.flush())}})}}},{key:"flush",value:function(){this.stopEventWatch(),Be.getOpenID()?this.isDeviceInited?this.sessionList.length>0?this.sendSession():this.eventList.length>0||this.aiolosEventList.length>0||this.errorEventList.length>0?(this.eventList.length>0&&this.sendEventData(),(this.aiolosEventList.length>0||this.errorEventList.length>0)&&this.sendAiolosEventData()):this.watchEvent():A.warn("\u7b49\u5f85\u8bbe\u5907\u521d\u59cb\u5316\u540e\u4e0a\u62a5\u6570\u636e"):A.warn("\u7b49\u5f85\u83b7\u53d6openID\u540e\u4e0a\u62a5\u6570\u636e")}},{key:"watchEvent",value:function(){var t=this;this.isShow&&(this.eventWatchTimer=setTimeout(function(){t.flush()},1e4))}},{key:"stopEventWatch",value:function(){this.eventWatchTimer&&(clearTimeout(this.eventWatchTimer),this.eventWatchTimer=null)}},{key:"setAccountID",value:function(t){Be.setAccountID(t)}},{key:"clearAccountID",value:function(){Be.clearAccountID()}},{key:"setUserInfo",value:function(t){Be.setUserInfo(t)}},{key:"clearUserInfo",value:function(){Be.clearUserInfo()}},{key:"setOpenID",value:function(t){Be.setOpenID(t)}},{key:"setUnionID",value:function(t){Be.setUnionID(t)}},{key:"addHeaderInfo",value:function(t){Ue.addHeaderInfo(t)}}]),o}();Ze.onDeviceInitReady=M;var $e,to="\u8bf7\u68c0\u67e5\u4f60\u7684\u521d\u59cb\u5316\u914d\u7f6e\u4fe1\u606f\u662f\u5426\u586b\u5199\u6b63\u786e",eo=!1,oo={init:function(t){if(eo)throw new Error("\u91cd\u590d\u521d\u59cb\u5316");eo=!0,$e=new Ze(t,this)},event:function(t){$e?$e.eventKeyValue(t):A.error(to)},singleCustomEvent:function(t,e,o){R(o)&&!E(e)&&(o=e,e=void 0),this.event({eventId:t,eventData:o,path:e})},fullEvent:function(t){$e?$e.fullEventKeyValue(t):A.error(to)},recordEvent:function(t){$e?$e.eventWithArgs(t):A.error(to)},startEvent:function(t){$e?$e.eventWithArgsStart(t):A.error(to)},endEvent:function(t){$e?$e.eventWithArgsEnd(t):A.error(to)},share:function(t){$e?$e.share(t):A.error(to)},dealSharePath:function(t){if($e)return $e.dealSharePath(t);A.error(to)},exit:function(){$e?$e.exit():A.error(to)},setCS:function(t){$e?$e.setCS(t):A.error(to)},getABTestValue:function(t){if($e)return $e.getABTestValue(t);A.error(to)},setAccountID:function(t){$e?$e.setAccountID(t):A.error(to)},clearAccountID:function(){$e?$e.clearAccountID():A.error(to)},setUserInfo:function(t){$e?$e.setUserInfo(t):A.error(to)},clearUserInfo:function(){$e?$e.clearUserInfo():A.error(to)},setOpenID:function(t){$e?$e.setOpenID(t):A.error(to)},setUnionID:function(t){$e?$e.setUnionID(t):A.error(to)},onDeviceInitReady:function(t){Ze.onDeviceInitReady=t},version:"11.05.13"};e.exports=oo,cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],configService:[function(t,e,o){"use strict";cc._RF.push(e,"07b3eNBhYNNkKiwRu1tRcmO","configService"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../../Config/AppConfig"),n=t("../ajax"),a=t("../signature"),r=t("../userAgent"),s=t("./userService"),c=t("../../babybusUtils"),l="config.static",u=(function(){}(),function(){function t(){try{this.staticConfig=c.StorageAdapter.getStorageSync(l),console.debug("[CS] \u9759\u6001\u914d\u7f6e\u521d\u59cb\u7ed3\u679c",this.staticConfig||"\u7a7a\u5185\u5bb9")}catch(t){console.error("[CS] \u521d\u59cb\u5316\u9759\u6001\u914d\u7f6e\u5931\u8d25",t)}finally{this.staticConfig=this.staticConfig||void 0}}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.prototype.init=function(t,e,o){if(!this.ajax){if(!t||!e||!o)throw new Error("[CS] \u53c2\u6570\u4e0d\u5168");var i=new a.default(e,o),s=new r.default({ProductID:t});this.ajax=new n.default(i,s)}return this},t.prototype._transformData=function(t){for(var e={},o=0;o<t.length;o++){var i=t[o];switch(i.configType){case 2:e[i.configKey]="1"===i.configValue;break;case 3:e[i.configKey]=Number(i.configValue);break;default:e[i.configKey]=i.configValue}}return e},t.prototype.needVerification=function(){return!this.staticConfig},t.prototype.getStaticConfig=function(){var t=this;return this.staticConfig?new Promise(function(e){e(t.staticConfig)}):s.default.getInstance().getOpenId(!0).then(function(e){if(e.verification&&e.verification.SessionSignature&&e.verification.SessionTime)return t.ajax.post("https://spg.kidvideo.cn/Record/Index/CheckSignature",{AppID:i.default.wechatgameAppID,SessionSignature:e.verification.SessionSignature,SessionTime:e.verification.SessionTime});throw new Error("[CS] \u7528\u6237\u4e2d\u5fc3\u672a\u8fd4\u56de\u6821\u9a8c\u4fe1\u606f\uff0c\u65e0\u6cd5\u83b7\u53d6\u9759\u6001\u914d\u7f6e")}).then(function(e){return t.staticConfig=t._transformData(e),console.debug("[CS] \u83b7\u53d6\u9759\u6001\u914d\u7f6e\u6210\u529f",t.staticConfig),c.StorageAdapter.setStorage({key:l,data:t.staticConfig}),t.staticConfig}).catch(function(t){throw console.error("[CS] \u83b7\u53d6\u9759\u6001\u914d\u7f6e\u6216OpenId\u4e2d\u7684\u6821\u9a8c\u6570\u636e\u5931\u8d25",t),new Error("[CS] \u9759\u6001\u914d\u7f6e\u63a5\u53e3\u8c03\u7528\u5931\u8d25")})},t.prototype.getDynamicConfig=function(){var t=this;return this.dynamicConfig?new Promise(function(e){e(t.dynamicConfig)}):!window.wx||window.tt?new Promise(function(t,e){e()}):this.ajax.post("https://spg.kidvideo.cn/Record/VersionParams/GetConfigParamsList",{AppID:i.default.wechatgameAppID}).then(function(e){return t.dynamicConfig=t._transformData(e),console.debug("[CS] \u83b7\u53d6\u52a8\u6001\u914d\u7f6e\u6210\u529f",t.dynamicConfig),t.dynamicConfig}).catch(function(t){throw console.error("[CS] \u83b7\u53d6\u52a8\u6001\u914d\u7f6e\u5931\u8d25",t),new Error("[CS] \u52a8\u6001\u914d\u7f6e\u63a5\u53e3\u8c03\u7528\u5931\u8d25")})},t}());o.default=u,cc._RF.pop()},{"../../../../../Config/AppConfig":"AppConfig","../../babybusUtils":"babybusUtils","../ajax":"ajax","../signature":"signature","../userAgent":"userAgent","./userService":"userService"}],cookieHelper:[function(t,e,o){"use strict";cc._RF.push(e,"ce797HLJ3NFX7TLtby+L8m0","cookieHelper"),Object.defineProperty(o,"__esModule",{value:!0});var i=new(t("../cookie/CookieStore").default);o.addCookiesToHeader=function(t){var e,o=(t||"").split("/")[2],n=t.split(o).pop(),a=i.getRequestCookies(o,n);return a&&((e={}).Cookie=a,e["X-Requested-With"]="XMLHttpRequest",e.Accept="application/json, text/plain, */*"),{domain:o,extraHeader:e}},o.processCookiesFromHeader=function(t,e){var o=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||"";o&&i.setResponseCookies(o,e)},o.getCookie=i.getCookie.bind(i),cc._RF.pop()},{"../cookie/CookieStore":"CookieStore"}],libenc:[function(t,e,o){(function(i){"use strict";cc._RF.push(e,"477d7rb90dIpq/Tz6RKPRe8","libenc");var n,a,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,e){"object"===(void 0===o?"undefined":s(o))?n=o=e():"function"==typeof define&&define.amd?define([],e):t.CryptoJS=e()})(void 0,function(){var t=t||function(t,e){var o=Object.create||function(){function t(){}return function(e){var o;return t.prototype=e,o=new t,t.prototype=null,o}}(),i={},n=i.lib={},a=n.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=n.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,o=t.words,i=this.sigBytes,n=t.sigBytes;if(this.clamp(),i%4)for(var a=0;a<n;a++){var r=o[a>>>2]>>>24-a%4*8&255;e[i+a>>>2]|=r<<24-(i+a)%4*8}else for(a=0;a<n;a+=4)e[i+a>>>2]=o[a>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=t.ceil(o/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var o,i=[],n=function(e){e=e;var o=987654321,i=4294967295;return function(){var n=((o=36969*(65535&o)+(o>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return n/=4294967296,(n+=.5)*(t.random()>.5?1:-1)}},a=0;a<e;a+=4){var s=n(4294967296*(o||t.random()));o=987654071*s(),i.push(4294967296*s()|0)}return new r.init(i,e)}}),s=i.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n++){var a=e[n>>>2]>>>24-n%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,o=[],i=0;i<e;i+=2)o[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new r.init(o,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n++){var a=e[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,o=[],i=0;i<e;i++)o[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new r.init(o,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var o=this._data,i=o.words,n=o.sigBytes,a=this.blockSize,s=n/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,l=t.min(4*c,n);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(i,u);var d=i.splice(0,c);o.sigBytes-=l}return new r.init(d,l)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(n.Hasher=d.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,o){return new t.init(o).finalize(e)}},_createHmacHelper:function(t){return function(e,o){return new p.HMAC.init(t,o).finalize(e)}}}),i.algo={});return i}(Math);return function(){var e=t,o=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,o=t.sigBytes,i=this._map;t.clamp();for(var n=[],a=0;a<o;a+=3)for(var r=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<o;s++)n.push(i.charAt(r>>>6*(3-s)&63));var c=i.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(t){var e=t.length,o=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var a=0;a<o.length;a++)n[o.charCodeAt(a)]=a}var r=o.charAt(64);if(r){var s=t.indexOf(r);-1!==s&&(e=s)}return i(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function i(t,e,i){for(var n=[],a=0,r=0;r<e;r++)if(r%4){var s=i[t.charCodeAt(r-1)]<<r%4*2,c=i[t.charCodeAt(r)]>>>6-r%4*2;n[a>>>2]|=(s|c)<<24-a%4*8,a++}return o.create(n,a)}}(),function(e){var o=t,i=o.lib,n=i.WordArray,a=i.Hasher,r=o.algo,s=[];(function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0})();var c=r.MD5=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var o=0;o<16;o++){var i=e+o,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var a=this._hash.words,r=t[e+0],c=t[e+1],h=t[e+2],f=t[e+3],g=t[e+4],_=t[e+5],y=t[e+6],m=t[e+7],v=t[e+8],b=t[e+9],S=t[e+10],w=t[e+11],A=t[e+12],C=t[e+13],G=t[e+14],T=t[e+15],P=a[0],M=a[1],I=a[2],N=a[3];M=p(M=p(M=p(M=p(M=d(M=d(M=d(M=d(M=u(M=u(M=u(M=u(M=l(M=l(M=l(M=l(M,I=l(I,N=l(N,P=l(P,M,I,N,r,7,s[0]),M,I,c,12,s[1]),P,M,h,17,s[2]),N,P,f,22,s[3]),I=l(I,N=l(N,P=l(P,M,I,N,g,7,s[4]),M,I,_,12,s[5]),P,M,y,17,s[6]),N,P,m,22,s[7]),I=l(I,N=l(N,P=l(P,M,I,N,v,7,s[8]),M,I,b,12,s[9]),P,M,S,17,s[10]),N,P,w,22,s[11]),I=l(I,N=l(N,P=l(P,M,I,N,A,7,s[12]),M,I,C,12,s[13]),P,M,G,17,s[14]),N,P,T,22,s[15]),I=u(I,N=u(N,P=u(P,M,I,N,c,5,s[16]),M,I,y,9,s[17]),P,M,w,14,s[18]),N,P,r,20,s[19]),I=u(I,N=u(N,P=u(P,M,I,N,_,5,s[20]),M,I,S,9,s[21]),P,M,T,14,s[22]),N,P,g,20,s[23]),I=u(I,N=u(N,P=u(P,M,I,N,b,5,s[24]),M,I,G,9,s[25]),P,M,f,14,s[26]),N,P,v,20,s[27]),I=u(I,N=u(N,P=u(P,M,I,N,C,5,s[28]),M,I,h,9,s[29]),P,M,m,14,s[30]),N,P,A,20,s[31]),I=d(I,N=d(N,P=d(P,M,I,N,_,4,s[32]),M,I,v,11,s[33]),P,M,w,16,s[34]),N,P,G,23,s[35]),I=d(I,N=d(N,P=d(P,M,I,N,c,4,s[36]),M,I,g,11,s[37]),P,M,m,16,s[38]),N,P,S,23,s[39]),I=d(I,N=d(N,P=d(P,M,I,N,C,4,s[40]),M,I,r,11,s[41]),P,M,f,16,s[42]),N,P,y,23,s[43]),I=d(I,N=d(N,P=d(P,M,I,N,b,4,s[44]),M,I,A,11,s[45]),P,M,T,16,s[46]),N,P,h,23,s[47]),I=p(I,N=p(N,P=p(P,M,I,N,r,6,s[48]),M,I,m,10,s[49]),P,M,G,15,s[50]),N,P,_,21,s[51]),I=p(I,N=p(N,P=p(P,M,I,N,A,6,s[52]),M,I,f,10,s[53]),P,M,S,15,s[54]),N,P,c,21,s[55]),I=p(I,N=p(N,P=p(P,M,I,N,v,6,s[56]),M,I,T,10,s[57]),P,M,y,15,s[58]),N,P,C,21,s[59]),I=p(I,N=p(N,P=p(P,M,I,N,g,6,s[60]),M,I,w,10,s[61]),P,M,h,15,s[62]),N,P,b,21,s[63]),a[0]=a[0]+P|0,a[1]=a[1]+M|0,a[2]=a[2]+I|0,a[3]=a[3]+N|0},_doFinalize:function(){var t=this._data,o=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;o[n>>>5]|=128<<24-n%32;var a=e.floor(i/4294967296),r=i;o[15+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),o[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(o.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,o,i,n,a,r){var s=t+(e&o|~e&i)+n+r;return(s<<a|s>>>32-a)+e}function u(t,e,o,i,n,a,r){var s=t+(e&i|o&~i)+n+r;return(s<<a|s>>>32-a)+e}function d(t,e,o,i,n,a,r){var s=t+(e^o^i)+n+r;return(s<<a|s>>>32-a)+e}function p(t,e,o,i,n,a,r){var s=t+(o^(e|~i))+n+r;return(s<<a|s>>>32-a)+e}o.MD5=a._createHelper(c),o.HmacMD5=a._createHmacHelper(c)}(Math),function(){var e=t,o=e.lib,i=o.WordArray,n=o.Hasher,a=[],r=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],r=o[2],s=o[3],c=o[4],l=0;l<80;l++){if(l<16)a[l]=0|t[e+l];else{var u=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=u<<1|u>>>31}var d=(i<<5|i>>>27)+c+a[l];d+=l<20?1518500249+(n&r|~n&s):l<40?1859775393+(n^r^s):l<60?(n&r|n&s|r&s)-1894007588:(n^r^s)-899497514,c=s,s=r,r=n<<30|n>>>2,n=i,i=d}o[0]=o[0]+i|0,o[1]=o[1]+n|0,o[2]=o[2]+r|0,o[3]=o[3]+s|0,o[4]=o[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(o/4294967296),e[15+(i+64>>>9<<4)]=o,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=n._createHelper(r),e.HmacSHA1=n._createHmacHelper(r)}(),function(e){var o=t,i=o.lib,n=i.WordArray,a=i.Hasher,r=o.algo,s=[],c=[];(function(){function t(t){for(var o=e.sqrt(t),i=2;i<=o;i++)if(!(t%i))return!1;return!0}function o(t){return 4294967296*(t-(0|t))|0}for(var i=2,n=0;n<64;)t(i)&&(n<8&&(s[n]=o(e.pow(i,.5))),c[n]=o(e.pow(i,1/3)),n++),i++})();var l=[],u=r.SHA256=a.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],a=o[2],r=o[3],s=o[4],u=o[5],d=o[6],p=o[7],h=0;h<64;h++){if(h<16)l[h]=0|t[e+h];else{var f=l[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,_=l[h-2],y=(_<<15|_>>>17)^(_<<13|_>>>19)^_>>>10;l[h]=g+l[h-7]+y+l[h-16]}var m=i&n^i&a^n&a,v=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];p=d,d=u,u=s,s=r+b|0,r=a,a=n,n=i,i=b+(v+m)|0}o[0]=o[0]+i|0,o[1]=o[1]+n|0,o[2]=o[2]+a|0,o[3]=o[3]+r|0,o[4]=o[4]+s|0,o[5]=o[5]+u|0,o[6]=o[6]+d|0,o[7]=o[7]+p|0},_doFinalize:function(){var t=this._data,o=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return o[n>>>5]|=128<<24-n%32,o[14+(n+64>>>9<<4)]=e.floor(i/4294967296),o[15+(n+64>>>9<<4)]=i,t.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});o.SHA256=a._createHelper(u),o.HmacSHA256=a._createHmacHelper(u)}(Math),function(){var e=t,o=e.lib.WordArray,i=e.enc;i.Utf16=i.Utf16BE={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],n=0;n<o;n+=2){var a=e[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(a))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>1]|=t.charCodeAt(n)<<16-n%2*16;return o.create(i,2*e)}};function n(t){return t<<8&4278255360|t>>>8&16711935}i.Utf16LE={stringify:function(t){for(var e=t.words,o=t.sigBytes,i=[],a=0;a<o;a+=2){var r=n(e[a>>>2]>>>16-a%4*8&65535);i.push(String.fromCharCode(r))}return i.join("")},parse:function(t){for(var e=t.length,i=[],a=0;a<e;a++)i[a>>>1]|=n(t.charCodeAt(a)<<16-a%2*16);return o.create(i,2*e)}}}(),function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,o=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,i=[],n=0;n<e;n++)i[n>>>2]|=t[n]<<24-n%4*8;o.call(this,i,e)}else o.apply(this,arguments)}).prototype=e}}(),function(e){var o=t,i=o.lib,n=i.WordArray,a=i.Hasher,r=o.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=n.create([0,1518500249,1859775393,2400959708,2840853838]),p=n.create([1352829926,1548603684,1836072691,2053994217,0]),h=r.RIPEMD160=a.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var o=0;o<16;o++){var i=e+o,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var a,r,h,b,S,w,A,C,G,T,P,M=this._hash.words,I=d.words,N=p.words,B=s.words,R=c.words,E=l.words,O=u.words;w=a=M[0],A=r=M[1],C=h=M[2],G=b=M[3],T=S=M[4];for(o=0;o<80;o+=1)P=a+t[e+B[o]]|0,P+=o<16?f(r,h,b)+I[0]:o<32?g(r,h,b)+I[1]:o<48?_(r,h,b)+I[2]:o<64?y(r,h,b)+I[3]:m(r,h,b)+I[4],P=(P=v(P|=0,E[o]))+S|0,a=S,S=b,b=v(h,10),h=r,r=P,P=w+t[e+R[o]]|0,P+=o<16?m(A,C,G)+N[0]:o<32?y(A,C,G)+N[1]:o<48?_(A,C,G)+N[2]:o<64?g(A,C,G)+N[3]:f(A,C,G)+N[4],P=(P=v(P|=0,O[o]))+T|0,w=T,T=G,G=v(C,10),C=A,A=P;P=M[1]+h+G|0,M[1]=M[2]+b+T|0,M[2]=M[3]+S+w|0,M[3]=M[4]+a+A|0,M[4]=M[0]+r+C|0,M[0]=P},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,a=n.words,r=0;r<5;r++){var s=a[r];a[r]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});function f(t,e,o){return t^e^o}function g(t,e,o){return t&e|~t&o}function _(t,e,o){return(t|~e)^o}function y(t,e,o){return t&o|e&~o}function m(t,e,o){return t^(e|~o)}function v(t,e){return t<<e|t>>>32-e}o.RIPEMD160=a._createHelper(h),o.HmacRIPEMD160=a._createHmacHelper(h)}(Math),function(){var e=t,o=e.lib.Base,i=e.enc.Utf8;e.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var o=t.blockSize,n=4*o;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var a=this._oKey=e.clone(),r=this._iKey=e.clone(),s=a.words,c=r.words,l=0;l<o;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=r.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,o=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(o))}})}(),function(){var e=t,o=e.lib,i=o.Base,n=o.WordArray,a=e.algo,r=a.SHA1,s=a.HMAC,c=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:r,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=this.cfg,i=s.create(o.hasher,t),a=n.create(),r=n.create([1]),c=a.words,l=r.words,u=o.keySize,d=o.iterations;c.length<u;){var p=i.update(e).finalize(r);i.reset();for(var h=p.words,f=h.length,g=p,_=1;_<d;_++){g=i.finalize(g),i.reset();for(var y=g.words,m=0;m<f;m++)h[m]^=y[m]}a.concat(p),l[0]++}return a.sigBytes=4*u,a}});e.PBKDF2=function(t,e,o){return c.create(o).compute(t,e)}}(),function(){var e=t,o=e.lib,i=o.Base,n=o.WordArray,a=e.algo,r=a.MD5,s=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:r,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=this.cfg,i=o.hasher.create(),a=n.create(),r=a.words,s=o.keySize,c=o.iterations;r.length<s;){l&&i.update(l);var l=i.update(t).finalize(e);i.reset();for(var u=1;u<c;u++)l=i.finalize(l),i.reset();a.concat(l)}return a.sigBytes=4*s,a}});e.EvpKDF=function(t,e,o){return s.create(o).compute(t,e)}}(),function(){var e=t,o=e.lib.WordArray,i=e.algo,n=i.SHA256,a=i.SHA224=n.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=n._createHelper(a),e.HmacSHA224=n._createHmacHelper(a)}(),function(e){var o=t,i=o.lib,n=i.Base,a=i.WordArray,r=o.x64={};r.Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),r.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,o=[],i=0;i<e;i++){var n=t[i];o.push(n.high),o.push(n.low)}return a.create(o,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),o=e.length,i=0;i<o;i++)e[i]=e[i].clone();return t}})}(),function(e){var o=t,i=o.lib,n=i.WordArray,a=i.Hasher,r=o.x64.Word,s=o.algo,c=[],l=[],u=[];(function(){for(var t=1,e=0,o=0;o<24;o++){c[t+5*e]=(o+1)*(o+2)/2%64;var i=(2*t+3*e)%5;t=e%5,e=i}for(t=0;t<5;t++)for(e=0;e<5;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var n=1,a=0;a<24;a++){for(var s=0,d=0,p=0;p<7;p++){if(1&n){var h=(1<<p)-1;h<32?d^=1<<h:s^=1<<h-32}128&n?n=n<<1^113:n<<=1}u[a]=r.create(s,d)}})();var d=[];(function(){for(var t=0;t<25;t++)d[t]=r.create()})();var p=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new r.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var o=this._state,i=this.blockSize/2,n=0;n<i;n++){var a=t[e+2*n],r=t[e+2*n+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),(M=o[n]).high^=r,M.low^=a}for(var s=0;s<24;s++){for(var p=0;p<5;p++){for(var h=0,f=0,g=0;g<5;g++){h^=(M=o[p+5*g]).high,f^=M.low}var _=d[p];_.high=h,_.low=f}for(p=0;p<5;p++){var y=d[(p+4)%5],m=d[(p+1)%5],v=m.high,b=m.low;for(h=y.high^(v<<1|b>>>31),f=y.low^(b<<1|v>>>31),g=0;g<5;g++){(M=o[p+5*g]).high^=h,M.low^=f}}for(var S=1;S<25;S++){var w=(M=o[S]).high,A=M.low,C=c[S];if(C<32)h=w<<C|A>>>32-C,f=A<<C|w>>>32-C;else h=A<<C-32|w>>>64-C,f=w<<C-32|A>>>64-C;var G=d[l[S]];G.high=h,G.low=f}var T=d[0],P=o[0];T.high=P.high,T.low=P.low;for(p=0;p<5;p++)for(g=0;g<5;g++){var M=o[S=p+5*g],I=d[S],N=d[(p+1)%5+5*g],B=d[(p+2)%5+5*g];M.high=I.high^~N.high&B.high,M.low=I.low^~N.low&B.low}M=o[0];var R=u[s];M.high^=R.high,M.low^=R.low}},_doFinalize:function(){var t=this._data,o=t.words,i=(this._nDataBytes,8*t.sigBytes),a=32*this.blockSize;o[i>>>5]|=1<<24-i%32,o[(e.ceil((i+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*o.length,this._process();for(var r=this._state,s=this.cfg.outputLength/8,c=s/8,l=[],u=0;u<c;u++){var d=r[u],p=d.high,h=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(p)}return new n.init(l,s)},clone:function(){for(var t=a.clone.call(this),e=t._state=this._state.slice(0),o=0;o<25;o++)e[o]=e[o].clone();return t}});o.SHA3=a._createHelper(p),o.HmacSHA3=a._createHmacHelper(p)}(Math),function(){var e=t,o=e.lib.Hasher,i=e.x64,n=i.Word,a=i.WordArray,r=e.algo;function s(){return n.create.apply(n,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],l=[];(function(){for(var t=0;t<80;t++)l[t]=s()})();var u=r.SHA512=o.extend({_doReset:function(){this._hash=new a.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var o=this._hash.words,i=o[0],n=o[1],a=o[2],r=o[3],s=o[4],u=o[5],d=o[6],p=o[7],h=i.high,f=i.low,g=n.high,_=n.low,y=a.high,m=a.low,v=r.high,b=r.low,S=s.high,w=s.low,A=u.high,C=u.low,G=d.high,T=d.low,P=p.high,M=p.low,I=h,N=f,B=g,R=_,E=y,O=m,D=v,x=b,k=S,U=w,F=A,L=C,j=G,z=T,q=P,H=M,V=0;V<80;V++){var W=l[V];if(V<16)var Y=W.high=0|t[e+2*V],K=W.low=0|t[e+2*V+1];else{var X=l[V-15],J=X.high,Q=X.low,Z=(J>>>1|Q<<31)^(J>>>8|Q<<24)^J>>>7,$=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),tt=l[V-2],et=tt.high,ot=tt.low,it=(et>>>19|ot<<13)^(et<<3|ot>>>29)^et>>>6,nt=(ot>>>19|et<<13)^(ot<<3|et>>>29)^(ot>>>6|et<<26),at=l[V-7],rt=at.high,st=at.low,ct=l[V-16],lt=ct.high,ut=ct.low;Y=(Y=(Y=Z+rt+((K=$+st)>>>0<$>>>0?1:0))+it+((K=K+nt)>>>0<nt>>>0?1:0))+lt+((K=K+ut)>>>0<ut>>>0?1:0);W.high=Y,W.low=K}var dt,pt=k&F^~k&j,ht=U&L^~U&z,ft=I&B^I&E^B&E,gt=N&R^N&O^R&O,_t=(I>>>28|N<<4)^(I<<30|N>>>2)^(I<<25|N>>>7),yt=(N>>>28|I<<4)^(N<<30|I>>>2)^(N<<25|I>>>7),mt=(k>>>14|U<<18)^(k>>>18|U<<14)^(k<<23|U>>>9),vt=(U>>>14|k<<18)^(U>>>18|k<<14)^(U<<23|k>>>9),bt=c[V],St=bt.high,wt=bt.low,At=q+mt+((dt=H+vt)>>>0<H>>>0?1:0),Ct=yt+gt;q=j,H=z,j=F,z=L,F=k,L=U,k=D+(At=(At=(At=At+pt+((dt=dt+ht)>>>0<ht>>>0?1:0))+St+((dt=dt+wt)>>>0<wt>>>0?1:0))+Y+((dt=dt+K)>>>0<K>>>0?1:0))+((U=x+dt|0)>>>0<x>>>0?1:0)|0,D=E,x=O,E=B,O=R,B=I,R=N,I=At+(_t+ft+(Ct>>>0<yt>>>0?1:0))+((N=dt+Ct|0)>>>0<dt>>>0?1:0)|0}f=i.low=f+N,i.high=h+I+(f>>>0<N>>>0?1:0),_=n.low=_+R,n.high=g+B+(_>>>0<R>>>0?1:0),m=a.low=m+O,a.high=y+E+(m>>>0<O>>>0?1:0),b=r.low=b+x,r.high=v+D+(b>>>0<x>>>0?1:0),w=s.low=w+U,s.high=S+k+(w>>>0<U>>>0?1:0),C=u.low=C+L,u.high=A+F+(C>>>0<L>>>0?1:0),T=d.low=T+z,d.high=G+j+(T>>>0<z>>>0?1:0),M=p.low=M+H,p.high=P+q+(M>>>0<H>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(i+128>>>10<<5)]=Math.floor(o/4294967296),e[31+(i+128>>>10<<5)]=o,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=o._createHelper(u),e.HmacSHA512=o._createHmacHelper(u)}(),function(){var e=t,o=e.x64,i=o.Word,n=o.WordArray,a=e.algo,r=a.SHA512,s=a.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=r._createHelper(s),e.HmacSHA384=r._createHmacHelper(s)}(),t.lib.Cipher||function(e){var o=t,i=o.lib,n=i.Base,a=i.WordArray,r=i.BufferedBlockAlgorithm,s=o.enc,c=(s.Utf8,s.Base64),l=o.algo.EvpKDF,u=i.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,o){this.cfg=this.cfg.extend(o),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:y}return function(e){return{encrypt:function(o,i,n){return t(i).encrypt(e,o,i,n)},decrypt:function(o,i,n){return t(i).decrypt(e,o,i,n)}}}}()}),d=(i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),o.mode={}),p=i.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),h=d.CBC=function(){var t=p.extend();function o(t,o,i){var n=this._iv;if(n){var a=n;this._iv=e}else a=this._prevBlock;for(var r=0;r<i;r++)t[o+r]^=a[r]}return t.Encryptor=t.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;o.call(this,t,e,n),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),t.Decryptor=t.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=t.slice(e,e+n);i.decryptBlock(t,e),o.call(this,t,e,n),this._prevBlock=a}}),t}(),f=(o.pad={}).Pkcs7={pad:function(t,e){for(var o=4*e,i=o-t.sigBytes%o,n=i<<24|i<<16|i<<8|i,r=[],s=0;s<i;s+=4)r.push(n);var c=a.create(r,i);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},g=(i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:f}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,o=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=o.createEncryptor;else{i=o.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(o,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),i.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),_=(o.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,o=t.salt;if(o)var i=a.create([1398893684,1701076831]).concat(o).concat(e);else i=e;return i.toString(c)},parse:function(t){var e=c.parse(t),o=e.words;if(1398893684==o[0]&&1701076831==o[1]){var i=a.create(o.slice(2,4));o.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:i})}},y=i.SerializableCipher=n.extend({cfg:n.extend({format:_}),encrypt:function(t,e,o,i){i=this.cfg.extend(i);var n=t.createEncryptor(o,i),a=n.finalize(e),r=n.cfg;return g.create({ciphertext:a,key:o,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,o,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(o,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(o.kdf={}).OpenSSL={execute:function(t,e,o,i){i||(i=a.random(8));var n=l.create({keySize:e+o}).compute(t,i),r=a.create(n.words.slice(e),4*o);return n.sigBytes=4*e,g.create({key:n,iv:r,salt:i})}},v=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:m}),encrypt:function(t,e,o,i){var n=(i=this.cfg.extend(i)).kdf.execute(o,t.keySize,t.ivSize);i.iv=n.iv;var a=y.encrypt.call(this,t,e,n.key,i);return a.mixIn(n),a},decrypt:function(t,e,o,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var n=i.kdf.execute(o,t.keySize,t.ivSize,e.salt);return i.iv=n.iv,y.decrypt.call(this,t,e,n.key,i)}})}(),t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();function o(t,e,o,i){var n=this._iv;if(n){var a=n.slice(0);this._iv=void 0}else a=this._prevBlock;i.encryptBlock(a,0);for(var r=0;r<o;r++)t[e+r]^=a[r]}return e.Encryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize;o.call(this,t,e,n,i),this._prevBlock=t.slice(e,e+n)}}),e.Decryptor=e.extend({processBlock:function(t,e){var i=this._cipher,n=i.blockSize,a=t.slice(e,e+n);o.call(this,t,e,n,i),this._prevBlock=a}}),e}(),t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.pad.AnsiX923={pad:function(t,e){var o=t.sigBytes,i=4*e,n=i-o%i,a=o+n-1;t.clamp(),t.words[a>>>2]|=n<<24-a%4*8,t.sigBytes+=n},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126={pad:function(e,o){var i=4*o,n=i-e.sigBytes%i;e.concat(t.lib.WordArray.random(n-1)).concat(t.lib.WordArray.create([n<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso97971={pad:function(e,o){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,o)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),o=e.Encryptor=e.extend({processBlock:function(t,e){var o=this._cipher,i=o.blockSize,n=this._iv,a=this._keystream;n&&(a=this._keystream=n.slice(0),this._iv=void 0),o.encryptBlock(a,0);for(var r=0;r<i;r++)t[e+r]^=a[r]}});return e.Decryptor=o,e}(),t.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var o=t,i=o.lib.CipherParams,n=o.enc.Hex;o.format.Hex={stringify:function(t){return t.ciphertext.toString(n)},parse:function(t){var e=n.parse(t);return i.create({ciphertext:e})}}}(),function(){var e=t,o=e.lib.BlockCipher,i=e.algo,n=[],a=[],r=[],s=[],c=[],l=[],u=[],d=[],p=[],h=[];(function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var o=0,i=0;for(e=0;e<256;e++){var f=i^i<<1^i<<2^i<<3^i<<4;f=f>>>8^255&f^99,n[o]=f,a[f]=o;var g=t[o],_=t[g],y=t[_],m=257*t[f]^16843008*f;r[o]=m<<24|m>>>8,s[o]=m<<16|m>>>16,c[o]=m<<8|m>>>24,l[o]=m;m=16843009*y^65537*_^257*g^16843008*o;u[f]=m<<24|m>>>8,d[f]=m<<16|m>>>16,p[f]=m<<8|m>>>24,h[f]=m,o?(o=g^t[t[t[y^g]]],i^=t[t[i]]):o=i=1}})();var f=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=o.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,o=t.sigBytes/4,i=4*((this._nRounds=o+6)+1),a=this._keySchedule=[],r=0;r<i;r++)if(r<o)a[r]=e[r];else{var s=a[r-1];r%o?o>6&&r%o==4&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=f[r/o|0]<<24),a[r]=a[r-o]^s}for(var c=this._invKeySchedule=[],l=0;l<i;l++){r=i-l;if(l%4)s=a[r];else s=a[r-4];c[l]=l<4||r<=4?s:u[n[s>>>24]]^d[n[s>>>16&255]]^p[n[s>>>8&255]]^h[n[255&s]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,s,c,l,n)},decryptBlock:function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,u,d,p,h,a);o=t[e+1];t[e+1]=t[e+3],t[e+3]=o},_doCryptBlock:function(t,e,o,i,n,a,r,s){for(var c=this._nRounds,l=t[e]^o[0],u=t[e+1]^o[1],d=t[e+2]^o[2],p=t[e+3]^o[3],h=4,f=1;f<c;f++){var g=i[l>>>24]^n[u>>>16&255]^a[d>>>8&255]^r[255&p]^o[h++],_=i[u>>>24]^n[d>>>16&255]^a[p>>>8&255]^r[255&l]^o[h++],y=i[d>>>24]^n[p>>>16&255]^a[l>>>8&255]^r[255&u]^o[h++],m=i[p>>>24]^n[l>>>16&255]^a[u>>>8&255]^r[255&d]^o[h++];l=g,u=_,d=y,p=m}g=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^o[h++],_=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&l])^o[h++],y=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^o[h++],m=(s[p>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^o[h++];t[e]=g,t[e+1]=_,t[e+2]=y,t[e+3]=m},keySize:8});e.AES=o._createHelper(g)}(),function(){var e=t,o=e.lib,i=o.WordArray,n=o.BlockCipher,a=e.algo,r=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=n.extend({_doReset:function(){for(var t=this._key.words,e=[],o=0;o<56;o++){var i=r[o]-1;e[o]=t[i>>>5]>>>31-i%32&1}for(var n=this._subKeys=[],a=0;a<16;a++){var l=n[a]=[],u=c[a];for(o=0;o<24;o++)l[o/6|0]|=e[(s[o]-1+u)%28]<<31-o%6,l[4+(o/6|0)]|=e[28+(s[o+24]-1+u)%28]<<31-o%6;l[0]=l[0]<<1|l[0]>>>31;for(o=1;o<7;o++)l[o]=l[o]>>>4*(o-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(o=0;o<16;o++)d[o]=n[15-o]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,o){this._lBlock=t[e],this._rBlock=t[e+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var i=0;i<16;i++){for(var n=o[i],a=this._lBlock,r=this._rBlock,s=0,c=0;c<8;c++)s|=l[c][((r^n[c])&u[c])>>>0];this._lBlock=r,this._rBlock=a^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(t,e){var o=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=o,this._lBlock^=o<<t}function h(t,e){var o=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=o,this._rBlock^=o<<t}e.DES=n._createHelper(d);var f=a.TripleDES=n.extend({_doReset:function(){var t=this._key.words;this._des1=d.createEncryptor(i.create(t.slice(0,2))),this._des2=d.createEncryptor(i.create(t.slice(2,4))),this._des3=d.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=n._createHelper(f)}(),function(){var e=t,o=e.lib.StreamCipher,i=e.algo,n=i.RC4=o.extend({_doReset:function(){for(var t=this._key,e=t.words,o=t.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;n=0;for(var a=0;n<256;n++){var r=n%o,s=e[r>>>2]>>>24-r%4*8&255;a=(a+i[n]+s)%256;var c=i[n];i[n]=i[a],i[a]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var t=this._S,e=this._i,o=this._j,i=0,n=0;n<4;n++){o=(o+t[e=(e+1)%256])%256;var a=t[e];t[e]=t[o],t[o]=a,i|=t[(t[e]+t[o])%256]<<24-8*n}return this._i=e,this._j=o,i}e.RC4=o._createHelper(n);var r=i.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)a.call(this)}});e.RC4Drop=o._createHelper(r)}(),t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function o(t){if(255==(t>>24&255)){var e=t>>16&255,o=t>>8&255,i=255&t;255===e?(e=0,255===o?(o=0,255===i?i=0:++i):++o):++e,t=0,t+=e<<16,t+=o<<8,t+=i}else t+=1<<24;return t}function i(t){return 0===(t[0]=o(t[0]))&&(t[1]=o(t[1])),t}var n=e.Encryptor=e.extend({processBlock:function(t,e){var o=this._cipher,n=o.blockSize,a=this._iv,r=this._counter;a&&(r=this._counter=a.slice(0),this._iv=void 0),i(r);var s=r.slice(0);o.encryptBlock(s,0);for(var c=0;c<n;c++)t[e+c]^=s[c]}});return e.Decryptor=n,e}(),function(){var e=t,o=e.lib.StreamCipher,i=[],n=[],a=[],r=e.algo.Rabbit=o.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,o=0;o<4;o++)t[o]=16711935&(t[o]<<8|t[o]>>>24)|4278255360&(t[o]<<24|t[o]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(o=0;o<4;o++)s.call(this);for(o=0;o<8;o++)n[o]^=i[o+4&7];if(e){var a=e.words,r=a[0],c=a[1],l=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;n[0]^=l,n[1]^=d,n[2]^=u,n[3]^=p,n[4]^=l,n[5]^=d,n[6]^=u,n[7]^=p;for(o=0;o<4;o++)s.call(this)}},_doProcessBlock:function(t,e){var o=this._X;s.call(this),i[0]=o[0]^o[5]>>>16^o[3]<<16,i[1]=o[2]^o[7]>>>16^o[5]<<16,i[2]=o[4]^o[1]>>>16^o[7]<<16,i[3]=o[6]^o[3]>>>16^o[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,o=0;o<8;o++)n[o]=e[o];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<n[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<n[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<n[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<n[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<n[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<n[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<n[6]>>>0?1:0)|0,this._b=e[7]>>>0<n[7]>>>0?1:0;for(o=0;o<8;o++){var i=t[o]+e[o],r=65535&i,s=i>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[o]=c^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=o._createHelper(r)}(),t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),o=e.Encryptor=e.extend({processBlock:function(t,e){var o=this._cipher,i=o.blockSize,n=this._iv,a=this._counter;n&&(a=this._counter=n.slice(0),this._iv=void 0);var r=a.slice(0);o.encryptBlock(r,0),a[i-1]=a[i-1]+1|0;for(var s=0;s<i;s++)t[e+s]^=r[s]}});return e.Decryptor=o,e}(),function(){var e=t,o=e.lib.StreamCipher,i=[],n=[],a=[],r=e.algo.RabbitLegacy=o.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,o=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=o[n+4&7];if(e){var a=e.words,r=a[0],c=a[1],l=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;i[0]^=l,i[1]^=d,i[2]^=u,i[3]^=p,i[4]^=l,i[5]^=d,i[6]^=u,i[7]^=p;for(n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var o=this._X;s.call(this),i[0]=o[0]^o[5]>>>16^o[3]<<16,i[1]=o[2]^o[7]>>>16^o[5]<<16,i[2]=o[4]^o[1]>>>16^o[7]<<16,i[3]=o[6]^o[3]>>>16^o[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,o=0;o<8;o++)n[o]=e[o];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<n[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<n[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<n[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<n[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<n[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<n[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<n[6]>>>0?1:0)|0,this._b=e[7]>>>0<n[7]>>>0?1:0;for(o=0;o<8;o++){var i=t[o]+e[o],r=65535&i,s=i>>>16,c=((r*r>>>17)+r*s>>>15)+s*s,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[o]=c^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=o._createHelper(r)}(),t.pad.ZeroPadding={pad:function(t,e){var o=4*e;t.clamp(),t.sigBytes+=o-(t.sigBytes%o||o)},unpad:function(t){for(var e=t.words,o=t.sigBytes-1;!(e[o>>>2]>>>24-o%4*8&255);)o--;t.sigBytes=o+1}},t});var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a={btoa:function(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("INVALID_CHARACTER_ERR");for(var e,o,i,n=0,a=[];n<t.length;){switch(o=t.charCodeAt(n),i=n%3){case 0:a.push(c.charAt(o>>2));break;case 1:a.push(c.charAt((3&e)<<4|o>>4));break;case 2:a.push(c.charAt((15&e)<<2|o>>6)),a.push(c.charAt(63&o))}e=o,n++}return 0==i?(a.push(c.charAt((3&e)<<4)),a.push("==")):1==i&&(a.push(c.charAt((15&e)<<2)),a.push("=")),a.join("")},atob:function(t){t=t.replace(/\s|=/g,"");for(var e,o,i=0,n=[];i<t.length;){switch(e=c.indexOf(t.charAt(i)),i%4){case 0:break;case 1:n.push(String.fromCharCode(o<<2|e>>4));break;case 2:n.push(String.fromCharCode((15&o)<<4|e>>2));break;case 3:n.push(String.fromCharCode((3&o)<<6|e))}o=e,i++}return n.join("")}},function(t){"object"==(void 0===o?"undefined":s(o))&&void 0!==e?r=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).pako=t()}(function(){return function e(o,i,n){function a(s,c){if(!i[s]){if(!o[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[s]={exports:{}};o[s][0].call(d.exports,function(t){var e=o[s][1][t];return a(e||t)},d,d.exports,e,o,i,n)}return i[s].exports}for(var r="function"==typeof t&&t,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t,e,o){function i(t){if(!(this instanceof i))return new i(t);this.options=r.assign({level:p,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var o=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(o!==d)throw new Error(c[o]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(o=a.deflateSetDictionary(this.strm,n))!==d)throw new Error(c[o]);this._dict_set=!0}}function n(t,e){var o=new i(e);if(o.push(t,!0),o.err)throw o.msg;return o.result}var a=t("./zlib/deflate"),r=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,h=0,f=8;i.prototype.push=function(t,e){var o,i,n=this.strm,c=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?n.input=s.string2buf(t):"[object ArrayBuffer]"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new r.Buf8(c),n.next_out=0,n.avail_out=c),1!==(o=a.deflate(n,i))&&o!==d)return this.onEnd(o),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(n.output,n.next_out))):this.onData(r.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==o);return 4===i?(o=a.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===d):2!==i||(this.onEnd(d),n.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},o.Deflate=i,o.deflate=n,o.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},o.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,o){function i(t){if(!(this instanceof i))return new i(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var o=a.inflateInit2(this.strm,e.windowBits);if(o!==c.Z_OK)throw new Error(l[o]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function n(t,e){var o=new i(e);if(o.push(t,!0),o.err)throw o.msg;return o.result}var a=t("./zlib/inflate"),r=t("./utils/common"),s=t("./utils/strings"),c=t("./zlib/constants"),l=t("./zlib/messages"),u=t("./zlib/zstream"),d=t("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(t,e){var o,i,n,l,u,d,h=this.strm,f=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof t?h.input=s.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(f),h.next_out=0,h.avail_out=f),(o=a.inflate(h,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&g&&(d="string"==typeof g?s.string2buf(g):"[object ArrayBuffer]"===p.call(g)?new Uint8Array(g):g,o=a.inflateSetDictionary(this.strm,d)),o===c.Z_BUF_ERROR&&!0===_&&(o=c.Z_OK,_=!1),o!==c.Z_STREAM_END&&o!==c.Z_OK)return this.onEnd(o),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&o!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(n=s.utf8border(h.output,h.next_out),l=h.next_out-n,u=s.buf2string(h.output,n),h.next_out=l,h.avail_out=f-l,l&&r.arraySet(h.output,h.output,n,l,0),this.onData(u)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(_=!0)}while((h.avail_in>0||0===h.avail_out)&&o!==c.Z_STREAM_END);return o===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},o.Inflate=i,o.inflate=n,o.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},o.ungzip=n},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,o){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;o.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var o=e.shift();if(o){if("object"!=(void 0===o?"undefined":s(o)))throw new TypeError(o+"must be non-object");for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}}return t},o.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,o,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(o,o+i),n);else for(var a=0;a<i;a++)t[n+a]=e[o+a]},flattenChunks:function(t){var e,o,i,n,a,r;for(i=0,e=0,o=t.length;e<o;e++)i+=t[e].length;for(r=new Uint8Array(i),n=0,e=0,o=t.length;e<o;e++)a=t[e],r.set(a,n),n+=a.length;return r}},a={arraySet:function(t,e,o,i,n){for(var a=0;a<i;a++)t[n+a]=e[o+a]},flattenChunks:function(t){return[].concat.apply([],t)}};o.setTyped=function(t){t?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,n)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(i)},{}],4:[function(t,e,o){function i(t,e){if(e<65537&&(t.subarray&&r||!t.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var o="",i=0;i<e;i++)o+=String.fromCharCode(t[i]);return o}var n=t("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var s=new n.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,o.string2buf=function(t){var e,o,i,a,r,s=t.length,c=0;for(a=0;a<s;a++)55296==(64512&(o=t.charCodeAt(a)))&&a+1<s&&(56320==(64512&(i=t.charCodeAt(a+1)))&&(o=65536+(o-55296<<10)+(i-56320),a++)),c+=o<128?1:o<2048?2:o<65536?3:4;for(e=new n.Buf8(c),r=0,a=0;r<c;a++)55296==(64512&(o=t.charCodeAt(a)))&&a+1<s&&(56320==(64512&(i=t.charCodeAt(a+1)))&&(o=65536+(o-55296<<10)+(i-56320),a++)),o<128?e[r++]=o:o<2048?(e[r++]=192|o>>>6,e[r++]=128|63&o):o<65536?(e[r++]=224|o>>>12,e[r++]=128|o>>>6&63,e[r++]=128|63&o):(e[r++]=240|o>>>18,e[r++]=128|o>>>12&63,e[r++]=128|o>>>6&63,e[r++]=128|63&o);return e},o.buf2binstring=function(t){return i(t,t.length)},o.binstring2buf=function(t){for(var e=new n.Buf8(t.length),o=0,i=e.length;o<i;o++)e[o]=t.charCodeAt(o);return e},o.buf2string=function(t,e){var o,n,a,r,c=e||t.length,l=new Array(2*c);for(n=0,o=0;o<c;)if((a=t[o++])<128)l[n++]=a;else if((r=s[a])>4)l[n++]=65533,o+=r-1;else{for(a&=2===r?31:3===r?15:7;r>1&&o<c;)a=a<<6|63&t[o++],r--;r>1?l[n++]=65533:a<65536?l[n++]=a:(a-=65536,l[n++]=55296|a>>10&1023,l[n++]=56320|1023&a)}return i(l,n)},o.utf8border=function(t,e){var o;for((e=e||t.length)>t.length&&(e=t.length),o=e-1;o>=0&&128==(192&t[o]);)o--;return o<0?e:0===o?e:o+s[t[o]]>e?o:e}},{"./common":3}],5:[function(t,e,o){e.exports=function(t,e,o,i){for(var n=65535&t|0,a=t>>>16&65535|0,r=0;0!==o;){o-=r=o>2e3?2e3:o;do{a=a+(n=n+e[i++]|0)|0}while(--r);n%=65521,a%=65521}return n|a<<16|0}},{}],6:[function(t,e,o){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,o){var i=function(){for(var t,e=[],o=0;o<256;o++){t=o;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[o]=t}return e}();e.exports=function(t,e,o,n){var a=i,r=n+o;t^=-1;for(var s=n;s<r;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,o){function i(t,e){return t.msg=M[e],e}function n(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t){var e=t.state,o=e.pending;o>t.avail_out&&(o=t.avail_out),0!==o&&(C.arraySet(t.output,e.pending_buf,e.pending_out,o,t.next_out),t.next_out+=o,e.pending_out+=o,t.total_out+=o,t.avail_out-=o,e.pending-=o,0===e.pending&&(e.pending_out=0))}function s(t,e){G._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,r(t.strm)}function c(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,o,i){var n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,C.arraySet(e,t.input,t.next_in,n,o),1===t.state.wrap?t.adler=T(t.adler,e,n,o):2===t.state.wrap&&(t.adler=P(t.adler,e,n,o)),t.next_in+=n,t.total_in+=n,n)}function d(t,e){var o,i,n=t.max_chain_length,a=t.strstart,r=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-it?t.strstart-(t.w_size-it):0,l=t.window,u=t.w_mask,d=t.prev,p=t.strstart+ot,h=l[a+r-1],f=l[a+r];t.prev_length>=t.good_match&&(n>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(o=e)+r]===f&&l[o+r-1]===h&&l[o]===l[a]&&l[++o]===l[a+1]){a+=2,o++;do{}while(l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&l[++a]===l[++o]&&a<p);if(i=ot-(p-a),a=p-ot,i>r){if(t.match_start=e,r=i,i>=s)break;h=l[a+r-1],f=l[a+r]}}}while((e=d[e&u])>c&&0!=--n);return r<=t.lookahead?r:t.lookahead}function p(t){var e,o,i,n,a,r=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-it)){C.arraySet(t.window,t.window,r,r,0),t.match_start-=r,t.strstart-=r,t.block_start-=r,e=o=t.hash_size;do{i=t.head[--e],t.head[e]=i>=r?i-r:0}while(--o);e=o=r;do{i=t.prev[--e],t.prev[e]=i>=r?i-r:0}while(--o);n+=r}if(0===t.strm.avail_in)break;if(o=u(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=o,t.lookahead+t.insert>=et)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+et-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<et)););}while(t.lookahead<it&&0!==t.strm.avail_in)}function h(t,e){for(var o,i;;){if(t.lookahead<it){if(p(t),t.lookahead<it&&e===I)return pt;if(0===t.lookahead)break}if(o=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==o&&t.strstart-o<=t.w_size-it&&(t.match_length=d(t,o)),t.match_length>=et)if(i=G._tr_tally(t,t.strstart-t.match_start,t.match_length-et),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=et){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=t.strstart<et-1?t.strstart:et-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function f(t,e){for(var o,i,n;;){if(t.lookahead<it){if(p(t),t.lookahead<it&&e===I)return pt;if(0===t.lookahead)break}if(o=0,t.lookahead>=et&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=et-1,0!==o&&t.prev_length<t.max_lazy_match&&t.strstart-o<=t.w_size-it&&(t.match_length=d(t,o),t.match_length<=5&&(t.strategy===L||t.match_length===et&&t.strstart-t.match_start>4096)&&(t.match_length=et-1)),t.prev_length>=et&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-et,i=G._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-et),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+et-1])&t.hash_mask,o=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=et-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return pt}else if(t.match_available){if((i=G._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return pt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=G._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<et-1?t.strstart:et-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function g(t,e){for(var o,i,n,a,r=t.window;;){if(t.lookahead<=ot){if(p(t),t.lookahead<=ot&&e===I)return pt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=et&&t.strstart>0&&((i=r[n=t.strstart-1])===r[++n]&&i===r[++n]&&i===r[++n])){a=t.strstart+ot;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<a);t.match_length=ot-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=et?(o=G._tr_tally(t,1,t.match_length-et),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(o=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),o&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function _(t,e){for(var o;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===I)return pt;break}if(t.match_length=0,o=G._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,o&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?pt:ht}function y(t,e,o,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=o,this.max_chain=i,this.func=n}function m(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=et-1,t.match_available=0,t.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=W,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*$),this.dyn_dtree=new C.Buf16(2*(2*Q+1)),this.bl_tree=new C.Buf16(2*(2*Z+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(tt+1),this.heap=new C.Buf16(2*J+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*J+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=V,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?at:ut,t.adler=2===e.wrap?0:1,e.last_flush=I,G._tr_init(e),O):i(t,x)}function S(t){var e=b(t);return e===O&&m(t.state),e}function w(t,e,o,n,a,r){if(!t)return x;var s=1;if(e===F&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>Y||o!==W||n<8||n>15||e<0||e>9||r<0||r>q)return i(t,x);8===n&&(n=9);var c=new v;return t.state=c,c.strm=t,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+et-1)/et),c.window=new C.Buf8(2*c.w_size),c.head=new C.Buf16(c.hash_size),c.prev=new C.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new C.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=r,c.method=o,S(t)}var A,C=t("../utils/common"),G=t("./trees"),T=t("./adler32"),P=t("./crc32"),M=t("./messages"),I=0,N=1,B=3,R=4,E=5,O=0,D=1,x=-2,k=-3,U=-5,F=-1,L=1,j=2,z=3,q=4,H=0,V=2,W=8,Y=9,K=15,X=8,J=286,Q=30,Z=19,$=2*J+1,tt=15,et=3,ot=258,it=ot+et+1,nt=32,at=42,rt=69,st=73,ct=91,lt=103,ut=113,dt=666,pt=1,ht=2,ft=3,gt=4,_t=3;A=[new y(0,0,0,0,function(t,e){var o=65535;for(o>t.pending_buf_size-5&&(o=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===I)return pt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+o;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return pt;if(t.strstart-t.block_start>=t.w_size-it&&(s(t,!1),0===t.strm.avail_out))return pt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:gt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),pt)}),new y(4,4,8,4,h),new y(4,5,16,8,h),new y(4,6,32,32,h),new y(4,4,16,16,f),new y(8,16,32,32,f),new y(8,16,128,128,f),new y(8,32,128,256,f),new y(32,128,258,1024,f),new y(32,258,258,4096,f)],o.deflateInit=function(t,e){return w(t,e,W,K,X,H)},o.deflateInit2=w,o.deflateReset=S,o.deflateResetKeep=b,o.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?x:(t.state.gzhead=e,O):x},o.deflate=function(t,e){var o,s,u,d;if(!t||!t.state||e>E||e<0)return t?i(t,x):x;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===dt&&e!==R)return i(t,0===t.avail_out?U:x);if(s.strm=t,o=s.last_flush,s.last_flush=e,s.status===at)if(2===s.wrap)t.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=j||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=P(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=rt):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=j||s.level<2?4:0),c(s,_t),s.status=ut);else{var p=W+(s.w_bits-8<<4)<<8;p|=(s.strategy>=j||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=nt),p+=31-p%31,s.status=ut,l(s,p),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(s.status===rt)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=st)}else s.status=st;if(s.status===st)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ct)}else s.status=ct;if(s.status===ct)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),r(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=P(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=lt)}else s.status=lt;if(s.status===lt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&r(t),s.pending+2<=s.pending_buf_size&&(c(s,255&t.adler),c(s,t.adler>>8&255),t.adler=0,s.status=ut)):s.status=ut),0!==s.pending){if(r(t),0===t.avail_out)return s.last_flush=-1,O}else if(0===t.avail_in&&n(e)<=n(o)&&e!==R)return i(t,U);if(s.status===dt&&0!==t.avail_in)return i(t,U);if(0!==t.avail_in||0!==s.lookahead||e!==I&&s.status!==dt){var h=s.strategy===j?_(s,e):s.strategy===z?g(s,e):A[s.level].func(s,e);if(h!==ft&&h!==gt||(s.status=dt),h===pt||h===ft)return 0===t.avail_out&&(s.last_flush=-1),O;if(h===ht&&(e===N?G._tr_align(s):e!==E&&(G._tr_stored_block(s,0,0,!1),e===B&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),r(t),0===t.avail_out))return s.last_flush=-1,O}return e!==R?O:s.wrap<=0?D:(2===s.wrap?(c(s,255&t.adler),c(s,t.adler>>8&255),c(s,t.adler>>16&255),c(s,t.adler>>24&255),c(s,255&t.total_in),c(s,t.total_in>>8&255),c(s,t.total_in>>16&255),c(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),r(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?O:D)},o.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==at&&e!==rt&&e!==st&&e!==ct&&e!==lt&&e!==ut&&e!==dt?i(t,x):(t.state=null,e===ut?i(t,k):O):x},o.deflateSetDictionary=function(t,e){var o,i,n,r,s,c,l,u,d=e.length;if(!t||!t.state)return x;if(2===(r=(o=t.state).wrap)||1===r&&o.status!==at||o.lookahead)return x;for(1===r&&(t.adler=T(t.adler,e,d,0)),o.wrap=0,d>=o.w_size&&(0===r&&(a(o.head),o.strstart=0,o.block_start=0,o.insert=0),u=new C.Buf8(o.w_size),C.arraySet(u,e,d-o.w_size,o.w_size,0),e=u,d=o.w_size),s=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,p(o);o.lookahead>=et;){i=o.strstart,n=o.lookahead-(et-1);do{o.ins_h=(o.ins_h<<o.hash_shift^o.window[i+et-1])&o.hash_mask,o.prev[i&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=i,i++}while(--n);o.strstart=i,o.lookahead=et-1,p(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=et-1,o.match_available=0,t.next_in=c,t.input=l,t.avail_in=s,o.wrap=r,O},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,o){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,o){e.exports=function(t,e){var o,i,n,a,r,s,c,l,u,d,p,h,f,g,_,y,m,v,b,S,w,A,C,G,T;o=t.state,i=t.next_in,G=t.input,n=i+(t.avail_in-5),a=t.next_out,T=t.output,r=a-(e-t.avail_out),s=a+(t.avail_out-257),c=o.dmax,l=o.wsize,u=o.whave,d=o.wnext,p=o.window,h=o.hold,f=o.bits,g=o.lencode,_=o.distcode,y=(1<<o.lenbits)-1,m=(1<<o.distbits)-1;t:do{f<15&&(h+=G[i++]<<f,f+=8,h+=G[i++]<<f,f+=8),v=g[h&y];e:for(;;){if(h>>>=b=v>>>24,f-=b,0===(b=v>>>16&255))T[a++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(h&(1<<b)-1)];continue e}if(32&b){o.mode=12;break t}t.msg="invalid literal/length code",o.mode=30;break t}S=65535&v,(b&=15)&&(f<b&&(h+=G[i++]<<f,f+=8),S+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=G[i++]<<f,f+=8,h+=G[i++]<<f,f+=8),v=_[h&m];o:for(;;){if(h>>>=b=v>>>24,f-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=_[(65535&v)+(h&(1<<b)-1)];continue o}t.msg="invalid distance code",o.mode=30;break t}if(w=65535&v,f<(b&=15)&&(h+=G[i++]<<f,(f+=8)<b&&(h+=G[i++]<<f,f+=8)),(w+=h&(1<<b)-1)>c){t.msg="invalid distance too far back",o.mode=30;break t}if(h>>>=b,f-=b,w>(b=a-r)){if((b=w-b)>u&&o.sane){t.msg="invalid distance too far back",o.mode=30;break t}if(A=0,C=p,0===d){if(A+=l-b,b<S){S-=b;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}}else if(d<b){if(A+=l+d-b,(b-=d)<S){S-=b;do{T[a++]=p[A++]}while(--b);if(A=0,d<S){S-=b=d;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}}}else if(A+=d-b,b<S){S-=b;do{T[a++]=p[A++]}while(--b);A=a-w,C=T}for(;S>2;)T[a++]=C[A++],T[a++]=C[A++],T[a++]=C[A++],S-=3;S&&(T[a++]=C[A++],S>1&&(T[a++]=C[A++]))}else{A=a-w;do{T[a++]=T[A++],T[a++]=T[A++],T[a++]=T[A++],S-=3}while(S>2);S&&(T[a++]=T[A++],S>1&&(T[a++]=T[A++]))}break}}break}}while(i<n&&a<s);i-=S=f>>3,h&=(1<<(f-=S<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<s?s-a+257:257-(a-s),o.hold=h,o.bits=f}},{}],11:[function(t,e,o){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=R,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new h.Buf32(ut),e.distcode=e.distdyn=new h.Buf32(dt),e.sane=1,e.back=-1,C):P}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):P}function s(t,e){var o,i;return t&&t.state?(i=t.state,e<0?(o=0,e=-e):(o=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=o,i.wbits=e,r(t))):P}function c(t,e){var o,i;return t?(i=new n,t.state=i,i.window=null,(o=s(t,e))!==C&&(t.state=null),o):P}function l(t){if(ht){var e;for(d=new h.Buf32(512),p=new h.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(y(v,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;y(b,t.lens,0,32,p,0,t.work,{bits:5}),ht=!1}t.lencode=d,t.lenbits=9,t.distcode=p,t.distbits=5}function u(t,e,o,i){var n,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new h.Buf8(a.wsize)),i>=a.wsize?(h.arraySet(a.window,e,o-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),h.arraySet(a.window,e,o-i,n,a.wnext),(i-=n)?(h.arraySet(a.window,e,o-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}var d,p,h=t("../utils/common"),f=t("./adler32"),g=t("./crc32"),_=t("./inffast"),y=t("./inftrees"),m=0,v=1,b=2,S=4,w=5,A=6,C=0,G=1,T=2,P=-2,M=-3,I=-4,N=-5,B=8,R=1,E=2,O=3,D=4,x=5,k=6,U=7,F=8,L=9,j=10,z=11,q=12,H=13,V=14,W=15,Y=16,K=17,X=18,J=19,Q=20,Z=21,$=22,tt=23,et=24,ot=25,it=26,nt=27,at=28,rt=29,st=30,ct=31,lt=32,ut=852,dt=592,pt=15,ht=!0;o.inflateReset=r,o.inflateReset2=s,o.inflateResetKeep=a,o.inflateInit=function(t){return c(t,pt)},o.inflateInit2=c,o.inflate=function(t,e){var o,n,a,r,s,c,d,p,ut,dt,pt,ht,ft,gt,_t,yt,mt,vt,bt,St,wt,At,Ct,Gt,Tt=0,Pt=new h.Buf8(4),Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;(o=t.state).mode===q&&(o.mode=H),s=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,c=t.avail_in,p=o.hold,ut=o.bits,dt=c,pt=d,At=C;t:for(;;)switch(o.mode){case R:if(0===o.wrap){o.mode=H;break}for(;ut<16;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(2&o.wrap&&35615===p){o.check=0,Pt[0]=255&p,Pt[1]=p>>>8&255,o.check=g(o.check,Pt,2,0),p=0,ut=0,o.mode=E;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",o.mode=st;break}if((15&p)!==B){t.msg="unknown compression method",o.mode=st;break}if(ut-=4,wt=8+(15&(p>>>=4)),0===o.wbits)o.wbits=wt;else if(wt>o.wbits){t.msg="invalid window size",o.mode=st;break}o.dmax=1<<wt,t.adler=o.check=1,o.mode=512&p?j:q,p=0,ut=0;break;case E:for(;ut<16;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(o.flags=p,(255&o.flags)!==B){t.msg="unknown compression method",o.mode=st;break}if(57344&o.flags){t.msg="unknown header flags set",o.mode=st;break}o.head&&(o.head.text=p>>8&1),512&o.flags&&(Pt[0]=255&p,Pt[1]=p>>>8&255,o.check=g(o.check,Pt,2,0)),p=0,ut=0,o.mode=O;case O:for(;ut<32;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.head&&(o.head.time=p),512&o.flags&&(Pt[0]=255&p,Pt[1]=p>>>8&255,Pt[2]=p>>>16&255,Pt[3]=p>>>24&255,o.check=g(o.check,Pt,4,0)),p=0,ut=0,o.mode=D;case D:for(;ut<16;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.head&&(o.head.xflags=255&p,o.head.os=p>>8),512&o.flags&&(Pt[0]=255&p,Pt[1]=p>>>8&255,o.check=g(o.check,Pt,2,0)),p=0,ut=0,o.mode=x;case x:if(1024&o.flags){for(;ut<16;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.length=p,o.head&&(o.head.extra_len=p),512&o.flags&&(Pt[0]=255&p,Pt[1]=p>>>8&255,o.check=g(o.check,Pt,2,0)),p=0,ut=0}else o.head&&(o.head.extra=null);o.mode=k;case k:if(1024&o.flags&&((ht=o.length)>c&&(ht=c),ht&&(o.head&&(wt=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),h.arraySet(o.head.extra,n,r,ht,wt)),512&o.flags&&(o.check=g(o.check,n,ht,r)),c-=ht,r+=ht,o.length-=ht),o.length))break t;o.length=0,o.mode=U;case U:if(2048&o.flags){if(0===c)break t;ht=0;do{wt=n[r+ht++],o.head&&wt&&o.length<65536&&(o.head.name+=String.fromCharCode(wt))}while(wt&&ht<c);if(512&o.flags&&(o.check=g(o.check,n,ht,r)),c-=ht,r+=ht,wt)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=F;case F:if(4096&o.flags){if(0===c)break t;ht=0;do{wt=n[r+ht++],o.head&&wt&&o.length<65536&&(o.head.comment+=String.fromCharCode(wt))}while(wt&&ht<c);if(512&o.flags&&(o.check=g(o.check,n,ht,r)),c-=ht,r+=ht,wt)break t}else o.head&&(o.head.comment=null);o.mode=L;case L:if(512&o.flags){for(;ut<16;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(p!==(65535&o.check)){t.msg="header crc mismatch",o.mode=st;break}p=0,ut=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),t.adler=o.check=0,o.mode=q;break;case j:for(;ut<32;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}t.adler=o.check=i(p),p=0,ut=0,o.mode=z;case z:if(0===o.havedict)return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=ut,T;t.adler=o.check=1,o.mode=q;case q:if(e===w||e===A)break t;case H:if(o.last){p>>>=7&ut,ut-=7&ut,o.mode=nt;break}for(;ut<3;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}switch(o.last=1&p,ut-=1,3&(p>>>=1)){case 0:o.mode=V;break;case 1:if(l(o),o.mode=Q,e===A){p>>>=2,ut-=2;break t}break;case 2:o.mode=K;break;case 3:t.msg="invalid block type",o.mode=st}p>>>=2,ut-=2;break;case V:for(p>>>=7&ut,ut-=7&ut;ut<32;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if((65535&p)!=(p>>>16^65535)){t.msg="invalid stored block lengths",o.mode=st;break}if(o.length=65535&p,p=0,ut=0,o.mode=W,e===A)break t;case W:o.mode=Y;case Y:if(ht=o.length){if(ht>c&&(ht=c),ht>d&&(ht=d),0===ht)break t;h.arraySet(a,n,r,ht,s),c-=ht,r+=ht,d-=ht,s+=ht,o.length-=ht;break}o.mode=q;break;case K:for(;ut<14;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(o.nlen=257+(31&p),p>>>=5,ut-=5,o.ndist=1+(31&p),p>>>=5,ut-=5,o.ncode=4+(15&p),p>>>=4,ut-=4,o.nlen>286||o.ndist>30){t.msg="too many length or distance symbols",o.mode=st;break}o.have=0,o.mode=X;case X:for(;o.have<o.ncode;){for(;ut<3;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.lens[Mt[o.have++]]=7&p,p>>>=3,ut-=3}for(;o.have<19;)o.lens[Mt[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,Ct={bits:o.lenbits},At=y(m,o.lens,0,19,o.lencode,0,o.work,Ct),o.lenbits=Ct.bits,At){t.msg="invalid code lengths set",o.mode=st;break}o.have=0,o.mode=J;case J:for(;o.have<o.nlen+o.ndist;){for(;yt=(Tt=o.lencode[p&(1<<o.lenbits)-1])>>>16&255,mt=65535&Tt,!((_t=Tt>>>24)<=ut);){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(mt<16)p>>>=_t,ut-=_t,o.lens[o.have++]=mt;else{if(16===mt){for(Gt=_t+2;ut<Gt;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(p>>>=_t,ut-=_t,0===o.have){t.msg="invalid bit length repeat",o.mode=st;break}wt=o.lens[o.have-1],ht=3+(3&p),p>>>=2,ut-=2}else if(17===mt){for(Gt=_t+3;ut<Gt;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}ut-=_t,wt=0,ht=3+(7&(p>>>=_t)),p>>>=3,ut-=3}else{for(Gt=_t+7;ut<Gt;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}ut-=_t,wt=0,ht=11+(127&(p>>>=_t)),p>>>=7,ut-=7}if(o.have+ht>o.nlen+o.ndist){t.msg="invalid bit length repeat",o.mode=st;break}for(;ht--;)o.lens[o.have++]=wt}}if(o.mode===st)break;if(0===o.lens[256]){t.msg="invalid code -- missing end-of-block",o.mode=st;break}if(o.lenbits=9,Ct={bits:o.lenbits},At=y(v,o.lens,0,o.nlen,o.lencode,0,o.work,Ct),o.lenbits=Ct.bits,At){t.msg="invalid literal/lengths set",o.mode=st;break}if(o.distbits=6,o.distcode=o.distdyn,Ct={bits:o.distbits},At=y(b,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,Ct),o.distbits=Ct.bits,At){t.msg="invalid distances set",o.mode=st;break}if(o.mode=Q,e===A)break t;case Q:o.mode=Z;case Z:if(c>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=ut,_(t,pt),s=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,c=t.avail_in,p=o.hold,ut=o.bits,o.mode===q&&(o.back=-1);break}for(o.back=0;yt=(Tt=o.lencode[p&(1<<o.lenbits)-1])>>>16&255,mt=65535&Tt,!((_t=Tt>>>24)<=ut);){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(yt&&0==(240&yt)){for(vt=_t,bt=yt,St=mt;yt=(Tt=o.lencode[St+((p&(1<<vt+bt)-1)>>vt)])>>>16&255,mt=65535&Tt,!(vt+(_t=Tt>>>24)<=ut);){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}p>>>=vt,ut-=vt,o.back+=vt}if(p>>>=_t,ut-=_t,o.back+=_t,o.length=mt,0===yt){o.mode=it;break}if(32&yt){o.back=-1,o.mode=q;break}if(64&yt){t.msg="invalid literal/length code",o.mode=st;break}o.extra=15&yt,o.mode=$;case $:if(o.extra){for(Gt=o.extra;ut<Gt;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.length+=p&(1<<o.extra)-1,p>>>=o.extra,ut-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=tt;case tt:for(;yt=(Tt=o.distcode[p&(1<<o.distbits)-1])>>>16&255,mt=65535&Tt,!((_t=Tt>>>24)<=ut);){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(0==(240&yt)){for(vt=_t,bt=yt,St=mt;yt=(Tt=o.distcode[St+((p&(1<<vt+bt)-1)>>vt)])>>>16&255,mt=65535&Tt,!(vt+(_t=Tt>>>24)<=ut);){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}p>>>=vt,ut-=vt,o.back+=vt}if(p>>>=_t,ut-=_t,o.back+=_t,64&yt){t.msg="invalid distance code",o.mode=st;break}o.offset=mt,o.extra=15&yt,o.mode=et;case et:if(o.extra){for(Gt=o.extra;ut<Gt;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}o.offset+=p&(1<<o.extra)-1,p>>>=o.extra,ut-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){t.msg="invalid distance too far back",o.mode=st;break}o.mode=ot;case ot:if(0===d)break t;if(ht=pt-d,o.offset>ht){if((ht=o.offset-ht)>o.whave&&o.sane){t.msg="invalid distance too far back",o.mode=st;break}ht>o.wnext?(ht-=o.wnext,ft=o.wsize-ht):ft=o.wnext-ht,ht>o.length&&(ht=o.length),gt=o.window}else gt=a,ft=s-o.offset,ht=o.length;ht>d&&(ht=d),d-=ht,o.length-=ht;do{a[s++]=gt[ft++]}while(--ht);0===o.length&&(o.mode=Z);break;case it:if(0===d)break t;a[s++]=o.length,d--,o.mode=Z;break;case nt:if(o.wrap){for(;ut<32;){if(0===c)break t;c--,p|=n[r++]<<ut,ut+=8}if(pt-=d,t.total_out+=pt,o.total+=pt,pt&&(t.adler=o.check=o.flags?g(o.check,a,pt,s-pt):f(o.check,a,pt,s-pt)),pt=d,(o.flags?p:i(p))!==o.check){t.msg="incorrect data check",o.mode=st;break}p=0,ut=0}o.mode=at;case at:if(o.wrap&&o.flags){for(;ut<32;){if(0===c)break t;c--,p+=n[r++]<<ut,ut+=8}if(p!==(4294967295&o.total)){t.msg="incorrect length check",o.mode=st;break}p=0,ut=0}o.mode=rt;case rt:At=G;break t;case st:At=M;break t;case ct:return I;case lt:default:return P}return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=c,o.hold=p,o.bits=ut,(o.wsize||pt!==t.avail_out&&o.mode<st&&(o.mode<nt||e!==S))&&u(t,t.output,t.next_out,pt-t.avail_out)?(o.mode=ct,I):(dt-=t.avail_in,pt-=t.avail_out,t.total_in+=dt,t.total_out+=pt,o.total+=pt,o.wrap&&pt&&(t.adler=o.check=o.flags?g(o.check,a,pt,t.next_out-pt):f(o.check,a,pt,t.next_out-pt)),t.data_type=o.bits+(o.last?64:0)+(o.mode===q?128:0)+(o.mode===Q||o.mode===W?256:0),(0===dt&&0===pt||e===S)&&At===C&&(At=N),At)},o.inflateEnd=function(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,C},o.inflateGetHeader=function(t,e){var o;return t&&t.state?0==(2&(o=t.state).wrap)?P:(o.head=e,e.done=!1,C):P},o.inflateSetDictionary=function(t,e){var o,i=e.length;return t&&t.state?0!==(o=t.state).wrap&&o.mode!==z?P:o.mode===z&&f(1,e,i,0)!==o.check?M:u(t,e,i,i)?(o.mode=ct,I):(o.havedict=1,C):P},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,o){var i=t("../utils/common"),n=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,o,l,u,d,p,h){var f,g,_,y,m,v,b,S,w,A=h.bits,C=0,G=0,T=0,P=0,M=0,I=0,N=0,B=0,R=0,E=0,O=null,D=0,x=new i.Buf16(16),k=new i.Buf16(16),U=null,F=0;for(C=0;C<=n;C++)x[C]=0;for(G=0;G<l;G++)x[e[o+G]]++;for(M=A,P=n;P>=1&&0===x[P];P--);if(M>P&&(M=P),0===P)return u[d++]=20971520,u[d++]=20971520,h.bits=1,0;for(T=1;T<P&&0===x[T];T++);for(M<T&&(M=T),B=1,C=1;C<=n;C++)if(B<<=1,(B-=x[C])<0)return-1;if(B>0&&(0===t||1!==P))return-1;for(k[1]=0,C=1;C<n;C++)k[C+1]=k[C]+x[C];for(G=0;G<l;G++)0!==e[o+G]&&(p[k[e[o+G]]++]=G);if(0===t?(O=U=p,v=19):1===t?(O=a,D-=257,U=r,F-=257,v=256):(O=s,U=c,v=-1),E=0,G=0,C=T,m=d,I=M,N=0,_=-1,y=(R=1<<M)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){0,b=C-N,p[G]<v?(S=0,w=p[G]):p[G]>v?(S=U[F+p[G]],w=O[D+p[G]]):(S=96,w=0),f=1<<C-N,T=g=1<<I;do{u[m+(E>>N)+(g-=f)]=b<<24|S<<16|w|0}while(0!==g);for(f=1<<C-1;E&f;)f>>=1;if(0!==f?(E&=f-1,E+=f):E=0,G++,0==--x[C]){if(C===P)break;C=e[o+p[G]]}if(C>M&&(E&y)!==_){for(0===N&&(N=M),m+=T,B=1<<(I=C-N);I+N<P&&!((B-=x[I+N])<=0);)I++,B<<=1;if(R+=1<<I,1===t&&R>852||2===t&&R>592)return 1;u[_=E&y]=M<<24|I<<16|m-d|0}}return 0!==E&&(u[m+E]=C-N<<24|64<<16|0),h.bits=M,0}},{"../utils/common":3}],13:[function(t,e,o){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,o){function i(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,o,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=o,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function r(t){return t<256?et[t]:et[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,o){t.bi_valid>q-o?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>q-t.bi_valid,t.bi_valid+=o-q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=o)}function l(t,e,o){c(t,o[2*e],o[2*e+1])}function u(t,e){var o=0;do{o|=1&t,t>>>=1,o<<=1}while(--e>0);return o>>>1}function d(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function p(t,e){var o,i,n,a,r,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(a=0;a<=z;a++)t.bl_count[a]=0;for(c[2*t.heap[t.heap_max]+1]=0,o=t.heap_max+1;o<j;o++)(a=c[2*c[2*(i=t.heap[o])+1]+1]+1)>f&&(a=f,g++),c[2*i+1]=a,i>l||(t.bl_count[a]++,r=0,i>=h&&(r=p[i-h]),s=c[2*i],t.opt_len+=s*(a+r),d&&(t.static_len+=s*(u[2*i+1]+r)));if(0!==g){do{for(a=f-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(a=f;0!==a;a--)for(i=t.bl_count[a];0!==i;)(n=t.heap[--o])>l||(c[2*n+1]!==a&&(t.opt_len+=(a-c[2*n+1])*c[2*n],c[2*n+1]=a),i--)}}function h(t,e,o){var i,n,a=new Array(z+1),r=0;for(i=1;i<=z;i++)a[i]=r=r+o[i-1]<<1;for(n=0;n<=e;n++){var s=t[2*n+1];0!==s&&(t[2*n]=u(a[s]++,s))}}function f(){var t,e,o,i,a,r=new Array(z+1);for(o=0,i=0;i<x-1;i++)for(it[i]=o,t=0;t<1<<X[i];t++)ot[o++]=i;for(ot[o-1]=i,a=0,i=0;i<16;i++)for(nt[i]=a,t=0;t<1<<J[i];t++)et[a++]=i;for(a>>=7;i<F;i++)for(nt[i]=a<<7,t=0;t<1<<J[i]-7;t++)et[256+a++]=i;for(e=0;e<=z;e++)r[e]=0;for(t=0;t<=143;)$[2*t+1]=8,t++,r[8]++;for(;t<=255;)$[2*t+1]=9,t++,r[9]++;for(;t<=279;)$[2*t+1]=7,t++,r[7]++;for(;t<=287;)$[2*t+1]=8,t++,r[8]++;for(h($,U+1,r),t=0;t<F;t++)tt[2*t+1]=5,tt[2*t]=u(t,5);at=new n($,X,k+1,U,z),rt=new n(tt,J,0,F,z),st=new n(new Array(0),Q,0,L,H)}function g(t){var e;for(e=0;e<U;e++)t.dyn_ltree[2*e]=0;for(e=0;e<F;e++)t.dyn_dtree[2*e]=0;for(e=0;e<L;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*V]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,o,i){_(t),i&&(s(t,o),s(t,~o)),M.arraySet(t.pending_buf,t.window,e,o,t.pending),t.pending+=o}function m(t,e,o,i){var n=2*e,a=2*o;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[o]}function v(t,e,o){for(var i=t.heap[o],n=o<<1;n<=t.heap_len&&(n<t.heap_len&&m(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!m(e,i,t.heap[n],t.depth));)t.heap[o]=t.heap[n],o=n,n<<=1;t.heap[o]=i}function b(t,e,o){var i,n,a,s,u=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],n=t.pending_buf[t.l_buf+u],u++,0===i?l(t,n,e):(l(t,(a=ot[n])+k+1,e),0!==(s=X[a])&&c(t,n-=it[a],s),l(t,a=r(--i),o),0!==(s=J[a])&&c(t,i-=nt[a],s))}while(u<t.last_lit);l(t,V,e)}function S(t,e){var o,i,n,a=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=j,o=0;o<c;o++)0!==a[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):a[2*o+1]=0;for(;t.heap_len<2;)a[2*(n=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[n]=0,t.opt_len--,s&&(t.static_len-=r[2*n+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)v(t,a,o);n=c;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],v(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=i,a[2*n]=a[2*o]+a[2*i],t.depth[n]=(t.depth[o]>=t.depth[i]?t.depth[o]:t.depth[i])+1,a[2*o+1]=a[2*i+1]=n,t.heap[1]=n++,v(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],p(t,e),h(a,l,t.bl_count)}function w(t,e,o){var i,n,a=-1,r=e[1],s=0,c=7,l=4;for(0===r&&(c=138,l=3),e[2*(o+1)+1]=65535,i=0;i<=o;i++)n=r,r=e[2*(i+1)+1],++s<c&&n===r||(s<l?t.bl_tree[2*n]+=s:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[2*W]++):s<=10?t.bl_tree[2*Y]++:t.bl_tree[2*K]++,s=0,a=n,0===r?(c=138,l=3):n===r?(c=6,l=3):(c=7,l=4))}function A(t,e,o){var i,n,a=-1,r=e[1],s=0,u=7,d=4;for(0===r&&(u=138,d=3),i=0;i<=o;i++)if(n=r,r=e[2*(i+1)+1],!(++s<u&&n===r)){if(s<d)do{l(t,n,t.bl_tree)}while(0!=--s);else 0!==n?(n!==a&&(l(t,n,t.bl_tree),s--),l(t,W,t.bl_tree),c(t,s-3,2)):s<=10?(l(t,Y,t.bl_tree),c(t,s-3,3)):(l(t,K,t.bl_tree),c(t,s-11,7));s=0,a=n,0===r?(u=138,d=3):n===r?(u=6,d=3):(u=7,d=4)}}function C(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),S(t,t.bl_desc),e=L-1;e>=3&&0===t.bl_tree[2*Z[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function G(t,e,o,i){var n;for(c(t,e-257,5),c(t,o-1,5),c(t,i-4,4),n=0;n<i;n++)c(t,t.bl_tree[2*Z[n]+1],3);A(t,t.dyn_ltree,e-1),A(t,t.dyn_dtree,o-1)}function T(t){var e,o=4093624447;for(e=0;e<=31;e++,o>>>=1)if(1&o&&0!==t.dyn_ltree[2*e])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return B;for(e=32;e<k;e++)if(0!==t.dyn_ltree[2*e])return B;return N}function P(t,e,o,i){c(t,(E<<1)+(i?1:0),3),y(t,e,o,!0)}var M=t("../utils/common"),I=4,N=0,B=1,R=2,E=0,O=1,D=2,x=29,k=256,U=k+1+x,F=30,L=19,j=2*U+1,z=15,q=16,H=7,V=256,W=16,Y=17,K=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],J=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(U+2));i($);var tt=new Array(2*F);i(tt);var et=new Array(512);i(et);var ot=new Array(256);i(ot);var it=new Array(x);i(it);var nt=new Array(F);i(nt);var at,rt,st,ct=!1;o._tr_init=function(t){ct||(f(),ct=!0),t.l_desc=new a(t.dyn_ltree,at),t.d_desc=new a(t.dyn_dtree,rt),t.bl_desc=new a(t.bl_tree,st),t.bi_buf=0,t.bi_valid=0,g(t)},o._tr_stored_block=P,o._tr_flush_block=function(t,e,o,i){var n,a,r=0;t.level>0?(t.strm.data_type===R&&(t.strm.data_type=T(t)),S(t,t.l_desc),S(t,t.d_desc),r=C(t),n=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=n&&(n=a)):n=a=o+5,o+4<=n&&-1!==e?P(t,e,o,i):t.strategy===I||a===n?(c(t,(O<<1)+(i?1:0),3),b(t,$,tt)):(c(t,(D<<1)+(i?1:0),3),G(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),b(t,t.dyn_ltree,t.dyn_dtree)),g(t),i&&_(t)},o._tr_tally=function(t,e,o){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&o,t.last_lit++,0===e?t.dyn_ltree[2*o]++:(t.matches++,e--,t.dyn_ltree[2*(ot[o]+k+1)]++,t.dyn_dtree[2*r(e)]++),t.last_lit===t.lit_bufsize-1},o._tr_align=function(t){c(t,O<<1,3),l(t,V,$),d(t)}},{"../utils/common":3}],15:[function(t,e,o){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,o){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}),e.exports={A:n,B:a,C:r},cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"md5.min":[function(t,e,o){"use strict";cc._RF.push(e,"d12f0SUZ3xFcJb22HR5OnsK","md5.min");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function o(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function n(t,e){return t<<e|t>>>32-e}function a(t,e,i,a,r,s){return o(n(o(o(e,t),o(a,s)),r),i)}function r(t,e,o,i,n,r,s){return a(e&o|~e&i,t,e,n,r,s)}function s(t,e,o,i,n,r,s){return a(e&i|o&~i,t,e,n,r,s)}function c(t,e,o,i,n,r,s){return a(e^o^i,t,e,n,r,s)}function l(t,e,o,i,n,r,s){return a(o^(e|~i),t,e,n,r,s)}function u(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var i,n,a,u,d,p=1732584193,h=-271733879,f=-1732584194,g=271733878;for(i=0;i<t.length;i+=16)n=p,a=h,u=f,d=g,h=l(h=l(h=l(h=l(h=c(h=c(h=c(h=c(h=s(h=s(h=s(h=s(h=r(h=r(h=r(h=r(h,f=r(f,g=r(g,p=r(p,h,f,g,t[i],7,-680876936),h,f,t[i+1],12,-389564586),p,h,t[i+2],17,606105819),g,p,t[i+3],22,-1044525330),f=r(f,g=r(g,p=r(p,h,f,g,t[i+4],7,-176418897),h,f,t[i+5],12,1200080426),p,h,t[i+6],17,-1473231341),g,p,t[i+7],22,-45705983),f=r(f,g=r(g,p=r(p,h,f,g,t[i+8],7,1770035416),h,f,t[i+9],12,-1958414417),p,h,t[i+10],17,-42063),g,p,t[i+11],22,-1990404162),f=r(f,g=r(g,p=r(p,h,f,g,t[i+12],7,1804603682),h,f,t[i+13],12,-40341101),p,h,t[i+14],17,-1502002290),g,p,t[i+15],22,1236535329),f=s(f,g=s(g,p=s(p,h,f,g,t[i+1],5,-165796510),h,f,t[i+6],9,-1069501632),p,h,t[i+11],14,643717713),g,p,t[i],20,-373897302),f=s(f,g=s(g,p=s(p,h,f,g,t[i+5],5,-701558691),h,f,t[i+10],9,38016083),p,h,t[i+15],14,-660478335),g,p,t[i+4],20,-405537848),f=s(f,g=s(g,p=s(p,h,f,g,t[i+9],5,568446438),h,f,t[i+14],9,-1019803690),p,h,t[i+3],14,-187363961),g,p,t[i+8],20,1163531501),f=s(f,g=s(g,p=s(p,h,f,g,t[i+13],5,-1444681467),h,f,t[i+2],9,-51403784),p,h,t[i+7],14,1735328473),g,p,t[i+12],20,-1926607734),f=c(f,g=c(g,p=c(p,h,f,g,t[i+5],4,-378558),h,f,t[i+8],11,-2022574463),p,h,t[i+11],16,1839030562),g,p,t[i+14],23,-35309556),f=c(f,g=c(g,p=c(p,h,f,g,t[i+1],4,-1530992060),h,f,t[i+4],11,1272893353),p,h,t[i+7],16,-155497632),g,p,t[i+10],23,-1094730640),f=c(f,g=c(g,p=c(p,h,f,g,t[i+13],4,681279174),h,f,t[i],11,-358537222),p,h,t[i+3],16,-722521979),g,p,t[i+6],23,76029189),f=c(f,g=c(g,p=c(p,h,f,g,t[i+9],4,-640364487),h,f,t[i+12],11,-421815835),p,h,t[i+15],16,530742520),g,p,t[i+2],23,-995338651),f=l(f,g=l(g,p=l(p,h,f,g,t[i],6,-198630844),h,f,t[i+7],10,1126891415),p,h,t[i+14],15,-1416354905),g,p,t[i+5],21,-57434055),f=l(f,g=l(g,p=l(p,h,f,g,t[i+12],6,1700485571),h,f,t[i+3],10,-1894986606),p,h,t[i+10],15,-1051523),g,p,t[i+1],21,-2054922799),f=l(f,g=l(g,p=l(p,h,f,g,t[i+8],6,1873313359),h,f,t[i+15],10,-30611744),p,h,t[i+6],15,-1560198380),g,p,t[i+13],21,1309151649),f=l(f,g=l(g,p=l(p,h,f,g,t[i+4],6,-145523070),h,f,t[i+11],10,-1120210379),p,h,t[i+2],15,718787259),g,p,t[i+9],21,-343485551),p=o(p,n),h=o(h,a),f=o(f,u),g=o(g,d);return[p,h,f,g]}function d(t){var e,o="",i=32*t.length;for(e=0;e<i;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function p(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)o[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return o}function h(t){return d(u(p(t),8*t.length))}function f(t,e){var o,i,n=p(t),a=[],r=[];for(a[15]=r[15]=void 0,n.length>16&&(n=u(n,8*t.length)),o=0;o<16;o+=1)a[o]=909522486^n[o],r[o]=1549556828^n[o];return i=u(a.concat(p(e)),512+8*e.length),d(u(r.concat(i),640))}function g(t){var e,o,i="";for(o=0;o<t.length;o+=1)e=t.charCodeAt(o),i+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return i}function _(t){return unescape(encodeURIComponent(t))}function y(t){return h(_(t))}function m(t){return g(y(t))}function v(t,e){return f(_(t),_(e))}function b(t,e){return g(v(t,e))}function S(t,e,o){return e?o?v(e,t):b(e,t):o?y(t):m(t)}"function"==typeof define&&define.amd?define(function(){return S}):"object"==(void 0===e?"undefined":i(e))&&e.exports?e.exports=S:t.md5=S}(void 0),cc._RF.pop()},{}],persistService:[function(t,e,o){"use strict";cc._RF.push(e,"af52bkkpUlAe5rkRnUNigBU","persistService");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../../../Config/AppConfig"),a=t("../../babybusUtils"),r=t("../ajax"),s=t("../signature"),c=t("../userAgent"),l=t("./userService"),u="PersistService.localKeys",d=function(){function t(){if(this.isDirty=!1,this.isUploading=!1,this.support=cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx&&"function"==typeof wx.login,!this.support){this.localData={};try{var t=a.StorageAdapter.getStorageSync(u);if(Array.isArray(t)){this.keys=t;for(var e=0;e<t.length;e++)this.localData[t[e]]=a.StorageAdapter.getStorageSync(t[e])}else this.keys=[]}catch(t){this.keys=[]}console.debug("[PS] \u6062\u590d\u672c\u5730\u8fdb\u5ea6\u5b8c\u6bd5")}}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.parseKey=function(t){return t.replace(/\./g,"_")},t.prototype.init=function(t,e,o){if(!this.ajax){if(!t||!e||!o)throw new Error("[PS] \u53c2\u6570\u4e0d\u5168");var i=new s.default(e,o),n=new c.default({ProductID:t});this.ajax=new r.default(i,n)}return this},t.prototype.loadProgress=function(){var t=this;return this.support?this.localData?new Promise(function(t){t(null)}):l.default.getInstance().getOpenId().then(function(e){return t.ajax.post("https://spg.kidvideo.cn/MiniprogramMatrix/Index/GetRecord",{AppID:n.default.wechatgameAppID,RecordID:e.openId})}).then(function(e){e&&e.recordData?(t.localData=JSON.parse(e.recordData).data,console.debug("[PS] \u540c\u6b65\u8fdb\u5ea6\u6210\u529f")):(t.localData={},console.debug("[PS] \u540c\u6b65\u8fdb\u5ea6\u6210\u529f\uff0c\u65b0\u7528\u6237"))}).catch(function(t){throw console.error("[PS] \u540c\u6b65\u8fdb\u5ea6\u5931\u8d25",t),new Error("[PS] \u540c\u6b65\u8fdb\u5ea6\u5931\u8d25")}):new Promise(function(t){t(null)})},t.prototype.getStorageSync=function(e){if(this.localData)return this.localData[t.parseKey("PS."+e)];throw new Error("[PS] \u672a\u540c\u6b65\u8fdb\u5ea6\u6210\u529f\u5c31\u83b7\u53d6\u6570\u636e "+e)},t.prototype.setStorage=function(e){var o=t.parseKey("PS."+e.key);this.innerSetStorage({key:o,data:e.data})},t.prototype.innerSetStorage=function(t){if(!this.localData)throw new Error("[PS] \u672a\u540c\u6b65\u8fdb\u5ea6\u6210\u529f\u5c31\u4fdd\u5b58\u6570\u636e "+t.key);this.localData[t.key]=t.data,this.isDirty=!0,this.support||(a.StorageAdapter.setStorage({key:t.key,data:t.data}),this.keys.indexOf(t.key)<0&&(this.keys.push(t.key),a.StorageAdapter.setStorage({key:u,data:this.keys})))},t.prototype.getStageStateSync=function(){if(this.localData)return this.localData.stages;throw new Error("[PS] \u672a\u540c\u6b65\u8fdb\u5ea6\u6210\u529f\u5c31\u83b7\u53d6\u5173\u5361\u6570\u636e")},t.prototype.setStageState=function(t){this.innerSetStorage({key:"stages",data:t})},t.prototype.getToolInfo=function(t){if(this.localData)return(this.localData.tools||{})[t];throw new Error("[PS] \u672a\u540c\u6b65\u8fdb\u5ea6\u6210\u529f\u5c31\u83b7\u53d6\u9053\u5177 "+t+" \u6570\u636e")},t.prototype.setToolInfo=function(t,e){if(!this.localData)throw new Error("[PS] \u672a\u540c\u6b65\u8fdb\u5ea6\u6210\u529f\u5c31\u4fdd\u5b58\u9053\u5177 "+t+" \u6570\u636e");var o=this.localData.tools||{},n=i({},o);n[t]=e,this.innerSetStorage({key:"tools",data:n})},t.prototype.clear=function(){this.localData={},this.isDirty=!0,this.support?this.saveProgress():(this.keys=[],localStorage.clear())},t.prototype.saveProgress=function(){var t=this;if(this.support&&this.isDirty&&!this.isUploading){console.debug("[PS] \u4e0a\u4f20\u8fdb\u5ea6"),this.isDirty=!1,this.isUploading=!0;var e=JSON.stringify({timeStamp:Date.now(),data:this.localData});l.default.getInstance().getOpenId().then(function(o){return t.ajax.post("https://spg.kidvideo.cn/MiniprogramMatrix/Index/SetRecord",{AppID:n.default.wechatgameAppID,RecordID:o.openId,RecordData:e})}).catch(function(e){return console.error("[PS] \u4e0a\u4f20\u8fdb\u5ea6\u5931\u8d25",e),t.isDirty=!0,!0}).then(function(e){if(t.isUploading=!1,!e){if(t.isDirty)return console.debug("[PS] \u4e0a\u4f20\u6210\u529f\uff0c\u6709\u6570\u636e\u8981\u7ee7\u7eed\u4e0a\u4f20"),void t.saveProgress();console.debug("[PS] \u4e0a\u4f20\u6210\u529f")}})}},t}();o.default=d,function(t){t[t.LOCKED=0]="LOCKED",t[t.UNLOCKABLE=1]="UNLOCKABLE",t[t.PLAYABLE=2]="PLAYABLE",t[t.PASSED=3]="PASSED"}(o.StageState||(o.StageState={})),cc._RF.pop()},{"../../../../../Config/AppConfig":"AppConfig","../../babybusUtils":"babybusUtils","../ajax":"ajax","../signature":"signature","../userAgent":"userAgent","./userService":"userService"}],reporter:[function(t,e,o){"use strict";cc._RF.push(e,"53d55pB17JNc5gx/itNmVVq","reporter"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){if(cc.sys.platform!==cc.sys.WECHAT_GAME||!window.GameGlobal||!window.GameGlobal.tdAppSdk)throw new Error("TD\u672a\u6b63\u5e38\u5f15\u7528\u53ca\u914d\u7f6e\uff08\u4ec5\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883\u652f\u6301\uff09");this.tdAppSdk=window.GameGlobal.tdAppSdk}return t.prototype.pageOnShow=function(t){},t.prototype.reportAnalytics=function(t,e){this.tdAppSdk.event({id:t,params:e})},t.prototype.reportShare=function(t,e){this.tdAppSdk.share({title:t,path:e})},t}();o.TalkingDataAdapter=i;var n=function(){function t(){this.delegators=[]}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),this.INSTANCE},t.prototype.addDelegator=function(t){this.delegators.push(t)},t.prototype.pageOnShow=function(t){if(!t)throw new Error("[DA] \u65e0\u6548\u9875\u9762\u8def\u5f84 "+t);console.debug("[DA] \u9875\u9762\u5c55\u793a",t),this.delegators.forEach(function(e){try{e.pageOnShow(t)}catch(t){console.error("[DA] \u754c\u9762\u663e\u793a\u7edf\u8ba1\u51fa\u9519",t)}})},t.prototype.reportAnalytics=function(t,e){if(!t)throw new Error("[DA] \u53c2\u6570\u65e0\u6548\uff0c\u4e8b\u4ef6\u540d\u4e3a\u7a7a");console.debug("[DA] \u4e0a\u62a5\u4e8b\u4ef6",t,e),this.delegators.forEach(function(o){try{o.reportAnalytics(t,e)}catch(t){console.error("[DA] \u4e0a\u62a5\u4e8b\u4ef6\u51fa\u9519",t)}})},t.prototype.reportShare=function(t,e){if(void 0===e&&(e=""),!t)throw new Error("\u53c2\u6570\u65e0\u6548\uff0c\u6807\u9898\u4e3a\u7a7a");console.debug("[DA] \u4e0a\u62a5\u5206\u4eab",t,e),this.delegators.forEach(function(o){try{o.reportShare(t,e)}catch(t){console.error("[DA] \u4e0a\u62a5\u5206\u4eab\u51fa\u9519",t)}})},t}();o.default=n,cc._RF.pop()},{}],"set-cookie":[function(t,e,o){"use strict";cc._RF.push(e,"3a4e7uWyudCAJBow+uqCMpu","set-cookie"),Object.defineProperty(o,"__esModule",{value:!0});var i={decodeValues:!0};function n(t,e){return Object.keys(e).reduce(function(t,o){return t[o]=e[o],t},t)}function a(t){return"string"==typeof t&&!!t.trim()}function r(t,e){var o=t.split(";").filter(a),i=o.shift().split("="),n=i.shift(),r=i.join("="),s={name:n,value:e.decodeValues?decodeURIComponent(r):r};return o.forEach(function(t){var e=t.split("="),o=e.shift().trimLeft().toLowerCase(),i=e.join("=");"expires"===o?s.expires=new Date(i):"max-age"===o?s.maxAge=parseInt(i,10):"secure"===o?s.secure=!0:"httponly"===o?s.httpOnly=!0:"samesite"===o?s.sameSite=i:s[o]=i}),s}o.default={parse:function(t,e){if(!t)return[];t.headers&&(t=t.headers["set-cookie"]),Array.isArray(t)||(t=[t]);var o=n({},i);return e=e?n(o,e):o,t.filter(a).map(function(t){return r(t,e)})},splitCookiesString:function(t){if(Array.isArray(t))return t;if("string"!=typeof t)return[];var e,o,i,n,a,r=[],s=0;function c(){for(;s<t.length&&/\s/.test(t.charAt(s));)s+=1;return s<t.length}for(;s<t.length;){for(e=s,a=!1;c();)if(","===(o=t.charAt(s))){for(i=s,s+=1,c(),n=s;s<t.length&&"="!==(o=t.charAt(s))&&";"!==o&&","!==o;)s+=1;s<t.length&&"="===t.charAt(s)?(a=!0,s=n,r.push(t.substring(e,i)),e=s):s=i+1}else s+=1;(!a||s>=t.length)&&r.push(t.substring(e,t.length))}return r}},cc._RF.pop()},{}],signature:[function(t,e,o){"use strict";cc._RF.push(e,"e5946mlDZFLAKVTwYPwoggx","signature"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../xxtea.v3.js"),n=t("../md5.min.js"),a=i.XxteaHelper,r=function(){function t(t,e){this.signKey=t,this.xxTeaKey=e}return t.prototype.signMd5=function(t,e){return e&&(t=t.concat(this.signKey)),n(t)},t.prototype.encryptXxTea=function(t){return a.encryptToBase64(t,this.xxTeaKey)},t.prototype.decryptXxTea=function(t){return a.decryptFromBase64(t,this.xxTeaKey)},t.prototype.concatSortParams=function(t){for(var e=s(t),o=[],i=[],n=e.length;n--;)o.push(e[n]+"="+t[e[n]]),i.push(e[n]+"="+t[e[n]]);return i.join("&")},t}();function s(t){var e=[];for(var o in t)e.push(o);return e.sort().reverse(),e}o.default=r,cc._RF.pop()},{"../md5.min.js":"md5.min","../xxtea.v3.js":"xxtea.v3"}],systemInfo:[function(t,e,o){"use strict";cc._RF.push(e,"bb6f8Kc8iFLPLnTaUZzzvTc","systemInfo"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./user"),n={none:-1,unknown:0,wifi:1,"2g":2,"3g":3,"4g":4},a=function(){function t(){var t;if(window.wx)t=wx.getSystemInfoSync();else{var e=cc.view.getVisibleSizeInPixel();t={platform:"unknown",system:cc.sys.osVersion,model:"unknown",language:cc.sys.language,screenWidth:e.width,screenHeight:e.height,brand:"unknown",version:cc.sys.browserVersion,SDKVersion:"unknown"}}this.wxSystemInfo=t,this.info={OSType:"android"===t.platform.toLocaleLowerCase()?2:1,Token:"",TokenType:0,RunVer:t.version?t.version:"1.0.0",RunSDKVer:t.SDKVersion,Screen:t.screenWidth+"*"+t.screenHeight,DeviceLang:t.language,AppLang:t.language,JbFlag:0,OSVer:t.system,DeviceModel:t.model,DeviceType:1,Net:0},this._isConnected=!0,this._observeNetworkState()}return t.getInstance=function(){return t.INSTANCE||(t.INSTANCE=new t),this.INSTANCE},t.prototype._observeNetworkState=function(){var t=this;if(window.wx){if("function"!=typeof wx.getNetworkType||"function"!=typeof wx.onNetworkStatusChange)return void console.debug("Network status listener not support");wx.getNetworkType({success:function(e){t._isConnected="none"!==e.networkType,t.info.Net=n[e.networkType]||0,console.debug("\u5f53\u524d\u7f51\u7edc\u72b6\u6001",e.networkType,t._isConnected)}}),wx.onNetworkStatusChange(function(e){t._isConnected=!!e.isConnected,t.info.Net=n[e.networkType]||0,console.debug("\u7f51\u7edc\u72b6\u6001\u66f4\u65b0",e.networkType,e.isConnected)})}},t.prototype.getHeaderInfo=function(){var t=i.default.getInstance().openId;return t!==this.info.Token&&(this.info.Token=t,console.debug("Token\u66f4\u65b0",t)),this.info&&!this.info.Net&&(this.info.Net=0),this.info},t.prototype.isIphoneX=function(){return this.wxSystemInfo.model.indexOf("iPhone X")>=0},t.prototype.isConnected=function(){return this._isConnected},t.prototype.isUsingData=function(){return 2===this.info.Net||3===this.info.Net||4===this.info.Net},Object.defineProperty(t.prototype,"model",{get:function(){return this.wxSystemInfo.model},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this.wxSystemInfo.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowWidth",{get:function(){return this.wxSystemInfo.windowWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowHeight",{get:function(){return this.wxSystemInfo.windowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"system",{get:function(){return this.wxSystemInfo.system},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this.wxSystemInfo.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.wxSystemInfo.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenWidth",{get:function(){return this.wxSystemInfo.screenWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenHeight",{get:function(){return this.wxSystemInfo.screenHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SDKVersion",{get:function(){return this.wxSystemInfo.SDKVersion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brand",{get:function(){return this.wxSystemInfo.brand},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSizeSetting",{get:function(){return this.wxSystemInfo.fontSizeSetting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusBarHeight",{get:function(){return this.wxSystemInfo.statusBarHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return this.wxSystemInfo.platform},enumerable:!0,configurable:!0}),t}();o.default=a,cc._RF.pop()},{"./user":"user"}],usage:[function(t,e,o){"use strict";cc._RF.push(e,"3c97bUxWRtO8qLHIF+MWuIr","usage");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../babybusUtils"),a="server.usage",r=function(){function t(){try{this.info=n.StorageAdapter.getStorageSync(a)}catch(t){console.error("\u521d\u59cb\u5316\u4f7f\u7528\u60c5\u51b5\u5931\u8d25",t)}finally{this.info=this.info||{}}}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.prototype.hasInit=function(){return Object.keys(this.info).length>0},t.prototype.update=function(t){console.debug("\u66f4\u65b0\u4f7f\u7528\u60c5\u51b5",t),t&&(this.info=i({},t),n.StorageAdapter.setStorageSync(a,t))},t.prototype.getHeaderInfo=function(){return this.info},t}();o.default=r,cc._RF.pop()},{"../babybusUtils":"babybusUtils"}],userAgent:[function(t,e,o){"use strict";cc._RF.push(e,"b2fd2Ne2n9CN46yjDdjLIBw","userAgent");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},n=this&&this.__rest||function(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&(o[i[n]]=t[i[n]])}return o};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../Config/AppConfig"),r=t("../babybusUtils"),s=t("./systemInfo"),c=t("./usage"),l=t("./user"),u=r.uuid().replace(/-/g,""),d=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!Array.isArray(t)||0===t.length)throw new Error("UserAgent\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570\uff0c\u81f3\u5c11\u8981\u4f20\u9012\u5305\u542bProductID\u4e0eProjectID\u7684\u5bf9\u8c61");this.defaultUserAgent=1===t.length?t[0]:t[1]}return t.prototype.init=function(){this.userInfo=l.default.getInstance(),this.systemInfo=s.default.getInstance(),this.usage=c.default.getInstance();var t="number"==typeof this.defaultUserAgent.PlatForm?this.defaultUserAgent.PlatForm:23;this.info=i({HeadVerID:1,SessionID:u,PlatForm:t,ProjectID:a.default.projectId,ProductID:"",DataType:2,CHID:1,CHCode:"WechatApp",VerID:a.default.versionCode,VerCode:a.default.versionName},this.defaultUserAgent)},t.prototype.setUserAgent=function(t,e){if(t||e)if(this.info||this.init(),t instanceof Object){t.Token;var o=t.OpenID,a=n(t,["Token","OpenID"]);o&&this.userInfo.openId!==o&&(console.debug("\u65e7\u7248\u65b9\u5f0f\u8bbe\u7f6eUserAgent\u4e2d\u7684OpenId",o),this.userInfo.openId=o),a.length>0&&(console.warn("\u65e7\u7248\u65b9\u5f0f\u8bbe\u7f6eUserAgent\u7684\u5176\u4ed6\u503c",JSON.stringify(a)),this.info=i({},this.info,a))}else"OpenID"===t&&this.userInfo.openId!==e&&(console.debug("\u65e7\u7248\u65b9\u5f0f2\u8bbe\u7f6eUserAgent\u4e2d\u7684OpenId",e),this.userInfo.openId=e)},t.prototype.getUserAgent=function(){this.info||this.init();var t=i({},this.userInfo.getHeaderInfo(),this.systemInfo.getHeaderInfo(),this.usage.getHeaderInfo(),this.info);return console.debug("#### \u5934\u90e8\u4fe1\u606f",t),t},t.prototype.getProductId=function(){return this.info?this.info.ProductID:this.defaultUserAgent.ProductID},t}();o.default=d,cc._RF.pop()},{"../../../../Config/AppConfig":"AppConfig","../babybusUtils":"babybusUtils","./systemInfo":"systemInfo","./usage":"usage","./user":"user"}],userService:[function(t,e,o){"use strict";cc._RF.push(e,"820aenEfApC76KGAGpte2mJ","userService"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../ajax"),n=t("../signature"),a=t("../user"),r=t("../userAgent"),s=function(){function t(){}return t.getInstance=function(){return t.sInstance||(t.sInstance=new t),t.sInstance},t.prototype.init=function(t,e,o){if(!this.ajax){if(!t||!e||!o)throw new Error("\u53c2\u6570\u4e0d\u5168");var a=new n.default(e,o),s=new r.default({ProductID:t});this.ajax=new i.default(a,s)}return this},t.prototype.getOpenId=function(t){var e=this;return void 0===t&&(t=!1),new Promise(function(o,i){var n=a.default.getInstance();if(n.openId){if(!t)return void o({openId:n.openId});if(e.verification)return void o({openId:n.openId,verification:e.verification})}cc.sys.platform===cc.sys.WECHAT_GAME&&window.wx?wx.login({success:function(t){t?t.code?e.ajax.post("https://udb.kidvideo.cn/OAuthApi/WxAppSessionKey",{userCode:t.code}).then(function(t){t&&t.userCode?(n.openId=t.userCode,console.debug("\u83b7\u53d6OpenId\u6210\u529f",n.openId),e.verification={SessionSignature:t.sessionSignature,SessionTime:t.sessionTime},o({openId:t.userCode,verification:e.verification})):i(new Error("OpenID\u6570\u636e\u65e0\u6548 "+t))}).catch(i):i(new Error("wx.login\u5931\u8d25 "+JSON.stringify(t))):i(new Error("wx.login\u6ca1\u6709res"))},fail:i}):cc.sys.platform===cc.sys.BAIDU_GAME&&window.swan?swan.getSwanId({success:function(t){t&&t.data&&t.data.swanid?(n.openId=t.data.swanid,console.debug("\u83b7\u53d6SwanId\u6210\u529f",n.openId),o({openId:t.data.swanid})):i(new Error("swan.getSwanId\u65e0\u6709\u6548\u7ed3\u679c: "+JSON.stringify(t)))},fail:i}):o({openId:"FakeId"})})},t}();o.default=s,cc._RF.pop()},{"../ajax":"ajax","../signature":"signature","../user":"user","../userAgent":"userAgent"}],user:[function(t,e,o){"use strict";cc._RF.push(e,"3d09fo50xtMwp9bRqLhI/4Q","user");var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../babybusUtils"),a="user.openId",r="user.bb.info",s={AccountID:0,LoginCode:"",LoginStamp:0,LoginSignature:"",AccountIDSignature:""},c=function(){function t(){var t,e;try{t=n.StorageAdapter.getStorageSync(a)||"",console.debug("openId\u521d\u59cb\u7ed3\u679c",t||"\u7a7a\u5185\u5bb9"),e=n.StorageAdapter.getStorageSync(r),console.debug("\u7528\u6237\u4fe1\u606f\u521d\u59cb\u7ed3\u679c",e||"\u7a7a\u5185\u5bb9")}catch(t){console.error("\u521d\u59cb\u5316OpenId\u53ca\u7528\u6237\u4fe1\u606f\u5931\u8d25",t)}finally{t=t||"",e=e||s}this.info=i({},e,{OpenID:t})}return t.getInstance=function(e){return void 0===e&&(e=a),t.INSTANCE||(t.INSTANCE=new t),this.INSTANCE},Object.defineProperty(t.prototype,"accountId",{get:function(){return this.info.AccountID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openId",{get:function(){return this.info.OpenID},set:function(t){this.info.OpenID!==t&&(this.info.OpenID=t,n.StorageAdapter.setStorage({key:a,data:t}))},enumerable:!0,configurable:!0}),t.prototype.isLogin=function(){return this.info.AccountID>0},t.prototype.update=function(t){t&&(this.info=i({},this.info,t),n.StorageAdapter.setStorage({key:r,data:t}))},t.prototype.reset=function(){this.info=i({},s,{OpenID:this.info.OpenID})},t.prototype.getHeaderInfo=function(){return this.info},t}();o.default=c,cc._RF.pop()},{"../babybusUtils":"babybusUtils"}],util:[function(t,e,o){"use strict";cc._RF.push(e,"84c7b6cW9BMAoP8fGA3FLEb","util"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getCookieScopeDomain=function(t){if(void 0===t&&(t=""),!t)return[];var e=(t=t.replace(/^\.+/gi,"")).split(".").map(function(e){return[".",t.slice(t.indexOf(e))].join("")});return[t].concat(e)},t}();o.default=new i,cc._RF.pop()},{}],"xxtea.v3":[function(t,e,o){"use strict";cc._RF.push(e,"103cd8Ray5F84vRJ4Ox0F5Y","xxtea.v3");var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){n(this,t)}return i(t,null,[{key:"btoa",value:function(t){return this.btoaEncode(t)}},{key:"btoaEncode",value:function(t){var e,o,i,n,a,r,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");for(o=i=0,n=t.length,r=(n-=a=n%3)/3<<2,a>0&&(r+=4),e=new Array(r);o<n;)s=t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++),e[i++]=c[s>>18]+c[s>>12&63]+c[s>>6&63]+c[63&s];return 1==a?(s=t.charCodeAt(o++),e[i++]=c[s>>2]+c[(3&s)<<4]+"=="):2==a&&(s=t.charCodeAt(o++)<<8|t.charCodeAt(o++),e[i++]=c[s>>10]+c[s>>4&63]+c[(15&s)<<2]+"="),e.join("")}},{key:"atob",value:function(t){return this.atobDecode(t)}},{key:"atobDecode",value:function(t){var e,o,i,n,a,r,s,c,l,u,d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];if((s=t.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(l=s,(c="="==t.charAt(s-2)?1:"="==t.charAt(s-1)?2:0)>0&&(l-=4),l=3*(l>>2)+c,u=new Array(l),a=r=0;a<s&&-1!=(e=d[t.charCodeAt(a++)])&&-1!=(o=d[t.charCodeAt(a++)])&&(u[r++]=String.fromCharCode(e<<2|(48&o)>>4),-1!=(i=d[t.charCodeAt(a++)]))&&(u[r++]=String.fromCharCode((15&o)<<4|(60&i)>>2),-1!=(n=d[t.charCodeAt(a++)]));)u[r++]=String.fromCharCode((3&i)<<6|n);return u.join("")}},{key:"toBinaryString",value:function(t,e){var o=t.length,i=o<<2;if(e){var n=t[o-1];if(n<(i-=4)-3||n>i)return null;i=n}for(var a=0;a<o;a++)t[a]=String.fromCharCode(255&t[a],t[a]>>>8&255,t[a]>>>16&255,t[a]>>>24&255);var r=t.join("");return e?r.substring(0,i):r}},{key:"toUint32Array",value:function(t,e){var o,i=t.length,n=i>>2;0!=(3&i)&&++n,e?(o=new Array(n+1))[n]=i:o=new Array(n);for(var a=0;a<i;++a)o[a>>2]|=t.charCodeAt(a)<<((3&a)<<3);return o}},{key:"int32",value:function(t){return 4294967295&t}},{key:"mx",value:function(t,e,o,i,n,a){return(o>>>5^e<<2)+(e>>>3^o<<4)^(t^e)+(a[3&i^n]^o)}},{key:"fixk",value:function(t){return t.length<4&&(t.length=4),t}},{key:"encryptUint32Array",value:function(t,e){var o,i,n,a,r,s,c=t.length,l=c-1;for(i=t[l],n=0,s=0|Math.floor(6+52/c);s>0;--s){for(a=(n=this.int32(n+2654435769))>>>2&3,r=0;r<l;++r)o=t[r+1],i=t[r]=this.int32(t[r]+this.mx(n,o,i,r,a,e));o=t[0],i=t[l]=this.int32(t[l]+this.mx(n,o,i,l,a,e))}return t}},{key:"decryptUint32Array",value:function(t,e){var o,i,n,a,r,s,c=t.length,l=c-1;for(o=t[0],s=Math.floor(6+52/c),n=this.int32(2654435769*s);0!==n;n=this.int32(n-2654435769)){for(a=n>>>2&3,r=l;r>0;--r)i=t[r-1],o=t[r]=this.int32(t[r]-this.mx(n,o,i,r,a,e));i=t[l],o=t[0]=this.int32(t[0]-this.mx(n,o,i,0,a,e))}return t}},{key:"utf8Encode",value:function(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],o=t.length,i=0,n=0;i<o;++i,++n){var a=t.charCodeAt(i);if(a<128)e[n]=t.charAt(i);else if(a<2048)e[n]=String.fromCharCode(192|a>>6,128|63&a);else{if(!(a<55296||a>57343)){if(i+1<o){var r=t.charCodeAt(i+1);if(a<56320&&56320<=r&&r<=57343){var s=65536+((1023&a)<<10|1023&r);e[n]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++i;continue}}throw new Error("Malformed string")}e[n]=String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)}}return e.join("")}},{key:"utf8DecodeShortString",value:function(t,e){for(var o=new Array(e),i=0,n=0,a=t.length;i<e&&n<a;i++){var r=t.charCodeAt(n++);switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[i]=r;break;case 12:case 13:if(!(n<a))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(31&r)<<6|63&t.charCodeAt(n++);break;case 14:if(!(n+1<a))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(15&r)<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++);break;case 15:if(!(n+2<a))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&r)<<18|(63&t.charCodeAt(n++))<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++))-65536;if(!(0<=s&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));o[i++]=s>>10&1023|55296,o[i]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+r.toString(16))}}return i<e&&(o.length=i),String.fromCharCode.apply(String,o)}},{key:"utf8DecodeLongString",value:function(t,e){for(var o=[],i=new Array(32768),n=0,a=0,r=t.length;n<e&&a<r;n++){var s=t.charCodeAt(a++);switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i[n]=s;break;case 12:case 13:if(!(a<r))throw new Error("Unfinished UTF-8 octet sequence");i[n]=(31&s)<<6|63&t.charCodeAt(a++);break;case 14:if(!(a+1<r))throw new Error("Unfinished UTF-8 octet sequence");i[n]=(15&s)<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++);break;case 15:if(!(a+2<r))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&s)<<18|(63&t.charCodeAt(a++))<<12|(63&t.charCodeAt(a++))<<6|63&t.charCodeAt(a++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));i[n++]=c>>10&1023|55296,i[n]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(n>=32766){var l=n+1;i.length=l,o[o.length]=String.fromCharCode.apply(String,i),e-=l,n=-1}}return n>0&&(i.length=n,o[o.length]=String.fromCharCode.apply(String,i)),o.join("")}},{key:"utf8Decode",value:function(t,e){return(void 0===e||null===e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<65535?this.utf8DecodeShortString(t,e):this.utf8DecodeLongString(t,e)}},{key:"encrypt",value:function(t,e){return void 0===t||null===t||0===t.length?t:(t=this.utf8Encode(t),e=this.utf8Encode(e),this.toBinaryString(this.encryptUint32Array(this.toUint32Array(t,!0),this.fixk(this.toUint32Array(e,!1))),!1))}},{key:"encryptToBase64",value:function(t,e){return this.btoa(this.encrypt(t,e))}},{key:"decrypt",value:function(t,e){return void 0===t||null===t||0===t.length?t:(e=this.utf8Encode(e),this.utf8Decode(this.toBinaryString(this.decryptUint32Array(this.toUint32Array(t,!1),this.fixk(this.toUint32Array(e,!1))),!0)))}},{key:"decryptFromBase64",value:function(t,e){return void 0===t||null===t||0===t.length?t:this.decrypt(this.atob(t),e)}}]),t}();e.exports={XxteaHelper:a},cc._RF.pop()},{}]},{},["BBChannel","BBMain","BusinessServiceExtension","BBLoadFailedWindow","BBLoader","BBLoading","Button","CommonAudio","ExitButton","ExitButtonCreator","I18nManager","NodeAssetAnalyzer","PreloadManager","ScenesPreloadHelper","BBVipDialogHelper","SpritePosition","VipDialog","BBAppConfig","BBConfigs","EventKeys","EventReporter","JMExtension","BBGameAdUtil","LoadTimeout","CCCActionOval","CCCSinTo","DragonBoneBase","GameMoudleBase","GlobalParamsBase","LoadingBase","BtnBack","EventMgr","GlobalView","AppConfig","DataAnalysisConfig","FrameworkConfig","SceneConfig","ShareConfig","G35_BackBtn","G35_Cloud","G35_Excitation","G35_FarFish","G35_Focu","G35_GetStickerWindow","G35_HandGuide","G35_ImageFrame","G35_Island","G35_Item","G35_Light","G35_LoadingPre","G35_ProgressBar","G35_Scrollvoew","G35_getActiveWindow","G35_loadingProgress","G35_playLight","G35_HandBookBar","G35_HandBookButton","G35_HandBookPage","G35_HandBookRes","G35_HandBookShare","G35_HandBookbook","G35_HandBookbooknode","G35_Icepackage","G35_IcepackageNeedle","G35_IcepackageRes","G35_IcepackageSub","G35_Icehole","G35_IceholeBar","G35_IceholeFish","G35_IceholeMachine","G35_IceholeRes","G35_IceholeRod","G35_Loading","G35_Pondclear","G35_PondclearFish","G35_PondclearLeaf","G35_PondclearRes","G35_Pondfeed","G35_PondfeedRes","G35_PondfeedSpoon","G35_Pondput","G35_PondputFeed","G35_PondputFish","G35_PondputFrog","G35_PondputFrogWin","G35_PondputGrass","G35_PondputImage","G35_PondputNet","G35_PondputProgress","G35_PondputRes","G35_Ready","G35_ReadyProp","G35_ReadyQiqi","G35_ReadyRes","G35_SeabedRes","G35_Seabedfind","G35_SeabedfindFish","G35_SeabedfindThing","G35_Seabedready","G35_SeabedreadyBottle","G35_SeabedreadyMachine","G35_SeabedreadyPopup","G35_SeabedreadyRes","G35_SeabedreadyTube","G35_Seabedreturn","G35_SeabedreturnBaseMap","G35_SeabedreturnBgManager","G35_SeabedreturnGameContainer","G35_SeabedreturnMapBubble","G35_SeabedreturnMapHole","G35_SeabedreturnMapManager","G35_SeabedreturnMapRock","G35_SeabedreturnQiqi","G35_SeabedreturnRes","G35_SeabedreturnShark","G35_SeabedreturnViewback","G35_SeabedreturnViewfront","G35_SeabedStartQiqi","G35_Seabedstart","G35_SeabedstartRes","G35_Seabedfishing","G35_SeabedfishingFish","G35_SeabedfishingGrass","G35_SeabedfishingQiqi","G35_SeabedfishingRes","G35_SeabedfishingSucker","G35_SeasurfaceLocation","G35_SeasurfaceLocationFish","G35_SeasurfaceLocationHole","G35_SeasurfaceLocationMap","G35_SeasurfaceLocationMapTile","G35_SeasurfaceLocationRes","G35_SeasurfaceReady","G35_SeasurfaceReadyChip","G35_SeasurfaceReadyItem","G35_SeasurfaceReadyNet","G35_SeasurfaceReadyPopup","G35_SeasurfaceReadyRes","G35_SeasurfaceReadyScissor","G35_Seasurfacefishing","G35_SeasurfacefishingBoat","G35_SeasurfacefishingFish","G35_SeasurfacefishingMachine","G35_SeasurfacefishingRes","G35_SeasurfacefishingRubbish","G35_SeasurfacefishingSeagull","G35_k-cocos","G35_Seasurfaceseek","G35_SeasurfaceseekBoat","G35_SeasurfaceseekFish","G35_SeasurfaceseekLabel","G35_SeasurfaceseekMap","G35_SeasurfaceseekRes","G35_Seasurfacestart","G35_SeasurfacestartRes","G35_ActiveUi","G35_LockInit","G35_Release","G35_Select","G35_SelectRes","G35_Welcome","G35_AnalyticsCommon","G35_AnalyticsKey","G35_AnalyticsKeyName","G35_GameConstants","G35_GlobalParams","G35_GlobalView","G35_Utils","G35_CommonAct","G35_MoveClass","BBDialog","BBScene","BaseLockBtn","BaseRewardDialog","BaseWelcomeDialog","ActiveBean","AdSwitchBean","AppInfoBean","BaseRespBean","LeftMediaBean","AdTag","BusinessGlobal","GuideId","PublicAnalyticsKey","PublicConst","PublicEventName","PublicStoreKey","PublicUrl","PublickStoreKey","UnlockMode","AdInfoHandler","BaiduBannerHelper","BaiduRewardHelper","IBanner","IInterstitial","IInterstitialCallback","IReward","KwaiRewardHelper","LoadHelper","LoadStringHelper","OppoBannerHelper","OppoInterstitialHelper","OppoRewardHelper","VivoBannerHelper","VivoInterstitialHelper","VivoRewardHelper","WxBannerHelper","WxInterstitialHelper","WxRewardHelper","XiaoMiRewardHelper","BannerInfo","BannerPosition","ActivityManager","AdManager","AnalyticsManager","ApiManager","AudioManager","AutoShowInterstitialManager","BannerManager","BoxAdManager","CustomAdManager","DebugManager","DialogManager","GuideManager","InterstitialManager","JudgeManager","JumpManager","KwaiRecorderHelper","LoadManager","LoginManager","MediaManager","MoreRecommendManager","NativeAdManager","NetManager","NetStoreManager","PBManager","PluginManager","PrivacyManager","RecommendManager","RewardManager","ShareManager","SwitchManager","TagManager","VersionManager","VideoRecorderManager","libenc","BusinessSdk","AiolosUtil","ReportUtil","TdUtil","UmUtil","LabelControlMaxFontByWidth","MaskCustomShape","Toast","ZIndex","AppUtil","ArrayUtil","DateUtil","DeviceUtil","ImageUtil","LoadUtil","LogUtil","MathUtil","NetUtil","NodeUtil","PlatformUtil","PosUtil","ShareUtil","StoreUtil","ToastUtil","VibrateUtil","WxNetUtil","DialogChildAdaptive","IosParticleFix","RewardAdSetPatch","LibDebug","DebugSwitch","DebugType","DebugWindow","ErrorWindow","LtdLab","LtdMain","ShowI18nToast","CustomBanner","CustomerServiceDialog","DialogExtra","DialogItem","DrawerV1","GameIcons","GamePageRecommend","GamePageRecommendV2","InterstitialDialog","InterstitialItem","RecommendMore","Drawer","LeftMedia","MoreRecommend","MoreRecommendDialog","NativeAdDIalog","BackDIalogV2","BackDialog","BaseBackDialog","MyPageView","NewRecommendDialog","NewRecommendDialogV2","PrivacyDialog","LibQiqi","QiqiGiftDialog","RecordBtn","RestScene","ShareBtn","RightSideBar","SideBarItem","LibAutoMoveBg","LibCarriage","LibLawn","LibTrain","LibTrainHead","LibTrainScene","BabybusNavigator","ReportMain","babybusUtils","Cookie","CookieStore","set-cookie","util","babybusReporterAdapter","reporter","md5.min","ajax","cookieHelper","analysisService","configService","persistService","userService","signature","systemInfo","usage","user","userAgent","xxtea.v3","audio_duration","LibConfig","aiolosInit","aiolos-conf","bb-analysis.min","SplashScene","SplashUtil","AddDeskTip"]);